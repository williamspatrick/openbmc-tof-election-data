{
    "project": "openbmc/phosphor-logging",
    "branch": "master",
    "id": "Ic03700551d9fb39c96034766a4853e27198fef97",
    "number": 44862,
    "subject": "PEL:message_registry: Standby power regulator fault",
    "owner": {
        "name": "Ben Tyner",
        "email": "ben.tyner@ibm.com",
        "username": "bentyner"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-logging/+/44862",
    "commitMessage": "PEL:message_registry: Standby power regulator fault\n\nAdded message registry entry for for power off due to standby power\nregulator fault condition.\n\nSigned-off-by: Ben Tyner <ben.tyner@ibm.com>\nChange-Id: Ic03700551d9fb39c96034766a4853e27198fef97\n",
    "createdOn": 1626121168,
    "lastUpdated": 1633705423,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1626121168,
            "reviewer": {
                "name": "Ben Tyner",
                "email": "ben.tyner@ibm.com",
                "username": "bentyner"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1626121180,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1626122058,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/21834/ : SUCCESS"
        },
        {
            "timestamp": 1626269712,
            "reviewer": {
                "name": "Derek Howard",
                "email": "derekh@us.ibm.com",
                "username": "derekhoward55"
            },
            "message": "Patch Set 1: Code-Review+1\n\nLooks like the action flags will default correctly.  I wouldn't have minded if they were manually set so they didn't somehow get unknowingly changed on us in the future, but there are other errors where they are not specified either so we'd need to check the whole file if that happened anyway.  Thanks."
        },
        {
            "timestamp": 1626272627,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1626368380,
            "reviewer": {
                "name": "Ben Tyner",
                "email": "ben.tyner@ibm.com",
                "username": "bentyner"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1626383775,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1626706972,
            "reviewer": {
                "name": "Ben Tyner",
                "email": "ben.tyner@ibm.com",
                "username": "bentyner"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1626721549,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1626722495,
            "reviewer": {
                "name": "Ben Tyner",
                "email": "ben.tyner@ibm.com",
                "username": "bentyner"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1626722518,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1626722559,
            "reviewer": {
                "name": "Ben Tyner",
                "email": "ben.tyner@ibm.com",
                "username": "bentyner"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1626722783,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1626723215,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/22315/ : SUCCESS"
        },
        {
            "timestamp": 1626726037,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Patch Set 2:\n\n(4 comments)"
        },
        {
            "timestamp": 1627399674,
            "reviewer": {
                "name": "Ben Tyner",
                "email": "ben.tyner@ibm.com",
                "username": "bentyner"
            },
            "message": "Patch Set 2: Code-Review-1\n\nNeed to also set \"PowerFault flag to true\""
        },
        {
            "timestamp": 1628785873,
            "reviewer": {
                "name": "Zane Shelley",
                "email": "zshelle@us.ibm.com",
                "username": "zane131"
            },
            "message": "Removed reviewer Zane Shelley."
        },
        {
            "timestamp": 1631743768,
            "reviewer": {
                "name": "Ben Tyner",
                "email": "ben.tyner@ibm.com",
                "username": "bentyner"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1631743788,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1631744470,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/26407/ : SUCCESS"
        },
        {
            "timestamp": 1631893613,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 3:\n\nBen, did you see Shawn's questions in patch set 2?"
        },
        {
            "timestamp": 1632175825,
            "reviewer": {
                "name": "Ben Tyner",
                "email": "ben.tyner@ibm.com",
                "username": "bentyner"
            },
            "message": "Patch Set 3:\n\n(3 comments)"
        },
        {
            "timestamp": 1632176013,
            "reviewer": {
                "name": "Ben Tyner",
                "email": "ben.tyner@ibm.com",
                "username": "bentyner"
            },
            "message": "Patch Set 4: Commit message was updated."
        },
        {
            "timestamp": 1632434231,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1632945428,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1632950540,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1633705418,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 4: Code-Review+2"
        },
        {
            "timestamp": 1633705423,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Change has been successfully rebased and submitted as 0273a222ab7f8f6c27324e6907552fce31bfd24a by Matt Spinler"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "3441c67118f65a91df341265db707cfc92adfcc5",
            "parents": [
                "530efbfc72b9eecb328af619543d74193dd58b38"
            ],
            "ref": "refs/changes/62/44862/1",
            "uploader": {
                "name": "Ben Tyner",
                "email": "ben.tyner@ibm.com",
                "username": "bentyner"
            },
            "createdOn": 1626121168,
            "author": {
                "name": "Ben Tyner",
                "email": "ben.tyner@ibm.com",
                "username": "bentyner"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 897,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Did you leave off the part about it being the BMC standby regulator that faulted for a reason?  From a debug perspective,  I think that would be useful."
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 897,
                    "reviewer": {
                        "name": "Ben Tyner",
                        "email": "ben.tyner@ibm.com",
                        "username": "bentyner"
                    },
                    "message": "Just trying to keep it generic - assumption was that \"ReasonCode\": \"0x2602\" is documented somewhere with details. Is the suggestion to make the description more specific, the error more specific (Shutdown.Power.Error.Regulator) or both?"
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 897,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Since this is displayed with peltool, which may be used by service personnel in the field, I think a more specific Message would be useful.  That is, unless Shawn is going to use this error with his voltage regulator faults as well."
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 897,
                    "reviewer": {
                        "name": "Ben Tyner",
                        "email": "ben.tyner@ibm.com",
                        "username": "bentyner"
                    },
                    "message": "Can add \"standby\" - is this a BMC standby regulator or a host standby regulator?"
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 897,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "It's the voltage regulator the BMC runs from. Standby voltage refers to the voltage domain that is still up even when the main host power (usually 12V) is off."
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 897,
                    "reviewer": {
                        "name": "Ben Tyner",
                        "email": "ben.tyner@ibm.com",
                        "username": "bentyner"
                    },
                    "message": "Done"
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 897,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "I'm not planning (currently) on using this error from the regulators application.  The errors I currently log do not take the system down other than config file missing.  I'll be adding phase fault errors soon, but those are a different SRC and don't take the system down."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "type": "MODIFIED",
                    "insertions": 48,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 48,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "790406c05319fe6db1e2920ac72ed43719dbc2ef",
            "parents": [
                "530efbfc72b9eecb328af619543d74193dd58b38"
            ],
            "ref": "refs/changes/62/44862/2",
            "uploader": {
                "name": "Ben Tyner",
                "email": "ben.tyner@ibm.com",
                "username": "bentyner"
            },
            "createdOn": 1626722495,
            "author": {
                "name": "Ben Tyner",
                "email": "ben.tyner@ibm.com",
                "username": "bentyner"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 857,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "I noticed on a previous POWER system, the subsystem value for a 0x2602 \"Standby Regulator Fault\" was EPUB_POWER_SUBSYS/0x60.  I think this corresponds to the message registry Subsystem value \"power\".\n\nShould that be used here too, or was this changed for OpenBMC?"
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 857,
                    "reviewer": {
                        "name": "Ben Tyner",
                        "email": "ben.tyner@ibm.com",
                        "username": "bentyner"
                    },
                    "message": "I presented this in power thermal team Slack channel the general feel was that either was fine and there were not strong opinions either way. I chose to keep this as 0x62, \"power control hardware\", since regulators are hardware that control power."
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 872,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "This is \"Enterprise BMC slot\".  So the regulator on Rainier is on the BMC itself and not the Nisqually?  Or is this just covering the case where the regulator is OK, the comm path from the BMC could be broken, and it is easier/cheaper to replace the BMC first?"
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 872,
                    "reviewer": {
                        "name": "Ben Tyner",
                        "email": "ben.tyner@ibm.com",
                        "username": "bentyner"
                    },
                    "message": "These callouts were presented to the hardware team in email conversation regarding this feature - we asked if they were OK with these callouts and priorities - they did not request/recommend any changes to these callouts and priorities. If we still have concerns we can run them by the hardware team again."
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 885,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "This is the Reist SYS IO, Standby pluggable VRM.  So on Everest, the standby VRM you are monitoring is on a pluggable VRM and is not mounted directly on the backplane?"
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 885,
                    "reviewer": {
                        "name": "Ben Tyner",
                        "email": "ben.tyner@ibm.com",
                        "username": "bentyner"
                    },
                    "message": "Same as previous response (above) and specifically for this callout the hardware team did responded: \"Actually, for Everest, there are two Reist VRMs ... The one that supplies 3.3V Standby is P0-C59.\" To which we made a change from the original proposal we gave them for callouts/priorities."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "type": "MODIFIED",
                    "insertions": 48,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 48,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "8dd5936f59fbd245b70c2a19ab0cbe5c1622f5cb",
            "parents": [
                "87001e465fc420d3eedb3630bc162ed714a7809e"
            ],
            "ref": "refs/changes/62/44862/3",
            "uploader": {
                "name": "Ben Tyner",
                "email": "ben.tyner@ibm.com",
                "username": "bentyner"
            },
            "createdOn": 1631743768,
            "author": {
                "name": "Ben Tyner",
                "email": "ben.tyner@ibm.com",
                "username": "bentyner"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "type": "MODIFIED",
                    "insertions": 49,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 49,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "a41a724d2ca37ba1d30deb68e2922474f1137dd5",
            "parents": [
                "87001e465fc420d3eedb3630bc162ed714a7809e"
            ],
            "ref": "refs/changes/62/44862/4",
            "uploader": {
                "name": "Ben Tyner",
                "email": "ben.tyner@ibm.com",
                "username": "bentyner"
            },
            "createdOn": 1632176013,
            "author": {
                "name": "Ben Tyner",
                "email": "ben.tyner@ibm.com",
                "username": "bentyner"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 932,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "I'm a bit confused on the component ID of 0x2700 and the reason code starting with 0x26? Isn't it a requirement the first byte be the ComponentID?"
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 932,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "This is a power/thermal 1100 SRC, which is the only case this doesn't have to be true."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "type": "MODIFIED",
                    "insertions": 49,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 49,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "0273a222ab7f8f6c27324e6907552fce31bfd24a",
            "parents": [
                "8133134b138dc9df331cbd22a043c3f72ea090c4"
            ],
            "ref": "refs/changes/62/44862/5",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1633705423,
            "author": {
                "name": "Ben Tyner",
                "email": "ben.tyner@ibm.com",
                "username": "bentyner"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "type": "MODIFIED",
                    "insertions": 49,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 49,
            "sizeDeletions": 0
        }
    ]
}