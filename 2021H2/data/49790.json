{
    "project": "openbmc/openpower-proc-control",
    "branch": "master",
    "id": "If072061bf995b2db58259eba64e7e8f7ace20f6c",
    "number": 49790,
    "subject": "PHAL: Modify sbe error pel interface to pass in error type",
    "owner": {
        "name": "MARRI DEVENDER RAO",
        "email": "devenrao@in.ibm.com",
        "username": "devenrao"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/openpower-proc-control/+/49790",
    "commitMessage": "PHAL: Modify sbe error pel interface to pass in error type\n\nAt present all sbe related pels are created with severity\nas Error(unrecoverable), modifying the API to specify the\nseverity type by the caller.\n\nSome of the chip-op is expected to fail in power-off/error path.\nThis commit will help to set custom priority of the failure.\n\nSigned-off-by: Marri Devender Rao <devenrao@in.ibm.com>\nChange-Id: If072061bf995b2db58259eba64e7e8f7ace20f6c\n",
    "createdOn": 1639730423,
    "lastUpdated": 1641457147,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1639730423,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1639730436,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639730500,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/32198/ : SUCCESS"
        },
        {
            "timestamp": 1639731953,
            "reviewer": {
                "name": "Ramesh Iyyar",
                "email": "rameshi1@in.ibm.com",
                "username": "RameshIyyar"
            },
            "message": "Patch Set 1:\n\n(1 comment)\n\nLGTM but, some questions."
        },
        {
            "timestamp": 1639984033,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1641318755,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1641360211,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1641368660,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 1:\n\n(3 comments)"
        },
        {
            "timestamp": 1641381822,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1641381837,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1641381837,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1641381900,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/34927/ : SUCCESS"
        },
        {
            "timestamp": 1641382028,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1641420179,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1641423974,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1641455920,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1641457016,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 2: Code-Review+2"
        },
        {
            "timestamp": 1641457147,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Change has been successfully merged"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "56b9e1df98cf8d465217fd74ae3d01167708350a",
            "parents": [
                "db92472533b150dfbe7e60489b47cfc4791ec11c"
            ],
            "ref": "refs/changes/90/49790/1",
            "uploader": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "createdOn": 1639730423,
            "author": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "Add , PHAL: and commit message."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "Done"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "Better to add additional info saying this helper API is used to create unrecoverable error by defaulyt. Tand this commits provides additional chnages to support to overrode the secvrity type in some specific cases."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "Done"
                },
                {
                    "file": "extensions/phal/create_pel.hpp",
                    "line": 37,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "Missing severity defition."
                },
                {
                    "file": "extensions/phal/create_pel.hpp",
                    "line": 37,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "Done"
                },
                {
                    "file": "extensions/phal/create_pel.hpp",
                    "line": 41,
                    "reviewer": {
                        "name": "Ramesh Iyyar",
                        "email": "rameshi1@in.ibm.com",
                        "username": "RameshIyyar"
                    },
                    "message": "Cannot we enforce the caller to pass the severity because the caller may be accidentally missing it to pass and we will end up with an unrecoverable error and that demands to take the service action, right?\n\nOR\n\nCan we change it as an informational error and callers can decide whether need a service action or not based on their use cases?"
                },
                {
                    "file": "extensions/phal/create_pel.hpp",
                    "line": 41,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "Default behaviou in unrecoverable , This helps user incase user want to force to unrecoverable.\nUnreconerable with service should automatically commit as information, looks like this feature is not eanbled in PEL"
                },
                {
                    "file": "extensions/phal/create_pel.hpp",
                    "line": 41,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "\"Unreconerable with service should automatically commit as information\"\n - what exactly do you mean by that Jayanth?"
                },
                {
                    "file": "extensions/phal/create_pel.hpp",
                    "line": 41,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "Sorry for type ,\" Unrecoverable errors without service action\""
                },
                {
                    "file": "extensions/phal/create_pel.hpp",
                    "line": 41,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "We do have a PEL story to make non-info errors without callouts into informational.  I still need to do a bit more research to make sure it is still necessary."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "extensions/phal/create_pel.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -3
                },
                {
                    "file": "extensions/phal/create_pel.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 7,
            "sizeDeletions": 5
        },
        {
            "number": 2,
            "revision": "2b30dea14d7821e0eb641c48d8a1f981556463fa",
            "parents": [
                "db92472533b150dfbe7e60489b47cfc4791ec11c"
            ],
            "ref": "refs/changes/90/49790/2",
            "uploader": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "createdOn": 1641381822,
            "author": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "extensions/phal/create_pel.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -3
                },
                {
                    "file": "extensions/phal/create_pel.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 8,
            "sizeDeletions": 5
        }
    ]
}