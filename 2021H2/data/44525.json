{
    "project": "openbmc/pldm",
    "branch": "master",
    "id": "I26c78f8fcdead0c49d3ceddb9539be95398934aa",
    "number": 44525,
    "subject": "pldmbios: Add BIOS attributes hb_key_clear_request",
    "owner": {
        "email": "isaac.salem@ibm.com",
        "username": "Isaac-Salem"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/pldm/+/44525",
    "commitMessage": "pldmbios: Add BIOS attributes hb_key_clear_request\n\nThis commit introduces a new BIOS attribute for key clear requests.\nDepending on the value set, HB will determine if physical presence is\nrequired to clear the requested security keys before passing the value\nto HDAT.\nTested: manually added bios attr in rainier simics and HW, and verified\ndefualt case as well as setting BIOS hb_key_clear_request to ALL picked\nup in hb attr and passing the value to HDAT.\n\nSigned-off-by: Isaac Salem <isaac.salem@ibm.com>\nChange-Id: I26c78f8fcdead0c49d3ceddb9539be95398934aa\n",
    "createdOn": 1624912407,
    "lastUpdated": 1629815068,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1624912407,
            "reviewer": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1624912423,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1626123954,
            "reviewer": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1626123985,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1626296723,
            "reviewer": {
                "email": "crgeddes@us.ibm.com",
                "username": "crgeddes"
            },
            "message": "Patch Set 2: Code-Review-1\n\n(1 comment)"
        },
        {
            "timestamp": 1626369580,
            "reviewer": {
                "email": "zach@ibm.com",
                "username": "ibmzach"
            },
            "message": "Patch Set 2: Code-Review-1\n\n(1 comment)"
        },
        {
            "timestamp": 1626454772,
            "reviewer": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1626454786,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1626454927,
            "reviewer": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1626712198,
            "reviewer": {
                "email": "zach@ibm.com",
                "username": "ibmzach"
            },
            "message": "Patch Set 3: Code-Review-1\n\n(2 comments)"
        },
        {
            "timestamp": 1626728066,
            "reviewer": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1626810496,
            "reviewer": {
                "email": "crgeddes@us.ibm.com",
                "username": "crgeddes"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1626866844,
            "reviewer": {
                "email": "rashmi.r.v@linux.intel.com",
                "username": "Rashmi-RV"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1626968699,
            "reviewer": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "message": "Uploaded patch set 5: Commit message was updated."
        },
        {
            "timestamp": 1626968891,
            "reviewer": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "message": "Patch Set 5:\n\n(2 comments)"
        },
        {
            "timestamp": 1626968930,
            "reviewer": {
                "email": "zach@ibm.com",
                "username": "ibmzach"
            },
            "message": "Patch Set 5: Code-Review+1"
        },
        {
            "timestamp": 1626969103,
            "reviewer": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1626970806,
            "reviewer": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1626970818,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1626970827,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/2599/ (1/2)\n\nppc64le CI Build Started"
        },
        {
            "timestamp": 1626971847,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/2599/ : ppc64le CI Build Successful\n\nhttps://jenkins.openbmc.org/job/ci-repository/22598/ : SUCCESS"
        },
        {
            "timestamp": 1628607161,
            "reviewer": {
                "email": "zach@ibm.com",
                "username": "ibmzach"
            },
            "message": "Patch Set 6: Code-Review+1"
        },
        {
            "timestamp": 1629304799,
            "reviewer": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1629304816,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1629304825,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/2819/ (2/2)\n\nppc64le CI Build Started"
        },
        {
            "timestamp": 1629305652,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/2819/ : ppc64le CI Build Successful\n\nhttps://jenkins.openbmc.org/job/ci-repository/24571/ : SUCCESS"
        },
        {
            "timestamp": 1629305946,
            "reviewer": {
                "email": "zach@ibm.com",
                "username": "ibmzach"
            },
            "message": "Patch Set 7: Code-Review+1"
        },
        {
            "timestamp": 1629487864,
            "reviewer": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "message": "Uploaded patch set 8."
        },
        {
            "timestamp": 1629487878,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1629487887,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/2863/ (1/2)\n\nppc64le CI Build Started"
        },
        {
            "timestamp": 1629489023,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/2863/ : ppc64le CI Build Successful\n\nhttps://jenkins.openbmc.org/job/ci-repository/24761/ : SUCCESS"
        },
        {
            "timestamp": 1629779071,
            "reviewer": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "message": "Patch Set 8: Code-Review+1"
        },
        {
            "timestamp": 1629779212,
            "reviewer": {
                "name": "ManojKiran Eda",
                "email": "manojkiran.eda@gmail.com",
                "username": "manojkiraneda"
            },
            "message": "Patch Set 8: Code-Review+1"
        },
        {
            "timestamp": 1629779897,
            "reviewer": {
                "name": "Jayashankar Padath",
                "email": "jayashankarpadath@gmail.com",
                "username": "jaypadath"
            },
            "message": "Patch Set 8: Code-Review+1"
        },
        {
            "timestamp": 1629780829,
            "reviewer": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "message": "Patch Set 8: Code-Review+2"
        },
        {
            "timestamp": 1629815063,
            "reviewer": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1629815068,
            "reviewer": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "message": "Change has been successfully rebased and submitted as 5dabe1060ec46879eeef75b9a830426bd00fc7d3"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "a518a0e3872cc8a94036ab717d3fbf5cd1e2c674",
            "parents": [
                "c33c2f05c973d31def4801859a7722823e71d7a6"
            ],
            "ref": "refs/changes/25/44525/1",
            "uploader": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "createdOn": 1624912407,
            "author": {
                "name": "Isaac Salem",
                "email": "Isaac.Salem@ibm.com",
                "username": ""
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "oem/ibm/configurations/bios/enum_attrs.json",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 17,
            "sizeDeletions": 1
        },
        {
            "number": 2,
            "revision": "74953b520070b03ed6f63c0e8990cc23631d46ba",
            "parents": [
                "b6540532d5033fbc9fdeaf6112445d73e8a5a3cf"
            ],
            "ref": "refs/changes/25/44525/2",
            "uploader": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "createdOn": 1626123954,
            "author": {
                "name": "Isaac Salem",
                "email": "Isaac.Salem@ibm.com",
                "username": ""
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "oem/ibm/configurations/bios/enum_attrs.json",
                    "line": 244,
                    "reviewer": {
                        "email": "crgeddes@us.ibm.com",
                        "username": "crgeddes"
                    },
                    "message": "I thought there was supposed to be 2 copies of the attribute. hb_key_clear_request and hb_key_clear_request_current. Otherwise looks good."
                },
                {
                    "file": "oem/ibm/configurations/bios/enum_attrs.json",
                    "line": 244,
                    "reviewer": {
                        "email": "zach@ibm.com",
                        "username": "ibmzach"
                    },
                    "message": "From https://ibm.ent.box.com/file/478139954961?s=w7lzdwgawwnt9saob8zs05bs6n6o7tg4 it looks like this attribute should be called hb_clear_security_keys{,_pending}?"
                },
                {
                    "file": "oem/ibm/configurations/bios/enum_attrs.json",
                    "line": 244,
                    "reviewer": {
                        "email": "isaac.salem@ibm.com",
                        "username": "Isaac-Salem"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "oem/ibm/configurations/bios/enum_attrs.json",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 17,
            "sizeDeletions": 1
        },
        {
            "number": 3,
            "revision": "a9f235f5366b067c20906daea76815aa566b499d",
            "parents": [
                "50eedf5f349b0e00615b904ca44588e9f299a3e9"
            ],
            "ref": "refs/changes/25/44525/3",
            "uploader": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "createdOn": 1626454772,
            "author": {
                "name": "Isaac Salem",
                "email": "Isaac.Salem@ibm.com",
                "username": ""
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "oem/ibm/configurations/bios/enum_attrs.json",
                    "line": 281,
                    "reviewer": {
                        "email": "zach@ibm.com",
                        "username": "ibmzach"
                    },
                    "message": "For the pending version we need to specify that it \"requires a reboot to take effect\" in the helpText"
                },
                {
                    "file": "oem/ibm/configurations/bios/enum_attrs.json",
                    "line": 281,
                    "reviewer": {
                        "email": "isaac.salem@ibm.com",
                        "username": "Isaac-Salem"
                    },
                    "message": "Done"
                },
                {
                    "file": "oem/ibm/configurations/bios/enum_attrs.json",
                    "line": 297,
                    "reviewer": {
                        "email": "zach@ibm.com",
                        "username": "ibmzach"
                    },
                    "message": "for the current version, we need to specify that the value applies for the current IPL, and \"Do not set this attribute directly; set hb_key_clear_request.\"\n\nYou can checkout some of the other pending/current pairs in the json file to see how they're worded if you like."
                },
                {
                    "file": "oem/ibm/configurations/bios/enum_attrs.json",
                    "line": 297,
                    "reviewer": {
                        "email": "isaac.salem@ibm.com",
                        "username": "Isaac-Salem"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "oem/ibm/configurations/bios/enum_attrs.json",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 32,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "f760b332d66364a7730405d2590dd4801ebe42e3",
            "parents": [
                "50eedf5f349b0e00615b904ca44588e9f299a3e9"
            ],
            "ref": "refs/changes/25/44525/4",
            "uploader": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "createdOn": 1626728066,
            "author": {
                "name": "Isaac Salem",
                "email": "Isaac.Salem@ibm.com",
                "username": ""
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "email": "rashmi.r.v@linux.intel.com",
                        "username": "Rashmi-RV"
                    },
                    "message": "Please include \"Tested\" section."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "email": "isaac.salem@ibm.com",
                        "username": "Isaac-Salem"
                    },
                    "message": "I'm still in the process of testing these attributes out. Will add \"Tested\" once I verify"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "email": "isaac.salem@ibm.com",
                        "username": "Isaac-Salem"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "oem/ibm/configurations/bios/enum_attrs.json",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 32,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "4ea16aeb0f6fd74c6203d4383b2092670d908362",
            "parents": [
                "50eedf5f349b0e00615b904ca44588e9f299a3e9"
            ],
            "ref": "refs/changes/25/44525/5",
            "uploader": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "createdOn": 1626968699,
            "author": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "oem/ibm/configurations/bios/enum_attrs.json",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 32,
            "sizeDeletions": 0
        },
        {
            "number": 6,
            "revision": "b5f8266d4bc87f7dcdaafe90049e339fe80632fe",
            "parents": [
                "2e30eb1a8aad1ec1ac3808d9f2b0083a4f595b00"
            ],
            "ref": "refs/changes/25/44525/6",
            "uploader": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "createdOn": 1626970806,
            "author": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "oem/ibm/configurations/bios/enum_attrs.json",
                    "type": "MODIFIED",
                    "insertions": 33,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 33,
            "sizeDeletions": 1
        },
        {
            "number": 7,
            "revision": "6e1a396b8fd8d85a176561e1864cd0f0d1d23f38",
            "parents": [
                "42336b5cac8509bf12b29a2e03d92482673abd9c"
            ],
            "ref": "refs/changes/25/44525/7",
            "uploader": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "createdOn": 1629304799,
            "author": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "oem/ibm/configurations/bios/enum_attrs.json",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 32,
            "sizeDeletions": 0
        },
        {
            "number": 8,
            "revision": "f4edaafbfaf77ff85ba8f4d6d711f5e60ee6563f",
            "parents": [
                "4e8b1d18830dd061738ac05eea99b7422c90317c"
            ],
            "ref": "refs/changes/25/44525/8",
            "uploader": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "createdOn": 1629487864,
            "author": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "oem/ibm/configurations/bios/enum_attrs.json",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 32,
            "sizeDeletions": 0
        },
        {
            "number": 9,
            "revision": "5dabe1060ec46879eeef75b9a830426bd00fc7d3",
            "parents": [
                "5079ac4a67df3fc12a8142029faee382be57abd1"
            ],
            "ref": "refs/changes/25/44525/9",
            "uploader": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "createdOn": 1629815068,
            "author": {
                "email": "isaac.salem@ibm.com",
                "username": "Isaac-Salem"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "oem/ibm/configurations/bios/enum_attrs.json",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 32,
            "sizeDeletions": 0
        }
    ]
}