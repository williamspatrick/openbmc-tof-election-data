{
    "project": "openbmc/entity-manager",
    "branch": "master",
    "id": "If9b63c2dc1b9aee5a8330a6955eb40789f13399f",
    "number": 49359,
    "subject": "Configurations: Bletchley: Update sensors",
    "owner": {
        "name": "Howard Chiu",
        "email": "howard.chiu@quantatw.com",
        "username": "blackcatevil"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/49359",
    "commitMessage": "Configurations: Bletchley: Update sensors\n\n1. Add scale factor/threshold for ADC sensors\n2. Add MP5023 HSC\n3. Remove remote temperature of TMP421 on each sled\n\nSigned-off-by: Howard Chiu <howard.chiu@quantatw.com>\nChange-Id: If9b63c2dc1b9aee5a8330a6955eb40789f13399f\n",
    "createdOn": 1638756682,
    "lastUpdated": 1639701935,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1638756682,
            "reviewer": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1638756704,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638757446,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/31272/ : FAILURE"
        },
        {
            "timestamp": 1638792677,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1638870524,
            "reviewer": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1638870537,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638870828,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31401/ : SUCCESS"
        },
        {
            "timestamp": 1638911038,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1639009988,
            "reviewer": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1639010074,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1639030020,
            "reviewer": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1639030034,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639030320,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31634/ : SUCCESS"
        },
        {
            "timestamp": 1639103668,
            "reviewer": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1639103686,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639103973,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31731/ : SUCCESS"
        },
        {
            "timestamp": 1639111583,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1639111743,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4:\n\n(4 comments)"
        },
        {
            "timestamp": 1639117731,
            "reviewer": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "message": "Patch Set 4:\n\n(3 comments)"
        },
        {
            "timestamp": 1639117796,
            "reviewer": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1639156594,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1639156637,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1639354575,
            "reviewer": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1639355353,
            "reviewer": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1639355369,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639355400,
            "reviewer": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "message": "Uploaded patch set 6: Commit message was updated."
        },
        {
            "timestamp": 1639356137,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31806/ : SUCCESS"
        },
        {
            "timestamp": 1639414514,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1639444994,
            "reviewer": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1639451311,
            "reviewer": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1639451323,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639451609,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31905/ : SUCCESS"
        },
        {
            "timestamp": 1639595207,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 7: Code-Review+1\n\nFine as a starting point."
        },
        {
            "timestamp": 1639701932,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 7: Code-Review+2"
        },
        {
            "timestamp": 1639701935,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully rebased and submitted as 1fef3b596a99746ef02a3b135a940bb24d49a14f by Ed Tanous"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "e5e7e5cc12e5738b68f0a9a2abc48c1922e5ffb3",
            "parents": [
                "5468c6e953f608331ff455fea51ce541ea2cd9f0"
            ],
            "ref": "refs/changes/59/49359/1",
            "uploader": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "createdOn": 1638756682,
            "author": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "The configuration params for this haven't landed yet.  Please put in its own patch."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Howard Chiu",
                        "email": "howard.chiu@quantatw.com",
                        "username": "blackcatevil"
                    },
                    "message": "Ack"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "In the future, please try to split these up better.  Each of these can be their own patchset, which is going to hold this up."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Howard Chiu",
                        "email": "howard.chiu@quantatw.com",
                        "username": "blackcatevil"
                    },
                    "message": "Ack"
                },
                {
                    "file": "configurations/Bletchley.json",
                    "line": 5,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "What necessitated changing the names on these?  Is entity manager or dbus-sensors missing the proper encoding so that spaces can be used in dbus paths?"
                },
                {
                    "file": "configurations/Bletchley.json",
                    "line": 5,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "We encode spaces properly, other special characters are hit or miss.  Ideally I want to get the encode/decode stuff landed that I got added to sdbusplus, but it requires a very synchronized patchset between EM, dbus-sensors, and bmcweb."
                },
                {
                    "file": "configurations/Bletchley.json",
                    "line": 5,
                    "reviewer": {
                        "name": "Howard Chiu",
                        "email": "howard.chiu@quantatw.com",
                        "username": "blackcatevil"
                    },
                    "message": "So I think we can keep underline here?"
                },
                {
                    "file": "configurations/Bletchley.json",
                    "line": 5,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "As currently written, they should be the same (bmcweb translates underscores to spaces today).  At some point in the future, they will actually turn to underscores in the bmcweb and ipmi names once we get the right encoding done."
                },
                {
                    "file": "configurations/Bletchley.json",
                    "line": 5,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "It would be good to understand why you did this."
                },
                {
                    "file": "configurations/Bletchley.json",
                    "line": 5,
                    "reviewer": {
                        "name": "Howard Chiu",
                        "email": "howard.chiu@quantatw.com",
                        "username": "blackcatevil"
                    },
                    "message": "PSUSensor failed to create sensors when I used the older code base."
                },
                {
                    "file": "configurations/Bletchley.json",
                    "line": 145,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This type doesn't exist yet.  Please separate into its own patchset so that it doesn't have to hold up the rest."
                },
                {
                    "file": "configurations/Bletchley.json",
                    "line": 145,
                    "reviewer": {
                        "name": "Howard Chiu",
                        "email": "howard.chiu@quantatw.com",
                        "username": "blackcatevil"
                    },
                    "message": "I can turn this patch to WIP if this is the concern."
                },
                {
                    "file": "configurations/Bletchley.json",
                    "line": 145,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Just put these parts in its own patchset please."
                },
                {
                    "file": "configurations/Bletchley.json",
                    "line": 294,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This is going to do the wrong thing.  Each drive model should have its own entity config, which will make the inventory system work properly."
                },
                {
                    "file": "configurations/Bletchley.json",
                    "line": 294,
                    "reviewer": {
                        "name": "Howard Chiu",
                        "email": "howard.chiu@quantatw.com",
                        "username": "blackcatevil"
                    },
                    "message": "Even if I only have one FRU device?"
                },
                {
                    "file": "configurations/Bletchley.json",
                    "line": 294,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "NVME1000 is per drive.  The above is saying you have 6 drives."
                },
                {
                    "file": "configurations/Bletchley.json",
                    "line": 294,
                    "reviewer": {
                        "name": "Howard Chiu",
                        "email": "howard.chiu@quantatw.com",
                        "username": "blackcatevil"
                    },
                    "message": "Yes, I have 6 drives on the system and I have only one EERPOM to store the FRU info"
                },
                {
                    "file": "configurations/Bletchley.json",
                    "line": 294,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Each drive generally had a VPD.  What you've done here is going to expose the wrong inventory items and these drives are going to not show up in the Redfish tree properly."
                },
                {
                    "file": "configurations/Bletchley.json",
                    "line": 294,
                    "reviewer": {
                        "name": "Howard Chiu",
                        "email": "howard.chiu@quantatw.com",
                        "username": "blackcatevil"
                    },
                    "message": "So I have to split these 6 drives into individual configuration which I can still probe them with the same FRU info to make inventory system work properly."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "configurations/Bletchley.json",
                    "type": "MODIFIED",
                    "insertions": 191,
                    "deletions": -61
                }
            ],
            "sizeInsertions": 191,
            "sizeDeletions": 61
        },
        {
            "number": 2,
            "revision": "19b0573f651f251b8a85edf68995fa237e6b58ed",
            "parents": [
                "5468c6e953f608331ff455fea51ce541ea2cd9f0"
            ],
            "ref": "refs/changes/59/49359/2",
            "uploader": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "createdOn": 1638870524,
            "author": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "configurations/Bletchley.json",
                    "type": "MODIFIED",
                    "insertions": 509,
                    "deletions": -67
                }
            ],
            "sizeInsertions": 509,
            "sizeDeletions": 67
        },
        {
            "number": 3,
            "revision": "f291d54772645f02eb926a66486d79ae1c4953a0",
            "parents": [
                "5468c6e953f608331ff455fea51ce541ea2cd9f0"
            ],
            "ref": "refs/changes/59/49359/3",
            "uploader": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "createdOn": 1639030020,
            "author": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "configurations/Bletchley.json",
                    "type": "MODIFIED",
                    "insertions": 509,
                    "deletions": -67
                }
            ],
            "sizeInsertions": 509,
            "sizeDeletions": 67
        },
        {
            "number": 4,
            "revision": "dca3404325312065ed6c8ccb22370f10b3917017",
            "parents": [
                "5468c6e953f608331ff455fea51ce541ea2cd9f0"
            ],
            "ref": "refs/changes/59/49359/4",
            "uploader": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "createdOn": 1639103668,
            "author": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "configurations/Bletchley.json",
                    "type": "MODIFIED",
                    "insertions": 557,
                    "deletions": -67
                }
            ],
            "sizeInsertions": 557,
            "sizeDeletions": 67
        },
        {
            "number": 5,
            "revision": "08af71f07cb5d4ee174895d23e59ce4a5dfbb24c",
            "parents": [
                "5468c6e953f608331ff455fea51ce541ea2cd9f0"
            ],
            "ref": "refs/changes/59/49359/5",
            "uploader": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "createdOn": 1639355353,
            "author": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "configurations/Bletchley.json",
                    "type": "MODIFIED",
                    "insertions": 333,
                    "deletions": -67
                }
            ],
            "sizeInsertions": 333,
            "sizeDeletions": 67
        },
        {
            "number": 6,
            "revision": "87e2b5ae466e94ecc2b83fe0b42a96059f88bc60",
            "parents": [
                "5468c6e953f608331ff455fea51ce541ea2cd9f0"
            ],
            "ref": "refs/changes/59/49359/6",
            "uploader": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "createdOn": 1639355400,
            "author": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "configurations/Bletchley.json",
                    "type": "MODIFIED",
                    "insertions": 333,
                    "deletions": -67
                }
            ],
            "sizeInsertions": 333,
            "sizeDeletions": 67
        },
        {
            "number": 7,
            "revision": "69d279b1b73a661f576af891b515fd195069c3b2",
            "parents": [
                "5468c6e953f608331ff455fea51ce541ea2cd9f0"
            ],
            "ref": "refs/changes/59/49359/7",
            "uploader": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "createdOn": 1639451311,
            "author": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "configurations/Bletchley.json",
                    "type": "MODIFIED",
                    "insertions": 321,
                    "deletions": -91
                }
            ],
            "sizeInsertions": 321,
            "sizeDeletions": 91
        },
        {
            "number": 8,
            "revision": "1fef3b596a99746ef02a3b135a940bb24d49a14f",
            "parents": [
                "1e8e71f23fb4c686da5f2c9451e320b08637f15a"
            ],
            "ref": "refs/changes/59/49359/8",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1639701935,
            "author": {
                "name": "Howard Chiu",
                "email": "howard.chiu@quantatw.com",
                "username": "blackcatevil"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "configurations/Bletchley.json",
                    "type": "MODIFIED",
                    "insertions": 321,
                    "deletions": -91
                }
            ],
            "sizeInsertions": 321,
            "sizeDeletions": 91
        }
    ]
}