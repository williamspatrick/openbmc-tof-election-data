{
    "project": "openbmc/x86-power-control",
    "branch": "master",
    "id": "Idb48445aed786349a5f9b98991b55023499e58c2",
    "number": 36020,
    "subject": "Add Slot AC Power Support",
    "owner": {
        "name": "Priyatharshan P",
        "email": "priyatharshanp@hcl.com",
        "username": "dharshan05"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/x86-power-control/+/36020",
    "commitMessage": "Add Slot AC Power Support\n\nThis change provides Slot AC Power feature for the system which has Slot\nAC Power support.To enable this feature, the compiler\nflag 'SLOT_AC_POWER' must be defined from the platform side.\n\nThe Chassis properites On, Off and PowerCycle will provide the Slot\nAC Power On, Off and PowerCycle for the platform with the compiler flag\n'SLOT_AC_POWER'\n\nTESTED: Tested and verified in YosemiteV2\n\nSigned-off-by: Priyatharshan P <priyatharshanp@hcl.com>\nChange-Id: Idb48445aed786349a5f9b98991b55023499e58c2\n",
    "createdOn": 1598541134,
    "lastUpdated": 1637226514,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1598541134,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1598541145,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1598541152,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/3779/"
        },
        {
            "timestamp": 1598541248,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/3779/ : FAILURE"
        },
        {
            "timestamp": 1598541287,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Set Work In Progress"
        },
        {
            "timestamp": 1598541664,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Patch Set 1:\n\nThis change is ready for review."
        },
        {
            "timestamp": 1598541664,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Set Ready For Review"
        },
        {
            "timestamp": 1598542657,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Patch Set 1:\n\nI wonder why this patch failed.I have tested this patch and this is passing in my machine.\n\nCreated a new test patch with no change in it. Even that is also failing with same error.\n\nTest Patch : https://gerrit.openbmc-project.xyz/c/openbmc/x86-power-control/+/36021\n\n@james , @vijay could you please let me know if there is any isssue from my side."
        },
        {
            "timestamp": 1598559789,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 1:\n\n> Patch Set 1:\n> \n> I wonder why this patch failed.I have tested this patch and this is passing in my machine.\n> \n> Created a new test patch with no change in it. Even that is also failing with same error.\n> \n> Test Patch : https://gerrit.openbmc-project.xyz/c/openbmc/x86-power-control/+/36021\n> \n> @james , @vijay could you please let me know if there is any isssue from my side.\n\nThis patch should fix the build: https://gerrit.openbmc-project.xyz/c/openbmc/x86-power-control/+/36037."
        },
        {
            "timestamp": 1598593844,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1598593854,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1598593861,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/3852/"
        },
        {
            "timestamp": 1598593902,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/3852/ : SUCCESS"
        },
        {
            "timestamp": 1598594147,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Patch Set 2:\n\n> Patch Set 1:\n> \n> > Patch Set 1:\n> > \n> > I wonder why this patch failed.I have tested this patch and this is passing in my machine.\n> > \n> > Created a new test patch with no change in it. Even that is also failing with same error.\n> > \n> > Test Patch : https://gerrit.openbmc-project.xyz/c/openbmc/x86-power-control/+/36021\n> > \n> > @james , @vijay could you please let me know if there is any isssue from my side.\n> \n> This patch should fix the build: https://gerrit.openbmc-project.xyz/c/openbmc/x86-power-control/+/36037.\n\nThis works..Thanks for looking into this. Appreciate it.."
        },
        {
            "timestamp": 1599607663,
            "reviewer": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1599663824,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Patch Set 2:\n\n> Patch Set 2:\n> \n> (1 comment)\n\nOn the mailing list discussion with Ed Tanous, he suggested to use compile time flag rather than config file setup. @Jason kindly share your comments on this."
        },
        {
            "timestamp": 1599725159,
            "reviewer": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "message": "Patch Set 2:\n\n> > Patch Set 2:\n > >\n > > (1 comment)\n > \n > On the mailing list discussion with Ed Tanous, he suggested to use\n > compile time flag rather than config file setup. @Jason kindly\n > share your comments on this.\n\nI would simply keep usage simple based on configuration rather than adding flag as well as config."
        },
        {
            "timestamp": 1599755410,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 2:\n\n> Patch Set 2:\n> \n> > > Patch Set 2:\n>  > >\n>  > > (1 comment)\n>  > \n>  > On the mailing list discussion with Ed Tanous, he suggested to use\n>  > compile time flag rather than config file setup. @Jason kindly\n>  > share your comments on this.\n> \n> I would simply keep usage simple based on configuration rather than adding flag as well as config.\n\nI think his comment may be based on that this change feels very platform-specific so it should be behind a compile flag to remove it for platforms that don't use it.  Is a GPIO to control slot AC power a standard implementation?\n\nI think I'm okay without the compile flag, but if different platforms have different methods to execute this functionality, we may need to come up with a more generic approach to add or modify behavior.  The issue with that is that is what phosphor-state-manager is for."
        },
        {
            "timestamp": 1600096321,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Patch Set 2:\n\n> Patch Set 2:\n> \n> > Patch Set 2:\n> > \n> > > > Patch Set 2:\n> >  > >\n> >  > > (1 comment)\n> >  > \n> >  > On the mailing list discussion with Ed Tanous, he suggested to use\n> >  > compile time flag rather than config file setup. @Jason kindly\n> >  > share your comments on this.\n> > \n> > I would simply keep usage simple based on configuration rather than adding flag as well as config.\n> \n> I think his comment may be based on that this change feels very platform-specific so it should be behind a compile flag to remove it for platforms that don't use it.  Is a GPIO to control slot AC power a standard implementation?\n> \n> I think I'm okay without the compile flag, but if different platforms have different methods to execute this functionality, we may need to come up with a more generic approach to add or modify behavior.  The issue with that is that is what phosphor-state-manager is for.\n\nThanks for the comment.I will replace a compile flag with Json config.\n\nYosemiteV2(Facebook) uses GPIO to control slot AC power Cycle.But not sure about other platforms.\n\ncurrently I am working working on a new implementation in power-control ( \"D-bus based request events\".This will be generic approach across all the platforms especially for the platforms not having direct GPIO's for the events like Power Good, Reset and Power buttons, etc) .I will be submitting this patch soon in Gerrit. This wil be providing a generic approach for slot AC power Cycle also."
        },
        {
            "timestamp": 1600097724,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(6 comments)"
        },
        {
            "timestamp": 1600245037,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1600245049,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1600245056,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/4787/"
        },
        {
            "timestamp": 1600245088,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Patch Set 3:\n\n(6 comments)"
        },
        {
            "timestamp": 1600245091,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/4787/ : SUCCESS"
        },
        {
            "timestamp": 1601049019,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\nCan you please have a discussion on the mailing list with Vijay about how these two features, and the design he proposed are intended to work together.  I suspect you two are working on the same patch;  If you're not, I suspect documentation is required to determine when to to use which one."
        },
        {
            "timestamp": 1602519325,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Patch Set 3:\n\n> Patch Set 3:\n> \n> Can you please have a discussion on the mailing list with Vijay about how these two features, and the design he proposed are intended to work together.  I suspect you two are working on the same patch;  If you're not, I suspect documentation is required to determine when to to use which one.\n\nI had a discussion on the mailing list with Vijay.His patch is related to a power cycle of complete system and this feature implements 'chassis_systemN' [N = 1:4 for my case] objects for slot-level full power cycle for multi-node systems.This is already documented in the below link.\n\nhttps://github.com/openbmc/phosphor-dbus-interfaces/tree/master/xyz/openbmc_project/State#chassis-system\n\nCurrently this patch uses chassis_system0 object for slot power cycle. Soon I will update this patch to use chassis_systemN object of each slot."
        },
        {
            "timestamp": 1603076386,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1603076398,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1603076441,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/6541/ : SUCCESS"
        },
        {
            "timestamp": 1603078164,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1603078173,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1603078216,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/6542/ : SUCCESS"
        },
        {
            "timestamp": 1603078527,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1603078538,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1603078578,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/6543/ : SUCCESS"
        },
        {
            "timestamp": 1603123350,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1603143483,
            "reviewer": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1603808990,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1603812385,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1603898743,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Patch Set 6:\n\n> Patch Set 6:\n> \n> (1 comment)\n\nAgree.Please correct me if i am wrong. In multi host systems, Instead of creating identical dbus interfaces and paths, shall we restrict to create chassis_system0 to host1 alone."
        },
        {
            "timestamp": 1604529451,
            "reviewer": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "message": "Patch Set 6:\n\n> Agree.Please correct me if i am wrong. In multi host systems,\n > Instead of creating identical dbus interfaces and paths, shall we\n > restrict to create chassis_system0 to host1 alone.\nI didn't like the idea of having multiple process for multiple node, rather we could have seperate async task for each of host monitoring. I had questioned this at the time of design itself.\n\nNow it is up to maintainer to accept but I would not prefer multiple system reset interface which doesn't seems right."
        },
        {
            "timestamp": 1605622780,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Patch Set 6:\n\n@Jason Bills @Ed Tanous\n\nCould you please confirm, In multi host systems, Instead of creating identical dbus interfaces and paths, shall we restrict to create chassis_system0 to host1 alone"
        },
        {
            "timestamp": 1605742170,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 6:\n\n> Patch Set 6:\n> \n> @Jason Bills @Ed Tanous\n> \n> Could you please confirm, In multi host systems, Instead of creating identical dbus interfaces and paths, shall we restrict to create chassis_system0 to host1 alone\n\nI think Ed had suggested that chassis_system0 should be in a separate daemon?  If you will have one instance of power-control running for each host, then it makes sense for another single instance to cover the chassis that only has a single instance.\n\nIs there a reason chassis_system needs to be part of the host instance?"
        },
        {
            "timestamp": 1605795728,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Patch Set 6:\n\n> Patch Set 6:\n> \n> > Patch Set 6:\n> > \n> > @Jason Bills @Ed Tanous\n> > \n> > Could you please confirm, In multi host systems, Instead of creating identical dbus interfaces and paths, shall we restrict to create chassis_system0 to host1 alone\n> \n> I think Ed had suggested that chassis_system0 should be in a separate daemon?  If you will have one instance of power-control running for each host, then it makes sense for another single instance to cover the chassis that only has a single instance.\n> \n> Is there a reason chassis_system needs to be part of the host instance?\n\nNo specific reason actually. If chassis_system0 should be in a separate daemon then we can make another single instance to cover chassis_system0."
        },
        {
            "timestamp": 1607354224,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Patch Set 6:\n\n> Patch Set 6:\n> \n> > Patch Set 6:\n> > \n> > > Patch Set 6:\n> > > \n> > > @Jason Bills @Ed Tanous\n> > > \n> > > Could you please confirm, In multi host systems, Instead of creating identical dbus interfaces and paths, shall we restrict to create chassis_system0 to host1 alone\n> > \n> > I think Ed had suggested that chassis_system0 should be in a separate daemon?  If you will have one instance of power-control running for each host, then it makes sense for another single instance to cover the chassis that only has a single instance.\n> > \n> > Is there a reason chassis_system needs to be part of the host instance?\n> \n> No specific reason actually. If chassis_system0 should be in a separate daemon then we can make another single instance to cover chassis_system0.\n\n@Jason, @Ed Tanoud\nOne quick question here.\nIs the chassis_system0 implementation will completely be removed from x86-power-control. Is the new daemon that is going to take care chassis_system0 is already implemented. If yes kindly provide the details."
        },
        {
            "timestamp": 1608649228,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Patch Set 6:\n\n> Patch Set 6:\n> \n> > Patch Set 6:\n> > \n> > > Patch Set 6:\n> > > \n> > > > Patch Set 6:\n> > > > \n> > > > @Jason Bills @Ed Tanous\n> > > > \n> > > > Could you please confirm, In multi host systems, Instead of creating identical dbus interfaces and paths, shall we restrict to create chassis_system0 to host1 alone\n> > > \n> > > I think Ed had suggested that chassis_system0 should be in a separate daemon?  If you will have one instance of power-control running for each host, then it makes sense for another single instance to cover the chassis that only has a single instance.\n> > > \n> > > Is there a reason chassis_system needs to be part of the host instance?\n> > \n> > No specific reason actually. If chassis_system0 should be in a separate daemon then we can make another single instance to cover chassis_system0.\n> \n> @Jason, @Ed Tanoud\n> One quick question here.\n> Is the chassis_system0 implementation will completely be removed from x86-power-control. Is the new daemon that is going to take care chassis_system0 is already implemented. If yes kindly provide the details.\n\n@Jason, Shall I remove the chassis_system0 implementation from x86-power-control and update this patch set as Ed had suggested that chassis_system0 should be in a separate daemon."
        },
        {
            "timestamp": 1609882755,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 6:\n\n> Patch Set 6:\n> \n> > Patch Set 6:\n> > \n> > > Patch Set 6:\n> > > \n> > > > Patch Set 6:\n> > > > \n> > > > > Patch Set 6:\n> > > > > \n> > > > > @Jason Bills @Ed Tanous\n> > > > > \n> > > > > Could you please confirm, In multi host systems, Instead of creating identical dbus interfaces and paths, shall we restrict to create chassis_system0 to host1 alone\n> > > > \n> > > > I think Ed had suggested that chassis_system0 should be in a separate daemon?  If you will have one instance of power-control running for each host, then it makes sense for another single instance to cover the chassis that only has a single instance.\n> > > > \n> > > > Is there a reason chassis_system needs to be part of the host instance?\n> > > \n> > > No specific reason actually. If chassis_system0 should be in a separate daemon then we can make another single instance to cover chassis_system0.\n> > \n> > @Jason, @Ed Tanoud\n> > One quick question here.\n> > Is the chassis_system0 implementation will completely be removed from x86-power-control. Is the new daemon that is going to take care chassis_system0 is already implemented. If yes kindly provide the details.\n> \n> @Jason, Shall I remove the chassis_system0 implementation from x86-power-control and update this patch set as Ed had suggested that chassis_system0 should be in a separate daemon.\n\nYes, I think it would be a cleaner implementation for chassis_system0 to be separate from the individual host implementation."
        },
        {
            "timestamp": 1609984078,
            "reviewer": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "message": "Patch Set 6:\n\n> Patch Set 6:\n> \n> > Patch Set 6:\n> > \n> > > Patch Set 6:\n> > > \n> > > > Patch Set 6:\n> > > > \n> > > > > Patch Set 6:\n> > > > > \n> > > > > > Patch Set 6:\n> > > > > > \n> > > > > > @Jason Bills @Ed Tanous\n> > > > > > \n> > > > > > Could you please confirm, In multi host systems, Instead of creating identical dbus interfaces and paths, shall we restrict to create chassis_system0 to host1 alone\n> > > > > \n> > > > > I think Ed had suggested that chassis_system0 should be in a separate daemon?  If you will have one instance of power-control running for each host, then it makes sense for another single instance to cover the chassis that only has a single instance.\n> > > > > \n> > > > > Is there a reason chassis_system needs to be part of the host instance?\n> > > > \n> > > > No specific reason actually. If chassis_system0 should be in a separate daemon then we can make another single instance to cover chassis_system0.\n> > > \n> > > @Jason, @Ed Tanoud\n> > > One quick question here.\n> > > Is the chassis_system0 implementation will completely be removed from x86-power-control. Is the new daemon that is going to take care chassis_system0 is already implemented. If yes kindly provide the details.\n> > \n> > @Jason, Shall I remove the chassis_system0 implementation from x86-power-control and update this patch set as Ed had suggested that chassis_system0 should be in a separate daemon.\n> \n> Yes, I think it would be a cleaner implementation for chassis_system0 to be separate from the individual host implementation.\n\nWhere is this going to be parked, I don't see any such daemon existing."
        },
        {
            "timestamp": 1610039613,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Patch Set 6:\n\n> Patch Set 6:\n> \n> > Patch Set 6:\n> > \n> > > Patch Set 6:\n> > > \n> > > > Patch Set 6:\n> > > > \n> > > > > Patch Set 6:\n> > > > > \n> > > > > > Patch Set 6:\n> > > > > > \n> > > > > > > Patch Set 6:\n> > > > > > > \n> > > > > > > @Jason Bills @Ed Tanous\n> > > > > > > \n> > > > > > > Could you please confirm, In multi host systems, Instead of creating identical dbus interfaces and paths, shall we restrict to create chassis_system0 to host1 alone\n> > > > > > \n> > > > > > I think Ed had suggested that chassis_system0 should be in a separate daemon?  If you will have one instance of power-control running for each host, then it makes sense for another single instance to cover the chassis that only has a single instance.\n> > > > > > \n> > > > > > Is there a reason chassis_system needs to be part of the host instance?\n> > > > > \n> > > > > No specific reason actually. If chassis_system0 should be in a separate daemon then we can make another single instance to cover chassis_system0.\n> > > > \n> > > > @Jason, @Ed Tanoud\n> > > > One quick question here.\n> > > > Is the chassis_system0 implementation will completely be removed from x86-power-control. Is the new daemon that is going to take care chassis_system0 is already implemented. If yes kindly provide the details.\n> > > \n> > > @Jason, Shall I remove the chassis_system0 implementation from x86-power-control and update this patch set as Ed had suggested that chassis_system0 should be in a separate daemon.\n> > \n> > Yes, I think it would be a cleaner implementation for chassis_system0 to be separate from the individual host implementation.\n> \n> Where is this going to be parked, I don't see any such daemon existing.\n\nSame thing popped out for me also. @Jason could please confirm whether we are going to create a new daemon for this or in any available daemon"
        },
        {
            "timestamp": 1610051948,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 6:\n\n> Patch Set 6:\n> \n> > Patch Set 6:\n> > \n> > > Patch Set 6:\n> > > \n> > > > Patch Set 6:\n> > > > \n> > > > > Patch Set 6:\n> > > > > \n> > > > > > Patch Set 6:\n> > > > > > \n> > > > > > > Patch Set 6:\n> > > > > > > \n> > > > > > > > Patch Set 6:\n> > > > > > > > \n> > > > > > > > @Jason Bills @Ed Tanous\n> > > > > > > > \n> > > > > > > > Could you please confirm, In multi host systems, Instead of creating identical dbus interfaces and paths, shall we restrict to create chassis_system0 to host1 alone\n> > > > > > > \n> > > > > > > I think Ed had suggested that chassis_system0 should be in a separate daemon?  If you will have one instance of power-control running for each host, then it makes sense for another single instance to cover the chassis that only has a single instance.\n> > > > > > > \n> > > > > > > Is there a reason chassis_system needs to be part of the host instance?\n> > > > > > \n> > > > > > No specific reason actually. If chassis_system0 should be in a separate daemon then we can make another single instance to cover chassis_system0.\n> > > > > \n> > > > > @Jason, @Ed Tanoud\n> > > > > One quick question here.\n> > > > > Is the chassis_system0 implementation will completely be removed from x86-power-control. Is the new daemon that is going to take care chassis_system0 is already implemented. If yes kindly provide the details.\n> > > > \n> > > > @Jason, Shall I remove the chassis_system0 implementation from x86-power-control and update this patch set as Ed had suggested that chassis_system0 should be in a separate daemon.\n> > > \n> > > Yes, I think it would be a cleaner implementation for chassis_system0 to be separate from the individual host implementation.\n> > \n> > Where is this going to be parked, I don't see any such daemon existing.\n> \n> Same thing popped out for me also. @Jason could please confirm whether we are going to create a new daemon for this or in any available daemon\n\nI'm not aware of an existing daemon for this capability, so it would be something new."
        },
        {
            "timestamp": 1610115603,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Patch Set 6:\n\n> Patch Set 6:\n> \n> > Patch Set 6:\n> > \n> > > Patch Set 6:\n> > > \n> > > > Patch Set 6:\n> > > > \n> > > > > Patch Set 6:\n> > > > > \n> > > > > > Patch Set 6:\n> > > > > > \n> > > > > > > Patch Set 6:\n> > > > > > > \n> > > > > > > > Patch Set 6:\n> > > > > > > > \n> > > > > > > > > Patch Set 6:\n> > > > > > > > > \n> > > > > > > > > @Jason Bills @Ed Tanous\n> > > > > > > > > \n> > > > > > > > > Could you please confirm, In multi host systems, Instead of creating identical dbus interfaces and paths, shall we restrict to create chassis_system0 to host1 alone\n> > > > > > > > \n> > > > > > > > I think Ed had suggested that chassis_system0 should be in a separate daemon?  If you will have one instance of power-control running for each host, then it makes sense for another single instance to cover the chassis that only has a single instance.\n> > > > > > > > \n> > > > > > > > Is there a reason chassis_system needs to be part of the host instance?\n> > > > > > > \n> > > > > > > No specific reason actually. If chassis_system0 should be in a separate daemon then we can make another single instance to cover chassis_system0.\n> > > > > > \n> > > > > > @Jason, @Ed Tanoud\n> > > > > > One quick question here.\n> > > > > > Is the chassis_system0 implementation will completely be removed from x86-power-control. Is the new daemon that is going to take care chassis_system0 is already implemented. If yes kindly provide the details.\n> > > > > \n> > > > > @Jason, Shall I remove the chassis_system0 implementation from x86-power-control and update this patch set as Ed had suggested that chassis_system0 should be in a separate daemon.\n> > > > \n> > > > Yes, I think it would be a cleaner implementation for chassis_system0 to be separate from the individual host implementation.\n> > > \n> > > Where is this going to be parked, I don't see any such daemon existing.\n> > \n> > Same thing popped out for me also. @Jason could please confirm whether we are going to create a new daemon for this or in any available daemon\n> \n> I'm not aware of an existing daemon for this capability, so it would be something new.\n\n\nIf it is going to be a new daemon then shall we go ahead with current changes and keep chassis_system0 changes till the new daemon is created. We may delete chassis_system0 part after the new daemon changes up and running."
        },
        {
            "timestamp": 1611238000,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Patch Set 6:\n\n> Patch Set 6:\n> \n> > Patch Set 6:\n> > \n> > > Patch Set 6:\n> > > \n> > > > Patch Set 6:\n> > > > \n> > > > > Patch Set 6:\n> > > > > \n> > > > > > Patch Set 6:\n> > > > > > \n> > > > > > > Patch Set 6:\n> > > > > > > \n> > > > > > > > Patch Set 6:\n> > > > > > > > \n> > > > > > > > > Patch Set 6:\n> > > > > > > > > \n> > > > > > > > > > Patch Set 6:\n> > > > > > > > > > \n> > > > > > > > > > @Jason Bills @Ed Tanous\n> > > > > > > > > > \n> > > > > > > > > > Could you please confirm, In multi host systems, Instead of creating identical dbus interfaces and paths, shall we restrict to create chassis_system0 to host1 alone\n> > > > > > > > > \n> > > > > > > > > I think Ed had suggested that chassis_system0 should be in a separate daemon?  If you will have one instance of power-control running for each host, then it makes sense for another single instance to cover the chassis that only has a single instance.\n> > > > > > > > > \n> > > > > > > > > Is there a reason chassis_system needs to be part of the host instance?\n> > > > > > > > \n> > > > > > > > No specific reason actually. If chassis_system0 should be in a separate daemon then we can make another single instance to cover chassis_system0.\n> > > > > > > \n> > > > > > > @Jason, @Ed Tanoud\n> > > > > > > One quick question here.\n> > > > > > > Is the chassis_system0 implementation will completely be removed from x86-power-control. Is the new daemon that is going to take care chassis_system0 is already implemented. If yes kindly provide the details.\n> > > > > > \n> > > > > > @Jason, Shall I remove the chassis_system0 implementation from x86-power-control and update this patch set as Ed had suggested that chassis_system0 should be in a separate daemon.\n> > > > > \n> > > > > Yes, I think it would be a cleaner implementation for chassis_system0 to be separate from the individual host implementation.\n> > > > \n> > > > Where is this going to be parked, I don't see any such daemon existing.\n> > > \n> > > Same thing popped out for me also. @Jason could please confirm whether we are going to create a new daemon for this or in any available daemon\n> > \n> > I'm not aware of an existing daemon for this capability, so it would be something new.\n> \n> \n> If it is going to be a new daemon then shall we go ahead with current changes and keep chassis_system0 changes till the new daemon is created. We may delete chassis_system0 part after the new daemon changes up and running.\n\n@Jason, Could you please confirm on the above.."
        },
        {
            "timestamp": 1611250689,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n> Patch Set 6:\n> \n> > Patch Set 6:\n> > \n> > > Patch Set 6:\n> > > \n> > > > Patch Set 6:\n> > > > \n> > > > > Patch Set 6:\n> > > > > \n> > > > > > Patch Set 6:\n> > > > > > \n> > > > > > > Patch Set 6:\n> > > > > > > \n> > > > > > > > Patch Set 6:\n> > > > > > > > \n> > > > > > > > > Patch Set 6:\n> > > > > > > > > \n> > > > > > > > > > Patch Set 6:\n> > > > > > > > > > \n> > > > > > > > > > @Jason Bills @Ed Tanous\n> > > > > > > > > > \n> > > > > > > > > > Could you please confirm, In multi host systems, Instead of creating identical dbus interfaces and paths, shall we restrict to create chassis_system0 to host1 alone\n> > > > > > > > > \n> > > > > > > > > I think Ed had suggested that chassis_system0 should be in a separate daemon?  If you will have one instance of power-control running for each host, then it makes sense for another single instance to cover the chassis that only has a single instance.\n> > > > > > > > > \n> > > > > > > > > Is there a reason chassis_system needs to be part of the host instance?\n> > > > > > > > \n> > > > > > > > No specific reason actually. If chassis_system0 should be in a separate daemon then we can make another single instance to cover chassis_system0.\n> > > > > > > \n> > > > > > > @Jason, @Ed Tanoud\n> > > > > > > One quick question here.\n> > > > > > > Is the chassis_system0 implementation will completely be removed from x86-power-control. Is the new daemon that is going to take care chassis_system0 is already implemented. If yes kindly provide the details.\n> > > > > > \n> > > > > > @Jason, Shall I remove the chassis_system0 implementation from x86-power-control and update this patch set as Ed had suggested that chassis_system0 should be in a separate daemon.\n> > > > > \n> > > > > Yes, I think it would be a cleaner implementation for chassis_system0 to be separate from the individual host implementation.\n> > > > \n> > > > Where is this going to be parked, I don't see any such daemon existing.\n> > > \n> > > Same thing popped out for me also. @Jason could please confirm whether we are going to create a new daemon for this or in any available daemon\n> > \n> > I'm not aware of an existing daemon for this capability, so it would be something new.\n> \n> \n> If it is going to be a new daemon then shall we go ahead with current changes and keep chassis_system0 changes till the new daemon is created. We may delete chassis_system0 part after the new daemon changes up and running.\n\nI agree with Jason, this should go in another daemon, because this kinds of functionality is highly dependent on the system, and x86-power-control tries to be a generic daemon.  This was also brought up in the initial design review discussions.\n\nNo, I don't think the current patchset should be merged.  That's going the wrong direction of putting more code into x86-power-control.  We need to move this to another daemon, which I realize is some work, but IMO it shouldn't be too bad."
        },
        {
            "timestamp": 1612459359,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1612459371,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1612459409,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/11917/ : SUCCESS"
        },
        {
            "timestamp": 1613173419,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 7: Code-Review+1\n\nIt would be good to have another reviewer give +1.  Thanks!"
        },
        {
            "timestamp": 1613205344,
            "reviewer": {
                "email": "rashmi.r.v@linux.intel.com",
                "username": "Rashmi-RV"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1613571711,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1615782153,
            "reviewer": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "message": "Uploaded patch set 8."
        },
        {
            "timestamp": 1615782170,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1615782267,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/13743/ : SUCCESS"
        },
        {
            "timestamp": 1628097192,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Removed reviewer Ed Tanous."
        },
        {
            "timestamp": 1628535841,
            "reviewer": {
                "email": "rashmi.r.v@linux.intel.com",
                "username": "Rashmi-RV"
            },
            "message": "Patch Set 8: Code-Review+1"
        },
        {
            "timestamp": 1637226514,
            "reviewer": {
                "name": "Kuiying Wang",
                "email": "wangkuiying.wky@alibaba-inc.com",
                "username": "kuiyingw"
            },
            "message": "Patch Set 8:\n\n(2 comments)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "23a05862905baf9d80c300ea8153fad4bb9fc3d4",
            "parents": [
                "699b565d02ab0b590dda160bc0c8943e36d406bd"
            ],
            "ref": "refs/changes/20/36020/1",
            "uploader": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "createdOn": 1598541134,
            "author": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "power-control-x86/CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "type": "MODIFIED",
                    "insertions": 97,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 101,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "4be3994faf98a2ce8b132c3eba4d99990d4b1f44",
            "parents": [
                "699b565d02ab0b590dda160bc0c8943e36d406bd"
            ],
            "ref": "refs/changes/20/36020/2",
            "uploader": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "createdOn": 1598593844,
            "author": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "Vijay Khemka",
                        "email": "vijaykhemkalinux@gmail.com",
                        "username": "vijaykhemka"
                    },
                    "message": "Why compiler flag if we have configuration file. So if pin is defined then enable it or disable it."
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 1104,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Because this can fail, it should return an error code"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 1104,
                    "reviewer": {
                        "name": "Priyatharshan P",
                        "email": "priyatharshanp@hcl.com",
                        "username": "dharshan05"
                    },
                    "message": "Done"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 1106,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This should be checking the current state of slotACPowerState  before setting the GPIO"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 1106,
                    "reviewer": {
                        "name": "Priyatharshan P",
                        "email": "priyatharshanp@hcl.com",
                        "username": "dharshan05"
                    },
                    "message": "Done"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 1110,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This should go in the conditional above."
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 1110,
                    "reviewer": {
                        "name": "Priyatharshan P",
                        "email": "priyatharshanp@hcl.com",
                        "username": "dharshan05"
                    },
                    "message": "Done"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 1115,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Need to check current state."
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 1115,
                    "reviewer": {
                        "name": "Priyatharshan P",
                        "email": "priyatharshanp@hcl.com",
                        "username": "dharshan05"
                    },
                    "message": "Done"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 1129,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This blocks the main reactor, which can cause problems with other GPIO handlers.  Use async_wait, and call a callback"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 1129,
                    "reviewer": {
                        "name": "Priyatharshan P",
                        "email": "priyatharshanp@hcl.com",
                        "username": "dharshan05"
                    },
                    "message": "Done"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2374,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This should be checking the current state, similar to the other examples above, not setting it.  BMCs are expected to reset (such as in a firmware update) without cycling their GPIOs"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2374,
                    "reviewer": {
                        "name": "Priyatharshan P",
                        "email": "priyatharshanp@hcl.com",
                        "username": "dharshan05"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "power-control-x86/CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "type": "MODIFIED",
                    "insertions": 99,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 103,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "51f90cc07f3f14192914ff3ea4ad660becd7a9f7",
            "parents": [
                "699b565d02ab0b590dda160bc0c8943e36d406bd"
            ],
            "ref": "refs/changes/20/36020/3",
            "uploader": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "createdOn": 1600245037,
            "author": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "power-control-x86/CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "type": "MODIFIED",
                    "insertions": 141,
                    "deletions": -7
                }
            ],
            "sizeInsertions": 145,
            "sizeDeletions": 7
        },
        {
            "number": 4,
            "revision": "1baab0d26a8dcc8833bbefaebee01ac1e39e1fa3",
            "parents": [
                "699b565d02ab0b590dda160bc0c8943e36d406bd"
            ],
            "ref": "refs/changes/20/36020/4",
            "uploader": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "createdOn": 1603076386,
            "author": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "power-control-x86/CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "type": "MODIFIED",
                    "insertions": 182,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 186,
            "sizeDeletions": 1
        },
        {
            "number": 5,
            "revision": "840a044d3df7b6a05cb9c929ffc486c1f2658f8a",
            "parents": [
                "04175c21c575d08ee10bf8835d7e8e21f1c3c900"
            ],
            "ref": "refs/changes/20/36020/5",
            "uploader": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "createdOn": 1603078164,
            "author": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "power-control-x86/CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "type": "MODIFIED",
                    "insertions": 189,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 193,
            "sizeDeletions": 1
        },
        {
            "number": 6,
            "revision": "b662b615a847a7320791c2457fd5c08733bd0f9b",
            "parents": [
                "04175c21c575d08ee10bf8835d7e8e21f1c3c900"
            ],
            "ref": "refs/changes/20/36020/6",
            "uploader": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "createdOn": 1603078527,
            "author": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2584,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "If this feature is enabled, this is going to still exposes a chassis_system0 endpoint?  What would you expect this to do in relation to the chassis_system<n> endpoint."
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2584,
                    "reviewer": {
                        "name": "Vijay Khemka",
                        "email": "vijaykhemkalinux@gmail.com",
                        "username": "vijaykhemka"
                    },
                    "message": "Also I see another issue, if you are running multiple instances of power-control then every instance of power-control will try to create chassis_system0. How are you dealing with it. I guess, it will fail if the same interface exist and return back."
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2584,
                    "reviewer": {
                        "name": "Priyatharshan P",
                        "email": "priyatharshanp@hcl.com",
                        "username": "dharshan05"
                    },
                    "message": "@Ed Tanous\n\nInstance 0 (chassis_system0) will be treated as a complete chassis system which will include BMC, host and chassis. This will support hard power cycle of complete system.\n\nIn multi-host or multi-chassis system, instance number can be used from 1-N, as 0 is reserved for complete system and 1-N for individual slot power cycle(12V).\n\n\n@vijay\n\nYes, you are right.  If you are running multiple instances of power-control then every instance of power-control will try to create chassis_system0.But the code will not fail and we can issue  complete system reset (chassis_system0) using any of the host instances."
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2584,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> @Ed Tanous\n> \n> Instance 0 (chassis_system0) will be treated as a complete chassis system which will include BMC, host and chassis. This will support hard power cycle of complete system.\n\nSo, there will be 4 different clients exposing it in a 4 node system?  That doesn't seem right.\n\n> \n> In multi-host or multi-chassis system, instance number can be used from 1-N, as 0 is reserved for complete system and 1-N for individual slot power cycle(12V).\n> \n> \n> @vijay\n> \n> Yes, you are right.  If you are running multiple instances of power-control then every instance of power-control will try to create chassis_system0.But the code will not fail and we can issue  complete system reset (chassis_system0) using any of the host instances.\n\nBut how will clients know which one to use?  We can't have identical dbus interfaces and paths published by multiple clients."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "type": "MODIFIED",
                    "insertions": 189,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 189,
            "sizeDeletions": 1
        },
        {
            "number": 7,
            "revision": "19211b615d67500b08744511f5e3bcb6623bf509",
            "parents": [
                "04175c21c575d08ee10bf8835d7e8e21f1c3c900"
            ],
            "ref": "refs/changes/20/36020/7",
            "uploader": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "createdOn": 1612459359,
            "author": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 84,
                    "reviewer": {
                        "email": "rashmi.r.v@linux.intel.com",
                        "username": "Rashmi-RV"
                    },
                    "message": "200 ms is decided upon what basis?"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 84,
                    "reviewer": {
                        "name": "Priyatharshan P",
                        "email": "priyatharshanp@hcl.com",
                        "username": "dharshan05"
                    },
                    "message": "Good catch...As per FB implementation it would be 20secs. I will update this to 20 secs..Thanks"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "power-control-x86/CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -2
                },
                {
                    "file": "power-control-x86/service_files/chassis-system-reset.service",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -10
                },
                {
                    "file": "power-control-x86/service_files/chassis-system-reset.target",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -2
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "type": "MODIFIED",
                    "insertions": 186,
                    "deletions": -54
                }
            ],
            "sizeInsertions": 186,
            "sizeDeletions": 68
        },
        {
            "number": 8,
            "revision": "949eb876eefd8f9854f2ea30bf5e65a0c25570eb",
            "parents": [
                "22e0bec01e283819c13310640918c89f4a74fb56"
            ],
            "ref": "refs/changes/20/36020/8",
            "uploader": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "createdOn": 1615782153,
            "author": {
                "name": "Priyatharshan P",
                "email": "priyatharshanp@hcl.com",
                "username": "dharshan05"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 1185,
                    "reviewer": {
                        "name": "Kuiying Wang",
                        "email": "wangkuiying.wky@alibaba-inc.com",
                        "username": "kuiyingw"
                    },
                    "message": "log error here?"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 1211,
                    "reviewer": {
                        "name": "Kuiying Wang",
                        "email": "wangkuiying.wky@alibaba-inc.com",
                        "username": "kuiyingw"
                    },
                    "message": "log error here?"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "power-control-x86/CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -2
                },
                {
                    "file": "power-control-x86/service_files/chassis-system-reset.service",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -10
                },
                {
                    "file": "power-control-x86/service_files/chassis-system-reset.target",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -2
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "type": "MODIFIED",
                    "insertions": 195,
                    "deletions": -54
                }
            ],
            "sizeInsertions": 195,
            "sizeDeletions": 68
        }
    ]
}