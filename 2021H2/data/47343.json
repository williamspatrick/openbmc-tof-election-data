{
    "project": "openbmc/bios-settings-mgr",
    "branch": "master",
    "id": "Ibaf0079e471914b738f167652d6b985533f5d920",
    "number": 47343,
    "subject": "Fix for changing BIOS AdminPassword through BMC",
    "owner": {
        "name": "Snehalatha Venkatesh",
        "email": "snehalathax.v@intel.com",
        "username": "Snehalatha44"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/bios-settings-mgr/+/47343",
    "commitMessage": "Fix for changing BIOS AdminPassword through BMC\n\nBIOS hash value doesn't match with BMC computed hash value\nfor changing admin password\n\nChanged the hash function as per BIOS usage to match with\nBMC computed hash value and BIOS hash value\n\nTested:\nBy giving POST to\n'/redfish/v1/Systems/system/Bios/Actions/Bios.ChangePassword'\nBody:\n{\n \"NewPassword\": \"123456789\",\n \"OldPassword\": \"1234567890\",\n \"PasswordName\": \"AdminPassword\"\n}\nResponse: Success\n\nSigned-off-by: Snehalatha Venkatesh <snehalathax.v@intel.com>\nChange-Id: Ibaf0079e471914b738f167652d6b985533f5d920\n",
    "createdOn": 1632997225,
    "lastUpdated": 1633937467,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1632997225,
            "reviewer": {
                "name": "Snehalatha Venkatesh",
                "email": "snehalathax.v@intel.com",
                "username": "Snehalatha44"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1632997242,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1632997299,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/27241/ : SUCCESS"
        },
        {
            "timestamp": 1632997566,
            "reviewer": {
                "name": "Snehalatha Venkatesh",
                "email": "snehalathax.v@intel.com",
                "username": "Snehalatha44"
            },
            "message": "Patch Set 1:\n\nNeed to merge https://git-amr-2.devtools.intel.com/gerrit/#/c/339758/ to make redfish uri work."
        },
        {
            "timestamp": 1633347652,
            "reviewer": {
                "name": "Suryakanth Sekar",
                "email": "suryakanth.sekar@linux.intel.com",
                "username": "htnakayrus"
            },
            "message": "Patch Set 1:\n\n(4 comments)"
        },
        {
            "timestamp": 1633357998,
            "reviewer": {
                "name": "Snehalatha Venkatesh",
                "email": "snehalathax.v@intel.com",
                "username": "Snehalatha44"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1633358007,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633358064,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/27396/ : SUCCESS"
        },
        {
            "timestamp": 1633358134,
            "reviewer": {
                "name": "Snehalatha Venkatesh",
                "email": "snehalathax.v@intel.com",
                "username": "Snehalatha44"
            },
            "message": "Patch Set 2:\n\n(4 comments)"
        },
        {
            "timestamp": 1633446003,
            "reviewer": {
                "email": "smriti.ayushi@linux.intel.com",
                "username": "Smriti-Ayushi"
            },
            "message": "Patch Set 2:\n\n(4 comments)"
        },
        {
            "timestamp": 1633588154,
            "reviewer": {
                "name": "Snehalatha Venkatesh",
                "email": "snehalathax.v@intel.com",
                "username": "Snehalatha44"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1633588162,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633588216,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/27689/ : SUCCESS"
        },
        {
            "timestamp": 1633588333,
            "reviewer": {
                "name": "Snehalatha Venkatesh",
                "email": "snehalathax.v@intel.com",
                "username": "Snehalatha44"
            },
            "message": "Patch Set 3:\n\n(4 comments)"
        },
        {
            "timestamp": 1633622063,
            "reviewer": {
                "email": "smriti.ayushi@linux.intel.com",
                "username": "Smriti-Ayushi"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1633935463,
            "reviewer": {
                "name": "Suryakanth Sekar",
                "email": "suryakanth.sekar@linux.intel.com",
                "username": "htnakayrus"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1633937291,
            "reviewer": {
                "name": "Arun Lal K M",
                "email": "arun.lal@intel.com",
                "username": "arunlalkm-intel"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1633937409,
            "reviewer": {
                "name": "Suryakanth Sekar",
                "email": "suryakanth.sekar@linux.intel.com",
                "username": "htnakayrus"
            },
            "message": "Patch Set 3: Code-Review+2"
        },
        {
            "timestamp": 1633937467,
            "reviewer": {
                "name": "Snehalatha Venkatesh",
                "email": "snehalathax.v@intel.com",
                "username": "Snehalatha44"
            },
            "message": "Change has been successfully merged by Snehalatha Venkatesh"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "a3aa1e41ac02472a67d10862beeafee446bde9ef",
            "parents": [
                "b5984b87eb93f57f8bc2c123717527076a560753"
            ],
            "ref": "refs/changes/43/47343/1",
            "uploader": {
                "name": "Snehalatha Venkatesh",
                "email": "snehalathax.v@intel.com",
                "username": "Snehalatha44"
            },
            "createdOn": 1632997225,
            "author": {
                "name": "Snehalatha Venkatesh",
                "email": "snehalathax.v@intel.com",
                "username": "Snehalatha44"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/password.cpp",
                    "line": 44,
                    "reviewer": {
                        "name": "Suryakanth Sekar",
                        "email": "suryakanth.sekar@linux.intel.com",
                        "username": "htnakayrus"
                    },
                    "message": "nit: we can use existing macro SHA256_DIGEST_LENGTH"
                },
                {
                    "file": "src/password.cpp",
                    "line": 44,
                    "reviewer": {
                        "name": "Snehalatha Venkatesh",
                        "email": "snehalathax.v@intel.com",
                        "username": "Snehalatha44"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/password.cpp",
                    "line": 52,
                    "reviewer": {
                        "name": "Suryakanth Sekar",
                        "email": "suryakanth.sekar@linux.intel.com",
                        "username": "htnakayrus"
                    },
                    "message": "u can directly hardcode directly in function"
                },
                {
                    "file": "src/password.cpp",
                    "line": 52,
                    "reviewer": {
                        "name": "Snehalatha Venkatesh",
                        "email": "snehalathax.v@intel.com",
                        "username": "Snehalatha44"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/password.cpp",
                    "line": 75,
                    "reviewer": {
                        "name": "Suryakanth Sekar",
                        "email": "suryakanth.sekar@linux.intel.com",
                        "username": "htnakayrus"
                    },
                    "message": "nit: you can use the existing macro SHA384_DIGEST_LENGTH"
                },
                {
                    "file": "src/password.cpp",
                    "line": 75,
                    "reviewer": {
                        "name": "Snehalatha Venkatesh",
                        "email": "snehalathax.v@intel.com",
                        "username": "Snehalatha44"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/password.cpp",
                    "line": 77,
                    "reviewer": {
                        "name": "Suryakanth Sekar",
                        "email": "suryakanth.sekar@linux.intel.com",
                        "username": "htnakayrus"
                    },
                    "message": "u can directly hardcode directly in function"
                },
                {
                    "file": "src/password.cpp",
                    "line": 77,
                    "reviewer": {
                        "name": "Snehalatha Venkatesh",
                        "email": "snehalathax.v@intel.com",
                        "username": "Snehalatha44"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "include/password.hpp",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -2
                },
                {
                    "file": "src/password.cpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -48
                }
            ],
            "sizeInsertions": 36,
            "sizeDeletions": 50
        },
        {
            "number": 2,
            "revision": "cfdcbfb5550b3a171ce0bd9be33d97cb641a2557",
            "parents": [
                "b5984b87eb93f57f8bc2c123717527076a560753"
            ],
            "ref": "refs/changes/43/47343/2",
            "uploader": {
                "name": "Snehalatha Venkatesh",
                "email": "snehalathax.v@intel.com",
                "username": "Snehalatha44"
            },
            "createdOn": 1633357998,
            "author": {
                "name": "Snehalatha Venkatesh",
                "email": "snehalathax.v@intel.com",
                "username": "Snehalatha44"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "email": "smriti.ayushi@linux.intel.com",
                        "username": "Smriti-Ayushi"
                    },
                    "message": "Bios change password action support was already there. Issue is with BMC not able to regenerate the same hash using same bios given seed and user given password for BIOS Password verification in BMC side. \n\nPlease modify commit message. \nFix: fail to change BIOS Admin Password through BMC ?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Snehalatha Venkatesh",
                        "email": "snehalathax.v@intel.com",
                        "username": "Snehalatha44"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/password.cpp",
                    "line": 50,
                    "reviewer": {
                        "email": "smriti.ayushi@linux.intel.com",
                        "username": "Smriti-Ayushi"
                    },
                    "message": "magic no?  \nCan be declared as constexpr and placed above in the file. This iteration count value is used at many places in the code."
                },
                {
                    "file": "src/password.cpp",
                    "line": 50,
                    "reviewer": {
                        "name": "Snehalatha Venkatesh",
                        "email": "snehalathax.v@intel.com",
                        "username": "Snehalatha44"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/password.cpp",
                    "line": 79,
                    "reviewer": {
                        "email": "smriti.ayushi@linux.intel.com",
                        "username": "Smriti-Ayushi"
                    },
                    "message": "magic no?\nCan be declared as constexpr too, this iteration count value is used at many places in the code"
                },
                {
                    "file": "src/password.cpp",
                    "line": 79,
                    "reviewer": {
                        "name": "Snehalatha Venkatesh",
                        "email": "snehalathax.v@intel.com",
                        "username": "Snehalatha44"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/password.cpp",
                    "line": 171,
                    "reviewer": {
                        "email": "smriti.ayushi@linux.intel.com",
                        "username": "Smriti-Ayushi"
                    },
                    "message": "same \nand LN187 too"
                },
                {
                    "file": "src/password.cpp",
                    "line": 171,
                    "reviewer": {
                        "name": "Snehalatha Venkatesh",
                        "email": "snehalathax.v@intel.com",
                        "username": "Snehalatha44"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "include/password.hpp",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -2
                },
                {
                    "file": "src/password.cpp",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -50
                }
            ],
            "sizeInsertions": 32,
            "sizeDeletions": 52
        },
        {
            "number": 3,
            "revision": "2f7ba73a1a63bf1faa20db2a9d58d3722696ed94",
            "parents": [
                "b5984b87eb93f57f8bc2c123717527076a560753"
            ],
            "ref": "refs/changes/43/47343/3",
            "uploader": {
                "name": "Snehalatha Venkatesh",
                "email": "snehalathax.v@intel.com",
                "username": "Snehalatha44"
            },
            "createdOn": 1633588154,
            "author": {
                "name": "Snehalatha Venkatesh",
                "email": "snehalathax.v@intel.com",
                "username": "Snehalatha44"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "include/password.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -2
                },
                {
                    "file": "src/password.cpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": -50
                }
            ],
            "sizeInsertions": 35,
            "sizeDeletions": 52
        }
    ]
}