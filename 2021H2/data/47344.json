{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "I52291e4608efd635b179f3934c3d3e805afd2209",
    "number": 47344,
    "subject": "Remove NTPServers duplicate values and null values",
    "owner": {
        "name": "George Liu",
        "email": "liuxiwei@inspur.com",
        "username": "lxwinspur"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/47344",
    "commitMessage": "Remove NTPServers duplicate values and null values\n\nWhen saving the set NTPServers values from webUI, NTPServer may contain\nduplicate values and null values and update them to D-Bus.\n\nNow, need to parse and verify the value of the ntpServers attribute,and\nremove duplicate values and null values.\n\nTested:save NTP and check it via D-Bus\nwithout this patch:\nNTPServers  property  as  3 \"\" \"10.164.29.2\" \"10.164.29.2\"\n\nwith this patch:\nNTPServers  property  as  2 \"\" \"10.164.29.2\"\n\nSigned-off-by: George Liu <liuxiwei@inspur.com>\nChange-Id: I52291e4608efd635b179f3934c3d3e805afd2209\n",
    "createdOn": 1633004988,
    "lastUpdated": 1635179353,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1633004988,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1633005006,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633005442,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/27246/ : SUCCESS"
        },
        {
            "timestamp": 1633015054,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1633053196,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Uploaded patch set 2: Commit message was updated."
        },
        {
            "timestamp": 1633053207,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1633468832,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)\n\nThis looks like a combination of a phosphor-webui bug and a phosphor-networkd validation bug.  bmcweb should not be implementing business logic like this."
        },
        {
            "timestamp": 1633500668,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\nAdding webui maintainers so they can take a look at that line of code."
        },
        {
            "timestamp": 1633575166,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Patch Set 2:\n\n(1 comment)\n\n> Patch Set 2:\n> \n> Adding webui maintainers so they can take a look at that line of code.\n\nAck"
        },
        {
            "timestamp": 1633621272,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1633671988,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1633746630,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1633746648,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633747089,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/27977/ : SUCCESS"
        },
        {
            "timestamp": 1633971008,
            "reviewer": {
                "name": "Dixsie Wolmers",
                "email": "dixsiew@gmail.com",
                "username": "dixsie"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1633975217,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1633977355,
            "reviewer": {
                "name": "Dixsie Wolmers",
                "email": "dixsiew@gmail.com",
                "username": "dixsie"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1633978717,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1633979135,
            "reviewer": {
                "name": "Abhishek Patel",
                "email": "Abhishek.Patel@ibm.com",
                "username": "patelabhishek9893"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1633979316,
            "reviewer": {
                "name": "Dixsie Wolmers",
                "email": "dixsiew@gmail.com",
                "username": "dixsie"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1634018465,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1634018480,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1634018482,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1634018937,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/28116/ : SUCCESS"
        },
        {
            "timestamp": 1634070638,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1634492692,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4:\n\n(7 comments)"
        },
        {
            "timestamp": 1634537881,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1634537898,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1634537925,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Patch Set 4:\n\n(8 comments)"
        },
        {
            "timestamp": 1634538140,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/28417/ : FAILURE"
        },
        {
            "timestamp": 1634538560,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\n(2 comments)"
        },
        {
            "timestamp": 1634542680,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1634542698,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1634543038,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/28419/ : FAILURE"
        },
        {
            "timestamp": 1634543225,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1634543243,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1634543695,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/28426/ : SUCCESS"
        },
        {
            "timestamp": 1634589967,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 7:\n\n(3 comments)"
        },
        {
            "timestamp": 1634590052,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 7:\n\n(2 comments)"
        },
        {
            "timestamp": 1634632783,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Uploaded patch set 8."
        },
        {
            "timestamp": 1634632800,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1634633251,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/28507/ : SUCCESS"
        },
        {
            "timestamp": 1634633460,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Patch Set 8:\n\n(6 comments)"
        },
        {
            "timestamp": 1634659942,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 8:\n\n(2 comments)"
        },
        {
            "timestamp": 1634670494,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8:\n\n(3 comments)"
        },
        {
            "timestamp": 1634670723,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8:\n\n(2 comments)"
        },
        {
            "timestamp": 1634698579,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Uploaded patch set 9."
        },
        {
            "timestamp": 1634698599,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1634698903,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/28567/ : FAILURE"
        },
        {
            "timestamp": 1634705801,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Uploaded patch set 10."
        },
        {
            "timestamp": 1634705819,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1634706275,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/28570/ : SUCCESS"
        },
        {
            "timestamp": 1634707911,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Patch Set 9:\n\n(6 comments)"
        },
        {
            "timestamp": 1634756622,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 10:\n\n(2 comments)\n\nCode is very close to being correct.  Just needs one more unit test, and the error condition reported to the way redfish specifies, then this should be good to merge."
        },
        {
            "timestamp": 1634787253,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Uploaded patch set 11."
        },
        {
            "timestamp": 1634787269,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1634787272,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Patch Set 10:\n\n(2 comments)\n\n> Patch Set 10:\n> \n> (2 comments)\n> \n> Code is very close to being correct.  Just needs one more unit test, and the error condition reported to the way redfish specifies, then this should be good to merge.\n\nAck"
        },
        {
            "timestamp": 1634787747,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/28688/ : SUCCESS"
        },
        {
            "timestamp": 1634840481,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 11: Code-Review+1\n\nLGTM"
        },
        {
            "timestamp": 1635179349,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 11: Code-Review+2"
        },
        {
            "timestamp": 1635179353,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully merged by Ed Tanous"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "e91a158459b6697398c92d98c964dc9c29ffc733",
            "parents": [
                "68452cb09d5b9b87df48217750d4ad7eb387aedc"
            ],
            "ref": "refs/changes/44/47344/1",
            "uploader": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "createdOn": 1633004988,
            "author": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "50/72 please"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Done"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This seems like a bug in the webui?  Is there a reason to think that Redfish should allow setting an empty string over redfish?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "> This seems like a bug in the webui? \n\nI do not think so, webui just sends a structure, like this:\n```\ndateTimeForm.ntpServersArray = [\n          this.form.ntp.firstAddress,\n          this.form.ntp.secondAddress,\n          this.form.ntp.thirdAddress,\n        ];\n```\nhttps://github.com/openbmc/webui-vue/blob/master/src/views/Settings/DateTime/DateTime.vue#L359-L363\nIt doesn't care about the data inside, which means that the data can be empty or repeated, like this:\n192.168.1.1 192.168.1.1 \"\"\nor\n\"\" 192.168.1.1 192.168.1.2\n\nHowever, these values need to be further processed when bmcweb parses to ntpServers. At present, it only does the work of `deduplication`, and does not handle the empty string operation.\n\n> Is there a reason to think that Redfish should allow setting an empty string over redfish?\n\nFrom the redifsh spec, it only shows that NTPServers is an array, and this array can be empty, but it doesn't care whether the value inside is empty.\nhttp://redfish.dmtf.org/schemas/v1/ManagerNetworkProtocol.v1_8_0.json\n\nIf it contains a null value, it will be updated to D-Bus and 00-bmc-ethX.network, like this:\n```\n# cat  00-bmc-eth0.network \n[Match]\nName=eth0\n[Link]\nMACAddress=66:1e:ed:f8:a4:27\n[Network]\nLinkLocalAddressing=yes\nIPv6AcceptRA=false\nNTP=\nNTP=cn.pool.ntp.org\nDHCP=true\n[DHCP]\nClientIdentifier=mac\nUseDNS=true\nUseNTP=true\nUseHostname=true\nSendHostname=true\n```"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> > This seems like a bug in the webui? \n> \n> I do not think so, webui just sends a structure, like this:\n> ```\n> dateTimeForm.ntpServersArray = [\n>           this.form.ntp.firstAddress,\n>           this.form.ntp.secondAddress,\n>           this.form.ntp.thirdAddress,\n>         ];\n> ```\n> https://github.com/openbmc/webui-vue/blob/master/src/views/Settings/DateTime/DateTime.vue#L359-L363\n> It doesn't care about the data inside, which means that the data can be empty or repeated, like this:\n> 192.168.1.1 192.168.1.1 \"\"\n> or\n> \"\" 192.168.1.1 192.168.1.2\n> \n\nRight..... that's the bug I'm talking about.  If the UI has a fixed number of elements for a variable array API, it needs to be looking at the data and doing the filtering itself. \n\n> However, these values need to be further processed when bmcweb parses to ntpServers. At present, it only does the work of `deduplication`, and does not handle the empty string operation.\n\nPer the Redfish specification, we don't support empty strings in an array being used as a \"null\" value.\n\nI still assert this is a bug in the webui.\n\n> \n> > Is there a reason to think that Redfish should allow setting an empty string over redfish?\n> \n> From the redifsh spec, it only shows that NTPServers is an array, and this array can be empty, but it doesn't care whether the value inside is empty.\n\nFrom crud semantics, bmcweb should reject any empty string, condiering this property \"shall contain all the NTP servers for which this manager is using to obtain time.\"\n\nand \"\" is not a valid NTP server.\n\n> http://redfish.dmtf.org/schemas/v1/ManagerNetworkProtocol.v1_8_0.json\n> \n> If it contains a null value, it will be updated to D-Bus and 00-bmc-ethX.network, like this:\n\nThat is another bug, Phosphor-Networkd should not accept a blank NTP server string, and should be checking for basic FQDN url compliance before accepting and blindly putting it into the config file.\n\n> ```\n> # cat  00-bmc-eth0.network \n> [Match]\n> Name=eth0\n> [Link]\n> MACAddress=66:1e:ed:f8:a4:27\n> [Network]\n> LinkLocalAddressing=yes\n> IPv6AcceptRA=false\n> NTP=\n> NTP=cn.pool.ntp.org\n> DHCP=true\n> [DHCP]\n> ClientIdentifier=mac\n> UseDNS=true\n> UseNTP=true\n> UseHostname=true\n> SendHostname=true\n> ```"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": ">  that's the bug I'm talking about.  If the UI has a fixed number of elements for a variable array API, it needs to be looking at the data and doing the filtering itself. \n\nIf this is a webUI bug, then for lines https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/47344/2/redfish-core/lib/network_protocol.hpp:419-423, should it also be handled in webUI? bmcweb only needs to get the attribute value of ntpServers?\n\n> I still assert this is a bug in the webui.\n\nEven if this is a webUI bug, do we need to do further verification in bmcweb?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> >  that's the bug I'm talking about.  If the UI has a fixed number of elements for a variable array API, it needs to be looking at the data and doing the filtering itself. \n> \n> If this is a webUI bug, then for lines https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/47344/2/redfish-core/lib/network_protocol.hpp:419-423, should it also be handled in webUI? bmcweb only needs to get the attribute value of ntpServers?\n\nYes, those lines are incorrect as well.  They are another example of putting business logic in bmcweb that should be in phosphor-networkd.\n\n> \n> > I still assert this is a bug in the webui.\n> \n> Even if this is a webUI bug, do we need to do further verification in bmcweb?\n\nphosphor-networkd is where we should be doing the validation, but yes, the bmc should be doing more validation."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "> Yes, those lines are incorrect as well.  They are another example of putting business logic in bmcweb that should be in phosphor-networkd.\n\nso, Do I need to abandon this patch and fix it in phosphor-networkd?\n\n> phosphor-networkd is where we should be doing the validation, but yes, the bmc should be doing more validation.\n\nDoes bmcweb need to do this verification?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Dixsie Wolmers",
                        "email": "dixsiew@gmail.com",
                        "username": "dixsie"
                    },
                    "message": "@ed so on the front end, should we be passing in null for empty NTP server form fields instead of \"\"?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "No, you should be passing the array of NTP servers as you want them.  So if you have one server, pass\n\nNTPServers: [\"www.foobar.com\"]\n\nIf you have two servers:\nNTPServers: [\"www.foobar.com\", \"www.extrafoobar.com\"]\n\nThere should be no null, or empty string in the list.\n\nNow, this assumes that the UI has access to the current servers, and is doing read-modify-write.  In the specification, technically PATCHING [{}, nullptr] is in fact allowed to atomically delete an entry index from the table without effecting the others, but given the way the UI works with a fixed set of items, and a single submit button, I'd be surprised if you needed that behavior, as it can always just set the whole list."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Dixsie Wolmers",
                        "email": "dixsiew@gmail.com",
                        "username": "dixsie"
                    },
                    "message": "If [1.1.1.1, 2.2.2.2, 3.3.3.3] is displayed in the UI and a user removes 2.2.2.2 from the input field and saves, what should the patch look like? \n[1.1.1.1, null, 3.3.3.3]?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "> If [1.1.1.1, 2.2.2.2, 3.3.3.3] is displayed in the UI and a user removes 2.2.2.2 from the input field and saves, what should the patch look like? \n> [1.1.1.1, null, 3.3.3.3]?\n\n\nNo, I would think [1.1.1.1, 3.3.3.3]\n\nWhat happens if the client has [1.1.1.1] and wants to remove it? i.e. have no NTP servers."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Dixsie Wolmers",
                        "email": "dixsiew@gmail.com",
                        "username": "dixsie"
                    },
                    "message": "We didn't allow that on the front end, if all fields were empty and you try to save then the form validation would say field required. \n\nI opened an issue for this https://github.com/openbmc/webui-vue/issues/81 feel free to leave a comment on the story if I missed the mark on the issue description"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "> > If [1.1.1.1, 2.2.2.2, 3.3.3.3] is displayed in the UI and a user removes 2.2.2.2 from the input field and saves, what should the patch look like? \n> > [1.1.1.1, null, 3.3.3.3]?\n\n> No, I would think [1.1.1.1, 3.3.3.3]\n\nYes, I agree with Gunnar, and I tested it."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "+1, it should be [1.1.1.1, 3.3.3.3] in that case.\n\n> What happens if the client has [1.1.1.1] and wants to remove it? i.e. have no NTP servers.\n\nthe UI should write [], empty array to redfish."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "> the UI should write [], empty array to redfish.\n\n+1.\nMeanwhile, bmcweb will also be verified and set NTPServers to empty"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 5,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "5bd35232456dad9605d629be3bd3170d54713d3f",
            "parents": [
                "68452cb09d5b9b87df48217750d4ad7eb387aedc"
            ],
            "ref": "refs/changes/44/47344/2",
            "uploader": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "createdOn": 1633053196,
            "author": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 5,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "67af518d745bf940d6ad79754cf9c71193e7f2d5",
            "parents": [
                "8e659c88fc872073f7f6dbc225cfac37d4e97ff6"
            ],
            "ref": "refs/changes/44/47344/3",
            "uploader": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "createdOn": 1633746630,
            "author": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 41,
                    "reviewer": {
                        "name": "Abhishek Patel",
                        "email": "Abhishek.Patel@ibm.com",
                        "username": "patelabhishek9893"
                    },
                    "message": "good to use const auto&"
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 41,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "type": "MODIFIED",
                    "insertions": 26,
                    "deletions": -6
                }
            ],
            "sizeInsertions": 26,
            "sizeDeletions": 6
        },
        {
            "number": 4,
            "revision": "95a23769121956db90ef0090fbd5478f5ab41b13",
            "parents": [
                "e7b5f604cc86dfa3995174a62df0b75f2b3ecaa7"
            ],
            "ref": "refs/changes/44/47344/4",
            "uploader": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "createdOn": 1634018465,
            "author": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 36,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This is a utils method, and should go in the utils folder, along with some unit tests."
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 36,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Sure.\nMoved to redfish-core/include/utils/stl_utils.hpp and added unit tests."
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 37,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Is there a way to avoid making a complete copy of the vector?  Given the most common use, we don't use the vector afterward, so it seems like an in-place version would be better."
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 37,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 38,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit: does it make more sense to name this \"removeDuplicates\""
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 38,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 41,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "std::string please."
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 41,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "You have a std::string instance called \"vec\"?  That doesn't seem like a very descriptive name, and could be very misleading, as it implies it's yet another vector being contained within, when in fact, it's a string."
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 41,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 41,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 46,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Why is this necessary?  Don't empty strings need deduplicated as well?"
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 46,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Should remove all empty strings."
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 46,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "No, it shouldn't.  Empty strings should be an error that phosphor-networkd should return when attempting to set empty string."
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 46,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Sure, make sense.\nRemoved."
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 420,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please move this to its own line for readability."
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 420,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "type": "MODIFIED",
                    "insertions": 26,
                    "deletions": -6
                }
            ],
            "sizeInsertions": 26,
            "sizeDeletions": 6
        },
        {
            "number": 5,
            "revision": "73a51b4a77a017333ee87d4ff0cb6e67b4de1487",
            "parents": [
                "f201ffb46cec98eba672a06d06951117e3829013"
            ],
            "ref": "refs/changes/44/47344/5",
            "uploader": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "createdOn": 1634537881,
            "author": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 244,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "a PATCH with duplicate interfaces should result in an error, not simply deduplicating the call."
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 244,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/utils/stl_utils.hpp",
                    "type": "ADDED",
                    "insertions": 34,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -8
                },
                {
                    "file": "redfish-core/ut/stl_utils_test.cpp",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 53,
            "sizeDeletions": 8
        },
        {
            "number": 6,
            "revision": "1b469cc2feb2c57cffb8f2137f7dea0aec4da514",
            "parents": [
                "f201ffb46cec98eba672a06d06951117e3829013"
            ],
            "ref": "refs/changes/44/47344/6",
            "uploader": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "createdOn": 1634542680,
            "author": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/utils/stl_utils.hpp",
                    "type": "ADDED",
                    "insertions": 34,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -8
                },
                {
                    "file": "redfish-core/ut/stl_utils_test.cpp",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 65,
            "sizeDeletions": 8
        },
        {
            "number": 7,
            "revision": "a3d9f8b37d9af1e4871fdc34c7dce70286a3fb7b",
            "parents": [
                "f201ffb46cec98eba672a06d06951117e3829013"
            ],
            "ref": "refs/changes/44/47344/7",
            "uploader": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "createdOn": 1634543225,
            "author": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/include/utils/stl_utils.hpp",
                    "line": 15,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "What does ret = false convey?"
                },
                {
                    "file": "redfish-core/include/utils/stl_utils.hpp",
                    "line": 15,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nvm, I see.  I suspect this method is doing dual duty."
                },
                {
                    "file": "redfish-core/include/utils/stl_utils.hpp",
                    "line": 15,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Removed"
                },
                {
                    "file": "redfish-core/include/utils/stl_utils.hpp",
                    "line": 20,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This looks like it's iterating an extra time.  Should we do something similar to the first answer here:\nhttps://stackoverflow.com/questions/49863158/c-remove-duplicate-values-from-a-vector-without-sorting\n\nWhich only loops the list once, and looking at it, would be less code."
                },
                {
                    "file": "redfish-core/include/utils/stl_utils.hpp",
                    "line": 20,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Good point.\nDone"
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 244,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "for patch, shouldn't we be using a utility function called \"hasDuplicates\"?\n\nThis method is now trying to do dual duty of both removing duplicates and detecting duplicates, which makes its use a lot more complex."
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 244,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 249,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This isn't how this error is defined generally.  We should probably have a mechanism that just returns \"NtpServers/2\" and the actual value of that index, rather than joining them by semicolons."
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 249,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/utils/stl_utils.hpp",
                    "type": "ADDED",
                    "insertions": 34,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -8
                },
                {
                    "file": "redfish-core/ut/stl_utils_test.cpp",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 65,
            "sizeDeletions": 8
        },
        {
            "number": 8,
            "revision": "22d61b44280ad804b8d34a6c265c250da825a0d4",
            "parents": [
                "f201ffb46cec98eba672a06d06951117e3829013"
            ],
            "ref": "refs/changes/44/47344/8",
            "uploader": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "createdOn": 1634632783,
            "author": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/include/utils/stl_utils.hpp",
                    "line": 3,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Need all of these includes?"
                },
                {
                    "file": "redfish-core/include/utils/stl_utils.hpp",
                    "line": 3,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Removed `#include <vector>`"
                },
                {
                    "file": "redfish-core/include/utils/stl_utils.hpp",
                    "line": 14,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit, this should really be called \"firstDuplicate\""
                },
                {
                    "file": "redfish-core/include/utils/stl_utils.hpp",
                    "line": 14,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 404,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Why do we need to make a copy here?  Cant we just do this in place?"
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 404,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Removed"
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 408,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I realize this is a one liner, but it's non-trivial, duplicated in the unit tests, and could be useful elsewhere.  Could we move this one line into a method called \"remove duplicates\" and put it in the stl_utils class?"
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 408,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/ut/stl_utils_test.cpp",
                    "line": 8,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Nitpick: \"return vector\" doesn't make a lot of sense to me. \n\ncan we call this expectedVector? \nOr expectedVec ? expectedValues ?\nE.g. looking to match what we call this in other tests: \n\nhttps://github.com/openbmc/bmcweb/blob/master/redfish-core/ut/privileges_test.cpp#L120"
                },
                {
                    "file": "redfish-core/ut/stl_utils_test.cpp",
                    "line": 8,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Would it make this cleaner if this used ElementsAre instead of constructing another vector?  It seems like it solves this in a cleaner way, and would remove the intermediate variable entirely."
                },
                {
                    "file": "redfish-core/ut/stl_utils_test.cpp",
                    "line": 8,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Ack"
                },
                {
                    "file": "redfish-core/ut/stl_utils_test.cpp",
                    "line": 12,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This is the copy of the code that I'd like to see abstracted to a method."
                },
                {
                    "file": "redfish-core/ut/stl_utils_test.cpp",
                    "line": 12,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/utils/stl_utils.hpp",
                    "type": "ADDED",
                    "insertions": 33,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": -8
                },
                {
                    "file": "redfish-core/ut/stl_utils_test.cpp",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 64,
            "sizeDeletions": 8
        },
        {
            "number": 9,
            "revision": "5e94fb13061641532fe8a5335e78fe22e724aa21",
            "parents": [
                "3fafa370cca70187fbfc897267919209766a170b"
            ],
            "ref": "refs/changes/44/47344/9",
            "uploader": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "createdOn": 1634698579,
            "author": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/utils/stl_utils.hpp",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -8
                },
                {
                    "file": "redfish-core/ut/stl_utils_test.cpp",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 68,
            "sizeDeletions": 8
        },
        {
            "number": 10,
            "revision": "20a57fcd64b2ba1349a5506484ddb0c7b8bfd282",
            "parents": [
                "3fafa370cca70187fbfc897267919209766a170b"
            ],
            "ref": "refs/changes/44/47344/10",
            "uploader": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "createdOn": 1634705801,
            "author": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 247,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "this should be NTPServers/<index>\n\nSomething like (untested):\nint index = std::distance(iter, ntpServers.begin());\nstd::string pointer = \"NTPServers/\" + std::to_string(index);\nmessages::propertyValueIncorrect(asyncResp->res, pointer, *iter);"
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "line": 247,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Sorry, I did not understand what is you mean before.\nThanks.\nDone."
                },
                {
                    "file": "redfish-core/ut/stl_utils_test.cpp",
                    "line": 18,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Need a test for firstDuplicate as well."
                },
                {
                    "file": "redfish-core/ut/stl_utils_test.cpp",
                    "line": 18,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/utils/stl_utils.hpp",
                    "type": "ADDED",
                    "insertions": 39,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -8
                },
                {
                    "file": "redfish-core/ut/stl_utils_test.cpp",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 69,
            "sizeDeletions": 8
        },
        {
            "number": 11,
            "revision": "287ece64bf9a8ee0c42f77cefce559054b488ae7",
            "parents": [
                "d8e3c29a3b8626ed8072be4547a2bbcf7321c757"
            ],
            "ref": "refs/changes/44/47344/11",
            "uploader": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "createdOn": 1634787253,
            "author": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/utils/stl_utils.hpp",
                    "type": "ADDED",
                    "insertions": 39,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/network_protocol.hpp",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -8
                },
                {
                    "file": "redfish-core/ut/stl_utils_test.cpp",
                    "type": "ADDED",
                    "insertions": 21,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 76,
            "sizeDeletions": 8
        }
    ]
}