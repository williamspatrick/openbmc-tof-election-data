{
    "project": "openbmc/openbmc",
    "branch": "master",
    "id": "Ic75352a037566d701b2e362743c527c370b0c2e5",
    "number": 49787,
    "subject": "meta-bletchley: Add services to control step motor",
    "owner": {
        "name": "Allen.Wang",
        "email": "Allen_Wang@quantatw.com",
        "username": "Allen-Hsu-Wang"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/openbmc/+/49787",
    "commitMessage": "meta-bletchley: Add services to control step motor\n\nFor Bletchley platform, we can only power on system by step motor to press power key.\nAdd tools and service to initialize step motor and control system power\nby motor.\n\nSigned-off-by: Allen.Wang <Allen_Wang@quantatw.com>\nChange-Id: Ic75352a037566d701b2e362743c527c370b0c2e5\nSigned-off-by: Patrick Williams <patrick@stwcx.xyz>\n",
    "createdOn": 1639724243,
    "lastUpdated": 1640755012,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1639724243,
            "reviewer": {
                "name": "Allen.Wang",
                "email": "Allen_Wang@quantatw.com",
                "username": "Allen-Hsu-Wang"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1639724303,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639724311,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/8278/"
        },
        {
            "timestamp": 1639725947,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/8278/ : FAILURE"
        },
        {
            "timestamp": 1640137385,
            "reviewer": {
                "name": "Allen.Wang",
                "email": "Allen_Wang@quantatw.com",
                "username": "Allen-Hsu-Wang"
            },
            "message": "Set Work In Progress"
        },
        {
            "timestamp": 1640152634,
            "reviewer": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1640265666,
            "reviewer": {
                "name": "Allen.Wang",
                "email": "Allen_Wang@quantatw.com",
                "username": "Allen-Hsu-Wang"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1640265742,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1640265749,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/8387/"
        },
        {
            "timestamp": 1640266635,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/8387/ : SUCCESS"
        },
        {
            "timestamp": 1640267913,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 3:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1640268420,
            "reviewer": {
                "name": "Allen.Wang",
                "email": "Allen_Wang@quantatw.com",
                "username": "Allen-Hsu-Wang"
            },
            "message": "Set Ready For Review"
        },
        {
            "timestamp": 1640277355,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3:\n\n(18 comments)"
        },
        {
            "timestamp": 1640512041,
            "reviewer": {
                "name": "Allen.Wang",
                "email": "Allen_Wang@quantatw.com",
                "username": "Allen-Hsu-Wang"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1640512123,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1640512130,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/8397/"
        },
        {
            "timestamp": 1640512962,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/8397/ : FAILURE"
        },
        {
            "timestamp": 1640513280,
            "reviewer": {
                "name": "Allen.Wang",
                "email": "Allen_Wang@quantatw.com",
                "username": "Allen-Hsu-Wang"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1640513343,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1640513350,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/8398/"
        },
        {
            "timestamp": 1640514208,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/8398/ : SUCCESS"
        },
        {
            "timestamp": 1640515013,
            "reviewer": {
                "name": "Allen.Wang",
                "email": "Allen_Wang@quantatw.com",
                "username": "Allen-Hsu-Wang"
            },
            "message": "Patch Set 5:\n\n(18 comments)"
        },
        {
            "timestamp": 1640515496,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 5:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1640610288,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 5:\n\n(3 comments)\n\nWe're going to have to start the sled numbering at 1 for code.  There is too much other code which knows that 0 is reserved for single-host systems."
        },
        {
            "timestamp": 1640749262,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1640749293,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1640749299,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/8408/"
        },
        {
            "timestamp": 1640752388,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/8408/ : SUCCESS"
        },
        {
            "timestamp": 1640753655,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 6:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1640754924,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 6: Code-Review+2"
        },
        {
            "timestamp": 1640754932,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Change has been successfully merged"
        },
        {
            "timestamp": 1640755012,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "1c05359ce7bc1ff5d562dcd6cfde9c421d8c0d7e",
            "parents": [
                "ddcc9b08d0bf3ef0e66681534549bb2b952ee115"
            ],
            "ref": "refs/changes/87/49787/1",
            "uploader": {
                "name": "Allen.Wang",
                "email": "Allen_Wang@quantatw.com",
                "username": "Allen-Hsu-Wang"
            },
            "createdOn": 1639724243,
            "author": {
                "name": "Allen.Wang",
                "email": "Allen_Wang@quantatw.com",
                "username": "Allen-Hsu-Wang"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/conf/machine/bletchley.conf",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/host-poweroff@.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/host-poweron@.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-ctrl.sh",
                    "type": "ADDED",
                    "insertions": 99,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init-calibration@.service",
                    "type": "ADDED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init.sh",
                    "type": "ADDED",
                    "insertions": 167,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/power-ctrl.sh",
                    "type": "ADDED",
                    "insertions": 185,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/motor-ctrl_0.1.bb",
                    "type": "ADDED",
                    "insertions": 33,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-phosphor/images/obmc-phosphor-image.bbappend",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 521,
            "sizeDeletions": 1
        },
        {
            "number": 2,
            "revision": "640a3331721f509c594b25b7451fe6af4224532c",
            "parents": [
                "545bd92b4331aa989a14632cb20c440f994ed96d"
            ],
            "ref": "refs/changes/87/49787/2",
            "uploader": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "createdOn": 1640152634,
            "author": {
                "name": "Allen.Wang",
                "email": "Allen_Wang@quantatw.com",
                "username": "Allen-Hsu-Wang"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/conf/machine/bletchley.conf",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/host-poweroff@.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/host-poweron@.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-ctrl.sh",
                    "type": "ADDED",
                    "insertions": 99,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init-calibration@.service",
                    "type": "ADDED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init.sh",
                    "type": "ADDED",
                    "insertions": 167,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/power-ctrl.sh",
                    "type": "ADDED",
                    "insertions": 186,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/motor-ctrl_0.1.bb",
                    "type": "ADDED",
                    "insertions": 33,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-phosphor/images/obmc-phosphor-image.bbappend",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 519,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "fc229110b6263fce2334b8b56d6173ebd8cc7559",
            "parents": [
                "03966b5b2d3d50a740ed8a1190a902c10f1e692a"
            ],
            "ref": "refs/changes/87/49787/3",
            "uploader": {
                "name": "Allen.Wang",
                "email": "Allen_Wang@quantatw.com",
                "username": "Allen-Hsu-Wang"
            },
            "createdOn": 1640265666,
            "author": {
                "name": "Allen.Wang",
                "email": "Allen_Wang@quantatw.com",
                "username": "Allen-Hsu-Wang"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "meta-facebook/meta-bletchley/conf/machine/bletchley.conf",
                    "line": 17,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "There is already OBMC_HOST_INSTANCES, which we should leverage here.  We're going to need that for other settings later on."
                },
                {
                    "file": "meta-facebook/meta-bletchley/conf/machine/bletchley.conf",
                    "line": 17,
                    "reviewer": {
                        "name": "Allen.Wang",
                        "email": "Allen_Wang@quantatw.com",
                        "username": "Allen-Hsu-Wang"
                    },
                    "message": "Done"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/host-poweroff@.service",
                    "line": 2,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Please remove references to Mac mini for now.  Just \"System in Sled%i\" is fine."
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/host-poweroff@.service",
                    "line": 2,
                    "reviewer": {
                        "name": "Allen.Wang",
                        "email": "Allen_Wang@quantatw.com",
                        "username": "Allen-Hsu-Wang"
                    },
                    "message": "Done"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/host-poweron@.service",
                    "line": 2,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Also remove here."
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/host-poweron@.service",
                    "line": 2,
                    "reviewer": {
                        "name": "Allen.Wang",
                        "email": "Allen_Wang@quantatw.com",
                        "username": "Allen-Hsu-Wang"
                    },
                    "message": "Done"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-ctrl",
                    "line": 43,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This seems like a big case statement just to set \"bus=$1\".  Can we simplify this and add bounds checking if that's what you want?  A regex with '[0-5]' would do the same thing?"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-ctrl",
                    "line": 43,
                    "reviewer": {
                        "name": "Allen.Wang",
                        "email": "Allen_Wang@quantatw.com",
                        "username": "Allen-Hsu-Wang"
                    },
                    "message": "Done"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-ctrl",
                    "line": 58,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This looks like we're modifying pins on a PCA9552?  Can we use the GPIO driver for this?\n\nIf this isn't a PCA9552, is there a driver we can use?"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-ctrl",
                    "line": 58,
                    "reviewer": {
                        "name": "Allen.Wang",
                        "email": "Allen_Wang@quantatw.com",
                        "username": "Allen-Hsu-Wang"
                    },
                    "message": "Yes, this pin is on PCA9552 but its not define gpio-line-name yet, we will define gpio-line-name at dts. This script will modify to use GPIO driver after the gpio-line-name be defined."
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-ctrl",
                    "line": 82,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Can we insert a space here for alignment?"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-ctrl",
                    "line": 82,
                    "reviewer": {
                        "name": "Allen.Wang",
                        "email": "Allen_Wang@quantatw.com",
                        "username": "Allen-Hsu-Wang"
                    },
                    "message": "Done"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init",
                    "line": 4,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Spelling."
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init",
                    "line": 4,
                    "reviewer": {
                        "name": "Allen.Wang",
                        "email": "Allen_Wang@quantatw.com",
                        "username": "Allen-Hsu-Wang"
                    },
                    "message": "Done"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init",
                    "line": 6,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Spelling."
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init",
                    "line": 6,
                    "reviewer": {
                        "name": "Allen.Wang",
                        "email": "Allen_Wang@quantatw.com",
                        "username": "Allen-Hsu-Wang"
                    },
                    "message": "Done"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init",
                    "line": 11,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "We really need to avoid using /dev/mem.  This should be disabled in production on our systems.  Is there a driver we can interact with for this?"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init",
                    "line": 11,
                    "reviewer": {
                        "name": "Allen.Wang",
                        "email": "Allen_Wang@quantatw.com",
                        "username": "Allen-Hsu-Wang"
                    },
                    "message": "Yes, it should be control by driver but we still work on this , this is short-term hack for motor mechanism testing."
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init",
                    "line": 12,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "We don't have to fix this immediately, but we need to think about the impact of this on QEMU.  I'd like to keep a QEMU model working; right now I'm using the ast2600-evb model because we haven't written a real Bletchley model.  We will either need to model this behavior in QEMU or somehow short-circuit this so it doesn't hang for 12 minutes on start-up waiting for all the non-existent motors to spin to press a non-existent button."
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init",
                    "line": 12,
                    "reviewer": {
                        "name": "Allen.Wang",
                        "email": "Allen_Wang@quantatw.com",
                        "username": "Allen-Hsu-Wang"
                    },
                    "message": "Ack"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init",
                    "line": 130,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Can you make the indentation consistent here?"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init",
                    "line": 130,
                    "reviewer": {
                        "name": "Allen.Wang",
                        "email": "Allen_Wang@quantatw.com",
                        "username": "Allen-Hsu-Wang"
                    },
                    "message": "Done"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init",
                    "line": 148,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Should we check for != 0?  Wouldn't an error in gpio read make us think the sled is present?"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init",
                    "line": 148,
                    "reviewer": {
                        "name": "Allen.Wang",
                        "email": "Allen_Wang@quantatw.com",
                        "username": "Allen-Hsu-Wang"
                    },
                    "message": "Thanks for the reminder,I test on error case, check =1 can't block gpio read error ,it should check for != 0."
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init",
                    "line": 183,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "spelling"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init",
                    "line": 183,
                    "reviewer": {
                        "name": "Allen.Wang",
                        "email": "Allen_Wang@quantatw.com",
                        "username": "Allen-Hsu-Wang"
                    },
                    "message": "Done"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/power-ctrl",
                    "line": 5,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Remove mac mini reference."
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/power-ctrl",
                    "line": 5,
                    "reviewer": {
                        "name": "Allen.Wang",
                        "email": "Allen_Wang@quantatw.com",
                        "username": "Allen-Hsu-Wang"
                    },
                    "message": "Done"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/power-ctrl",
                    "line": 7,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "These aren't already done?"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/power-ctrl",
                    "line": 7,
                    "reviewer": {
                        "name": "Allen.Wang",
                        "email": "Allen_Wang@quantatw.com",
                        "username": "Allen-Hsu-Wang"
                    },
                    "message": "Our testing team use 'sshpass' to run command remotely like: \n[sshpass -p  \"0penBmc\" ssh root@<BMC_IP> \"/usr/sbin/power-ctrl sled2 on\" ]\nThis way load different env with ssh,so I need export path of i2c-tools and libgpiod-tools.\nand I check again, env when use sshpass already include '/usr/bin',I will remove '/usr/bin' but keep '/usr/sbin' in next patch set.\n\nroot@bletchley:~# env|grep PATH\nPATH=/usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/sbin\n\n$ sshpass -p  \"0penBmc\" ssh root@<BMC_IP> \"env\"|grep PATH\nPATH=/usr/bin:/bin"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/power-ctrl",
                    "line": 23,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Can you go through these scripts and make sure the print messages are consistent?  There are inconsistencies in spaces, punctuation, etc."
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/power-ctrl",
                    "line": 23,
                    "reviewer": {
                        "name": "Allen.Wang",
                        "email": "Allen_Wang@quantatw.com",
                        "username": "Allen-Hsu-Wang"
                    },
                    "message": "Done"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/power-ctrl",
                    "line": 126,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "We need to get a driver written for this VR at some point."
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/power-ctrl",
                    "line": 126,
                    "reviewer": {
                        "name": "Allen.Wang",
                        "email": "Allen_Wang@quantatw.com",
                        "username": "Allen-Hsu-Wang"
                    },
                    "message": "There is no sensor to read ac-relay-board status ,we just reading ac-relay-board enable pin \"power-host<SLED_NUM>\" to check if ac relay enabled,\nthis is a short-term hack to read this pin,due to gpioget also change gpio direction to input , so I read registers of IOexpander to check if this pin is output high."
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/power-ctrl",
                    "line": 145,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Please remove commented out code."
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/power-ctrl",
                    "line": 145,
                    "reviewer": {
                        "name": "Allen.Wang",
                        "email": "Allen_Wang@quantatw.com",
                        "username": "Allen-Hsu-Wang"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/conf/machine/bletchley.conf",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/host-poweroff@.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/host-poweron@.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-ctrl",
                    "type": "ADDED",
                    "insertions": 118,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init",
                    "type": "ADDED",
                    "insertions": 185,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init-calibration@.service",
                    "type": "ADDED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/power-ctrl",
                    "type": "ADDED",
                    "insertions": 194,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/motor-ctrl_0.1.bb",
                    "type": "ADDED",
                    "insertions": 37,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-phosphor/images/obmc-phosphor-image.bbappend",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 569,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "080e6f0bc89fdd98c05a158d20d35e01b7a3bc62",
            "parents": [
                "03966b5b2d3d50a740ed8a1190a902c10f1e692a"
            ],
            "ref": "refs/changes/87/49787/4",
            "uploader": {
                "name": "Allen.Wang",
                "email": "Allen_Wang@quantatw.com",
                "username": "Allen-Hsu-Wang"
            },
            "createdOn": 1640512041,
            "author": {
                "name": "Allen.Wang",
                "email": "Allen_Wang@quantatw.com",
                "username": "Allen-Hsu-Wang"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/conf/machine/bletchley.conf",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/host-poweroff@.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/host-poweron@.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-ctrl",
                    "type": "ADDED",
                    "insertions": 101,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init",
                    "type": "ADDED",
                    "insertions": 185,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init-calibration@.service",
                    "type": "ADDED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/power-ctrl",
                    "type": "ADDED",
                    "insertions": 178,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/motor-ctrl_0.1.bb",
                    "type": "ADDED",
                    "insertions": 37,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-phosphor/images/obmc-phosphor-image.bbappend",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 536,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "2973179f7439288aa146506e6a98c95f735ac7ac",
            "parents": [
                "03966b5b2d3d50a740ed8a1190a902c10f1e692a"
            ],
            "ref": "refs/changes/87/49787/5",
            "uploader": {
                "name": "Allen.Wang",
                "email": "Allen_Wang@quantatw.com",
                "username": "Allen-Hsu-Wang"
            },
            "createdOn": 1640513280,
            "author": {
                "name": "Allen.Wang",
                "email": "Allen_Wang@quantatw.com",
                "username": "Allen-Hsu-Wang"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "meta-facebook/meta-bletchley/conf/machine/bletchley.conf",
                    "line": 17,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Oh, there is one problem here.  We need to start numbering at 1 on these.\n\n0 is reserved for single host systems.\n1-N is reserved for multi host systems.\n\nI understand this might not match the hardware design, but if we use 0 we're going to run into problems with existing code."
                },
                {
                    "file": "meta-facebook/meta-bletchley/conf/machine/bletchley.conf",
                    "line": 17,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I merged this as-is because I need the initial values here.  We can fix up all the sled numbering in the near future."
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/power-ctrl",
                    "line": 48,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "minor: spelling"
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/power-ctrl",
                    "line": 57,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "minor: spelling."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/conf/machine/bletchley.conf",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/host-poweroff@.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/host-poweron@.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-ctrl",
                    "type": "ADDED",
                    "insertions": 101,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init",
                    "type": "ADDED",
                    "insertions": 185,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init-calibration@.service",
                    "type": "ADDED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/power-ctrl",
                    "type": "ADDED",
                    "insertions": 178,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/motor-ctrl_0.1.bb",
                    "type": "ADDED",
                    "insertions": 37,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-phosphor/images/obmc-phosphor-image.bbappend",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 536,
            "sizeDeletions": 0
        },
        {
            "number": 6,
            "revision": "4a0948d0184e35770ca24cd591e9a29fd5ff44a6",
            "parents": [
                "d58f23c78a2501d4b6ed36a74c23de28595d4f78"
            ],
            "ref": "refs/changes/87/49787/6",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1640749262,
            "author": {
                "name": "Allen.Wang",
                "email": "Allen_Wang@quantatw.com",
                "username": "Allen-Hsu-Wang"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/conf/machine/bletchley.conf",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/host-poweroff@.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/host-poweron@.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-ctrl",
                    "type": "ADDED",
                    "insertions": 101,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init",
                    "type": "ADDED",
                    "insertions": 185,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/motor-init-calibration@.service",
                    "type": "ADDED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/files/power-ctrl",
                    "type": "ADDED",
                    "insertions": 178,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-bletchley/motor-ctrl/motor-ctrl_0.1.bb",
                    "type": "ADDED",
                    "insertions": 37,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-phosphor/images/fb-bletchley-phosphor-image.inc",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 537,
            "sizeDeletions": 1
        }
    ]
}