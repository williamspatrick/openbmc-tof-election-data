{
    "project": "openbmc/openbmc",
    "branch": "master",
    "id": "I27ff0cd3c4750b752b35399b8a0288db5ac9fe28",
    "number": 48649,
    "subject": "meta-google: gbmc-bridge: Provision NCSI deprecated addresses",
    "owner": {
        "name": "William A. Kennington III",
        "email": "wak@google.com",
        "username": "wak-google"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/openbmc/+/48649",
    "commitMessage": "meta-google: gbmc-bridge: Provision NCSI deprecated addresses\n\nThis scans the gbmcbr interface for public addresses, and adds the\nrelevant addresses to the NCSI interface of the BMC. This is required\nfor neighbor discovery to work from prod over the NCSI link, when the\naddresses do not already exist (BMC DHCP will not have them).\n\nChange-Id: I27ff0cd3c4750b752b35399b8a0288db5ac9fe28\nSigned-off-by: William A. Kennington III <wak@google.com>\n",
    "createdOn": 1636111170,
    "lastUpdated": 1638580161,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1636111170,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1636111308,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1636111368,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1636111434,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1636113506,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/7614/"
        },
        {
            "timestamp": 1636115554,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/7614/ : SUCCESS"
        },
        {
            "timestamp": 1636116779,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1636137057,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1636137176,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1636138183,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/7631/"
        },
        {
            "timestamp": 1636140663,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/7631/ : SUCCESS"
        },
        {
            "timestamp": 1636143191,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 3:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1636155817,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Uploaded patch set 4: Patch Set 3 was rebased."
        },
        {
            "timestamp": 1636155880,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1636158198,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/7641/"
        },
        {
            "timestamp": 1636159796,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/7641/ : SUCCESS"
        },
        {
            "timestamp": 1636161928,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 4:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1636596183,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 4: Code-Review+1\n\nI'm not sure if I follow this very well. I do see the snippets that were deleted were added back to the new script."
        },
        {
            "timestamp": 1637113543,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 4: Code-Review+2\n\n(1 comment)"
        },
        {
            "timestamp": 1638580142,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1638580161,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Change has been successfully rebased and submitted as 21e7e45b77e026689b72f182aca4ba2ffd5e0a36 by William A. Kennington III"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "d4e847d5cc11eebbe71a8278ed43ae7a375393cd",
            "parents": [
                "9bad969bde5365ec9bba674452b1bf8741eccb27"
            ],
            "ref": "refs/changes/49/48649/1",
            "uploader": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "createdOn": 1636111170,
            "author": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "meta-google/recipes-google/ncsi/files/gbmc-ncsi-br-deprecated-ips.sh.in",
                    "type": "ADDED",
                    "insertions": 123,
                    "deletions": 0
                },
                {
                    "file": "meta-google/recipes-google/ncsi/files/gbmc-ncsi-ip-from-ra.sh.in",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -16
                },
                {
                    "file": "meta-google/recipes-google/ncsi/gbmc-ncsi-config.bb",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 127,
            "sizeDeletions": 16
        },
        {
            "number": 2,
            "revision": "a345e37c2d1ae4170381324f4675f053cd03d2be",
            "parents": [
                "9bad969bde5365ec9bba674452b1bf8741eccb27"
            ],
            "ref": "refs/changes/49/48649/2",
            "uploader": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "createdOn": 1636111368,
            "author": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "meta-google/recipes-google/ncsi/files/gbmc-ncsi-br-deprecated-ips.sh.in",
                    "type": "ADDED",
                    "insertions": 123,
                    "deletions": 0
                },
                {
                    "file": "meta-google/recipes-google/ncsi/files/gbmc-ncsi-ip-from-ra.sh.in",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -16
                },
                {
                    "file": "meta-google/recipes-google/ncsi/files/gbmc-ncsi-nft.sh.in",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -25
                },
                {
                    "file": "meta-google/recipes-google/ncsi/gbmc-ncsi-config.bb",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 127,
            "sizeDeletions": 41
        },
        {
            "number": 3,
            "revision": "491916dd217a0174333a35f0854bf779300297fb",
            "parents": [
                "6e9b652b88b7bab2eb45eb224baa78d087fd7e1e"
            ],
            "ref": "refs/changes/49/48649/3",
            "uploader": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "createdOn": 1636137057,
            "author": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "meta-google/recipes-google/ncsi/files/gbmc-ncsi-br-deprecated-ips.sh.in",
                    "type": "ADDED",
                    "insertions": 118,
                    "deletions": 0
                },
                {
                    "file": "meta-google/recipes-google/ncsi/files/gbmc-ncsi-ip-from-ra.sh.in",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -16
                },
                {
                    "file": "meta-google/recipes-google/ncsi/files/gbmc-ncsi-nft.sh.in",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -25
                },
                {
                    "file": "meta-google/recipes-google/ncsi/gbmc-ncsi-config.bb",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 122,
            "sizeDeletions": 41
        },
        {
            "number": 4,
            "revision": "b86db9bc548b1eee67070baddb394607fcbbfdc9",
            "parents": [
                "58ac4343a47e69e6c23f7f3128b6da1b9d922a91"
            ],
            "ref": "refs/changes/49/48649/4",
            "uploader": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "createdOn": 1636155817,
            "author": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "what does it mean for an address to be \"deprecated\"?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "William A. Kennington III",
                        "email": "wak@google.com",
                        "username": "wak-google"
                    },
                    "message": "It basically means it's not meant to be used in new communications (outbound sockets), but it will still respond to neighbor queries and new inbound communications.\n\nWe don't want these addresses to show up as statically configured addresses as it will confuse our configuration tooling. They are temporary and dynamically added by the BMC and so we want them to be \"hidden\" upstack. The only reason we need them is for neighbor discovery to work with agents outside the BMC."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "meta-google/recipes-google/ncsi/files/gbmc-ncsi-br-deprecated-ips.sh.in",
                    "type": "ADDED",
                    "insertions": 118,
                    "deletions": 0
                },
                {
                    "file": "meta-google/recipes-google/ncsi/files/gbmc-ncsi-ip-from-ra.sh.in",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -16
                },
                {
                    "file": "meta-google/recipes-google/ncsi/files/gbmc-ncsi-nft.sh.in",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -25
                },
                {
                    "file": "meta-google/recipes-google/ncsi/gbmc-ncsi-config.bb",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 122,
            "sizeDeletions": 41
        },
        {
            "number": 5,
            "revision": "21e7e45b77e026689b72f182aca4ba2ffd5e0a36",
            "parents": [
                "eefb1dde08064d8400a9107500dde5d26ebad63b"
            ],
            "ref": "refs/changes/49/48649/5",
            "uploader": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "createdOn": 1638580161,
            "author": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "meta-google/recipes-google/ncsi/files/gbmc-ncsi-br-deprecated-ips.sh.in",
                    "type": "ADDED",
                    "insertions": 118,
                    "deletions": 0
                },
                {
                    "file": "meta-google/recipes-google/ncsi/files/gbmc-ncsi-ip-from-ra.sh.in",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -16
                },
                {
                    "file": "meta-google/recipes-google/ncsi/files/gbmc-ncsi-nft.sh.in",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -25
                },
                {
                    "file": "meta-google/recipes-google/ncsi/gbmc-ncsi-config.bb",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 122,
            "sizeDeletions": 41
        }
    ]
}