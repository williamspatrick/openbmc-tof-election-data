{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "Iacd244e537ccab6572a0a55b7f30871774e097ff",
    "number": 47300,
    "subject": "Add PowerLimitWatts in EnvironmentMetrics",
    "owner": {
        "name": "Albert Zhang",
        "email": "zhanghaodi@inspur.com",
        "username": "zhanghaodi"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/47300",
    "commitMessage": "Add PowerLimitWatts in EnvironmentMetrics\n\nPowerLimitWatts is a new object in Redfish version 2021.2.\n\nThis property shall contain the power limit control for\ncorresponding resource.\nIt contains \"SetPoint\",\"AllowableMax\",\"AllowableMin\",\n\"ControlMode\", etc.\n\nTested by: Validator passes\n\n1.doGet method to get PowerLimitWatts in EnvironmentMetrics\n\ncurl -k -H \"X-Auth-Token: $token\" -X GET\nhttps://${bmc}/redfish/v1/Chassis/chassis/EnvironmentMetrics\n{\n  \"@odata.id\": \"/redfish/v1/Chassis/chassis/EnvironmentMetrics\",\n  \"@odata.type\": \"#EnvironmentMetrics.v1_1_0.EnvironmentMetrics\",\n\n  ...\n\n  \"PowerLimitWatts\": {\n      \"ControlMode\": \"automatic\",\n      \"SetPoint\": 0\n    },\n\n  ...\n\n}\n\n2.Enter the wrong chassisId with the doGet method\n\ncurl -k -H \"X-Auth-Token: $token\" -X GET\nhttps://${bmc}/redfish/v1/Chassis/chassisERROR/EnvironmentMetrics\n{\n  \"error\": {\n    \"@Message.ExtendedInfo\": [\n      {\n        \"@odata.type\": \"#Message.v1_1_1.Message\",\n        \"Message\": \"The requested resource of type Chassis named chassisERROR was not found.\",\n        \"MessageArgs\": [\n          \"Chassis\",\n          \"chassisERROR\"\n        ],\n        \"MessageId\": \"Base.1.8.1.ResourceNotFound\",\n        \"MessageSeverity\": \"Critical\",\n        \"Resolution\": \"Provide a valid resource identifier and resubmit the request.\"\n      }\n    ],\n    \"code\": \"Base.1.8.1.ResourceNotFound\",\n    \"message\": \"The requested resource of type Chassis named chassisERROR was not found.\"\n  }\n}\n\n3.doPatch method to set SetPoint in PowerLimitWatts\n\ncurl -k -H \"X-Auth-Token: $token\" -X PATCH -d\n'{ \"PowerLimitWatts\": {\"SetPoint\": 10}}'\nhttps://${bmc}/redfish/v1/Chassis/chassis/EnvironmentMetrics\n\ncurl -k -H \"X-Auth-Token: $token\" -X GET\nhttps://${bmc}/redfish/v1/Chassis/chassis/EnvironmentMetrics\n{\n  \"@odata.id\": \"/redfish/v1/Chassis/chassis/EnvironmentMetrics\",\n  \"@odata.type\": \"#EnvironmentMetrics.v1_1_0.EnvironmentMetrics\",\n\n  ...\n\n  \"PowerLimitWatts\": {\n      \"ControlMode\": \"automatic\",\n      \"SetPoint\": 10\n    },\n\n  ...\n\n}\n\n4.doPatch method to set ControlMode in PowerLimitWatts\n\n1>When the ControlMode is changed to disabled, the modification\nis successful.\n\ncurl -k -H \"X-Auth-Token: $token\" -X PATCH -d\n'{ \"PowerLimitWatts\": {\"ControlMode\": \"disabled\"}}'\nhttps://${bmc}/redfish/v1/Chassis/chassis/EnvironmentMetrics\n\ncurl -k -H \"X-Auth-Token: $token\" -X GET\nhttps://${bmc}/redfish/v1/Chassis/chassis/EnvironmentMetrics\n{\n  \"@odata.id\": \"/redfish/v1/Chassis/chassis/EnvironmentMetrics\",\n  \"@odata.type\": \"#EnvironmentMetrics.v1_1_0.EnvironmentMetrics\",\n\n  ...\n\n  \"PowerLimitWatts\": {\n      \"ControlMode\": \"disabled\",\n      \"SetPoint\": 0\n    },\n\n  ...\n\n}\n\n2>When the ControlMode is changed to automatic, the modification\nis successful.\ncurl -k -H \"X-Auth-Token: $token\" -X PATCH -d\n'{ \"PowerLimitWatts\": {\"ControlMode\": \"automatic\"}}'\nhttps://${bmc}/redfish/v1/Chassis/chassis/EnvironmentMetrics\n\ncurl -k -H \"X-Auth-Token: $token\" -X GET\nhttps://${bmc}/redfish/v1/Chassis/chassis/EnvironmentMetrics\n{\n  \"@odata.id\": \"/redfish/v1/Chassis/chassis/EnvironmentMetrics\",\n  \"@odata.type\": \"#EnvironmentMetrics.v1_1_0.EnvironmentMetrics\",\n\n  ...\n\n  \"PowerLimitWatts\": {\n      \"ControlMode\": \"automatic\",\n      \"SetPoint\": 0\n    },\n\n  ...\n\n}\n\n3>When the ControlMode is changed to other values, the modification\nfails and an error is reported.\n\ncurl -k -H \"X-Auth-Token: $token\" -X PATCH -d\n'{ \"PowerLimitWatts\": {\"ControlMode\": \"error\"}}'\nhttps://${bmc}/redfish/v1/Chassis/chassis/EnvironmentMetrics\n\n{\n  \"ControlMode@Message.ExtendedInfo\": [\n    {\n      \"@odata.type\": \"#Message.v1_1_1.Message\",\n      \"Message\": \"The value error for the property ControlMode is not in the list of acceptable values.\",\n      \"MessageArgs\": [\n        \"error\",\n        \"ControlMode\"\n      ],\n      \"MessageId\": \"Base.1.8.1.PropertyValueNotInList\",\n      \"MessageSeverity\": \"Warning\",\n      \"Resolution\": \"Choose a value from the enumeration list that the implementation can support and resubmit the request if the operation failed.\"\n    }\n  ]\n}\n\nSigned-off-by: Albert Zhang <zhanghaodi@inspur.com>\nChange-Id: Iacd244e537ccab6572a0a55b7f30871774e097ff\n",
    "createdOn": 1632905661,
    "lastUpdated": 1639634283,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1632905661,
            "reviewer": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1632905675,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1632906115,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/27139/ : SUCCESS"
        },
        {
            "timestamp": 1632906644,
            "reviewer": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "message": "Uploaded patch set 2: Commit message was updated."
        },
        {
            "timestamp": 1633309046,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1633452062,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1633683266,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1633750042,
            "reviewer": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1633750060,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633750145,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/27987/ : FAILURE"
        },
        {
            "timestamp": 1633750970,
            "reviewer": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "message": "Set Work In Progress"
        },
        {
            "timestamp": 1633759179,
            "reviewer": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "message": "Set Ready For Review"
        },
        {
            "timestamp": 1633921991,
            "reviewer": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1633922010,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633922181,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/28029/ : FAILURE"
        },
        {
            "timestamp": 1634636561,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1634660309,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 4:\n\n(3 comments)"
        },
        {
            "timestamp": 1634660630,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1634796832,
            "reviewer": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1634796849,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1634797290,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/28697/ : SUCCESS"
        },
        {
            "timestamp": 1634797515,
            "reviewer": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "message": "Patch Set 5:\n\n(3 comments)"
        },
        {
            "timestamp": 1634871779,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 5: Code-Review-1\n\n(4 comments)"
        },
        {
            "timestamp": 1635144345,
            "reviewer": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "message": "Patch Set 5:\n\n(4 comments)"
        },
        {
            "timestamp": 1635179791,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 5:\n\n(2 comments)"
        },
        {
            "timestamp": 1635238665,
            "reviewer": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1635238684,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1635239129,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/29029/ : SUCCESS"
        },
        {
            "timestamp": 1635239504,
            "reviewer": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "message": "Patch Set 6:\n\n(4 comments)"
        },
        {
            "timestamp": 1635393639,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 6: Code-Review-1\n\n(7 comments)"
        },
        {
            "timestamp": 1635407594,
            "reviewer": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1635407612,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1635408055,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/29228/ : SUCCESS"
        },
        {
            "timestamp": 1635408546,
            "reviewer": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "message": "Patch Set 7:\n\n(7 comments)"
        },
        {
            "timestamp": 1635950432,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 7: Code-Review-1\n\n(3 comments)"
        },
        {
            "timestamp": 1636008609,
            "reviewer": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "message": "Uploaded patch set 8."
        },
        {
            "timestamp": 1636008628,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1636009056,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/29780/ : SUCCESS"
        },
        {
            "timestamp": 1636009400,
            "reviewer": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "message": "Patch Set 8:\n\n(3 comments)"
        },
        {
            "timestamp": 1636037825,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 8:\n\n(2 comments)"
        },
        {
            "timestamp": 1636079038,
            "reviewer": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "message": "Uploaded patch set 9."
        },
        {
            "timestamp": 1636079062,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1636079484,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/29831/ : SUCCESS"
        },
        {
            "timestamp": 1636080171,
            "reviewer": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "message": "Patch Set 9:\n\n(2 comments)"
        },
        {
            "timestamp": 1636325015,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 9:\n\n(1 comment)"
        },
        {
            "timestamp": 1636341729,
            "reviewer": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "message": "Patch Set 9:\n\n(1 comment)"
        },
        {
            "timestamp": 1637002424,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 9: Code-Review-1\n\n(1 comment)\n\nI could not build this with --buildtype=debug \\"
        },
        {
            "timestamp": 1637028362,
            "reviewer": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "message": "Uploaded patch set 10."
        },
        {
            "timestamp": 1637028381,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1637028817,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/30293/ : SUCCESS"
        },
        {
            "timestamp": 1637030210,
            "reviewer": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1637266806,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1639497912,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 10: Code-Review-1\n\nWe tested this and saw the following validator error: \n\nPowerLimitWatts\t[JSON Object]\tlink to: Control\tYes\terrorExcerpt\n\nERROR - ControlMode@Redfish.AllowableValues: Property is not a valid Excerpt\n\nPlease ensure the validator is run."
        },
        {
            "timestamp": 1639633805,
            "reviewer": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "message": "Uploaded patch set 11."
        },
        {
            "timestamp": 1639633821,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639634283,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/32129/ : SUCCESS"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "76a74e42dcdb917c57f968c68fe0b28c4d4f1e5b",
            "parents": [
                "7f89ab3ee4a41fa7dea3de5ef3ed1f5493b00ea5"
            ],
            "ref": "refs/changes/00/47300/1",
            "uploader": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "createdOn": 1632905661,
            "author": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 64,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "type": "MODIFIED",
                    "insertions": 63,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 63,
            "sizeDeletions": 1
        },
        {
            "number": 2,
            "revision": "8928a6fa4e2d0bb9b6632f7e717e10b2c704ac6a",
            "parents": [
                "7f89ab3ee4a41fa7dea3de5ef3ed1f5493b00ea5"
            ],
            "ref": "refs/changes/00/47300/2",
            "uploader": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "createdOn": 1632906644,
            "author": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 243,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "This needs 2021.2\nhttps://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/47162"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 243,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Can you rebase this and probably https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/43170/13 and pick up 2021.2"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 243,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "@Gunnar\nUpdated it in ibm-openbmc/bmcweb\n\nBecause this patch rely on https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/37045\nand we dont want to rebase it."
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 250,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "The set will be a separate commit?"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 65,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "type": "MODIFIED",
                    "insertions": 63,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 63,
            "sizeDeletions": 1
        },
        {
            "number": 3,
            "revision": "e607b1870d4ba7fd9deae9e4004449b1faf15b4f",
            "parents": [
                "7f89ab3ee4a41fa7dea3de5ef3ed1f5493b00ea5"
            ],
            "ref": "refs/changes/00/47300/3",
            "uploader": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "createdOn": 1633750042,
            "author": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 119,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "type": "MODIFIED",
                    "insertions": 164,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 164,
            "sizeDeletions": 1
        },
        {
            "number": 4,
            "revision": "7773df01646372bbbe8a142d914897433f0964b5",
            "parents": [
                "7f89ab3ee4a41fa7dea3de5ef3ed1f5493b00ea5"
            ],
            "ref": "refs/changes/00/47300/4",
            "uploader": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "createdOn": 1633921991,
            "author": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 195,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "It is good if we check for nullptr."
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 195,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "+1"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 195,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 202,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Why not just an error like you do below ?\n\n            if (b == nullptr)\n            {\n                messages::internalError(asyncResp->res);\n                BMCWEB_LOG_ERROR << \"Fail to get PowerCapEnable status \";\n                return;\n            }"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 202,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 248,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "How does the client enable this?"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 248,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "I think we need \"ControlMode\": \"Enabled\" to enable / disable"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 248,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 111,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "type": "MODIFIED",
                    "insertions": 150,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 150,
            "sizeDeletions": 1
        },
        {
            "number": 5,
            "revision": "4293bb22fb6ed357e5b9e9cf718be87c04d681e4",
            "parents": [
                "20132c87b94c4c41f4d84f5d653d050f30a31e18"
            ],
            "ref": "refs/changes/00/47300/5",
            "uploader": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "createdOn": 1634796832,
            "author": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 231,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Do we need an allowable values here?"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 231,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "My understanding is that when ControlMode is disabled, that is, when PowerCapEnable is false, SetPoint is null, so the allowable values are not set here."
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 231,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "But of this ControlMode enum we only allow 2 of them, I think we need an allowable values"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 231,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "I understand what you mean,I will do it."
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 236,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "No mapper call? \nIs this the way we had this before? \nWhat if this interface doesn't exist at this object / path?"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 236,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "I will do it."
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 236,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 264,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "But what if the client just enabled it? \nWould it simplify the logic if we did allow this? \nDoes the backend allow this? What is the harm in allowing setting the point before enabling?"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 264,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "When PowerCapEnable is false, the backend is allowed to modify the value of PowerCap.\nThe reason for writing this way is to consider that when ControlMode is disabled, SetPoint is null, and when the value of PowerCap is modified at this time, SetPoint is always null, which cannot reflect that the value of PowerCap has been changed."
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 264,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "I think this falls into Redfish's \"A client might want to turn off the water and still adjust the plumbing\". See https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/44644. \nCan we just remove this check?"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 264,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "OK,I will do it."
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 310,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Not an internal error the client just set a Value not supported..\nHow about PropertyValueNotInList ?"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 310,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "I will do it."
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 310,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 184,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "type": "MODIFIED",
                    "insertions": 227,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 227,
            "sizeDeletions": 1
        },
        {
            "number": 6,
            "revision": "25661f7bb15fa093811fadc7faecee5505fd62dd",
            "parents": [
                "53691d71379181cda9b0e30eb5e4971da6eed701"
            ],
            "ref": "refs/changes/00/47300/6",
            "uploader": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "createdOn": 1635238665,
            "author": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 29,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Can you add an allowable values for this?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 29,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "Done"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 29,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "I don't see an allowable values like \nhttps://github.com/openbmc/bmcweb/blob/ed3982131dcef2b499da36e674d2d21b2289ef29/redfish-core/lib/managers.hpp#L241"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 29,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "I misunderstood it before, now it has been added."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 145,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "We shouldn't see a InternalError when we set \n'{ \"PowerLimitWatts\": {\"ControlMode\": \"badValue\"}}'"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 145,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 226,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Can we use a proper variable name here? \npowerCap ?"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 226,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 239,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Can we use a proper variable name here as well?"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 239,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 256,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Why does this need to be in the if / else ?"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 256,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 296,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Can you use a proper variable name ? If this is still needed? I don't understand why.."
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 296,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 323,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Huh? Why do we still need this call?"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 323,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 156,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "type": "MODIFIED",
                    "insertions": 264,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 264,
            "sizeDeletions": 1
        },
        {
            "number": 7,
            "revision": "a10c8ea2baefe5dfc2e67b2dfc53b322f970e38e",
            "parents": [
                "53691d71379181cda9b0e30eb5e4971da6eed701"
            ],
            "ref": "refs/changes/00/47300/7",
            "uploader": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "createdOn": 1635407594,
            "author": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 220,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Don't you need to check for null? \nif (*powerCap == nullptr)\n{\n    messages::internalError(asyncResp->res);\n    return;\n\n}"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 220,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 238,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "if (*powerCapEnable == nullptr)\n{\n    messages::internalError(asyncResp->res);\n    return;\n}"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 238,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 157,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "type": "MODIFIED",
                    "insertions": 216,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 216,
            "sizeDeletions": 1
        },
        {
            "number": 8,
            "revision": "8767b6a588f8e10dc5d4ef05a25e8ff9d6bc16e1",
            "parents": [
                "53691d71379181cda9b0e30eb5e4971da6eed701"
            ],
            "ref": "refs/changes/00/47300/8",
            "uploader": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "createdOn": 1636008609,
            "author": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 264,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Doesn't a \"GetAll\" save us a call?\n\nhttps://github.com/openbmc/bmcweb/blob/f201ffb46cec98eba672a06d06951117e3829013/redfish-core/lib/processor.hpp#L353"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 264,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 268,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "I am confused why we have mapper only for the Get.. \nI would think we want mapper for both the Get and Set"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 268,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 173,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "type": "MODIFIED",
                    "insertions": 234,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 234,
            "sizeDeletions": 1
        },
        {
            "number": 9,
            "revision": "0534f957be3afe5b54c738a3ecafc7a59019cba1",
            "parents": [
                "53691d71379181cda9b0e30eb5e4971da6eed701"
            ],
            "ref": "refs/changes/00/47300/9",
            "uploader": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "createdOn": 1636079038,
            "author": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 200,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Need to do a check for  serviceName[0].first.empty()?\nOr connectName.empty() ?"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 200,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "Under the premise that the serviceName has a value, it may happen that the connectionName is empty?"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 353,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "I pulled this down, was trying to build this with --buildtype=debug \\\n\n|   121 |           _M_realloc_insert(end(), std::forward<_Args>(__args)...);\n|       |           ~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n| In file included from ../git/redfish-core/include/redfish.hpp:24,\n|                  from ../git/src/webserver_main.cpp:24:\n| ../git/redfish-core/include/../lib/environment_metrics.hpp: In function 'void redfish::setPowerControlMode(const std::shared_ptr<bmcweb::AsyncResp>&, const string&)':\n| ../git/redfish-core/include/../lib/environment_metrics.hpp:354:52: error: 'powerCapEnable' may be used uninitialized in this function [-Werror=maybe-uninitialized]\n|   354 |     crow::connections::systemBus->async_method_call(\n|       |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n|   355 |         [asyncResp, powerCapEnable](\n|       |         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   356 |             const boost::system::error_code ec,\n|       |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   357 |             const std::vector<std::pair<\n|       |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   358 |                 std::string,\n|       |                 ~~~~~~~~~~~~\n|   359 |                 std::vector<std::pair<std::string, std::vector<std::string>>>>>&\n|       |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   360 |                 powercapsubtree) {\n|       |                 ~~~~~~~~~~~~~~~~~~\n|   361 |             if (ec)\n|       |             ~~~~~~~\n|   362 |             {\n|       |             ~\n|   363 |                 BMCWEB_LOG_DEBUG << \"D-Bus response error on GetSubTree \" << ec;\n|       |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   364 |                 messages::internalError(asyncResp->res);\n|       |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   365 |                 return;\n|       |                 ~~~~~~~\n|   366 |             }\n|       |             ~\n|   367 |\n|       |\n|   368 |             for (const auto& [objectPath, serviceName] : powercapsubtree)\n|       |             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   369 |             {\n|       |             ~\n|   370 |                 if (objectPath.empty() || serviceName.size() != 1)\n|       |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   371 |                 {\n|       |                 ~\n|   372 |                     BMCWEB_LOG_DEBUG << \"Error getting D-Bus object!\";\n|       |                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   373 |                     messages::internalError(asyncResp->res);\n|       |                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   374 |                     return;\n|       |                     ~~~~~~~\n|   375 |                 }\n|       |                 ~\n|   376 |                 const std::string& validPath = objectPath;\n|       |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   377 |                 const std::string& connectionName = serviceName[0].first;\n|       |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   378 |\n|       |\n|   379 |                 crow::connections::systemBus->async_method_call(\n|       |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   380 |                     [asyncResp](const boost::system::error_code ec) {\n|       |                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   381 |                         if (ec)\n|       |                         ~~~~~~~\n|   382 |                         {\n|       |                         ~\n|   383 |                             messages::internalError(asyncResp->res);\n|       |                             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   384 |                             BMCWEB_LOG_ERROR\n|       |                             ~~~~~~~~~~~~~~~~\n|   385 |                                 << \"powerCapEnable Get handler: Dbus error \"\n|       |                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   386 |                                 << ec;\n|       |                                 ~~~~~~\n|   387 |                             return;\n|       |                             ~~~~~~~\n|   388 |                         }\n|       |                         ~\n|   389 |                     },\n|       |                     ~~\n|   390 |                     connectionName, validPath,\n|       |                     ~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   391 |                     \"org.freedesktop.DBus.Properties\", \"Set\",\n|       |                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   392 |                     \"xyz.openbmc_project.Control.Power.Cap\", \"PowerCapEnable\",\n|       |                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   393 |                     std::variant<bool>(powerCapEnable));\n|       |                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   394 |             }\n|       |             ~\n|   395 |         },\n|       |         ~~\n|   396 |         \"xyz.openbmc_project.ObjectMapper\",\n|       |         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   397 |         \"/xyz/openbmc_project/object_mapper\",\n|       |         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   398 |         \"xyz.openbmc_project.ObjectMapper\", \"GetSubTree\", \"/\", 0,\n|       |         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n|   399 |         powerCapInterfaces);\n|       |         ~~~~~~~~~~~~~~~~~~~\n| In file included from /tmp/gmills/11-15-ghe/build/tmp/work/armv7ahf-vfpv4d16-openbmc-linux-gnueabi/bmcweb/1.0+gitAUTOINC+392aea9cb2-r0/recipe-sysroot/usr/include/c++/11.2.0/vector:72,"
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 353,
                    "reviewer": {
                        "name": "Albert Zhang",
                        "email": "zhanghaodi@inspur.com",
                        "username": "zhanghaodi"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 173,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "type": "MODIFIED",
                    "insertions": 300,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 300,
            "sizeDeletions": 1
        },
        {
            "number": 10,
            "revision": "bb2c36b6bb7b699f7337f32c07a9c0ada4fa50b1",
            "parents": [
                "53691d71379181cda9b0e30eb5e4971da6eed701"
            ],
            "ref": "refs/changes/00/47300/10",
            "uploader": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "createdOn": 1637028362,
            "author": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "line": 365,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Don't you need a return? Also I liked this check above like you had it in patchset 9"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 173,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "type": "MODIFIED",
                    "insertions": 302,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 302,
            "sizeDeletions": 1
        },
        {
            "number": 11,
            "revision": "2bc96df9e27d58aad55ef9c24a774686a42ab250",
            "parents": [
                "be9ea9b4ed2abd86e3b065586e03ab0771058e59"
            ],
            "ref": "refs/changes/00/47300/11",
            "uploader": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "createdOn": 1639633805,
            "author": {
                "name": "Albert Zhang",
                "email": "zhanghaodi@inspur.com",
                "username": "zhanghaodi"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 157,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/environment_metrics.hpp",
                    "type": "MODIFIED",
                    "insertions": 299,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 299,
            "sizeDeletions": 1
        }
    ]
}