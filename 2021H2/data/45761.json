{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "I0011f0e7188e4a0f0bce6a86efe79aa4308ffc1f",
    "number": 45761,
    "subject": "EventService : Optimize req header formation",
    "owner": {
        "name": "Sunitha Harish",
        "email": "sunithaharish04@gmail.com",
        "username": "sunharis"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/45761",
    "commitMessage": "EventService : Optimize req header formation\n\nHeaders can be added only once per subscriber\nThis commit optimizes the way req header is built at the http client\n\nRequest header parameters are moved into the class constructor.This was\nat the sendMessage, being invoked everytime when the event was sent out\n\nTested by:\n  - Subscribe for the events at BMC using DMTF event listener\n  - Generate an event and see the same is received at listener's console\n\nSigned-off-by: Sunitha Harish <sunharis@in.ibm.com>\nChange-Id: I0011f0e7188e4a0f0bce6a86efe79aa4308ffc1f\n",
    "createdOn": 1628581779,
    "lastUpdated": 1632993809,
    "open": false,
    "status": "ABANDONED",
    "comments": [
        {
            "timestamp": 1628581779,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1628581813,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1628582139,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/24120/ : FAILURE"
        },
        {
            "timestamp": 1628582821,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1628582840,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1628583253,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/24127/ : SUCCESS"
        },
        {
            "timestamp": 1629148990,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1629212356,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 3: Commit message was updated."
        },
        {
            "timestamp": 1629212398,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 3:\n\n(3 comments)"
        },
        {
            "timestamp": 1629215994,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1629216601,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 4: Commit message was updated."
        },
        {
            "timestamp": 1629216632,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1629488425,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1629695941,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 5: Commit message was updated."
        },
        {
            "timestamp": 1629696357,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1629746749,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1629791737,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1629791754,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1629791779,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1629792174,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/24871/ : SUCCESS"
        },
        {
            "timestamp": 1629826770,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(1 comment)\n\npatch itself looks ok.  A little better testing and this should be good to go."
        },
        {
            "timestamp": 1629884064,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1630277072,
            "reviewer": {
                "name": "P Dheeraj Srujan Kumar",
                "email": "p.dheeraj.srujan.kumar@intel.com",
                "username": "dheerajpdsk"
            },
            "message": "Patch Set 6: Code-Review+1"
        },
        {
            "timestamp": 1630434489,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1630496945,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1631077842,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 6:\n\nHi Ed/Gunnar, \nLooking for your response on this commit.\nThanks!"
        },
        {
            "timestamp": 1631133128,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1631137125,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1631145117,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\nIn reviewing your commit, I'm finding a bunch of stuff broken, some of which should've prevented you from actually testing this, so I'm a little surprised that the testing passed.  Can you please help to review the changes here.  They make some of the changes I was suggesting in your review.\n\nhttps://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/46698"
        },
        {
            "timestamp": 1631156395,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\nTo be more clear, this is what we should probably be doing:\nhttps://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/46702"
        },
        {
            "timestamp": 1631527621,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 6:\n\n> Patch Set 6:\n> \n> In reviewing your commit, I'm finding a bunch of stuff broken, some of which should've prevented you from actually testing this, so I'm a little surprised that the testing passed.  Can you please help to review the changes here.  They make some of the changes I was suggesting in your review.\n> \n> https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/46698\n\nHi Ed, The http custom headers were used at our testing and were working good\nThe GET example for that customer header is something like below\n  \"HttpHeaders\": [\n    {\n      <key>: <value>\n    }\n  ],\n\nI will have a look on the commit which you mentioned."
        },
        {
            "timestamp": 1631562296,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n> Patch Set 6:\n> \n> > Patch Set 6:\n> > \n> > In reviewing your commit, I'm finding a bunch of stuff broken, some of which should've prevented you from actually testing this, so I'm a little surprised that the testing passed.  Can you please help to review the changes here.  They make some of the changes I was suggesting in your review.\n> > \n> > https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/46698\n> \n> Hi Ed, The http custom headers were used at our testing and were working good\n> The GET example for that customer header is something like below\n>   \"HttpHeaders\": [\n>     {\n>       <key>: <value>\n>     }\n>   ],\n\nGotcha.  If you look at the Redfish spec, HttpHeaders isn't supposed to be an array;  It's not clear why we did it that way, but I'm guessing whomever wrote it originally didn't read the spec?\n\n> \n> I will have a look on the commit which you mentioned."
        },
        {
            "timestamp": 1631568708,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n> Patch Set 6:\n> \n> > Patch Set 6:\n> > \n> > > Patch Set 6:\n> > > \n> > > In reviewing your commit, I'm finding a bunch of stuff broken, some of which should've prevented you from actually testing this, so I'm a little surprised that the testing passed.  Can you please help to review the changes here.  They make some of the changes I was suggesting in your review.\n> > > \n> > > https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/46698\n> > \n> > Hi Ed, The http custom headers were used at our testing and were working good\n> > The GET example for that customer header is something like below\n> >   \"HttpHeaders\": [\n> >     {\n> >       <key>: <value>\n> >     }\n> >   ],\n> \n> Gotcha.  If you look at the Redfish spec, HttpHeaders isn't supposed to be an array;  It's not clear why we did it that way, but I'm guessing whomever wrote it originally didn't read the spec?\n\nIt looks like there's some inconsistent documentation on this in Redfish.  I see both the object-only version and the array of objects version.  I do suspect the array of objects looks right.\n\n> \n> > \n> > I will have a look on the commit which you mentioned."
        },
        {
            "timestamp": 1632993809,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Abandoned\n\nhttp header optimization are done by other commits"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "4529ef8b9151ddfbc0899e9572f789ea5a766294",
            "parents": [
                "885bbf1c82ea9f9cbfbe0065ee46adc8e398c868"
            ],
            "ref": "refs/changes/61/45761/1",
            "uploader": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "createdOn": 1628581779,
            "author": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "http/http_client.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -22
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 24,
            "sizeDeletions": 23
        },
        {
            "number": 2,
            "revision": "f9daf7a5caa6676206d572db1812600cc3847295",
            "parents": [
                "885bbf1c82ea9f9cbfbe0065ee46adc8e398c868"
            ],
            "ref": "refs/changes/61/45761/2",
            "uploader": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "createdOn": 1628582821,
            "author": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "please wrap your commits properly.  50/72"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "Done"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "It does more than mentioned here.  on the second line I see us switching from a flat_buffer to a flat_static_buffer.  I don't have a super strong opinion on the new one, but some commentary here on why it was changed would be good.\n\nAlso, queue to circular_buffer is another good change, but wasn't mentioned here."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "Done"
                },
                {
                    "file": "http/http_client.hpp",
                    "line": 157,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This looks like it has nothing to do with your commit message.  Included on purpose?"
                },
                {
                    "file": "http/http_client.hpp",
                    "line": 157,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "This was one of the rework done on the original commit. I moved this here in this commit, since it was not part of retry-handling. I added this to the commit message"
                },
                {
                    "file": "http/http_client.hpp",
                    "line": 157,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "That's fine, but you need to have justification for why it's needed;  You commit message mentions nothing of it.  Are you fixing something?  Does this have any impacts?\n\nI suspect part of it is that the buffer changes likely should be in their own commit separate from these header changes, which would force them to have their own commit message."
                },
                {
                    "file": "http/http_client.hpp",
                    "line": 157,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "I had mentioned this at point #4 in the commit message. Updated the summary line now to reflect the same.\nChanges are very minimal, single commit should be good I believe."
                },
                {
                    "file": "http/http_client.hpp",
                    "line": 157,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Lets put it in its own commit."
                },
                {
                    "file": "http/http_client.hpp",
                    "line": 157,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "http/http_client.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -22
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 24,
            "sizeDeletions": 23
        },
        {
            "number": 3,
            "revision": "350ace5be521cabdac4da96e6fcb2f17b2a9f9a8",
            "parents": [
                "885bbf1c82ea9f9cbfbe0065ee46adc8e398c868"
            ],
            "ref": "refs/changes/61/45761/3",
            "uploader": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "createdOn": 1629212356,
            "author": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 20,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Tested?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 20,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "http/http_client.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -22
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 24,
            "sizeDeletions": 23
        },
        {
            "number": 4,
            "revision": "86fa365e20e01ad10728f2373fee47f272afe425",
            "parents": [
                "885bbf1c82ea9f9cbfbe0065ee46adc8e398c868"
            ],
            "ref": "refs/changes/61/45761/4",
            "uploader": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "createdOn": 1629216601,
            "author": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 26,
                    "deletions": 0
                },
                {
                    "file": "http/http_client.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -22
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 24,
            "sizeDeletions": 23
        },
        {
            "number": 5,
            "revision": "776f885e1bfc77dd08ebe1e9c09b91b9e7657906",
            "parents": [
                "885bbf1c82ea9f9cbfbe0065ee46adc8e398c868"
            ],
            "ref": "refs/changes/61/45761/5",
            "uploader": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "createdOn": 1629695941,
            "author": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 26,
                    "deletions": 0
                },
                {
                    "file": "http/http_client.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -22
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 24,
            "sizeDeletions": 23
        },
        {
            "number": 6,
            "revision": "faf1c7246c467242915458668c308f3c67d6fb1c",
            "parents": [
                "4147b8ac88c79949f2f9f5c2738aca53641e22c8"
            ],
            "ref": "refs/changes/61/45761/6",
            "uploader": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "createdOn": 1629791737,
            "author": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 16,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "is https://github.com/DMTF/Redfish-Event-Listener the listener you used?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 17,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please ensure your tests include some keep-alive behavior (ie, sending more than one message on a keep-alive connection).  I see some potential for header conflicts there."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 17,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "I have not changed the value of the req header parameters in this patch. Those remain the same as in the master. \nThe event listener(server) has no keep-alive tag at my test environment. With that this code works fine.\n\nCan you please elaborate more on what kind of header conflicts can occur?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 17,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> I have not changed the value of the req header parameters in this patch. Those remain the same as in the master. \n> The event listener(server) has no keep-alive tag at my test environment. With that this code works fine.\n> \n> Can you please elaborate more on what kind of header conflicts can occur?\n\nAs I'm looking at this, you've changed the concept of setting headers (which is a complete replacement) to the concept of adding headers, which would leave other headers in place.  If one subscriptions had headers set that the other one didn't, subscription 2 would get the headers from the first."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 17,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "Each subscription will have its own copy of req. There will be different HttpClient objects for each subscriptions. So there is no possibility for the 2nd subscription to take values from the 1st subscriber"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 17,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> Each subscription will have its own copy of req.\n\nThat seems like something temporary simply because we don't have connection pooling yet.\n\n> There will be different HttpClient objects for each subscriptions. So there is no possibility for the 2nd subscription to take values from the 1st subscriber\n\nIf that's true then why is addHeaders being called every time sendEvent is called?  Shouldn't we just set it in the constructor once and be done with it?\n\nAlso, looking at the code in sendEvent, it seems really inefficient, and makes a copy of every header 3-4 times before actually moving into the struct.  For what it's worth, we should make that cleaner as well, but not necessarily something you need to do."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "http/http_client.hpp",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -17
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 14,
            "sizeDeletions": 18
        }
    ]
}