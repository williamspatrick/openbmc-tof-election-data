{
    "project": "openbmc/phosphor-host-ipmid",
    "branch": "master",
    "id": "I7b398379272cf62f114c5158980622fb13e22e92",
    "number": 43136,
    "subject": "sensorhandler: Don't fail on absent Threshold.Warning interface",
    "owner": {
        "name": "Konstantin Aladyshev",
        "email": "aladyshev22@gmail.com",
        "username": "Kostr"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-host-ipmid/+/43136",
    "commitMessage": "sensorhandler: Don't fail on absent Threshold.Warning interface\n\nCurrently if a sensor has only \"Threshold.Critical\" interface\nit would never be parsed as call to the absent \"Threshold.Warning\"\ninterface would throw and abort \"getSensorThreshold\" function.\nRefactor \"getSensorThreshold\" code to fix the issue.\n\nSigned-off-by: Konstantin Aladyshev <aladyshev22@gmail.com>\nChange-Id: I7b398379272cf62f114c5158980622fb13e22e92\n",
    "createdOn": 1620836078,
    "lastUpdated": 1627335624,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1620836078,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1620836091,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1620836835,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/17132/ : FAILURE"
        },
        {
            "timestamp": 1620837009,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1620837031,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1620837181,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/17133/ : SUCCESS"
        },
        {
            "timestamp": 1620839515,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Patch Set 1:\n\nHello! I've found a bug in the current implementation of `ipmiSensorGetSensorThresholds` function.\nIf a sensor populates only `Threshold.Critical` interface its data wouldn't be displayed as a `getSensorThresholds` function would fail on the call to the absent `Threshold.Warning` interface.\nPlease review the patchset that fixes this issue."
        },
        {
            "timestamp": 1620898255,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1620898270,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1620898416,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/17192/ : SUCCESS"
        },
        {
            "timestamp": 1620917910,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3:\n\n(3 comments)"
        },
        {
            "timestamp": 1620920657,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1620920671,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1620921043,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/17213/ : SUCCESS"
        },
        {
            "timestamp": 1620924673,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Patch Set 4:\n\n(3 comments)"
        },
        {
            "timestamp": 1622153500,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1622205975,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1622205988,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1622206040,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/18316/ : FAILURE"
        },
        {
            "timestamp": 1622206101,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Patch Set 6: Patch Set 5 was rebased"
        },
        {
            "timestamp": 1622206113,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1622206259,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/18317/ : SUCCESS"
        },
        {
            "timestamp": 1622206606,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1622898334,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 6: Code-Review+1"
        },
        {
            "timestamp": 1627305607,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1627305623,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1627305805,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/22781/ : SUCCESS"
        },
        {
            "timestamp": 1627335619,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 7: Code-Review+2"
        },
        {
            "timestamp": 1627335624,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Change has been successfully merged by Vernon Mauery"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "dba7e0e2b7d43f61aa4432cce38a6fcee31898af",
            "parents": [
                "690f4d5e3e68f8fe85a8048654095c276383ebfd"
            ],
            "ref": "refs/changes/36/43136/1",
            "uploader": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "createdOn": 1620836078,
            "author": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "sensorhandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 65,
                    "deletions": -48
                }
            ],
            "sizeInsertions": 65,
            "sizeDeletions": 48
        },
        {
            "number": 2,
            "revision": "882fa5f274ed9347e2abe998cfb1cc2d1e718380",
            "parents": [
                "690f4d5e3e68f8fe85a8048654095c276383ebfd"
            ],
            "ref": "refs/changes/36/43136/2",
            "uploader": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "createdOn": 1620837009,
            "author": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "sensorhandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 65,
                    "deletions": -48
                }
            ],
            "sizeInsertions": 65,
            "sizeDeletions": 48
        },
        {
            "number": 3,
            "revision": "227638f92cde6dd2050f59a8c306051d3ccf8fbf",
            "parents": [
                "690f4d5e3e68f8fe85a8048654095c276383ebfd"
            ],
            "ref": "refs/changes/36/43136/3",
            "uploader": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "createdOn": 1620898255,
            "author": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "sensorhandler.cpp",
                    "line": 493,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I'd prefer you used `sdbusplus::exception_t` here.  You don't need the specificity."
                },
                {
                    "file": "sensorhandler.cpp",
                    "line": 493,
                    "reviewer": {
                        "name": "Konstantin Aladyshev",
                        "email": "aladyshev22@gmail.com",
                        "username": "Kostr"
                    },
                    "message": "Fixed"
                },
                {
                    "file": "sensorhandler.cpp",
                    "line": 505,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I'd prefer you used `sdbusplus::exception_t` here.  You don't need the specificity."
                },
                {
                    "file": "sensorhandler.cpp",
                    "line": 505,
                    "reviewer": {
                        "name": "Konstantin Aladyshev",
                        "email": "aladyshev22@gmail.com",
                        "username": "Kostr"
                    },
                    "message": "Fixed"
                },
                {
                    "file": "sensorhandler.cpp",
                    "line": 543,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I'd prefer you used `sdbusplus::exception_t` here.  You don't need the specificity."
                },
                {
                    "file": "sensorhandler.cpp",
                    "line": 543,
                    "reviewer": {
                        "name": "Konstantin Aladyshev",
                        "email": "aladyshev22@gmail.com",
                        "username": "Kostr"
                    },
                    "message": "Fixed"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "sensorhandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 75,
                    "deletions": -50
                }
            ],
            "sizeInsertions": 75,
            "sizeDeletions": 50
        },
        {
            "number": 4,
            "revision": "8941866646e62c272709a582dc0912c015a6c7a4",
            "parents": [
                "690f4d5e3e68f8fe85a8048654095c276383ebfd"
            ],
            "ref": "refs/changes/36/43136/4",
            "uploader": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "createdOn": 1620920657,
            "author": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "sensorhandler.cpp",
                    "line": 597,
                    "reviewer": {
                        "name": "Vernon Mauery",
                        "email": "vernon.mauery@linux.intel.com",
                        "username": "vmauery"
                    },
                    "message": "if you request an ipmi::Context::ptr ctx here, you can pass it into the getSensorThresholds() function and it can do yielding dbus calls instead of blocking calls."
                },
                {
                    "file": "sensorhandler.cpp",
                    "line": 597,
                    "reviewer": {
                        "name": "Konstantin Aladyshev",
                        "email": "aladyshev22@gmail.com",
                        "username": "Kostr"
                    },
                    "message": "Done. It have simplified the code significantly"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "sensorhandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 75,
                    "deletions": -50
                }
            ],
            "sizeInsertions": 75,
            "sizeDeletions": 50
        },
        {
            "number": 5,
            "revision": "c20dae523ec6b0f78dadbbabf2b32badb2bc9bb1",
            "parents": [
                "690f4d5e3e68f8fe85a8048654095c276383ebfd"
            ],
            "ref": "refs/changes/36/43136/5",
            "uploader": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "createdOn": 1622205975,
            "author": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "sensorhandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 61,
                    "deletions": -56
                }
            ],
            "sizeInsertions": 61,
            "sizeDeletions": 56
        },
        {
            "number": 6,
            "revision": "528e2f8b0e5aa2772e8bb23e864f3e504f96eb95",
            "parents": [
                "61024d7df56eb753173ded7fd2ce9cd30a5be800"
            ],
            "ref": "refs/changes/36/43136/6",
            "uploader": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "createdOn": 1622206101,
            "author": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "sensorhandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 61,
                    "deletions": -56
                }
            ],
            "sizeInsertions": 61,
            "sizeDeletions": 56
        },
        {
            "number": 7,
            "revision": "89a83b6726ba4e75d1af1f0b3524fca955e28413",
            "parents": [
                "d18dfc40eeead9475371d42ce7e89890b0ab5f5b"
            ],
            "ref": "refs/changes/36/43136/7",
            "uploader": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "createdOn": 1627305607,
            "author": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "sensorhandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 61,
                    "deletions": -56
                }
            ],
            "sizeInsertions": 61,
            "sizeDeletions": 56
        }
    ]
}