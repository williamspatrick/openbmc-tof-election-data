{
    "project": "openbmc/pldm",
    "branch": "master",
    "id": "Icb556a89f3cc9564450cc344ba9e0e8b56421fd9",
    "number": 45671,
    "subject": "pldmd: use async instead of event loop at start",
    "owner": {
        "name": "Sampa Misra",
        "email": "sampmisr@in.ibm.com",
        "username": "sampmisr"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/pldm/+/45671",
    "commitMessage": "pldmd: use async instead of event loop at start\n\nThis commit changes the first command to async that pldmd sends\nafter starting to discover Host state.\n\nAlso uses GetPLDMVersion as the first command so that Host understands\nbmc pldmd has restarted.\n\nChange-Id: Icb556a89f3cc9564450cc344ba9e0e8b56421fd9\nSigned-off-by: Sampa Misra <sampmisr@in.ibm.com>\n",
    "createdOn": 1628228312,
    "lastUpdated": 1629877283,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1628228312,
            "reviewer": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1628228341,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1628228351,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/2711/ (1/2)\n\nppc64le CI Build Started"
        },
        {
            "timestamp": 1628229517,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/2711/ : ppc64le CI Build Successful\n\nhttps://jenkins.openbmc.org/job/ci-repository/23945/ : SUCCESS"
        },
        {
            "timestamp": 1629359017,
            "reviewer": {
                "name": "Pavithra Barithaya",
                "email": "pavithra.b@ibm.com",
                "username": "Pavithrab7"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1629359041,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1629359175,
            "reviewer": {
                "name": "Pavithra Barithaya",
                "email": "pavithra.b@ibm.com",
                "username": "Pavithrab7"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1629359191,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1629359195,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/24625/ : ABORTED"
        },
        {
            "timestamp": 1629360255,
            "reviewer": {
                "name": "Pavithra Barithaya",
                "email": "pavithra.b@ibm.com",
                "username": "Pavithrab7"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1629360458,
            "reviewer": {
                "name": "ManojKiran Eda",
                "email": "manojkiran.eda@gmail.com",
                "username": "manojkiraneda"
            },
            "message": "Patch Set 3: Ok-To-Test+1"
        },
        {
            "timestamp": 1629362363,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/2835/ (2/2)\n\nppc64le CI Build Started"
        },
        {
            "timestamp": 1629362509,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/2836/ (2/2)\n\nppc64le CI Build Started"
        },
        {
            "timestamp": 1629363393,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/2836/ : ppc64le CI Build Successful\n\nhttps://jenkins.openbmc.org/job/ci-repository/24627/ : SUCCESS"
        },
        {
            "timestamp": 1629363396,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/2835/ : ppc64le CI Build Successful\n\nhttps://jenkins.openbmc.org/job/ci-repository/24626/ : SUCCESS"
        },
        {
            "timestamp": 1629379189,
            "reviewer": {
                "name": "ManojKiran Eda",
                "email": "manojkiran.eda@gmail.com",
                "username": "manojkiraneda"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1629382250,
            "reviewer": {
                "name": "Tom Joseph",
                "email": "rushtotom@gmail.com",
                "username": "tomjoseph83"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1629382466,
            "reviewer": {
                "name": "Tom Joseph",
                "email": "rushtotom@gmail.com",
                "username": "tomjoseph83"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1629385105,
            "reviewer": {
                "name": "Pavithra Barithaya",
                "email": "pavithra.b@ibm.com",
                "username": "Pavithrab7"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1629385120,
            "reviewer": {
                "name": "Pavithra Barithaya",
                "email": "pavithra.b@ibm.com",
                "username": "Pavithrab7"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1629385133,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1629385143,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/2846/ (1/2)\n\nppc64le CI Build Started"
        },
        {
            "timestamp": 1629385663,
            "reviewer": {
                "name": "ManojKiran Eda",
                "email": "manojkiran.eda@gmail.com",
                "username": "manojkiraneda"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1629385963,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/2846/ : ppc64le CI Build Successful\n\nhttps://jenkins.openbmc.org/job/ci-repository/24659/ : SUCCESS"
        },
        {
            "timestamp": 1629386131,
            "reviewer": {
                "name": "Pavithra Barithaya",
                "email": "pavithra.b@ibm.com",
                "username": "Pavithrab7"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1629556329,
            "reviewer": {
                "name": "ManojKiran Eda",
                "email": "manojkiran.eda@gmail.com",
                "username": "manojkiraneda"
            },
            "message": "Uploaded patch set 5: Patch Set 4 was rebased."
        },
        {
            "timestamp": 1629556357,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1629556369,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/2864/ (1/2)\n\nppc64le CI Build Started"
        },
        {
            "timestamp": 1629557504,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/2864/ : ppc64le CI Build Successful\n\nhttps://jenkins.openbmc.org/job/ci-repository/24772/ : SUCCESS"
        },
        {
            "timestamp": 1629784767,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Patch Set 5: Code-Review+1"
        },
        {
            "timestamp": 1629800348,
            "reviewer": {
                "name": "ManojKiran Eda",
                "email": "manojkiran.eda@gmail.com",
                "username": "manojkiraneda"
            },
            "message": "Uploaded patch set 6: Patch Set 5 was rebased."
        },
        {
            "timestamp": 1629800378,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1629800387,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/2885/ (2/2)\n\nppc64le CI Build Started"
        },
        {
            "timestamp": 1629804413,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/2885/ : ppc64le CI Build Successful\n\nhttps://jenkins.openbmc.org/job/ci-repository/24886/ : SUCCESS"
        },
        {
            "timestamp": 1629867490,
            "reviewer": {
                "name": "Tom Joseph",
                "email": "rushtotom@gmail.com",
                "username": "tomjoseph83"
            },
            "message": "Patch Set 6: Code-Review+2"
        },
        {
            "timestamp": 1629877283,
            "reviewer": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "message": "Change has been successfully rebased and submitted as f9ba8c19914767c8b788a54bf235ee2e5d775d75 by Sampa Misra"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "7827b667890335e6fd2322d421bba020a0eea6d3",
            "parents": [
                "4e2ed9c5b164929036dad43bcb4be0f081b88aa9"
            ],
            "ref": "refs/changes/71/45671/1",
            "uploader": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "createdOn": 1628228312,
            "author": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 35,
                    "deletions": -85
                },
                {
                    "file": "host-bmc/host_pdr_handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -4
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -12
                }
            ],
            "sizeInsertions": 35,
            "sizeDeletions": 101
        },
        {
            "number": 2,
            "revision": "7eb551f775bd7205b2ade3b55ff04042129f837f",
            "parents": [
                "5d8221af6568ebd9c20f9a45d568ae7f76018ea5"
            ],
            "ref": "refs/changes/71/45671/2",
            "uploader": {
                "name": "Pavithra Barithaya",
                "email": "pavithra.b@ibm.com",
                "username": "Pavithrab7"
            },
            "createdOn": 1629359017,
            "author": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 33,
                    "deletions": -85
                },
                {
                    "file": "host-bmc/host_pdr_handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -4
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -11
                }
            ],
            "sizeInsertions": 34,
            "sizeDeletions": 100
        },
        {
            "number": 3,
            "revision": "c7e88b2a9684fe625f4f9eb236646d08b56e8f4c",
            "parents": [
                "5d8221af6568ebd9c20f9a45d568ae7f76018ea5"
            ],
            "ref": "refs/changes/71/45671/3",
            "uploader": {
                "name": "Pavithra Barithaya",
                "email": "pavithra.b@ibm.com",
                "username": "Pavithrab7"
            },
            "createdOn": 1629359175,
            "author": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "line": 545,
                    "reviewer": {
                        "name": "Tom Joseph",
                        "email": "rushtotom@gmail.com",
                        "username": "tomjoseph83"
                    },
                    "message": "Are we going to update any Host state D-Bus property?"
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "line": 545,
                    "reviewer": {
                        "name": "Pavithra Barithaya",
                        "email": "pavithra.b@ibm.com",
                        "username": "Pavithrab7"
                    },
                    "message": "changed the name to setHostFirmwareCondition()."
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "line": 571,
                    "reviewer": {
                        "name": "Tom Joseph",
                        "email": "rushtotom@gmail.com",
                        "username": "tomjoseph83"
                    },
                    "message": "printBuffer?"
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "line": 571,
                    "reviewer": {
                        "name": "Pavithra Barithaya",
                        "email": "pavithra.b@ibm.com",
                        "username": "Pavithrab7"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 33,
                    "deletions": -85
                },
                {
                    "file": "host-bmc/host_pdr_handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -4
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -11
                }
            ],
            "sizeInsertions": 33,
            "sizeDeletions": 100
        },
        {
            "number": 4,
            "revision": "4207bb86a8777a5f7971ed9834aa2e597bbaa292",
            "parents": [
                "5d8221af6568ebd9c20f9a45d568ae7f76018ea5"
            ],
            "ref": "refs/changes/71/45671/4",
            "uploader": {
                "name": "Pavithra Barithaya",
                "email": "pavithra.b@ibm.com",
                "username": "Pavithrab7"
            },
            "createdOn": 1629385120,
            "author": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": -88
                },
                {
                    "file": "host-bmc/host_pdr_handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -6
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -12
                }
            ],
            "sizeInsertions": 31,
            "sizeDeletions": 106
        },
        {
            "number": 5,
            "revision": "3f144172fc38add8b4269646134015f6c4085c1c",
            "parents": [
                "4e8b1d18830dd061738ac05eea99b7422c90317c"
            ],
            "ref": "refs/changes/71/45671/5",
            "uploader": {
                "name": "ManojKiran Eda",
                "email": "manojkiran.eda@gmail.com",
                "username": "manojkiraneda"
            },
            "createdOn": 1629556329,
            "author": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": -88
                },
                {
                    "file": "host-bmc/host_pdr_handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -6
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -12
                }
            ],
            "sizeInsertions": 31,
            "sizeDeletions": 106
        },
        {
            "number": 6,
            "revision": "f21dd6d25dca19da3f0bb4c5466c836129f294eb",
            "parents": [
                "5079ac4a67df3fc12a8142029faee382be57abd1"
            ],
            "ref": "refs/changes/71/45671/6",
            "uploader": {
                "name": "ManojKiran Eda",
                "email": "manojkiran.eda@gmail.com",
                "username": "manojkiraneda"
            },
            "createdOn": 1629800348,
            "author": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": -88
                },
                {
                    "file": "host-bmc/host_pdr_handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -6
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -12
                }
            ],
            "sizeInsertions": 31,
            "sizeDeletions": 106
        },
        {
            "number": 7,
            "revision": "f9ba8c19914767c8b788a54bf235ee2e5d775d75",
            "parents": [
                "5dabe1060ec46879eeef75b9a830426bd00fc7d3"
            ],
            "ref": "refs/changes/71/45671/7",
            "uploader": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "createdOn": 1629877283,
            "author": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": -88
                },
                {
                    "file": "host-bmc/host_pdr_handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -6
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -12
                }
            ],
            "sizeInsertions": 31,
            "sizeDeletions": 106
        }
    ]
}