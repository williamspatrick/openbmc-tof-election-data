{
    "project": "openbmc/intel-ipmi-oem",
    "branch": "master",
    "id": "I89a3127bad1762574d28955419dc4680e862340b",
    "number": 30066,
    "subject": "Implement commands to support modular system",
    "owner": {
        "name": "Cheng C Yang",
        "email": "cheng.c.yang@linux.intel.com",
        "username": "cyang29"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/intel-ipmi-oem/+/30066",
    "commitMessage": "Implement commands to support modular system\n\nImplement ipmi commands to support modular system.\nSet Slave addr command is to transfer slave BMC's ip to master.\nReceive event command is to copy slave's redfish log to master.\nThese commands are used by ipmbbridge.\n\nTested:\nMaster node can get correct slave BMC's address through IPMB.\nMaster node can get correct slave's redfish log.\n\nSigned-off-by: Cheng C Yang <cheng.c.yang@linux.intel.com>\nChange-Id: I89a3127bad1762574d28955419dc4680e862340b\n",
    "createdOn": 1583469804,
    "lastUpdated": 1634897039,
    "open": false,
    "status": "ABANDONED",
    "comments": [
        {
            "timestamp": 1583469804,
            "reviewer": {
                "name": "Cheng C Yang",
                "email": "cheng.c.yang@linux.intel.com",
                "username": "cyang29"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1583469831,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1583469845,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 1:\n\nBuild Started https://openpower.xyz/job/openbmc-repository-ci/45044/"
        },
        {
            "timestamp": 1583470049,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://openpower.xyz/job/openbmc-repository-ci/45044/ : FAILURE"
        },
        {
            "timestamp": 1583470197,
            "reviewer": {
                "name": "Cheng C Yang",
                "email": "cheng.c.yang@linux.intel.com",
                "username": "cyang29"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1583470219,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1583470230,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 2:\n\nBuild Started https://openpower.xyz/job/openbmc-repository-ci/45045/"
        },
        {
            "timestamp": 1583470433,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://openpower.xyz/job/openbmc-repository-ci/45045/ : SUCCESS"
        },
        {
            "timestamp": 1583750395,
            "reviewer": {
                "name": "AppaRao Puli",
                "email": "apparao.puli@linux.intel.com",
                "username": "apuli1"
            },
            "message": "Patch Set 2:\n\n(5 comments)"
        },
        {
            "timestamp": 1583769828,
            "reviewer": {
                "name": "Cheng C Yang",
                "email": "cheng.c.yang@linux.intel.com",
                "username": "cyang29"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1583769851,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1583769863,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 3:\n\nBuild Started https://openpower.xyz/job/openbmc-repository-ci/45266/"
        },
        {
            "timestamp": 1583769930,
            "reviewer": {
                "name": "Cheng C Yang",
                "email": "cheng.c.yang@linux.intel.com",
                "username": "cyang29"
            },
            "message": "Patch Set 3:\n\n(5 comments)"
        },
        {
            "timestamp": 1583770100,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://openpower.xyz/job/openbmc-repository-ci/45266/ : SUCCESS"
        },
        {
            "timestamp": 1584443552,
            "reviewer": {
                "name": "AppaRao Puli",
                "email": "apparao.puli@linux.intel.com",
                "username": "apuli1"
            },
            "message": "Patch Set 3:\n\n(5 comments)"
        },
        {
            "timestamp": 1587123980,
            "reviewer": {
                "name": "AppaRao Puli",
                "email": "apparao.puli@linux.intel.com",
                "username": "apuli1"
            },
            "message": "Patch Set 3: Code-Review-1\n\nNo Activity from quite sometime. Is this still needed? If not, abandon it."
        },
        {
            "timestamp": 1587362915,
            "reviewer": {
                "name": "Cheng C Yang",
                "email": "cheng.c.yang@linux.intel.com",
                "username": "cyang29"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1587362945,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1587362955,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 4:\n\nBuild Started https://openpower.xyz/job/openbmc-repository-ci/47988/"
        },
        {
            "timestamp": 1587363191,
            "reviewer": {
                "name": "Cheng C Yang",
                "email": "cheng.c.yang@linux.intel.com",
                "username": "cyang29"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1587363214,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1587363222,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://openpower.xyz/job/openbmc-repository-ci/47988/ : ABORTED"
        },
        {
            "timestamp": 1587363225,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 5:\n\nBuild Started https://openpower.xyz/job/openbmc-repository-ci/47989/"
        },
        {
            "timestamp": 1587363308,
            "reviewer": {
                "name": "Cheng C Yang",
                "email": "cheng.c.yang@linux.intel.com",
                "username": "cyang29"
            },
            "message": "Patch Set 5:\n\n(4 comments)"
        },
        {
            "timestamp": 1587363456,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://openpower.xyz/job/openbmc-repository-ci/47989/ : SUCCESS"
        },
        {
            "timestamp": 1634627562,
            "reviewer": {
                "name": "Manish Baing",
                "email": "manish.baing@intel.com",
                "username": "manishbaing"
            },
            "message": "Patch Set 5:\n\n(2 comments)"
        },
        {
            "timestamp": 1634897039,
            "reviewer": {
                "name": "AppaRao Puli",
                "email": "apparao.puli@linux.intel.com",
                "username": "apuli1"
            },
            "message": "Abandoned\n\nNo update from quite long, abandon the changes"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "c60b071575e36544444a5811dd5c466cf8f9e2fb",
            "parents": [
                "fa92f35a546a960232ac99d5b8dd677b2fdd8a4e"
            ],
            "ref": "refs/changes/66/30066/1",
            "uploader": {
                "name": "Cheng C Yang",
                "email": "cheng.c.yang@linux.intel.com",
                "username": "cyang29"
            },
            "createdOn": 1583469804,
            "author": {
                "name": "Cheng C Yang",
                "email": "cheng.c.yang@linux.intel.com",
                "username": "cyang29"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "ipmi-whitelist.conf",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "src/oemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 43,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 45,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "dfd5141f055f5b6547898a18b5022a333007c75f",
            "parents": [
                "fa92f35a546a960232ac99d5b8dd677b2fdd8a4e"
            ],
            "ref": "refs/changes/66/30066/2",
            "uploader": {
                "name": "Cheng C Yang",
                "email": "cheng.c.yang@linux.intel.com",
                "username": "cyang29"
            },
            "createdOn": 1583470197,
            "author": {
                "name": "Cheng C Yang",
                "email": "cheng.c.yang@linux.intel.com",
                "username": "cyang29"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/oemcommands.cpp",
                    "line": 3561,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "const reference (const ipmi::Context::ptr& ctx)"
                },
                {
                    "file": "src/oemcommands.cpp",
                    "line": 3561,
                    "reviewer": {
                        "name": "Cheng C Yang",
                        "email": "cheng.c.yang@linux.intel.com",
                        "username": "cyang29"
                    },
                    "message": "This is a ptr, reference will not save the resource on it."
                },
                {
                    "file": "src/oemcommands.cpp",
                    "line": 3566,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "Is this interface defined in phosphor-dbus-insterfaces? If not, Please do push that and get that merged first."
                },
                {
                    "file": "src/oemcommands.cpp",
                    "line": 3566,
                    "reviewer": {
                        "name": "Cheng C Yang",
                        "email": "cheng.c.yang@linux.intel.com",
                        "username": "cyang29"
                    },
                    "message": "From James Feist's suggestion, since upstream may not be interested in this feature, it is not necessary to push this to phosphor-dbus-interfaces. In fact, I had pushed one but abandoned."
                },
                {
                    "file": "src/oemcommands.cpp",
                    "line": 3566,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "Hmmm Since we don't have separate phosphor-dbus-interface and its not interest for upstream, that may be best option we can take. Thanks for clarification."
                },
                {
                    "file": "src/oemcommands.cpp",
                    "line": 3581,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "We need to validate this node id for correct and max ranges."
                },
                {
                    "file": "src/oemcommands.cpp",
                    "line": 3581,
                    "reviewer": {
                        "name": "Cheng C Yang",
                        "email": "cheng.c.yang@linux.intel.com",
                        "username": "cyang29"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/oemcommands.cpp",
                    "line": 3582,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "Is it needs max check? supported 254( Leaving one byte for id)"
                },
                {
                    "file": "src/oemcommands.cpp",
                    "line": 3582,
                    "reviewer": {
                        "name": "Cheng C Yang",
                        "email": "cheng.c.yang@linux.intel.com",
                        "username": "cyang29"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/oemcommands.cpp",
                    "line": 3585,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "Isn't the Redfish log file data will have some format? How this raw data can be decoded for Redfish event logs?\n\nSince you are not logging Log time stamp, how that will be calculated?"
                },
                {
                    "file": "src/oemcommands.cpp",
                    "line": 3585,
                    "reviewer": {
                        "name": "Cheng C Yang",
                        "email": "cheng.c.yang@linux.intel.com",
                        "username": "cyang29"
                    },
                    "message": "I am still working on the display of the node redfish log in BMCWEB, this command is only for ipmbbridge to transfer slave logs to master."
                },
                {
                    "file": "src/oemcommands.cpp",
                    "line": 3585,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "May be some comment there will help for TODO."
                },
                {
                    "file": "src/oemcommands.cpp",
                    "line": 3585,
                    "reviewer": {
                        "name": "Cheng C Yang",
                        "email": "cheng.c.yang@linux.intel.com",
                        "username": "cyang29"
                    },
                    "message": "Here the format meet the redfish log requirement. The timestamp was sent by slave to master through string."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "include/oemcommands.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "ipmi-whitelist.conf",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "src/oemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 43,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 47,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "d45ee30d811260d26712e2e15075e610c0924921",
            "parents": [
                "fa92f35a546a960232ac99d5b8dd677b2fdd8a4e"
            ],
            "ref": "refs/changes/66/30066/3",
            "uploader": {
                "name": "Cheng C Yang",
                "email": "cheng.c.yang@linux.intel.com",
                "username": "cyang29"
            },
            "createdOn": 1583769828,
            "author": {
                "name": "Cheng C Yang",
                "email": "cheng.c.yang@linux.intel.com",
                "username": "cyang29"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/oemcommands.cpp",
                    "line": 3586,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "use phosphor logging instead of cerr."
                },
                {
                    "file": "src/oemcommands.cpp",
                    "line": 3586,
                    "reviewer": {
                        "name": "Cheng C Yang",
                        "email": "cheng.c.yang@linux.intel.com",
                        "username": "cyang29"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/oemcommands.cpp",
                    "line": 3587,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "Isn't it invalidRequest data?"
                },
                {
                    "file": "src/oemcommands.cpp",
                    "line": 3587,
                    "reviewer": {
                        "name": "Cheng C Yang",
                        "email": "cheng.c.yang@linux.intel.com",
                        "username": "cyang29"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/oemcommands.cpp",
                    "line": 3603,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "It should be event.size()-1 right?"
                },
                {
                    "file": "src/oemcommands.cpp",
                    "line": 3603,
                    "reviewer": {
                        "name": "Cheng C Yang",
                        "email": "cheng.c.yang@linux.intel.com",
                        "username": "cyang29"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "include/oemcommands.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "ipmi-whitelist.conf",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "src/oemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 55,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 59,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "089df970b68be6971fd0bba3fa3a9d052fe4fb07",
            "parents": [
                "2b664d5a185247f0448c763ba7d0e42cfc245024"
            ],
            "ref": "refs/changes/66/30066/4",
            "uploader": {
                "name": "Cheng C Yang",
                "email": "cheng.c.yang@linux.intel.com",
                "username": "cyang29"
            },
            "createdOn": 1587362915,
            "author": {
                "name": "Cheng C Yang",
                "email": "cheng.c.yang@linux.intel.com",
                "username": "cyang29"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "include/oemcommands.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "ipmi-whitelist.conf",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "src/oemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 105,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 111,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "983a5561aec39ae3b13a1da3a3f3a17a3c8c6fb1",
            "parents": [
                "2b664d5a185247f0448c763ba7d0e42cfc245024"
            ],
            "ref": "refs/changes/66/30066/5",
            "uploader": {
                "name": "Cheng C Yang",
                "email": "cheng.c.yang@linux.intel.com",
                "username": "cyang29"
            },
            "createdOn": 1587363191,
            "author": {
                "name": "Cheng C Yang",
                "email": "cheng.c.yang@linux.intel.com",
                "username": "cyang29"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/oemcommands.cpp",
                    "line": 3570,
                    "reviewer": {
                        "name": "Manish Baing",
                        "email": "manish.baing@intel.com",
                        "username": "manishbaing"
                    },
                    "message": "is there any advantages of using constexpr const together here as both are similar ..?"
                },
                {
                    "file": "src/oemcommands.cpp",
                    "line": 3571,
                    "reviewer": {
                        "name": "Manish Baing",
                        "email": "manish.baing@intel.com",
                        "username": "manishbaing"
                    },
                    "message": "if bufferSize is always positive number then, you can use unsinged version of int."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "include/oemcommands.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "ipmi-whitelist.conf",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "src/oemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 107,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 113,
            "sizeDeletions": 0
        }
    ]
}