{
    "project": "openbmc/entity-manager",
    "branch": "master",
    "id": "Icd3978cff7f025b3c4e03d3954adacefeacd2a97",
    "number": 49418,
    "subject": "Move global variables io service and bus to local variables.",
    "owner": {
        "name": "Kumar Thangavel",
        "email": "thangavel.k@hcl.com",
        "username": "HCL-BMC"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/49418",
    "commitMessage": "Move global variables io service and bus to local variables.\n\nMoved the global variables io service and bus declaration\nto the local variable and passed as parameter to appropriate\nfunctions.\n\nThis fix to avoid the usage of global variable and declaring\nglobal variable in .hpp files while moving common FruDevice.cpp\nfunctions to FruUtils.cpp\n\nSeperating patches into small patches to achieve moving common\nfunctions from FruDevice.cpp to FruUtils.cpp.\nhttps://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/47246\n\nSigned-off-by: Kumar Thangavel <thangavel.k@hcl.com>\nChange-Id: Icd3978cff7f025b3c4e03d3954adacefeacd2a97\n",
    "createdOn": 1638878680,
    "lastUpdated": 1641326020,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1638878680,
            "reviewer": {
                "name": "Kumar Thangavel",
                "email": "thangavel.k@hcl.com",
                "username": "HCL-BMC"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1638878694,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638878984,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31424/ : SUCCESS"
        },
        {
            "timestamp": 1639567750,
            "reviewer": {
                "name": "Kumar Thangavel",
                "email": "thangavel.k@hcl.com",
                "username": "HCL-BMC"
            },
            "message": "Patch Set 1:\n\nHi All, \n\nCould you please review this patch and provide your comments if any.\n\nThanks,\nKumar."
        },
        {
            "timestamp": 1640260320,
            "reviewer": {
                "name": "Kumar Thangavel",
                "email": "thangavel.k@hcl.com",
                "username": "HCL-BMC"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1640260334,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1640260617,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/32411/ : SUCCESS"
        },
        {
            "timestamp": 1640262375,
            "reviewer": {
                "name": "Kumar Thangavel",
                "email": "thangavel.k@hcl.com",
                "username": "HCL-BMC"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1640262396,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1640262675,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/32414/ : SUCCESS"
        },
        {
            "timestamp": 1640287941,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(2 comments)\n\nlooking pretty close."
        },
        {
            "timestamp": 1640343175,
            "reviewer": {
                "name": "Kumar Thangavel",
                "email": "thangavel.k@hcl.com",
                "username": "HCL-BMC"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1640343187,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1640343473,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/32420/ : SUCCESS"
        },
        {
            "timestamp": 1640344993,
            "reviewer": {
                "name": "Kumar Thangavel",
                "email": "thangavel.k@hcl.com",
                "username": "HCL-BMC"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1641326016,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4: Code-Review+2"
        },
        {
            "timestamp": 1641326020,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully rebased and submitted as 7f43ea8a0b9f3d4606693db20fb716aeb8fa34bd"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "aef24495c575a1ff55ee508f6b8c0717ae6e45f9",
            "parents": [
                "5468c6e953f608331ff455fea51ce541ea2cd9f0"
            ],
            "ref": "refs/changes/18/49418/1",
            "uploader": {
                "name": "Kumar Thangavel",
                "email": "thangavel.k@hcl.com",
                "username": "HCL-BMC"
            },
            "createdOn": 1638878680,
            "author": {
                "name": "Kumar Thangavel",
                "email": "thangavel.k@hcl.com",
                "username": "HCL-BMC"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "src/FruDevice.cpp",
                    "type": "MODIFIED",
                    "insertions": 53,
                    "deletions": -31
                }
            ],
            "sizeInsertions": 53,
            "sizeDeletions": 31
        },
        {
            "number": 2,
            "revision": "2d50c6a92ffbe8a8b58aa8fe72fd9759cf3cc355",
            "parents": [
                "5468c6e953f608331ff455fea51ce541ea2cd9f0"
            ],
            "ref": "refs/changes/18/49418/2",
            "uploader": {
                "name": "Kumar Thangavel",
                "email": "thangavel.k@hcl.com",
                "username": "HCL-BMC"
            },
            "createdOn": 1640260320,
            "author": {
                "name": "Kumar Thangavel",
                "email": "thangavel.k@hcl.com",
                "username": "HCL-BMC"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "src/FruDevice.cpp",
                    "type": "MODIFIED",
                    "insertions": 62,
                    "deletions": -34
                }
            ],
            "sizeInsertions": 62,
            "sizeDeletions": 34
        },
        {
            "number": 3,
            "revision": "861cfdba14b6185e6b61e9ead279e79e923e562e",
            "parents": [
                "f466ccece5c08a028b173a017f7894aecfccdcde"
            ],
            "ref": "refs/changes/18/49418/3",
            "uploader": {
                "name": "Kumar Thangavel",
                "email": "thangavel.k@hcl.com",
                "username": "HCL-BMC"
            },
            "createdOn": 1640262375,
            "author": {
                "name": "Kumar Thangavel",
                "email": "thangavel.k@hcl.com",
                "username": "HCL-BMC"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/FruDevice.cpp",
                    "line": 1352,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Now that this is no longer a global, I don't think it needs to be a shared_ptr, right?"
                },
                {
                    "file": "src/FruDevice.cpp",
                    "line": 1352,
                    "reviewer": {
                        "name": "Kumar Thangavel",
                        "email": "thangavel.k@hcl.com",
                        "username": "HCL-BMC"
                    },
                    "message": "objServer accepts only shared_ptr as parameter. \n\n\"object_server(const std::shared_ptr<sdbusplus::asio::connection>& conn\" \n\nSo, we cannot use other than shared_ptr. \n\nI tried changing with unique_ptr getting compilation error.\n\nAlso, referred all *Main.Cpp files in dbus-sensors are using shared_ptr which were declared in local."
                },
                {
                    "file": "src/FruDevice.cpp",
                    "line": 1353,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit, please prefer to construct in place rather than using operator=\n\nsdbusplus::asio::object_server objServer(systemBus);"
                },
                {
                    "file": "src/FruDevice.cpp",
                    "line": 1353,
                    "reviewer": {
                        "name": "Kumar Thangavel",
                        "email": "thangavel.k@hcl.com",
                        "username": "HCL-BMC"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "src/FruDevice.cpp",
                    "type": "MODIFIED",
                    "insertions": 54,
                    "deletions": -32
                }
            ],
            "sizeInsertions": 54,
            "sizeDeletions": 32
        },
        {
            "number": 4,
            "revision": "ae682c78bf5e511e8b5b88fca6a970a760216a63",
            "parents": [
                "f466ccece5c08a028b173a017f7894aecfccdcde"
            ],
            "ref": "refs/changes/18/49418/4",
            "uploader": {
                "name": "Kumar Thangavel",
                "email": "thangavel.k@hcl.com",
                "username": "HCL-BMC"
            },
            "createdOn": 1640343175,
            "author": {
                "name": "Kumar Thangavel",
                "email": "thangavel.k@hcl.com",
                "username": "HCL-BMC"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "src/FruDevice.cpp",
                    "type": "MODIFIED",
                    "insertions": 54,
                    "deletions": -32
                }
            ],
            "sizeInsertions": 54,
            "sizeDeletions": 32
        },
        {
            "number": 5,
            "revision": "7f43ea8a0b9f3d4606693db20fb716aeb8fa34bd",
            "parents": [
                "5379f5c6417b0103394c1bd10cf13d96618e624d"
            ],
            "ref": "refs/changes/18/49418/5",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1641326020,
            "author": {
                "name": "Kumar Thangavel",
                "email": "thangavel.k@hcl.com",
                "username": "HCL-BMC"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "src/FruDevice.cpp",
                    "type": "MODIFIED",
                    "insertions": 54,
                    "deletions": -32
                }
            ],
            "sizeInsertions": 54,
            "sizeDeletions": 32
        }
    ]
}