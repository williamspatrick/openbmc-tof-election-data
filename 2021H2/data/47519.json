{
    "project": "openbmc/docs",
    "branch": "master",
    "id": "I36fd056ea9c41496b422c5a9d8a9eb8c0efb613c",
    "number": 47519,
    "subject": "PLDM transport layer wrapper",
    "owner": {
        "name": "Naveen Moses ",
        "email": "naveen.mosess@hcl.com",
        "username": "naveenmosess"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/docs/+/47519",
    "commitMessage": "PLDM transport layer wrapper\n\nThis design explains design of common pldm requester apis\nwhich extends  pldm requests over multiple\nsupported transport layers.\n\nSigned-off-by: Naveen Moses <naveen.mosess@hcl.com>\nChange-Id: I36fd056ea9c41496b422c5a9d8a9eb8c0efb613c\n",
    "createdOn": 1633529588,
    "lastUpdated": 1641476514,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1633529588,
            "reviewer": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1633531126,
            "reviewer": {
                "name": "Deepak Kodihalli",
                "email": "deepak.kodihalli.83@gmail.com",
                "username": "dkodihal"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1633637876,
            "reviewer": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1634570306,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1: Code-Review-1\n\n(1 comment)"
        },
        {
            "timestamp": 1635235240,
            "reviewer": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1635430627,
            "reviewer": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "message": "Patch Set 2:\n\nHi All, If possible could you check and review the PLDM transport layer wrapper design\nproposal?"
        },
        {
            "timestamp": 1637844389,
            "reviewer": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "message": "Patch Set 2:\n\nHi All,If possible could you please review the pldm transport wrapper design.\nThanks"
        },
        {
            "timestamp": 1638159845,
            "reviewer": {
                "name": "Sumanth Bhat",
                "email": "sumanth.bhat@linux.intel.com",
                "username": "sumbhat90"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1638176584,
            "reviewer": {
                "name": "Deepak Kodihalli",
                "email": "deepak.kodihalli.83@gmail.com",
                "username": "dkodihal"
            },
            "message": "Patch Set 2:\n\n(11 comments)"
        },
        {
            "timestamp": 1638367115,
            "reviewer": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "message": "Patch Set 2:\n\n(11 comments)\n\nBased on the last PLDM discussion it is decided to not expose the transport layer parameters such as mcto communication socket,EID in the \npldm requester api.I'm working on the design to adapt terminus id based transport layer wrapper and will update the design document."
        },
        {
            "timestamp": 1640615510,
            "reviewer": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1641476514,
            "reviewer": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "ff69b47aad7d38ce50542c8f66b859b871cf4e67",
            "parents": [
                "2cbf57a8a0bb8d95b0e19b7fc27c4f95cbd8609a"
            ],
            "ref": "refs/changes/19/47519/1",
            "uploader": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "createdOn": 1633529588,
            "author": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 17,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Haven't completed reviewing the doc, but I'm not following what you mean by FRU device in this design (referred to in many places). Can you please clarify?"
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 17,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "I meant FRU or the device which is the PLDM endpoint which we communicate through PLDM messages."
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 39,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "We're already not suppose to have shared libraries and interaction via shared libraries.  Adding another shared library on top of this to support PLDM-over-MCTP and PLDM-over-NCSI is a further violation of this architecture statement.\n\nWhy doesn't the PLDM repository support either end-point if that is appropriate?  This does not seem necessary to put in a higher level library, but it should be contained in the lower level.  \n\nStated another way: an application should not care if it is PLDM-over-X, but just that it is PLDM.  And adding a \"wrapper\" seems to be in agreement with that.  So, get PLDM to support the different transports natively."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "type": "ADDED",
                    "insertions": 159,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 159,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "64b99d5e5a453791dc90a11be0faef4a38ef3304",
            "parents": [
                "f90a2bd7769b7f86c3b8079d00171ff054a103f8"
            ],
            "ref": "refs/changes/19/47519/2",
            "uploader": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "createdOn": 1635235240,
            "author": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 13,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "nit: might be confusing to use the term library here."
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 13,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 17,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "please run doc through spell check."
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 17,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 21,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "This line seems to contradict with line 19. Do you expect PLDM type specific requester/responder code (like FW udpate, M&C etc.) to provide transport specific params for every request/response call?"
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 21,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 51,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Are we going to introduce new libs?"
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 51,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 60,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Do we want to exclude a case of transporting PLDM over MCTP and NC-SI for the same platform?"
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 60,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 66,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "It seems incorrect to assume a value for this. Why is TID relevant here?"
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 66,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 71,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Not following this. An example may help."
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 71,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 115,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "I think we are mixing up TID as defined in the PLDM specs with something else."
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 115,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 117,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "libpldm is C only."
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 117,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 154,
                    "reviewer": {
                        "name": "Sumanth Bhat",
                        "email": "sumanth.bhat@linux.intel.com",
                        "username": "sumbhat90"
                    },
                    "message": "I think this need not be exposed to the consumer of wrapper, right? I thought the idea was to have the wrapper abstract out the required transport details"
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 154,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "+1."
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 154,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 174,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "This is getting a lot into API details (which may be fine), but we need more details on the abstraction and instantiation of transports - how does pldmd talk to the MCTP stack or the NC-SI stack as need be, without exposing the transport details to all of pldm requester/responder code."
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "line": 174,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "type": "ADDED",
                    "insertions": 298,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 298,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "876f12accd264641bd7d4e9e117c814aafccb2e2",
            "parents": [
                "f257823b95ed7295bebf36fce929262f54f8042e"
            ],
            "ref": "refs/changes/19/47519/3",
            "uploader": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "createdOn": 1640615510,
            "author": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Hi All, If possible, could you review this updated PLDM transport wrapper design based on\nPLDM terminus ID.\nThanks"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/pldm-transport-layer-wrapper.md",
                    "type": "ADDED",
                    "insertions": 198,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 198,
            "sizeDeletions": 0
        }
    ]
}