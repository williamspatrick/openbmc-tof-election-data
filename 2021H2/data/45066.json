{
    "project": "openbmc/smbios-mdr",
    "branch": "master",
    "id": "Iaf2e130b682ec47d3b522bc07fa7859aeba559ae",
    "number": 45066,
    "subject": "Fix dimm present and functional property to true for robot test",
    "owner": {
        "name": "Tim Lee",
        "email": "timlee660101@gmail.com",
        "username": "timlee66"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/smbios-mdr/+/45066",
    "commitMessage": "Fix dimm present and functional property to true for robot test\n\nSymptom:\nAuto test got failed from ipmi/test_ipmi_sdr.robot\nTest DIMM SDR Info At Power Off | FAIL |\nTest DIMM SDR Info At Power On  | FAIL |\n\nRoot cause:\nRead \"Present\" property from \"Verify SDR\" keyword and got unexpected result.\nThen cause test item \"Test DIMM SDR Info At Power On\" and\n\"Test DIMM SDR Info At Power Off\" both got failed.\n\n\"Present\" property ${presence_rest} got false value from\n/xyz/openbmc_project/inventory/system/chassis/motherboard/dimmX path\nthat didn't match expectation of auto test item as below:\n\nIf ${presence_ipmi} output is \"Presence Detected\"\nthen ${presence_rest} and ${functional_rest} should be true.\n\nHowever, ${presence_rest} is false and another \"Functional\" property\ndidn't be added correctly according current design.\nThen cause both DIMM SDR Info test items got failed.\n\nExample of IPMI SDR elist output (ipmitool sdr elist command)\ndimm0            | 72h | ok  | 32.25 | Presence Detected\ndimm1            | 73h | ok  | 32.26 | Presence Detected\ndimm2            | 74h | ok  | 32.27 | Presence Detected\n(For example: our host inlcude one DDR4 at dimm0 is DDR4,\n dimm1 and dimm2 are NO DIMM, but output is Presence Detected also)\n\nSolution:\nAccording ipmi sdr elist output \"Presence Detected\", we need to set\npresent property to true and add functional property with true by default.\n\nTested:\nRun robot test ipmi/test_ipmi_sdr.robot\nTest DIMM SDR Info At Power Off | PASS |\nTest DIMM SDR Info At Power On  | PASS |\n\nSigned-off-by: Tim Lee <timlee660101@gmail.com>\nChange-Id: Iaf2e130b682ec47d3b522bc07fa7859aeba559ae\n",
    "createdOn": 1626759144,
    "lastUpdated": 1634106546,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1626759144,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1626759169,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1626759222,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/22343/ : FAILURE"
        },
        {
            "timestamp": 1626759502,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1626759514,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1626759882,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/22344/ : SUCCESS"
        },
        {
            "timestamp": 1626760225,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Patch Set 2:\n\nHello Joshi, Patrick,\nCould you please help me to review this commit and merge it?\nDue to we meet auto test DIMM SDR Info both got failed.\n\nSincerely,\nTim"
        },
        {
            "timestamp": 1627424525,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2:\n\n> Hello Patrick,\n> Could you please help me to review this commit and merge it?\n\nI'm not a maintainer on this repository and have no domain expertise.  Are you looking for someone else?"
        },
        {
            "timestamp": 1627435328,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Patch Set 2:\n\nHello Joshi,\nCould you please help me to review this commit?\n\nThanks\nTim"
        },
        {
            "timestamp": 1627435525,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Patch Set 2:\n\n> Patch Set 2:\n> \n> > Hello Patrick,\n> > Could you please help me to review this commit and merge it?\n> \n> I'm not a maintainer on this repository and have no domain expertise.  Are you looking for someone else?\n\nHi Patrick,\nYes, I'm looking someone for reviewing this. Thanks your review.\n\nBest regards,\nTim"
        },
        {
            "timestamp": 1627439827,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2:\n\n(1 comment)\n\nLooks fine in general to me."
        },
        {
            "timestamp": 1627440964,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1627471046,
            "reviewer": {
                "name": "Mansi Joshi",
                "email": "mansi.joshi@linux.intel.com",
                "username": "Joshi-Mansi"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1627530125,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1627550761,
            "reviewer": {
                "name": "Mansi Joshi",
                "email": "mansi.joshi@linux.intel.com",
                "username": "Joshi-Mansi"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1627963223,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1627982533,
            "reviewer": {
                "name": "Mansi Joshi",
                "email": "mansi.joshi@linux.intel.com",
                "username": "Joshi-Mansi"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1628017886,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1628047268,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1628587797,
            "reviewer": {
                "name": "Mansi Joshi",
                "email": "mansi.joshi@linux.intel.com",
                "username": "Joshi-Mansi"
            },
            "message": "Patch Set 2: -Code-Review\n\n(1 comment)"
        },
        {
            "timestamp": 1628671636,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Patch Set 2:\n\nHi Mansi and Zhikui,\nThanks your feedback. Now, I understand your question about \"State\" from redfish.\nThis auto test is about \"Verify IPMI sensor data record for given component with Redfish.\"\nin \"Verify SDR\" keyword, but that is not get \"State\" property from redfish.\n\nCurrently, this test item is using REST method to check sdr information.\nThus, when we got \"Presence Detected\" through ipmi sdr elist command.\nThe property \"Present\" and \"Functional\" should be true in below condition.\n\n...  ELSE IF  '${presence_ipmi}' == 'Presence Detected' or '${presence_ipmi}' == 'Presence detected'\n...    Should Be True  ${presence_rest} == ${1} and ${functional_rest} == ${1}\n\nI think this issue is relate to consistent between auto test item and smbios-mdrv2.\nFrom redfish viewpoint, auto test item (test_ipmi_sdr.robot)\nshould change verify method to redfish, right?\n\nCurrent auto test using REST method to verify sdr information:\n${presence_rest}=  Read Attribute\n...  ${HOST_INVENTORY_URI}system/chassis/motherboard/${component_name}\n...  Present\n${functional_rest}=  Read Attribute\n...  ${HOST_INVENTORY_URI}system/chassis/motherboard/${component_name}\n...  Functional\n\nRun Keyword If  '${presence_ipmi}' == 'Disabled'\n...    Should Be True  ${presence_rest} == ${0} and ${functional_rest} == ${0}\n...  ELSE IF  '${presence_ipmi}' == 'Presence Detected' or '${presence_ipmi}' == 'Presence detected'\n...    Should Be True  ${presence_rest} == ${1} and ${functional_rest} == ${1}\n...  ELSE IF  '${presence_ipmi}' == 'State Asserted'\n...    Should Be True  ${presence_rest} == ${1} and ${functional_rest} == ${1}\n...  ELSE IF  '${presence_ipmi}' == 'State Deasserted'\n...    Should Be True  ${presence_rest} == ${1} and ${functional_rest} == ${0}\n...  ELSE  Fail  msg=Invalid Presence${presence_ipmi}\n\nThanks.\nTim"
        },
        {
            "timestamp": 1629155140,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 2:\n\n(1 comment)\n\n> Patch Set 2:\n> \n> Hi Mansi and Zhikui,\n> Thanks your feedback. Now, I understand your question about \"State\" from redfish.\n> This auto test is about \"Verify IPMI sensor data record for given component with Redfish.\"\n> in \"Verify SDR\" keyword, but that is not get \"State\" property from redfish.\n> \n> Currently, this test item is using REST method to check sdr information.\n> Thus, when we got \"Presence Detected\" through ipmi sdr elist command.\n> The property \"Present\" and \"Functional\" should be true in below condition.\n> \n> ...  ELSE IF  '${presence_ipmi}' == 'Presence Detected' or '${presence_ipmi}' == 'Presence detected'\n> ...    Should Be True  ${presence_rest} == ${1} and ${functional_rest} == ${1}\n> \n> I think this issue is relate to consistent between auto test item and smbios-mdrv2.\n> From redfish viewpoint, auto test item (test_ipmi_sdr.robot)\n> should change verify method to redfish, right?\n> \n> Current auto test using REST method to verify sdr information:\n> ${presence_rest}=  Read Attribute\n> ...  ${HOST_INVENTORY_URI}system/chassis/motherboard/${component_name}\n> ...  Present\n> ${functional_rest}=  Read Attribute\n> ...  ${HOST_INVENTORY_URI}system/chassis/motherboard/${component_name}\n> ...  Functional\n> \n> Run Keyword If  '${presence_ipmi}' == 'Disabled'\n> ...    Should Be True  ${presence_rest} == ${0} and ${functional_rest} == ${0}\n> ...  ELSE IF  '${presence_ipmi}' == 'Presence Detected' or '${presence_ipmi}' == 'Presence detected'\n> ...    Should Be True  ${presence_rest} == ${1} and ${functional_rest} == ${1}\n> ...  ELSE IF  '${presence_ipmi}' == 'State Asserted'\n> ...    Should Be True  ${presence_rest} == ${1} and ${functional_rest} == ${1}\n> ...  ELSE IF  '${presence_ipmi}' == 'State Deasserted'\n> ...    Should Be True  ${presence_rest} == ${1} and ${functional_rest} == ${0}\n> ...  ELSE  Fail  msg=Invalid Presence${presence_ipmi}\n> \n> Thanks.\n> Tim\n\nTim,\nThanks for the details. I think presence_detected for ipmit sdr elist should be consistent with redfish. In other words, for dimm it should be set tru when dimm is detected not when there is a connector. It is ipmi SDR that needs to be corrected."
        },
        {
            "timestamp": 1629789999,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1629790010,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1629790350,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/24868/ : SUCCESS"
        },
        {
            "timestamp": 1629795180,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Patch Set 3:\n\nHi Mansi and Zhikui,\nThanks your help to review and provide more detail about this commit.\nLike you said that presence_detected for \"ipmi sdr elist\" should be consistent with redfish.\nThus, dimm it should be set true when dimm is detected not only when there is a connector.\n\nYes, from bmcweb the present property is read from here\nthen set [\"Status\"][\"State\"] = \"Absent\" or \"Enabled\" according present property.\n\nThus, I rollback to follow original present property setting.\nHowever, we also need to add \"functional\" property setting according auto test.\nWhen \"Presence Detected\" then functional property need to set true as present property.\nWhen \"Disabled\" then functional property need to set false as present property.\n\nPlease help to review this patch for pass ipmi dimm sdr test items. Thank you.\nTest DIMM SDR Info At Power On\nTest DIMM SDR Info At Power Off\n\nVerify SDR keyword:\nRun Keyword If  '${presence_ipmi}' == 'Disabled' or '${presence_ipmi}' == ''\n...    Should Be True  ${presence_rest} == ${0} and ${functional_rest} == ${0}\n...  ELSE IF  '${presence_ipmi}' == 'Presence Detected' or '${presence_ipmi}' == 'Presence detected'\n...    Should Be True  ${presence_rest} == ${1} and ${functional_rest} == ${1}\n\nTested:\nRun robot test ipmi/test_ipmi_sdr.robot\nTest DIMM SDR Info At Power Off | PASS |\nTest DIMM SDR Info At Power On  | PASS |\n\nSincerely,\nTim"
        },
        {
            "timestamp": 1630285927,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Patch Set 4: Commit message was updated."
        },
        {
            "timestamp": 1630285978,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Patch Set 4:\n\nHello George,\nThis commit is relate to below merged commit, could you help to review it also? Thank you.\nhttps://gerrit.openbmc-project.xyz/c/openbmc/openbmc-test-automation/+/46166\n\nSincerely,\nTim"
        },
        {
            "timestamp": 1630350462,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 4: Code-Review+1\n\nLGTM"
        },
        {
            "timestamp": 1630613254,
            "reviewer": {
                "name": "Mansi Joshi",
                "email": "mansi.joshi@linux.intel.com",
                "username": "Joshi-Mansi"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1630984630,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Removed reviewer Joseph Liu."
        },
        {
            "timestamp": 1631313056,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 4:\n\nWaiting for @Joseph Liu, who was added by Owner"
        },
        {
            "timestamp": 1631322760,
            "reviewer": {
                "name": "Joseph Liu",
                "email": "kwliu@nuvoton.com",
                "username": "maxdog988"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1631514212,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Patch Set 4:\n\n> Patch Set 4:\n> \n> Waiting for @Joseph Liu, who was added by Owner\n\nHi Zhikui,\nJoseph Liu had reviewed, could you help us to merge this commit? Thank you!\n\nBest regards,\nTim"
        },
        {
            "timestamp": 1631607117,
            "reviewer": {
                "name": "AppaRao Puli",
                "email": "apparao.puli@linux.intel.com",
                "username": "apuli1"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1631614174,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1632442985,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Patch Set 4:\n\nHi Zhikui, Mansi,\nCould you please kindly merge this commit if there is no any question?\nI had answer all the open question and reply done. Thank you.\n\nSincerely,\nTim"
        },
        {
            "timestamp": 1633133054,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 4:\n\n> Patch Set 4:\n> \n> Hi Zhikui, Mansi,\n> Could you please kindly merge this commit if there is no any question?\n> I had answer all the open question and reply done. Thank you.\n> \n> Sincerely,\n> Tim\n\nWaiting for Appu to ACK on the reply for the last comment"
        },
        {
            "timestamp": 1633393065,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Patch Set 4:\n\nHi AppaRao,\nCould you please help to reply the last comment?\nLooking forward your quick response. Thank you.\n\nSincerely,\nTim"
        },
        {
            "timestamp": 1633415934,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1633415949,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633415973,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/27460/ : FAILURE"
        },
        {
            "timestamp": 1633416104,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1633416114,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633416478,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/27461/ : SUCCESS"
        },
        {
            "timestamp": 1633425085,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Patch Set 6:\n\nMerge conflict already fixed and update to the latest commit.\nPlease help us to merge this commit again. Thanks in advance."
        },
        {
            "timestamp": 1633499155,
            "reviewer": {
                "name": "Mansi Joshi",
                "email": "mansi.joshi@linux.intel.com",
                "username": "Joshi-Mansi"
            },
            "message": "Patch Set 6: Code-Review+1"
        },
        {
            "timestamp": 1633568891,
            "reviewer": {
                "name": "Joseph Liu",
                "email": "kwliu@nuvoton.com",
                "username": "maxdog988"
            },
            "message": "Patch Set 6: Code-Review+1"
        },
        {
            "timestamp": 1634074242,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 6: Code-Review+2\n\nIt has been more than a week with multiple +1,  Give it +2"
        },
        {
            "timestamp": 1634106546,
            "reviewer": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "message": "Change has been successfully rebased and submitted as dc469c74cfb58cc8f4d7646c94f53f1f327d4817 by Tim Lee"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "2bf29e1b6eaf8896113e8209655224b44ef03ffd",
            "parents": [
                "a427dd1de9e765861a52ce0f73021a282cc6ce4c"
            ],
            "ref": "refs/changes/66/45066/1",
            "uploader": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "createdOn": 1626759144,
            "author": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 47,
                    "deletions": 0
                },
                {
                    "file": "include/dimm.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -1
                },
                {
                    "file": "src/dimm.cpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 25,
            "sizeDeletions": 5
        },
        {
            "number": 2,
            "revision": "afeeda608d7d1ac9ce04ba70e6c47722a9353e8b",
            "parents": [
                "a427dd1de9e765861a52ce0f73021a282cc6ce4c"
            ],
            "ref": "refs/changes/66/45066/2",
            "uploader": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "createdOn": 1626759502,
            "author": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/dimm.cpp",
                    "line": 85,
                    "reviewer": {
                        "name": "Mansi Joshi",
                        "email": "mansi.joshi@linux.intel.com",
                        "username": "Joshi-Mansi"
                    },
                    "message": "Directly passing true in the argument? No failure check?"
                },
                {
                    "file": "src/dimm.cpp",
                    "line": 85,
                    "reviewer": {
                        "name": "Tim Lee",
                        "email": "timlee660101@gmail.com",
                        "username": "timlee66"
                    },
                    "message": "Yes. we just need to set \"present\" property as true\nby using present() function directly. Thus, I pass the true in the argument."
                },
                {
                    "file": "src/dimm.cpp",
                    "line": 85,
                    "reviewer": {
                        "name": "Mansi Joshi",
                        "email": "mansi.joshi@linux.intel.com",
                        "username": "Joshi-Mansi"
                    },
                    "message": "My bad, my question was more like: this will show present=true in case of \"NO DIMM\" as well, right? Is that correct?"
                },
                {
                    "file": "src/dimm.cpp",
                    "line": 85,
                    "reviewer": {
                        "name": "Tim Lee",
                        "email": "timlee660101@gmail.com",
                        "username": "timlee66"
                    },
                    "message": "Mansi, thanks your explanation.\n\nWhen Sensor Type is \"Memory\" and Sensor Type Code is \"0Ch\".\nAccording Sensor-specified Offset \"06h\" as below:\n\n\"Presence Detected. Indicates presence of entity associated with the sensor. Typically the entity will be a \"memory module\" or other entity representing a physically replaceable unit of memory.\"\n\nHowever, the definition of memory module means \"board holding memory devices\".\nThus, even \"NO DIMM\" on memory module, but memory module still present on motherboard.\nThat's why we set present=true for all memory modules on motherboard when \"Presence Detected\"."
                },
                {
                    "file": "src/dimm.cpp",
                    "line": 85,
                    "reviewer": {
                        "name": "Mansi Joshi",
                        "email": "mansi.joshi@linux.intel.com",
                        "username": "Joshi-Mansi"
                    },
                    "message": "Oh I see, this is more like slot is present and so this property will be set to true even though dimm is not present. \nIn that case, it is fine to me with your explanation."
                },
                {
                    "file": "src/dimm.cpp",
                    "line": 85,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "This is a change in what presence mean in this context. How would this affect Redfish?"
                },
                {
                    "file": "src/dimm.cpp",
                    "line": 85,
                    "reviewer": {
                        "name": "Tim Lee",
                        "email": "timlee660101@gmail.com",
                        "username": "timlee66"
                    },
                    "message": "According \"Verify SDR\" keyword in auto test robot test_ipmi_sdr.robot.\n${presence_rest} is getting from ${HOST_INVENTORY_URI}system/chassis/motherboard/${component_name}\nthat is not get from redfish url.\n\nVerify SDR\n    [Documentation]  Verify IPMI sensor data record for given component\n    ...  with Redfish.\n    [Arguments]  ${component_name}\n\n    # Description of argument(s):\n    # component_name    Component name (e.g. \"cpu0/core0\", \"dimm0\", etc.).\n\n    ${presence_rest}=  Read Attribute\n    ...  ${HOST_INVENTORY_URI}system/chassis/motherboard/${component_name}\n    ...  Present"
                },
                {
                    "file": "src/dimm.cpp",
                    "line": 85,
                    "reviewer": {
                        "name": "Mansi Joshi",
                        "email": "mansi.joshi@linux.intel.com",
                        "username": "Joshi-Mansi"
                    },
                    "message": "Hey yes, but Zhikui's question is valid.\nFrom bmcweb, present property is read from here. Please refer below patch.\nhttps://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/41415\n\nSo you assigning \"true\" meaning redfish will always show \"enabled\" even though dimm is not present.\n\nBelow is the description of this property from redfish side:\n                \"State\": {\n                    \"anyOf\": [\n                        {\n                            \"$ref\": \"#/definitions/State\"\n                        },\n                        {\n                            \"type\": \"null\"\n                        }\n                    ],\n                    \"description\": \"The known state of the resource, such as, enabled.\",\n                    \"longDescription\": \"This property shall indicate whether and why this component is available.  Enabled indicates the resource is available.  Disabled indicates the resource has been intentionally made unavailable but it can be enabled.  Offline indicates the resource is unavailable intentionally and requires action to make it available.  InTest indicates that the component is undergoing testing.  Starting indicates that the resource is becoming available.  Absent indicates the resource is physically unavailable.\",\n                    \"readonly\": true\n                }"
                },
                {
                    "file": "src/dimm.cpp",
                    "line": 85,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "I guess my question is what makes sdr elist to output Presence Detected?\nI don't see them in my system."
                },
                {
                    "file": "src/dimm.cpp",
                    "line": 251,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I'm a little surprised these do-nothing interfaces are needed.  Did you get into a compile failure without this?  I do see you're just following the pattern here but I don't think most of these are necessary."
                },
                {
                    "file": "src/dimm.cpp",
                    "line": 251,
                    "reviewer": {
                        "name": "Tim Lee",
                        "email": "timlee660101@gmail.com",
                        "username": "timlee66"
                    },
                    "message": "Yes. I just follow the pattern \"present\" and without this definition that will got failed when compiling."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 47,
                    "deletions": 0
                },
                {
                    "file": "include/dimm.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -1
                },
                {
                    "file": "src/dimm.cpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 25,
            "sizeDeletions": 5
        },
        {
            "number": 3,
            "revision": "69ef8cca3004ef89bac0db7a4f70efff3e8808e5",
            "parents": [
                "a427dd1de9e765861a52ce0f73021a282cc6ce4c"
            ],
            "ref": "refs/changes/66/45066/3",
            "uploader": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "createdOn": 1629789999,
            "author": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 47,
                    "deletions": 0
                },
                {
                    "file": "include/dimm.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -1
                },
                {
                    "file": "src/dimm.cpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 15,
            "sizeDeletions": 1
        },
        {
            "number": 4,
            "revision": "e0b4a0227d015b278341a6228ff045fde88da478",
            "parents": [
                "a427dd1de9e765861a52ce0f73021a282cc6ce4c"
            ],
            "ref": "refs/changes/66/45066/4",
            "uploader": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "createdOn": 1630285927,
            "author": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "src/dimm.cpp",
                    "line": 186,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "This is dimm presence flag not functional.\n\nWhat is method to determine the DIMM functional or not? Do you have any code to correctly update this functional property instead of using present flag?"
                },
                {
                    "file": "src/dimm.cpp",
                    "line": 186,
                    "reviewer": {
                        "name": "Tim Lee",
                        "email": "timlee660101@gmail.com",
                        "username": "timlee66"
                    },
                    "message": "The \"Present\" property is set according smbios file for physically not present\ndimms details are filled as \"NO DIMM\".\n\nThus, we leverage \"Present\" property according below commit:\n\"Get Present property for Dimms\"\nhttps://github.com/openbmc/smbios-mdr/commit/33c948a473bd273fea0cff82d4c99b70b7784be6\n\nBTW, we also found that test item \"Verify DIMM Functional State\"\nin test_inventory.robot. The \"Present\" DIMM property should be true\nif \"Functional\" DIMM property is set.\nAccording this test item design, these properties are related.\nThus, We update \"Functional\" property with \"Present\" property.\n\nVerify DIMM Functional State\n    [Documentation]  Verify that \"Present\" DIMM property is set if \"Functional\"\n    ...              DIMM property is set.\n    [Tags]  Verify_DIMM_Functional_State\n\n    ${dimm_list}=  Get Endpoint Paths  ${HOST_INVENTORY_URI}system  dimm\n    FOR  ${dimm_uri}  IN  @{dimm_list}\n      ${status}=  Run Keyword And Return Status\n      ...  Check URL Property Is Functional  ${dimm_uri}\n      Continue For Loop If  '${status}' == '${False}'\n      ${present}=  Read Attribute  ${dimm_uri}  Present\n      Should Be True  ${present}\n      ...  msg=${dimm_uri} is functional but not present.\n    END"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "include/dimm.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -1
                },
                {
                    "file": "src/dimm.cpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 15,
            "sizeDeletions": 1
        },
        {
            "number": 5,
            "revision": "6e07e33a68c59af5988dd07006964c50308f9257",
            "parents": [
                "e7cf319564add70c5d09bf069db51017e0cb9db7"
            ],
            "ref": "refs/changes/66/45066/5",
            "uploader": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "createdOn": 1633415934,
            "author": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 47,
                    "deletions": 0
                },
                {
                    "file": "include/dimm.hpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": -2
                },
                {
                    "file": "src/dimm.cpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 16,
            "sizeDeletions": 2
        },
        {
            "number": 6,
            "revision": "09e8878ed35a60f67ba7b28b264e54315f25d7f1",
            "parents": [
                "e7cf319564add70c5d09bf069db51017e0cb9db7"
            ],
            "ref": "refs/changes/66/45066/6",
            "uploader": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "createdOn": 1633416104,
            "author": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 47,
                    "deletions": 0
                },
                {
                    "file": "include/dimm.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -2
                },
                {
                    "file": "src/dimm.cpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 15,
            "sizeDeletions": 2
        },
        {
            "number": 7,
            "revision": "dc469c74cfb58cc8f4d7646c94f53f1f327d4817",
            "parents": [
                "9ab8c8d8fb5e7a29869f42be1fef75d8205ea556"
            ],
            "ref": "refs/changes/66/45066/7",
            "uploader": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "createdOn": 1634106546,
            "author": {
                "name": "Tim Lee",
                "email": "timlee660101@gmail.com",
                "username": "timlee66"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 47,
                    "deletions": 0
                },
                {
                    "file": "include/dimm.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -2
                },
                {
                    "file": "src/dimm.cpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 15,
            "sizeDeletions": 2
        }
    ]
}