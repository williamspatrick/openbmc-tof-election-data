{
    "project": "openbmc/phosphor-host-ipmid",
    "branch": "master",
    "id": "Id2253a9c0060e892bc318dd02a6221ac1a2ae2d9",
    "number": 29049,
    "subject": "Update Host State Transition function",
    "owner": {
        "name": "Jason Bills",
        "email": "jason.m.bills@linux.intel.com",
        "username": "jmbills"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-host-ipmid/+/29049",
    "commitMessage": "Update Host State Transition function\n\nThis updates the Host State Transition function to use the new\nIPMI DBus APIs for transition requests.\n\nTested:\nRan each IPMI chassis control command to confirm the expected\nbehavior:\nipmitool power on: system is powered-on\nipmitool power off: system is forced off\nipmitool power cycle: system is forced off then powered-on\nipmitool power reset: system is hard reset\nipmitool power soft: soft power-off requested from system software\n\nChange-Id: Id2253a9c0060e892bc318dd02a6221ac1a2ae2d9\nSigned-off-by: Jason M. Bills <jason.m.bills@linux.intel.com>\nSigned-off-by: Vernon Mauery <vernon.mauery@linux.intel.com>\n",
    "createdOn": 1580850712,
    "lastUpdated": 1637630052,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1580850712,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1580850739,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1580850753,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 1:\n\nBuild Started https://openpower.xyz/job/openbmc-repository-ci/42965/"
        },
        {
            "timestamp": 1580850944,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://openpower.xyz/job/openbmc-repository-ci/42965/ : SUCCESS"
        },
        {
            "timestamp": 1580919652,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Patch Set 1: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1580928506,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1580928531,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1580928546,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 2:\n\nBuild Started https://openpower.xyz/job/openbmc-repository-ci/43050/"
        },
        {
            "timestamp": 1580928635,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1580928720,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://openpower.xyz/job/openbmc-repository-ci/43050/ : SUCCESS"
        },
        {
            "timestamp": 1580929688,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1580931557,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1631213289,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Uploaded patch set 3: Patch Set 2 was rebased."
        },
        {
            "timestamp": 1631213303,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1631213377,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/26044/ : FAILURE"
        },
        {
            "timestamp": 1631214119,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1631214133,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1631214521,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/26047/ : SUCCESS"
        },
        {
            "timestamp": 1636506539,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1636506558,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1636506710,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/29993/ : SUCCESS"
        },
        {
            "timestamp": 1636506741,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 5:\n\nThis is rebased and updated to use the yielding dbus APIs"
        },
        {
            "timestamp": 1636593013,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1636593027,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1636593116,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 6:\n\nMissed one blocking dbus call. Fixed."
        },
        {
            "timestamp": 1636593185,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/30115/ : SUCCESS"
        },
        {
            "timestamp": 1636686132,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1637087229,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1637088436,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1637088464,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1637088893,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/30346/ : SUCCESS"
        },
        {
            "timestamp": 1637111425,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Patch Set 7: Code-Review+1"
        },
        {
            "timestamp": 1637166274,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Patch Set 7: Code-Review+1"
        },
        {
            "timestamp": 1637168894,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 7: Code-Review+1"
        },
        {
            "timestamp": 1637630040,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 7: Code-Review+2"
        },
        {
            "timestamp": 1637630052,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Change has been successfully rebased and submitted as 664e1c31f7981fceb1b0a05c19229859631b7e6f by Vernon Mauery"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "f3e71beebbe8ee0595b188ea23277d5de26bc7cb",
            "parents": [
                "930104a86aa997ba91bd6d588eb3abda39c2fa52"
            ],
            "ref": "refs/changes/49/29049/1",
            "uploader": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "createdOn": 1580850712,
            "author": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "I think the somewhat confusing part here is this isn't really updating any behavior in this commit, just refactoring the code to be a bit more efficient and standard. This overall commit series though does do some updates to behavior."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "Yep, this wording was very confusing.  I clarified that this is only changing the function to use the new DBus APIs.  Let me know if I need to clarify further.  Thanks!"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "chassishandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -46
                }
            ],
            "sizeInsertions": 18,
            "sizeDeletions": 46
        },
        {
            "number": 2,
            "revision": "854d08cef2a7c8d78f697918bd6734fce5a77c67",
            "parents": [
                "e9f8857a66c5df61a4e795a7d71b035fd89b92ef"
            ],
            "ref": "refs/changes/49/29049/2",
            "uploader": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "createdOn": 1580928506,
            "author": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "chassishandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -46
                }
            ],
            "sizeInsertions": 18,
            "sizeDeletions": 46
        },
        {
            "number": 3,
            "revision": "857324d866855eec186078888e802bda794e871e",
            "parents": [
                "7a3296df0c2f9b8e04e5b60942fba086f999e1b9"
            ],
            "ref": "refs/changes/49/29049/3",
            "uploader": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "createdOn": 1631213289,
            "author": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "chassishandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -46
                }
            ],
            "sizeInsertions": 18,
            "sizeDeletions": 46
        },
        {
            "number": 4,
            "revision": "a053e86365c554153be53003b1dc2b3e53788cd4",
            "parents": [
                "7a3296df0c2f9b8e04e5b60942fba086f999e1b9"
            ],
            "ref": "refs/changes/49/29049/4",
            "uploader": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "createdOn": 1631214119,
            "author": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "chassishandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -47
                }
            ],
            "sizeInsertions": 19,
            "sizeDeletions": 47
        },
        {
            "number": 5,
            "revision": "31a032c5070000e5a6c8213cf84ea4da093fa372",
            "parents": [
                "846af8644d9ba143558a7b1c770b0bfb957cd4d2"
            ],
            "ref": "refs/changes/49/29049/5",
            "uploader": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "createdOn": 1636506539,
            "author": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "chassishandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -50
                }
            ],
            "sizeInsertions": 23,
            "sizeDeletions": 50
        },
        {
            "number": 6,
            "revision": "ef405f6422183b16cdf2e0572206dcd33327fc85",
            "parents": [
                "846af8644d9ba143558a7b1c770b0bfb957cd4d2"
            ],
            "ref": "refs/changes/49/29049/6",
            "uploader": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "createdOn": 1636593013,
            "author": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "chassishandler.cpp",
                    "line": 864,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "Did we lose this log on purpose? Without any type of audit this is one of the cookie crumbs that the request came from IPMI."
                },
                {
                    "file": "chassishandler.cpp",
                    "line": 864,
                    "reviewer": {
                        "name": "Vernon Mauery",
                        "email": "vernon.mauery@linux.intel.com",
                        "username": "vmauery"
                    },
                    "message": "I am not sure, Jason could comment, but also I don't have any problem with putting it back. So I will do that."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "chassishandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": -51
                }
            ],
            "sizeInsertions": 28,
            "sizeDeletions": 51
        },
        {
            "number": 7,
            "revision": "51ba37f217dc5137cc56c8bee5c20e7dc4db9ea3",
            "parents": [
                "846af8644d9ba143558a7b1c770b0bfb957cd4d2"
            ],
            "ref": "refs/changes/49/29049/7",
            "uploader": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "createdOn": 1637088436,
            "author": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "chassishandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -51
                }
            ],
            "sizeInsertions": 31,
            "sizeDeletions": 51
        },
        {
            "number": 8,
            "revision": "664e1c31f7981fceb1b0a05c19229859631b7e6f",
            "parents": [
                "78fe1b14f60d55ae335369fb2c6e81ed9ac6d865"
            ],
            "ref": "refs/changes/49/29049/8",
            "uploader": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "createdOn": 1637630052,
            "author": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "chassishandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -51
                }
            ],
            "sizeInsertions": 31,
            "sizeDeletions": 51
        }
    ]
}