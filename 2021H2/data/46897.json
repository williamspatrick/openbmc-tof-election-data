{
    "project": "openbmc/phosphor-host-ipmid",
    "branch": "master",
    "id": "I908b21baf47220c8556ad92446a9cb04879090d4",
    "number": 46897,
    "subject": "sel-cache: Use sel cache for getSELEntry()",
    "owner": {
        "name": "Lei YU",
        "email": "yulei.sh@bytedance.com",
        "username": "mine260309"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-host-ipmid/+/46897",
    "commitMessage": "sel-cache: Use sel cache for getSELEntry()\n\nUse the cached SEL info in getSELEntry().\nThere will be future commits to use the cached SEL for other handlers.\n\nTested: Verify ipmi sel list and sel get works OK.\n        Verify the sel list time is reduced, e.g. on g220a with 100 SEL\n        entries, the list time is reduced from about 6s to 2s.\n\nSigned-off-by: Lei YU <yulei.sh@bytedance.com>\nChange-Id: I908b21baf47220c8556ad92446a9cb04879090d4\n",
    "createdOn": 1631693974,
    "lastUpdated": 1634211282,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1631693974,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1631694010,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1631694164,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/26350/ : SUCCESS"
        },
        {
            "timestamp": 1632266766,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 1: Code-Review+1"
        },
        {
            "timestamp": 1632454817,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1632454856,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1632455009,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/26900/ : SUCCESS"
        },
        {
            "timestamp": 1633405349,
            "reviewer": {
                "name": "Tom Joseph",
                "email": "rushtotom@gmail.com",
                "username": "tomjoseph83"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1633685745,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Uploaded patch set 3: Patch Set 2 was rebased."
        },
        {
            "timestamp": 1633685771,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633685798,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1633686055,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/27873/ : SUCCESS"
        },
        {
            "timestamp": 1633748365,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1633748400,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633748570,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/27984/ : SUCCESS"
        },
        {
            "timestamp": 1634190026,
            "reviewer": {
                "name": "Tom Joseph",
                "email": "rushtotom@gmail.com",
                "username": "tomjoseph83"
            },
            "message": "Patch Set 4: Code-Review+2"
        },
        {
            "timestamp": 1634211282,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Change has been successfully rebased and submitted as 3df3661eaf28a73de9841c70ecefba57b4056974 by Lei YU"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "ada76c66cfa12e117b8117e9fdeff383d61dc4a5",
            "parents": [
                "7e25bef1016e9789019aadf4799c12f6794f2c40"
            ],
            "ref": "refs/changes/97/46897/1",
            "uploader": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "createdOn": 1631693974,
            "author": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "storagehandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -44
                }
            ],
            "sizeInsertions": 31,
            "sizeDeletions": 44
        },
        {
            "number": 2,
            "revision": "5f5b23fc071efed2ded4b85dda5ce9c000c759b8",
            "parents": [
                "6bf1cba29e259b198523109e3310ac625ac3dd44"
            ],
            "ref": "refs/changes/97/46897/2",
            "uploader": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "createdOn": 1632454817,
            "author": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 14,
                    "reviewer": {
                        "name": "Tom Joseph",
                        "email": "rushtotom@gmail.com",
                        "username": "tomjoseph83"
                    },
                    "message": "Appreciate adding the performance details."
                },
                {
                    "file": "storagehandler.cpp",
                    "line": 104,
                    "reviewer": {
                        "name": "Tom Joseph",
                        "email": "rushtotom@gmail.com",
                        "username": "tomjoseph83"
                    },
                    "message": "Use lg2?"
                },
                {
                    "file": "storagehandler.cpp",
                    "line": 104,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "yulei.sh@bytedance.com",
                        "username": "mine260309"
                    },
                    "message": "This involves other changes related to logging, better to do this in separated commits."
                },
                {
                    "file": "storagehandler.cpp",
                    "line": 302,
                    "reviewer": {
                        "name": "Tom Joseph",
                        "email": "rushtotom@gmail.com",
                        "username": "tomjoseph83"
                    },
                    "message": "If initSELCache() fails in the first attempt, what can make it work next time? Are there any transient errors you want to address."
                },
                {
                    "file": "storagehandler.cpp",
                    "line": 302,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "yulei.sh@bytedance.com",
                        "username": "mine260309"
                    },
                    "message": "If initSELCache() fails, it means the logging service is not working well, so the selCacheMap is empty and it returns error in the below `if`."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "storagehandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -44
                }
            ],
            "sizeInsertions": 40,
            "sizeDeletions": 44
        },
        {
            "number": 3,
            "revision": "6de88d1f2264c20a448f61e3e323a7b449cb3895",
            "parents": [
                "c26e6c984d7e1e71be9e45303f35376c64714bcb"
            ],
            "ref": "refs/changes/97/46897/3",
            "uploader": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "createdOn": 1633685745,
            "author": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "storagehandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -44
                }
            ],
            "sizeInsertions": 40,
            "sizeDeletions": 44
        },
        {
            "number": 4,
            "revision": "195fa85d81cc89435494e67ed29dec470daab344",
            "parents": [
                "dfb04189617d33468491dcdbd3e94e42f12a13c9"
            ],
            "ref": "refs/changes/97/46897/4",
            "uploader": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "createdOn": 1633748365,
            "author": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "storagehandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -44
                }
            ],
            "sizeInsertions": 40,
            "sizeDeletions": 44
        },
        {
            "number": 5,
            "revision": "3df3661eaf28a73de9841c70ecefba57b4056974",
            "parents": [
                "4106e427863a97629f7ce2081e2ef65a859c6750"
            ],
            "ref": "refs/changes/97/46897/5",
            "uploader": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "createdOn": 1634211282,
            "author": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "storagehandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -44
                }
            ],
            "sizeInsertions": 40,
            "sizeDeletions": 44
        }
    ]
}