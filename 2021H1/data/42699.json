{
    "project": "openbmc/openbmc",
    "branch": "master",
    "id": "I6f80979906e87b77b36a6e333456d4e5c42249ce",
    "number": 42699,
    "subject": "meta-quanta: gbs: use service files instead of setting D-bus properties",
    "owner": {
        "name": "George Hung",
        "email": "george.hung@quantatw.com",
        "username": "georgehung1210"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/openbmc/+/42699",
    "commitMessage": "meta-quanta: gbs: use service files instead of setting D-bus properties\n\nUse service files instead of setting D-bus properties for power\ncontrol and remove unused patches\n\nSigned-off-by: George Hung <george.hung@quantatw.com>\nChange-Id: I6f80979906e87b77b36a6e333456d4e5c42249ce\n",
    "createdOn": 1619586371,
    "lastUpdated": 1619701274,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1619586371,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1619586403,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1619586411,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/3492/"
        },
        {
            "timestamp": 1619587080,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/3492/ : SUCCESS"
        },
        {
            "timestamp": 1619588310,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 1:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1619659118,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1619659689,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 1: Code-Review+1\n\n(2 comments)"
        },
        {
            "timestamp": 1619662444,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Patch Set 1:\n\n(3 comments)"
        },
        {
            "timestamp": 1619665160,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1619665198,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1619665205,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/3540/"
        },
        {
            "timestamp": 1619666035,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/3540/ : SUCCESS"
        },
        {
            "timestamp": 1619666506,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1619667544,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 2:\n\nBuild Failed \n\nIBM Hardware CI : witherspoon hardware test failed"
        },
        {
            "timestamp": 1619667944,
            "reviewer": {
                "name": "George Keishing",
                "email": "gkeishin@gmail.com",
                "username": "gkeishin"
            },
            "message": "Patch Set 2:\n\n1 failErrorPresent errors in /redfish/v1/\n1 failErrorPresent errors in /redfish/v1/TelemetryService\n1 failErrorPresent errors in /redfish/v1/Systems/system\n\n\ncan u run fix the Redfish validator failure here.. Thanks"
        },
        {
            "timestamp": 1619670785,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 2:\n\n> Patch Set 2:\n> \n> 1 failErrorPresent errors in /redfish/v1/\n> 1 failErrorPresent errors in /redfish/v1/TelemetryService\n> 1 failErrorPresent errors in /redfish/v1/Systems/system\n> \n> \n> can u run fix the Redfish validator failure here.. Thanks\n\nI'm not clear how this meta-gbs layer could have affected redfish"
        },
        {
            "timestamp": 1619670821,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 2: Code-Review+2"
        },
        {
            "timestamp": 1619674080,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Change has been successfully rebased and submitted as c4d7953f9ccb03549bbd7af2cd2fa755c0aaaf59 by George Hung"
        },
        {
            "timestamp": 1619674832,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Patch Set 3:\n\n> Patch Set 2:\n> \n> > Patch Set 2:\n> > \n> > 1 failErrorPresent errors in /redfish/v1/\n> > 1 failErrorPresent errors in /redfish/v1/TelemetryService\n> > 1 failErrorPresent errors in /redfish/v1/Systems/system\n> > \n> > \n> > can u run fix the Redfish validator failure here.. Thanks\n> \n> I'm not clear how this meta-gbs layer could have affected redfish\n\nSorry, I'm also not clear how this affect redifsh and I don't know how to check these errors from Jenkins OpenBMC Hardware CI. It's not like OpenBMC CI providing console output to check. Could you give me some advice about how to run the validation locally to check if it can work or is there any other way to check the error build messages ?"
        },
        {
            "timestamp": 1619701274,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "dad99fe9a4e2732df7f3a35f50bcc783a01a0257",
            "parents": [
                "4cce1d9310ca7d57d11801916131f11abf8457cd"
            ],
            "ref": "refs/changes/99/42699/1",
            "uploader": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "createdOn": 1619586371,
            "author": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/dbus/phosphor-dbus-interfaces_%.bbappend",
                    "line": 0,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Do the dbus-interfaces change and the watchdog change have to go in together? They seem to be separate from what I can see."
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/dbus/phosphor-dbus-interfaces_%.bbappend",
                    "line": 0,
                    "reviewer": {
                        "name": "George Hung",
                        "email": "george.hung@quantatw.com",
                        "username": "georgehung1210"
                    },
                    "message": "The watchdog patch used the the properties defined in dbus-interfaces patch, but it's right, it should be different from the watchdog change I'like to do, I will separate as different PRs."
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/dbus/phosphor-dbus-interfaces_%.bbappend",
                    "line": 0,
                    "reviewer": {
                        "name": "George Hung",
                        "email": "george.hung@quantatw.com",
                        "username": "georgehung1210"
                    },
                    "message": "Done"
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog_%.bbappend",
                    "line": 8,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "question: Why do these need to be removed?"
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog_%.bbappend",
                    "line": 8,
                    "reviewer": {
                        "name": "George Hung",
                        "email": "george.hung@quantatw.com",
                        "username": "georgehung1210"
                    },
                    "message": "This is originally in phosphor-watchdog_git.bb, but we don't need to use it, so I remove it."
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog_%.bbappend",
                    "line": 9,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "should this be an append?"
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog_%.bbappend",
                    "line": 9,
                    "reviewer": {
                        "name": "George Hung",
                        "email": "george.hung@quantatw.com",
                        "username": "georgehung1210"
                    },
                    "message": "It doesn't need to append, because we don't need the original service."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/dbus/phosphor-dbus-interfaces/0024-Add-the-pre-timeout-interrupt-defined-in-IPMI-spec.patch",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -57
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/dbus/phosphor-dbus-interfaces/0025-Add-PreInterruptFlag-properity-in-DBUS.patch",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -39
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/dbus/phosphor-dbus-interfaces_%.bbappend",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -5
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog/0001-Customize-phosphor-watchdog-for-Intel-platforms.patch",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -313
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog/obmc/watchdog/host0",
                    "type": "ADDED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-host-watchdog-powercycle.service",
                    "type": "ADDED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-host-watchdog-poweroff.service",
                    "type": "ADDED",
                    "insertions": 8,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-host-watchdog-reset.service",
                    "type": "ADDED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-watchdog.service",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -16
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-watchdog@.service",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 57,
            "sizeDeletions": 434
        },
        {
            "number": 2,
            "revision": "fb60b6c3768f84ea9400e27a5320b2e43b836f88",
            "parents": [
                "4cce1d9310ca7d57d11801916131f11abf8457cd"
            ],
            "ref": "refs/changes/99/42699/2",
            "uploader": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "createdOn": 1619665160,
            "author": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog/0001-Customize-phosphor-watchdog-for-Intel-platforms.patch",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -313
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog/obmc/watchdog/host0",
                    "type": "ADDED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-host-watchdog-powercycle.service",
                    "type": "ADDED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-host-watchdog-poweroff.service",
                    "type": "ADDED",
                    "insertions": 8,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-host-watchdog-reset.service",
                    "type": "ADDED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-watchdog.service",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -16
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-watchdog@.service",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 57,
            "sizeDeletions": 333
        },
        {
            "number": 3,
            "revision": "c4d7953f9ccb03549bbd7af2cd2fa755c0aaaf59",
            "parents": [
                "b4af56f7f44ff7e2f565c548aa65489f151d36f2"
            ],
            "ref": "refs/changes/99/42699/3",
            "uploader": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "createdOn": 1619674080,
            "author": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog/0001-Customize-phosphor-watchdog-for-Intel-platforms.patch",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -313
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog/obmc/watchdog/host0",
                    "type": "ADDED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-host-watchdog-powercycle.service",
                    "type": "ADDED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-host-watchdog-poweroff.service",
                    "type": "ADDED",
                    "insertions": 8,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-host-watchdog-reset.service",
                    "type": "ADDED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-watchdog.service",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -16
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-watchdog@.service",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/watchdog/phosphor-watchdog_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 57,
            "sizeDeletions": 333
        }
    ]
}