{
    "project": "openbmc/phosphor-fan-presence",
    "branch": "master",
    "topic": "ibm1363",
    "id": "I75ade1c7e2e9698573c5ed2495c2f3b7e9cf52f0",
    "number": 41041,
    "subject": "control: Update JSON action objects to run the action",
    "owner": {
        "name": "Matthew Barth",
        "email": "msbarth@linux.ibm.com",
        "username": "msbarth"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-fan-presence/+/41041",
    "commitMessage": "control: Update JSON action objects to run the action\n\nA change in design direction for the JSON configuration path of fan\ncontrol is to have it separate than the YAML configuration\nfunctionality. This means that the JSON based action objects will run\nthe action function directly instead of returning the action function\nwhich is done for YAML based configurations.\n\nUpdate the default floor action to reflect this change in direction.\n\nChange-Id: I75ade1c7e2e9698573c5ed2495c2f3b7e9cf52f0\nSigned-off-by: Matthew Barth <msbarth@us.ibm.com>\n",
    "createdOn": 1614799623,
    "lastUpdated": 1623856841,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1614799623,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1614799664,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1614799754,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/13273/ : SUCCESS"
        },
        {
            "timestamp": 1617202565,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Uploaded patch set 2: Patch Set 1 was rebased."
        },
        {
            "timestamp": 1617202607,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1617202746,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/14627/ : SUCCESS"
        },
        {
            "timestamp": 1617220642,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1617220916,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1617221811,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1617897111,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Uploaded patch set 3: Patch Set 2 was rebased."
        },
        {
            "timestamp": 1617897147,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1617897236,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/15096/ : SUCCESS"
        },
        {
            "timestamp": 1621001181,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1621013599,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Uploaded patch set 4: Patch Set 3 was rebased."
        },
        {
            "timestamp": 1621013635,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1621013724,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/17305/ : SUCCESS"
        },
        {
            "timestamp": 1623351740,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Uploaded patch set 5: Patch Set 4 was rebased."
        },
        {
            "timestamp": 1623351782,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1623351871,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/19310/ : SUCCESS"
        },
        {
            "timestamp": 1623356548,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Patch Set 5: Code-Review+2"
        },
        {
            "timestamp": 1623856841,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Change has been successfully merged by Matthew Barth"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "1422670b89bc716fa8b4384d293de66eaf306454",
            "parents": [
                "3a20237f15847749b35b7125fde19c93da07efff"
            ],
            "ref": "refs/changes/41/41041/1",
            "uploader": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "createdOn": 1614799623,
            "author": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "control/json/actions/action.hpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -6
                },
                {
                    "file": "control/json/actions/default_floor.cpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -6
                },
                {
                    "file": "control/json/actions/default_floor.hpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 54,
            "sizeDeletions": 14
        },
        {
            "number": 2,
            "revision": "bafc65148f7c15db903970534e029bc890e975af",
            "parents": [
                "da1b649a20c68d67b9fac86d5ea412b6932f2ffb"
            ],
            "ref": "refs/changes/41/41041/2",
            "uploader": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "createdOn": 1617202565,
            "author": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "control/json/actions/default_floor.cpp",
                    "line": 40,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Though getGroupServices is an auto, I think it returns a reference.\nSo you may want a auto& here, or const auto&  because I don't think 'auto' by itself will be a reference."
                },
                {
                    "file": "control/json/actions/default_floor.cpp",
                    "line": 40,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "msbarth@linux.ibm.com",
                        "username": "msbarth"
                    },
                    "message": "This actually changes in a later commit to get the members from the Group object and how the services are retrieved from the Manager object instead. I do see that this is still not correct there either...\n\nhttps://gerrit.openbmc-project.xyz/c/openbmc/phosphor-fan-presence/+/41287/2/control/json/actions/default_floor.cpp\n\nWill need to correct there, still want to correct here?"
                },
                {
                    "file": "control/json/actions/default_floor.cpp",
                    "line": 40,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "nah, if you're going to rewrite it I wouldn't worry about it here."
                },
                {
                    "file": "control/json/actions/default_floor.cpp",
                    "line": 40,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "msbarth@linux.ibm.com",
                        "username": "msbarth"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "control/json/actions/action.hpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -6
                },
                {
                    "file": "control/json/actions/default_floor.cpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -6
                },
                {
                    "file": "control/json/actions/default_floor.hpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 54,
            "sizeDeletions": 14
        },
        {
            "number": 3,
            "revision": "1e948c56442863d11427667a940d83ec91406798",
            "parents": [
                "97bf6bb89b519f5b85c57bd9b8e6bab062201596"
            ],
            "ref": "refs/changes/41/41041/3",
            "uploader": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "createdOn": 1617897111,
            "author": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "control/json/actions/action.hpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -6
                },
                {
                    "file": "control/json/actions/default_floor.cpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -6
                },
                {
                    "file": "control/json/actions/default_floor.hpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 54,
            "sizeDeletions": 14
        },
        {
            "number": 4,
            "revision": "0a817128b54dbec494bc9610444df4c55e4eedea",
            "parents": [
                "e247a53194f3ce4fa4beaa79752ca88cc4ec99c6"
            ],
            "ref": "refs/changes/41/41041/4",
            "uploader": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "createdOn": 1621013599,
            "author": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "control/json/actions/action.hpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -6
                },
                {
                    "file": "control/json/actions/default_floor.cpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -6
                },
                {
                    "file": "control/json/actions/default_floor.hpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 54,
            "sizeDeletions": 14
        },
        {
            "number": 5,
            "revision": "41a3408d962f7d25d3c81e3d9498cdb2297f0dda",
            "parents": [
                "12bae96166e87b7906005b13170f57a624841ff4"
            ],
            "ref": "refs/changes/41/41041/5",
            "uploader": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "createdOn": 1623351740,
            "author": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "control/json/actions/action.hpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -6
                },
                {
                    "file": "control/json/actions/default_floor.cpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -6
                },
                {
                    "file": "control/json/actions/default_floor.hpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 54,
            "sizeDeletions": 14
        }
    ]
}