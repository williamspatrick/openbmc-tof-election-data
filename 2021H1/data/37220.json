{
    "project": "openbmc/pfr-manager",
    "branch": "master",
    "id": "I6decfb4834661ff678098c79af45a116ea1b6cfd",
    "number": 37220,
    "subject": "pfr-manager: Read and update last event counts in dbus",
    "owner": {
        "name": "Chalapathi Venkataramashetty",
        "email": "chalapathix.venkataramashetty@intel.com",
        "username": "chalapathivenkataramashetty"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/pfr-manager/+/37220",
    "commitMessage": "pfr-manager: Read and update last event counts in dbus\n\nAdd support to update the last event counts persistently in settings\nservice.\n\nTested:\n1. BMC update:\nEvent Logs:\n2021-05-09T11:52:21.623486+00:00 OpenBMC.0.1.BMCFirmwarePanicReason,\nBMC update intent\n\na. After DC cycle\nNo duplicate logs occured\n\nb. After BMC reset\nEvent Logs;\n2021-05-09T12:46:17.504866+00:00 OpenBMC.0.1.BMCFirmwarePanicReason,\nBMC reset detected no duplicate logs occured\n\nc. After AC cycle\nNo duplicate logs occured\n\n2. BMC update with mismatched SVN\nEvent Logs:\n2021-05-09T17:12:44.301975+00:00 OpenBMC.0.1.BMCFirmwarePanicReason,\nBMC update intent\n2021-05-09T17:12:44.305938+00:00 OpenBMC.0.1.BIOSFirmwareResiliencyError\n,Update from BIOS failed(MinorCode:0x02)\n\na. After DC cycle\nNo duplicate logs occured\n\nb. After BMC reset\nEvent Logs:\n2021-05-09T17:17:33.389084+00:00 OpenBMC.0.1.BMCFirmwarePanicReason,\nBMC reset detected no duplicate logs occured\n\nc. After AC cycle\nNo duplicate logs occured\n\n3. BIOS update with mismatched SVN.\nEvent Logs:\n2021-05-09T14:12:03.123695+00:00 OpenBMC.0.1.BMCFirmwarePanicReason,\nBMC update intent\n2021-05-09T14:12:03.126749+00:00 OpenBMC.0.1.BIOSFirmwareResiliencyError\n,Update from BIOS failed(MinorCode:0x02)\n\na. After DC cycle\nNo duplicate logs occured\n\nb. After BMC reset\nEvent Logs:\n2021-05-09T15:49:28.742940+00:00 OpenBMC.0.1.BMCFirmwarePanicReason,\nBMC reset detected and no duplicate logs occured.\n\nc. After AC cycle\nNo duplicate logs occured\n\n4. CPLD Update.\nNo Event logs occured and pfr registers are empty.\n\n5. Corrupted BMC update\nEvent Logs:\n1970-01-01T00:00:21.444939+00:00 OpenBMC.0.1.BMCFirmwareRecoveryReason\n,BMC active image authentication failure\n1970-01-01T00:00:21.448613+00:00 OpenBMC.0.1.BMCFirmwareResiliencyError\n,BMC image authentication failed(MinorCode:0x01)\n\na. After DC cycle\nNo duplicate logs occured\n\nb. After BMC reset\nEvent Logs:\n1970-01-01T00:00:22.399115+00:00 OpenBMC.0.1.BMCFirmwarePanicReason,\nBMC reset detected\n\nc. After AC cycle\nNo duplicate logs occured\n\n6. Corrupted BIOS update\nEvent Logs:\n2021-05-21T12:20:50.170464+00:00 OpenBMC.0.1.BIOSFirmwareRecoveryReason\n,BIOS active image authentication failure\n2021-05-21T12:20:50.176405+00:00 OpenBMC.0.1.BIOSFirmwareResiliencyError\n,BIOS image authentication failed(MinorCode:0x01)\n\na. After DC cycle\nNo duplicate logs occured\n\nb. After BMC reset\nEvent Logs:\n2021-05-21T13:39:20.180116+00:00 OpenBMC.0.1.BMCFirmwarePanicReason,\nBMC reset detected\n\nc. After AC cycle\nNo duplicate logs occured\n\nSigned-off-by: Chalapathi Venkataramashetty <chalapathix.venkataramashetty@intel.com>\nChange-Id: I6decfb4834661ff678098c79af45a116ea1b6cfd\n",
    "createdOn": 1602132675,
    "lastUpdated": 1623429908,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1602132675,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1602132684,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1602132691,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/5939/"
        },
        {
            "timestamp": 1602132723,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/5939/ : SUCCESS"
        },
        {
            "timestamp": 1602749313,
            "reviewer": {
                "name": "Krzysztof Grobelny",
                "email": "krzysztof.grobelny@intel.com",
                "username": "krzysztof-i"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1602753027,
            "reviewer": {
                "name": "Saravanan Palanisamy",
                "email": "saravanan.palanisamy@linux.intel.com",
                "username": "saravanan-palanisamy"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1602811537,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1602811545,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1602811596,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/6444/ : SUCCESS"
        },
        {
            "timestamp": 1602811671,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Patch Set 2:\n\n(3 comments)\n\n> (2 comments)"
        },
        {
            "timestamp": 1603212003,
            "reviewer": {
                "name": "Vikram B",
                "email": "vikram.bodireddy@linux.intel.com",
                "username": "vbodired"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1603356614,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Patch Set 2:\n\n(3 comments)\n\n> (3 comments)"
        },
        {
            "timestamp": 1605781630,
            "reviewer": {
                "name": "Krzysztof Grobelny",
                "email": "krzysztof.grobelny@intel.com",
                "username": "krzysztof-i"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1606062368,
            "reviewer": {
                "name": "Saravanan Palanisamy",
                "email": "saravanan.palanisamy@linux.intel.com",
                "username": "saravanan-palanisamy"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1606912835,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1606912846,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1606912875,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/8942/ : FAILURE"
        },
        {
            "timestamp": 1606914056,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1606914067,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1606914100,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/8945/ : FAILURE"
        },
        {
            "timestamp": 1606914393,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Patch Set 4:\n\n(2 comments)\n\nBuild is success on Yaksha, however failing here. Working on build failure"
        },
        {
            "timestamp": 1606981793,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1606981818,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1606981860,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/8990/ : SUCCESS"
        },
        {
            "timestamp": 1607504568,
            "reviewer": {
                "name": "AppaRao Puli",
                "email": "apparao.puli@linux.intel.com",
                "username": "apuli1"
            },
            "message": "Patch Set 5: Code-Review-1\n\n(8 comments)"
        },
        {
            "timestamp": 1608097920,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1608097931,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1608097974,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/9899/ : SUCCESS"
        },
        {
            "timestamp": 1608098232,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Patch Set 5:\n\n(7 comments)\n\n> (8 comments)"
        },
        {
            "timestamp": 1611079909,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1611079928,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1611079967,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/11120/ : SUCCESS"
        },
        {
            "timestamp": 1611079994,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1611920234,
            "reviewer": {
                "name": "Krzysztof Grobelny",
                "email": "krzysztof.grobelny@intel.com",
                "username": "krzysztof-i"
            },
            "message": "Patch Set 7:\n\n(2 comments)"
        },
        {
            "timestamp": 1612266958,
            "reviewer": {
                "name": "AppaRao Puli",
                "email": "apparao.puli@linux.intel.com",
                "username": "apuli1"
            },
            "message": "Patch Set 7:\n\n(4 comments)"
        },
        {
            "timestamp": 1612369873,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Patch Set 7:\n\n(4 comments)"
        },
        {
            "timestamp": 1613322892,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Uploaded patch set 8."
        },
        {
            "timestamp": 1613322911,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1613322929,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/12435/ : FAILURE"
        },
        {
            "timestamp": 1613323213,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Patch Set 8:\n\n(4 comments)"
        },
        {
            "timestamp": 1613367563,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Uploaded patch set 9."
        },
        {
            "timestamp": 1613367603,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1613367641,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/12445/ : SUCCESS"
        },
        {
            "timestamp": 1616384914,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Patch Set 9:\n\nI request you to review this change. Thank You"
        },
        {
            "timestamp": 1616418857,
            "reviewer": {
                "name": "Krzysztof Grobelny",
                "email": "krzysztof.grobelny@intel.com",
                "username": "krzysztof-i"
            },
            "message": "Patch Set 9:\n\n(1 comment)"
        },
        {
            "timestamp": 1616943948,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Patch Set 9:\n\n(1 comment)"
        },
        {
            "timestamp": 1617090290,
            "reviewer": {
                "name": "Krzysztof Grobelny",
                "email": "krzysztof.grobelny@intel.com",
                "username": "krzysztof-i"
            },
            "message": "Patch Set 9: Code-Review+1"
        },
        {
            "timestamp": 1617271907,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Uploaded patch set 10."
        },
        {
            "timestamp": 1617271937,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1617272029,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1617272057,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/14711/ : SUCCESS"
        },
        {
            "timestamp": 1617718442,
            "reviewer": {
                "name": "Krzysztof Grobelny",
                "email": "krzysztof.grobelny@intel.com",
                "username": "krzysztof-i"
            },
            "message": "Patch Set 10: Code-Review+1"
        },
        {
            "timestamp": 1619193870,
            "reviewer": {
                "name": "Vikram B",
                "email": "vikram.bodireddy@linux.intel.com",
                "username": "vbodired"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1619582169,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1619829587,
            "reviewer": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "message": "Patch Set 10: Code-Review+1\n\n(2 comments)\n\nI don't totally understand how these event counts are used, but it LGTM"
        },
        {
            "timestamp": 1620205793,
            "reviewer": {
                "name": "Krzysztof Grobelny",
                "email": "krzysztof.grobelny@intel.com",
                "username": "krzysztof-i"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1620205808,
            "reviewer": {
                "name": "Krzysztof Grobelny",
                "email": "krzysztof.grobelny@intel.com",
                "username": "krzysztof-i"
            },
            "message": "Patch Set 10: -Code-Review"
        },
        {
            "timestamp": 1620339772,
            "reviewer": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1620651903,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Uploaded patch set 11."
        },
        {
            "timestamp": 1620651934,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1620651960,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/16936/ : SUCCESS"
        },
        {
            "timestamp": 1620652323,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Patch Set 11:\n\n(1 comment)\n\n> Patch Set 10: Code-Review+1\n> \n> (2 comments)\n> \n> I don't totally understand how these event counts are used, but it LGTM\n\nHello Jonathan,\nThe last event counts are stored persistently in settings service and updated here whenever the current count is changed. By doing so we will avoid the duplicate events after BMC reset.\n\nbusctl introspect xyz.openbmc_project.Settings /xyz/openbmc_project/pfr/last_events\nxyz.openbmc_project.PFR.LastEvents  interface -         -            -\n.lastMajorErr                       property  y         3            emits-change writable\n.lastMinorErr                       property  y         2            emits-change writable\n.lastPanicCount                     property  y         1            emits-change writable\n.lastRecoveryCount                  property  y         0            emits-change writable\n\nThank You"
        },
        {
            "timestamp": 1620652442,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Patch Set 11:\n\n(1 comment)"
        },
        {
            "timestamp": 1620719372,
            "reviewer": {
                "name": "Krzysztof Grobelny",
                "email": "krzysztof.grobelny@intel.com",
                "username": "krzysztof-i"
            },
            "message": "Patch Set 11: Code-Review+1"
        },
        {
            "timestamp": 1621581233,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Uploaded patch set 12: Commit message was updated."
        },
        {
            "timestamp": 1621843750,
            "reviewer": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "message": "Patch Set 12:\n\n(1 comment)"
        },
        {
            "timestamp": 1621895817,
            "reviewer": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "message": "Patch Set 12: Code-Review+1"
        },
        {
            "timestamp": 1621946526,
            "reviewer": {
                "name": "AppaRao Puli",
                "email": "apparao.puli@linux.intel.com",
                "username": "apuli1"
            },
            "message": "Patch Set 12: Code-Review+2"
        },
        {
            "timestamp": 1623429908,
            "reviewer": {
                "name": "AppaRao Puli",
                "email": "apparao.puli@linux.intel.com",
                "username": "apuli1"
            },
            "message": "Change has been successfully rebased and submitted as b213487b3f27d4057fd61e7935077de7d84d1e33 by AppaRao Puli"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "b91e444c8e00b0e61beab66462431f4efc41f345",
            "parents": [
                "0884191b6478bdd787852ab9d290caaeb7816454"
            ],
            "ref": "refs/changes/20/37220/1",
            "uploader": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "createdOn": 1602132675,
            "author": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 193,
                    "reviewer": {
                        "name": "Saravanan Palanisamy",
                        "email": "saravanan.palanisamy@linux.intel.com",
                        "username": "saravanan-palanisamy"
                    },
                    "message": "Update the object path as per settingsd commit. i.e.) pfr/last_events"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 193,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Updated. Thank You"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 204,
                    "reviewer": {
                        "name": "Krzysztof Grobelny",
                        "email": "krzysztof.grobelny@intel.com",
                        "username": "krzysztof-i"
                    },
                    "message": "nit: there are new helpers in sdbusplus\n\nsdbusplus::asio::getAllProperties, sdbusplus::unpackProperties\n\nOne is wrapper for async_method_call, second can be used to extract values from propertiesList.\n\nExample can be found here: https://gerrit.openbmc-project.xyz/c/openbmc/sdbusplus/+/36172/20/example/get-all-properties.cpp#105"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 204,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Ack. Thank You"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 350,
                    "reviewer": {
                        "name": "Krzysztof Grobelny",
                        "email": "krzysztof.grobelny@intel.com",
                        "username": "krzysztof-i"
                    },
                    "message": "Was it intended?"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 350,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Not intended, removed. Thank You"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "type": "MODIFIED",
                    "insertions": 116,
                    "deletions": -48
                }
            ],
            "sizeInsertions": 116,
            "sizeDeletions": 48
        },
        {
            "number": 2,
            "revision": "e8429334a2489005263627fdb127b543647454b1",
            "parents": [
                "0884191b6478bdd787852ab9d290caaeb7816454"
            ],
            "ref": "refs/changes/20/37220/2",
            "uploader": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "createdOn": 1602811537,
            "author": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 456,
                    "reviewer": {
                        "name": "Vikram B",
                        "email": "vikram.bodireddy@linux.intel.com",
                        "username": "vbodired"
                    },
                    "message": "why is this removed?"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 456,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Verified that this is a redundant call to checkAndLogEvents() ."
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 239,
                    "reviewer": {
                        "name": "Saravanan Palanisamy",
                        "email": "saravanan.palanisamy@linux.intel.com",
                        "username": "saravanan-palanisamy"
                    },
                    "message": "nit: Regarding implementing Vikram comment \"is this logic ok?\" @ line 249,\n\n     How about moving 'lastRecoveryCount' processing (line 263 to 274) here and just logging error message (without returning) if 'lastRecoveryCount == nullptr' ?\n\n     Similar processing applies to other parameters also.\n\nThis way failure in getting one parameter will not impact other parameter processing."
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 239,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Implemented. Thank You"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 249,
                    "reviewer": {
                        "name": "Vikram B",
                        "email": "vikram.bodireddy@linux.intel.com",
                        "username": "vbodired"
                    },
                    "message": "is this logic ok? even if one param is null we just return. Can retry would be good way to try?"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 249,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "checkAndLogEvents() is executed more than once after the PFR manager starts... in that case last events are read again and again."
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 249,
                    "reviewer": {
                        "name": "Saravanan Palanisamy",
                        "email": "saravanan.palanisamy@linux.intel.com",
                        "username": "saravanan-palanisamy"
                    },
                    "message": "This error checking logic can be removed if you address my comment @ line number 239."
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 249,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Implemented. Thank You"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 254,
                    "reviewer": {
                        "name": "Vikram B",
                        "email": "vikram.bodireddy@linux.intel.com",
                        "username": "vbodired"
                    },
                    "message": "did you test this logic with some errors injected and with AC power cycle?"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 254,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Yes, received panic events in redfish event log."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "type": "MODIFIED",
                    "insertions": 115,
                    "deletions": -48
                }
            ],
            "sizeInsertions": 115,
            "sizeDeletions": 48
        },
        {
            "number": 3,
            "revision": "826e0b9b111578fddcad93a7eb2874332380e570",
            "parents": [
                "0884191b6478bdd787852ab9d290caaeb7816454"
            ],
            "ref": "refs/changes/20/37220/3",
            "uploader": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "createdOn": 1606912835,
            "author": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "type": "MODIFIED",
                    "insertions": 119,
                    "deletions": -48
                }
            ],
            "sizeInsertions": 119,
            "sizeDeletions": 48
        },
        {
            "number": 4,
            "revision": "029300858396518342e37e830ccce7bdbd5b1a6b",
            "parents": [
                "0884191b6478bdd787852ab9d290caaeb7816454"
            ],
            "ref": "refs/changes/20/37220/4",
            "uploader": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "createdOn": 1606914056,
            "author": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "service/CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "type": "MODIFIED",
                    "insertions": 119,
                    "deletions": -48
                }
            ],
            "sizeInsertions": 123,
            "sizeDeletions": 49
        },
        {
            "number": 5,
            "revision": "0e38016d0b312f3452dfe3a057435271cb449cc8",
            "parents": [
                "0884191b6478bdd787852ab9d290caaeb7816454"
            ],
            "ref": "refs/changes/20/37220/5",
            "uploader": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "createdOn": 1606981793,
            "author": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "service/CMakeLists.txt",
                    "line": 7,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "Looks like there is already patch for this available. We can attempt take this patch on current boost version? Anyway that is out of scope of this change though. Good for now."
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 456,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "Why is this removed? This is needed along with call it inside signal handler."
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 456,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Modified. Thank You"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 179,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "nit: You can rename this function such that this function you can use for both logging event as well as setting value( Like handleLastCountChange())"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 179,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Modified. Logging is not handled here as we need to check again for different event categories. Thank You"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 195,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "Is this interface defined in phosphor-dbus-interfaces?"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 195,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "This is only defined in Settings service. Thank You"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 248,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "This is not correct logic when you persist the previous state?\n\nUse case: If Recovery event is occurred, BMC log the \"recovery event\" as expected and with current logic it also saves the count(Say:1) in persistent store.\n\nAt this stage, If AC cycle is performed, CPLD will clear all there count registers. So currRecoveryCount becomes zero. Since lastRecoveryEvent is persistent(which is \"1\"), Now it will not match and log the Recovery Event which is not expected. \n\nWrap this around currRecoveryCount not zero.\nif(currPanicCount)\n{\n    logLastPanicEvent();\n}"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 248,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Modified. Thank You"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 250,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "nit: I think you can keep the event logging logic separate. I see multiple things clubbed together in his function."
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 250,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Ack. Formulating the logic to minimize the code in this block."
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 250,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Implemented. Thank You"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 268,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "Wrap this around currRecoveryCount not zero.\nif(currRecoveryCount)\n{\n    logLastRecoveryEvent();\n}"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 268,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Done"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 289,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "same here wrap is around lastMajorError & lastMinorError."
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 289,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "service/CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "type": "MODIFIED",
                    "insertions": 118,
                    "deletions": -48
                }
            ],
            "sizeInsertions": 122,
            "sizeDeletions": 49
        },
        {
            "number": 6,
            "revision": "3e701bb9a8cdde96320d3f00969f69c31d698373",
            "parents": [
                "0884191b6478bdd787852ab9d290caaeb7816454"
            ],
            "ref": "refs/changes/20/37220/6",
            "uploader": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "createdOn": 1608097920,
            "author": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "service/CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "type": "MODIFIED",
                    "insertions": 129,
                    "deletions": -47
                }
            ],
            "sizeInsertions": 133,
            "sizeDeletions": 48
        },
        {
            "number": 7,
            "revision": "510ffdbe3cceb4bdfbdfccde1d4f8261111988b0",
            "parents": [
                "0884191b6478bdd787852ab9d290caaeb7816454"
            ],
            "ref": "refs/changes/20/37220/7",
            "uploader": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "createdOn": 1611079909,
            "author": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "service/CMakeLists.txt",
                    "line": 8,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "Commit this one as separate. So when actual issue is fixed, We can revert it directly. \n\nThis is diluting the scope of change."
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 228,
                    "reviewer": {
                        "name": "Krzysztof Grobelny",
                        "email": "krzysztof.grobelny@intel.com",
                        "username": "krzysztof-i"
                    },
                    "message": "Variant always have holds value. In this case variant<uint8_t>{} holds uint8_t with value 0, so currently this get_if will always success. To make it corrent please change your variant type to std::variant<std::monostate, uint8_t> this way empty variant will have std::monostate inside instead of uint8_t"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 228,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Ack"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 228,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "implemented . Thank You"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 242,
                    "reviewer": {
                        "name": "Krzysztof Grobelny",
                        "email": "krzysztof.grobelny@intel.com",
                        "username": "krzysztof-i"
                    },
                    "message": "nit: There is sdbusplus::unpackProperties for something like this:\n\nExample:\ntry\n{\n  std::string x;\n  std::string y;\n  sdbusplus::unpackProperties(properties, \"X\", x, \"Y\", y);\n\n  std::cout << \"value of x: \" << x << \"\\n\";\n  std::cout << \"value of y: \" << y << \"\\n\";\n}\ncatch (const sdbusplus::exception::UnpackPropertyError&)\n{\n  // Exception is thrown when there is at least one property missing or type of the property doesn't match\n}\n\nSource: https://github.com/openbmc/sdbusplus/blob/master/example/get-all-properties.cpp"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 242,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "+1"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 242,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Ack"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 242,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "implemented . Thank You"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 244,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "Irrespective the lastPanicCount fetched from Settings service, If current PanicCount it non zero we should log event. This check should move to down."
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 244,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Ack"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 244,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "implemented . Thank You"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 264,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "Same as above. In major/minor error case too."
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 264,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Ack"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 264,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "implemented . Thank You"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "service/CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "type": "MODIFIED",
                    "insertions": 130,
                    "deletions": -46
                }
            ],
            "sizeInsertions": 134,
            "sizeDeletions": 47
        },
        {
            "number": 8,
            "revision": "b20bf401dcf5214fe0b49579f2b7156ea5a0d255",
            "parents": [
                "f88197083c3372cfb9167347b3cf9cc26d488a4d"
            ],
            "ref": "refs/changes/20/37220/8",
            "uploader": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "createdOn": 1613322892,
            "author": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "type": "MODIFIED",
                    "insertions": 114,
                    "deletions": -46
                }
            ],
            "sizeInsertions": 114,
            "sizeDeletions": 46
        },
        {
            "number": 9,
            "revision": "638672aa966bf965f4b7d14a051e3a6665884afe",
            "parents": [
                "f88197083c3372cfb9167347b3cf9cc26d488a4d"
            ],
            "ref": "refs/changes/20/37220/9",
            "uploader": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "createdOn": 1613367563,
            "author": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 221,
                    "reviewer": {
                        "name": "Krzysztof Grobelny",
                        "email": "krzysztof.grobelny@intel.com",
                        "username": "krzysztof-i"
                    },
                    "message": "In meantime there was API change:\nhttps://gerrit.openbmc-project.xyz/c/openbmc/sdbusplus/+/40749\n\nYou can take a look at change below to see how to adopt to new API:\nhttps://gerrit.openbmc-project.xyz/c/openbmc/telemetry/+/40878\n\nTo make it short, instead of two callbacks there is one, so your code would look like this:\n[&conn](boost::system::error_code ec, std::vector<\n                std::pair<std::string, std::variant<std::monostate, uint8_t>>>&\n                    properties) {\n   if (ec) {\n     logSystemErrorCode(ec); // needs to be changed from function producing lambda to be regular function\n     return;\n   }\n\n   // rest of the code is unchanged\n}"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 221,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Ack"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 221,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Modified as per new implementation. Thank You"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "type": "MODIFIED",
                    "insertions": 114,
                    "deletions": -46
                }
            ],
            "sizeInsertions": 114,
            "sizeDeletions": 46
        },
        {
            "number": 10,
            "revision": "c25a5ca293a0f5bd2b5a69f2a75a5078b38ca8ca",
            "parents": [
                "2dfaf507da581ed4c71d41c02976e4efafc1d634"
            ],
            "ref": "refs/changes/20/37220/10",
            "uploader": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "createdOn": 1617271907,
            "author": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 14,
                    "reviewer": {
                        "name": "Vikram B",
                        "email": "vikram.bodireddy@linux.intel.com",
                        "username": "vbodired"
                    },
                    "message": "Can you add more testing scenarios by inducing PFR errors, i.e. with fw updates of BMC/BIOS/CPLD and image authentication failures etc., in combination with AC/DC cycles."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 14,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Ack"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 14,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Updated the commit message with test cases. I will update the image authentication and launch failures. Thank You"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 14,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Updated all the test results in commit message. Thank You"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 184,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "nit: there is a utility method sdbusplus::asio::setProperty you could use."
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 208,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "nit: prefer to capture shared_ptrs by value."
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 208,
                    "reviewer": {
                        "name": "Krzysztof Grobelny",
                        "email": "krzysztof.grobelny@intel.com",
                        "username": "krzysztof-i"
                    },
                    "message": "Good catch, actually capturing via reference can cause segmentation faults, so it is must fix.\n\ngetAllProperties is a wrapper for async_call it returns immediately  so there will be no valid reference to conn when callback is called also it doesn't extend lifetime of connection (reference counter is not incremented)"
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 208,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "In this instance, you can trace the conn parameter and see that it always references all the way back to the actual object living in main(). So I think this is safe but it's more work to determine the safety. My rule is use \"const std::shared_ptr<>&\" for function parameters and then always capture shared_ptr into lambdas by value."
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "line": 208,
                    "reviewer": {
                        "name": "Chalapathi Venkataramashetty",
                        "email": "chalapathix.venkataramashetty@intel.com",
                        "username": "chalapathivenkataramashetty"
                    },
                    "message": "Thank You for the info.\nUpdated."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "type": "MODIFIED",
                    "insertions": 114,
                    "deletions": -46
                }
            ],
            "sizeInsertions": 114,
            "sizeDeletions": 46
        },
        {
            "number": 11,
            "revision": "349909fff3da41ef0de246c1bf8cf192d9df5842",
            "parents": [
                "2dfaf507da581ed4c71d41c02976e4efafc1d634"
            ],
            "ref": "refs/changes/20/37220/11",
            "uploader": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "createdOn": 1620651903,
            "author": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 69,
                    "deletions": 0
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "type": "MODIFIED",
                    "insertions": 112,
                    "deletions": -46
                }
            ],
            "sizeInsertions": 112,
            "sizeDeletions": 46
        },
        {
            "number": 12,
            "revision": "6b953f6bf6ca2eda243e3c34a9a4e4d9436a92fa",
            "parents": [
                "2dfaf507da581ed4c71d41c02976e4efafc1d634"
            ],
            "ref": "refs/changes/20/37220/12",
            "uploader": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "createdOn": 1621581233,
            "author": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 105,
                    "deletions": 0
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "type": "MODIFIED",
                    "insertions": 112,
                    "deletions": -46
                }
            ],
            "sizeInsertions": 112,
            "sizeDeletions": 46
        },
        {
            "number": 13,
            "revision": "b213487b3f27d4057fd61e7935077de7d84d1e33",
            "parents": [
                "55e7934ce677ec0baa3d1ac8895c22b68eff0e62"
            ],
            "ref": "refs/changes/20/37220/13",
            "uploader": {
                "name": "AppaRao Puli",
                "email": "apparao.puli@linux.intel.com",
                "username": "apuli1"
            },
            "createdOn": 1623429908,
            "author": {
                "name": "Chalapathi Venkataramashetty",
                "email": "chalapathix.venkataramashetty@intel.com",
                "username": "chalapathivenkataramashetty"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 105,
                    "deletions": 0
                },
                {
                    "file": "service/src/mainapp.cpp",
                    "type": "MODIFIED",
                    "insertions": 112,
                    "deletions": -46
                }
            ],
            "sizeInsertions": 112,
            "sizeDeletions": 46
        }
    ]
}