{
    "project": "openbmc/entity-manager",
    "branch": "master",
    "id": "I3dec0d37110f877da48e484104281389d54047a8",
    "number": 39948,
    "subject": "FruDevice: Check for language code",
    "owner": {
        "name": "Vijay Khemka",
        "email": "vijaykhemkalinux@gmail.com",
        "username": "vijaykhemka"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/39948",
    "commitMessage": "FruDevice: Check for language code\n\nCurrently we are supporting only english language for 8 bit ascii\nstring parsing. If language code detected as non english, we still\nallows parsing for language independent data like binary, bcd type\netc but for language dependent data with type code (11) mentioned\nin section 13 of FRU specification, we are reporting this as an\nerror for non english language code. As per section 10, chassis\narea info will always be in english that's why it doesn't have\nany language bytes in it's field header.\n\nSigned-off-by: Vijay Khemka <vijaykhemkalinux@gmail.com>\nChange-Id: I3dec0d37110f877da48e484104281389d54047a8\n",
    "createdOn": 1611360918,
    "lastUpdated": 1612546949,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1611360918,
            "reviewer": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1611360930,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1611361197,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/11333/ : SUCCESS"
        },
        {
            "timestamp": 1611361874,
            "reviewer": {
                "name": "Peter Lundgren",
                "email": "peterlundgren@google.com",
                "username": "peterlundgren"
            },
            "message": "Patch Set 1: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1611363705,
            "reviewer": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1611363744,
            "reviewer": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1611363755,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1611364024,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/11334/ : SUCCESS"
        },
        {
            "timestamp": 1611364517,
            "reviewer": {
                "name": "Peter Lundgren",
                "email": "peterlundgren@google.com",
                "username": "peterlundgren"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1611610204,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1611610427,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1611619604,
            "reviewer": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1611622639,
            "reviewer": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1611622653,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1611623386,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/11396/ : SUCCESS"
        },
        {
            "timestamp": 1611624934,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1611681307,
            "reviewer": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1611684950,
            "reviewer": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "message": "Uploaded patch set 4: Patch Set 3 was rebased."
        },
        {
            "timestamp": 1611684962,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1611685287,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/11422/ : SUCCESS"
        },
        {
            "timestamp": 1611771926,
            "reviewer": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "message": "Uploaded patch set 5: Patch Set 4 was rebased."
        },
        {
            "timestamp": 1611771940,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1611772211,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/11468/ : SUCCESS"
        },
        {
            "timestamp": 1612468721,
            "reviewer": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "message": "Patch Set 5:\n\n@peter, can you please +1 if no comments"
        },
        {
            "timestamp": 1612472649,
            "reviewer": {
                "name": "Peter Lundgren",
                "email": "peterlundgren@google.com",
                "username": "peterlundgren"
            },
            "message": "Patch Set 5: Code-Review+1"
        },
        {
            "timestamp": 1612546809,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5: Code-Review+2"
        },
        {
            "timestamp": 1612546949,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully rebased and submitted as 2a9670820094a9a1847770597b713bf6fb3c08ba by Ed Tanous"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "31ad6cdf9420640493127ff63f2aa95303eb55ac",
            "parents": [
                "d5691a8ee36399f4591fbde873048473c1d4c53e"
            ],
            "ref": "refs/changes/48/39948/1",
            "uploader": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "createdOn": 1611360918,
            "author": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/FruDevice.cpp",
                    "line": 749,
                    "reviewer": {
                        "name": "Peter Lundgren",
                        "email": "peterlundgren@google.com",
                        "username": "peterlundgren"
                    },
                    "message": "For more clarity, add:\n\nEnglish text is encoded in 8-bit ASCII + Latin 1. All other languages are required to use 2-byte unicode. FruDevice does not handle unicode."
                },
                {
                    "file": "src/FruDevice.cpp",
                    "line": 749,
                    "reviewer": {
                        "name": "Vijay Khemka",
                        "email": "vijaykhemkalinux@gmail.com",
                        "username": "vijaykhemka"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "src/FruDevice.cpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 22,
            "sizeDeletions": 1
        },
        {
            "number": 2,
            "revision": "80af7da11e6acda87b310649ae9aa9a5c5cdc7d5",
            "parents": [
                "d5691a8ee36399f4591fbde873048473c1d4c53e"
            ],
            "ref": "refs/changes/48/39948/2",
            "uploader": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "createdOn": 1611363744,
            "author": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/FruDevice.cpp",
                    "line": 93,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please don't use a global for this, especially for things that are not singletons.  Please put this in the appropriate context."
                },
                {
                    "file": "src/FruDevice.cpp",
                    "line": 93,
                    "reviewer": {
                        "name": "Vijay Khemka",
                        "email": "vijaykhemkalinux@gmail.com",
                        "username": "vijaykhemka"
                    },
                    "message": "Then I need to pass this as a parameter to function as it is mostly needed for decodeFru code."
                },
                {
                    "file": "src/FruDevice.cpp",
                    "line": 802,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit.  languages, plural."
                },
                {
                    "file": "src/FruDevice.cpp",
                    "line": 802,
                    "reviewer": {
                        "name": "Vijay Khemka",
                        "email": "vijaykhemkalinux@gmail.com",
                        "username": "vijaykhemka"
                    },
                    "message": "will fix this, it was from earlier code, I only corrected 1 word."
                },
                {
                    "file": "src/FruDevice.cpp",
                    "line": 803,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit.  No need to end the line with whitespace."
                },
                {
                    "file": "src/FruDevice.cpp",
                    "line": 803,
                    "reviewer": {
                        "name": "Vijay Khemka",
                        "email": "vijaykhemkalinux@gmail.com",
                        "username": "vijaykhemka"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "src/FruDevice.cpp",
                    "type": "MODIFIED",
                    "insertions": 25,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 25,
            "sizeDeletions": 1
        },
        {
            "number": 3,
            "revision": "49856fecab9fda1068e48188e4ee9af848a815c5",
            "parents": [
                "d5691a8ee36399f4591fbde873048473c1d4c53e"
            ],
            "ref": "refs/changes/48/39948/3",
            "uploader": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "createdOn": 1611622639,
            "author": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/FruDevice.cpp",
                    "line": 930,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Not quite following why this is specific to chassis.  This daemon only supports english, so we should warn on anything that isn't english."
                },
                {
                    "file": "src/FruDevice.cpp",
                    "line": 930,
                    "reviewer": {
                        "name": "Vijay Khemka",
                        "email": "vijaykhemkalinux@gmail.com",
                        "username": "vijaykhemka"
                    },
                    "message": "This flag is mainly used for decode fru data and we don't care language if data are language independent like binary, bcd etc. Spec says that chassis data will always be in english that's why there is no language code present in chassis header."
                },
                {
                    "file": "src/FruDevice.cpp",
                    "line": 979,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Doesn't this need to be called on all areas, not just product and chassis?\n\nThis parser doesn't support anything other than english, so we need to warn on anything other than english."
                },
                {
                    "file": "src/FruDevice.cpp",
                    "line": 979,
                    "reviewer": {
                        "name": "Vijay Khemka",
                        "email": "vijaykhemkalinux@gmail.com",
                        "username": "vijaykhemka"
                    },
                    "message": "This language code is only being provided in board and product data header. chassis data rae assumed to be English. And we are not parsing other areas in this loop."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "src/FruDevice.cpp",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -7
                }
            ],
            "sizeInsertions": 30,
            "sizeDeletions": 7
        },
        {
            "number": 4,
            "revision": "014b92a988f5465ca870362aeee0e0478907193e",
            "parents": [
                "f26056360b4d3bd0dbd9fa9e8b522fcaa462d6f4"
            ],
            "ref": "refs/changes/48/39948/4",
            "uploader": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "createdOn": 1611684950,
            "author": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "src/FruDevice.cpp",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -7
                }
            ],
            "sizeInsertions": 30,
            "sizeDeletions": 7
        },
        {
            "number": 5,
            "revision": "2558d5295a5136698925baab6a4510d4d5eb25ad",
            "parents": [
                "efedad8fca739a0ebeda656262d5500ba42c909d"
            ],
            "ref": "refs/changes/48/39948/5",
            "uploader": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "createdOn": 1611771926,
            "author": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "src/FruDevice.cpp",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -7
                }
            ],
            "sizeInsertions": 30,
            "sizeDeletions": 7
        },
        {
            "number": 6,
            "revision": "2a9670820094a9a1847770597b713bf6fb3c08ba",
            "parents": [
                "02618f0ddf46d99bb053b403567ca86bb6a9fa99"
            ],
            "ref": "refs/changes/48/39948/6",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1612546949,
            "author": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "src/FruDevice.cpp",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -7
                }
            ],
            "sizeInsertions": 30,
            "sizeDeletions": 7
        }
    ]
}