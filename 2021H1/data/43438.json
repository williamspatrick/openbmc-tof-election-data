{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "I6ae0f9f60878db3bbccafa603cdd397994a58dac",
    "number": 43438,
    "subject": "Processor: Add ProcessorType property",
    "owner": {
        "name": "sharad yadav",
        "email": "sharady@nvidia.com",
        "username": "sharady"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/43438",
    "commitMessage": "Processor: Add ProcessorType property\n\nThis commit adds support for implementing the \"ProcessorType\"\nproperty as defined in the Redfish Processor schema.\n\nNew DBus property added to \"Item.Accelerator\":\n1. Type - The type of processor in the socket.\n\nDBus Interfaces gerrit dependency:\nhttps://gerrit.openbmc-project.xyz/c/openbmc/phosphor-dbus-interfaces/+/43435\n\nRedfish validator passed.\n\n$ curl -k -H \"X-Auth-Token: $token\" -H \"Content-Type: application/json\"\n-X GET https://${bmc}/redfish/v1/Systems/system/Processors/GPU0\n{\n  \"@odata.id\": \"/redfish/v1/Systems/system/Processors/GPU0\",\n  \"@odata.type\": \"#Processor.v1_11_0.Processor\",\n  \"Id\": \"GPU0\",\n  \"Name\": \"Processor\",\n  \"ProcessorType\": \"GPU\",\n  \"UUID\": \"7ee8874a-a7f0-11eb-bcbc-0242ac130002\"\n}\n\nSigned-off-by: Sharad Yadav <sharady@nvidia.com>\nChange-Id: I6ae0f9f60878db3bbccafa603cdd397994a58dac\n",
    "createdOn": 1621607613,
    "lastUpdated": 1623360560,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1621607613,
            "reviewer": {
                "name": "sharad yadav",
                "email": "sharady@nvidia.com",
                "username": "sharady"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1621607656,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1621607683,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/17818/ : FAILURE"
        },
        {
            "timestamp": 1621622696,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1621851267,
            "reviewer": {
                "name": "sharad yadav",
                "email": "sharady@nvidia.com",
                "username": "sharady"
            },
            "message": "Uploaded patch set 2: Patch Set 1 was rebased."
        },
        {
            "timestamp": 1621851312,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1621851766,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/17905/ : SUCCESS"
        },
        {
            "timestamp": 1621852027,
            "reviewer": {
                "name": "sharad yadav",
                "email": "sharady@nvidia.com",
                "username": "sharady"
            },
            "message": "Uploaded patch set 3: New patch set was added with same tree, parent, and commit message as Patch Set 2."
        },
        {
            "timestamp": 1621852047,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1621852050,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1621852541,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/17913/ : SUCCESS"
        },
        {
            "timestamp": 1621872524,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(4 comments)"
        },
        {
            "timestamp": 1623173272,
            "reviewer": {
                "name": "sharad yadav",
                "email": "sharady@nvidia.com",
                "username": "sharady"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1623173294,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1623173734,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/19011/ : SUCCESS"
        },
        {
            "timestamp": 1623173836,
            "reviewer": {
                "name": "sharad yadav",
                "email": "sharady@nvidia.com",
                "username": "sharady"
            },
            "message": "Patch Set 4:\n\n(2 comments)\n\nAddressed the comments, Thanks for the review. Please have a look."
        },
        {
            "timestamp": 1623263061,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 4: Code-Review-1\n\n(2 comments)"
        },
        {
            "timestamp": 1623263104,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1623350570,
            "reviewer": {
                "name": "sharad yadav",
                "email": "sharady@nvidia.com",
                "username": "sharady"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1623350585,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1623350719,
            "reviewer": {
                "name": "sharad yadav",
                "email": "sharady@nvidia.com",
                "username": "sharady"
            },
            "message": "Patch Set 5:\n\n(2 comments)\n\nFixed the comments, Please have a look. Thanks"
        },
        {
            "timestamp": 1623351092,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/19294/ : SUCCESS"
        },
        {
            "timestamp": 1623360560,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "28163ce05f4e1862e578219fbff9be1836302e15",
            "parents": [
                "3fda9ea2ff3dce257816f24777999291572572aa"
            ],
            "ref": "refs/changes/38/43438/1",
            "uploader": {
                "name": "sharad yadav",
                "email": "sharady@nvidia.com",
                "username": "sharady"
            },
            "createdOn": 1621607613,
            "author": {
                "name": "sharad yadav",
                "email": "sharady@nvidia.com",
                "username": "sharady"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/processor.hpp",
                    "line": 417,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Would like to see an enum here, left the comment in the interface review"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/processor.hpp",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 14,
            "sizeDeletions": 1
        },
        {
            "number": 2,
            "revision": "34c94619c32bfcb3a1acc028f927bd1e3bb000ad",
            "parents": [
                "57be5a18f65d8eace3d0850a599b9c1898c4c2e1"
            ],
            "ref": "refs/changes/38/43438/2",
            "uploader": {
                "name": "sharad yadav",
                "email": "sharady@nvidia.com",
                "username": "sharady"
            },
            "createdOn": 1621851267,
            "author": {
                "name": "sharad yadav",
                "email": "sharady@nvidia.com",
                "username": "sharady"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/processor.hpp",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 14,
            "sizeDeletions": 1
        },
        {
            "number": 3,
            "revision": "bdf05afa03e30f22145e94876ca144ea040c850a",
            "parents": [
                "e7f8841deb80aff13867d1bd3901d3a826554dcf"
            ],
            "ref": "refs/changes/38/43438/3",
            "uploader": {
                "name": "sharad yadav",
                "email": "sharady@nvidia.com",
                "username": "sharady"
            },
            "createdOn": 1621852027,
            "author": {
                "name": "sharad yadav",
                "email": "sharady@nvidia.com",
                "username": "sharady"
            },
            "kind": "NO_CHANGE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please wrap your commit messages 50/72"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "sharad yadav",
                        "email": "sharady@nvidia.com",
                        "username": "sharady"
                    },
                    "message": "Done"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 17,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Any other patches needed to make this work?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 17,
                    "reviewer": {
                        "name": "sharad yadav",
                        "email": "sharady@nvidia.com",
                        "username": "sharady"
                    },
                    "message": "Its generic for other systems implemented by the provider. Nvidia has developed a proprietary protocol to implement this property."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 17,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Cool.  Let me know when that proprietary backend is pushed for review, until then this is dead code."
                },
                {
                    "file": "redfish-core/lib/processor.hpp",
                    "line": 441,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This check isn't needed."
                },
                {
                    "file": "redfish-core/lib/processor.hpp",
                    "line": 443,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This is going to post the \"type\" property directly to redfish, which is incorrect.  Can you please provide more details about your test setup?  I would've expected the validator to catch this issue, but you mention that you ran it."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/processor.hpp",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 14,
            "sizeDeletions": 1
        },
        {
            "number": 4,
            "revision": "9360b9eb21a949499c0250cf208e8d4c8f532a8a",
            "parents": [
                "2c37b4b0f465344aeea311efd61fd9a217ad8e3e"
            ],
            "ref": "refs/changes/38/43438/4",
            "uploader": {
                "name": "sharad yadav",
                "email": "sharady@nvidia.com",
                "username": "sharady"
            },
            "createdOn": 1623173272,
            "author": {
                "name": "sharad yadav",
                "email": "sharady@nvidia.com",
                "username": "sharady"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 16,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "This has a merge conflict and must get merged first."
                },
                {
                    "file": "redfish-core/lib/processor.hpp",
                    "line": 427,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "typically not auto here"
                },
                {
                    "file": "redfish-core/lib/processor.hpp",
                    "line": 427,
                    "reviewer": {
                        "name": "sharad yadav",
                        "email": "sharady@nvidia.com",
                        "username": "sharady"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/processor.hpp",
                    "line": 435,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Same comment as https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/43439/\n\nThis doesn't work either.  Please see the other examples where we use a separate method and a lookup table to convert dbus enums to redfish.  They are generally not 1:1 in this way.\n\nE.g. https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/39970/93/redfish-core/lib/pcie_slots.hpp \nOther examples as well"
                },
                {
                    "file": "redfish-core/lib/processor.hpp",
                    "line": 435,
                    "reviewer": {
                        "name": "sharad yadav",
                        "email": "sharady@nvidia.com",
                        "username": "sharady"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 32,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/processor.hpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 18,
            "sizeDeletions": 1
        },
        {
            "number": 5,
            "revision": "a4a245e1d9f0695cd419bd4d3bb8394686591d55",
            "parents": [
                "2c37b4b0f465344aeea311efd61fd9a217ad8e3e"
            ],
            "ref": "refs/changes/38/43438/5",
            "uploader": {
                "name": "sharad yadav",
                "email": "sharady@nvidia.com",
                "username": "sharady"
            },
            "createdOn": 1623350570,
            "author": {
                "name": "sharad yadav",
                "email": "sharady@nvidia.com",
                "username": "sharady"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 32,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/processor.hpp",
                    "type": "MODIFIED",
                    "insertions": 35,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 35,
            "sizeDeletions": 1
        }
    ]
}