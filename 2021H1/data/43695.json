{
    "project": "openbmc/openbmc",
    "branch": "master",
    "id": "I20f72f2979f75cb6d22a9870c48619a507891005",
    "number": 43695,
    "subject": "meta-quanta: gbs: fix bios update script minior issue",
    "owner": {
        "name": "George Hung",
        "email": "george.hung@quantatw.com",
        "username": "georgehung1210"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/openbmc/+/43695",
    "commitMessage": "meta-quanta: gbs: fix bios update script minior issue\n\n- check the FIU node for different kernel version\n- replace sh by bash for the script\n\nSigned-off-by: George Hung <george.hung@quantatw.com>\nChange-Id: I20f72f2979f75cb6d22a9870c48619a507891005\n",
    "createdOn": 1622603209,
    "lastUpdated": 1622786790,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1622603209,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1622603260,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1622603267,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/4385/"
        },
        {
            "timestamp": 1622605914,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/4385/ : SUCCESS"
        },
        {
            "timestamp": 1622607195,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 1:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1622651248,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1622710476,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1622762067,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1622775471,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1622775511,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1622775517,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/4444/"
        },
        {
            "timestamp": 1622778033,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/4444/ : SUCCESS"
        },
        {
            "timestamp": 1622779264,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1622784500,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1622785505,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 2: Code-Review+2"
        },
        {
            "timestamp": 1622786790,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Change has been successfully rebased and submitted as c1989599dfeaef5166c22fe1cae085a2966a8e2e by George Hung"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "e428cbeffe0e1fe87091e8b7530875f3933a1e88",
            "parents": [
                "5093725d06fc45a8191f10851b396ba49a9d087b"
            ],
            "ref": "refs/changes/95/43695/1",
            "uploader": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "createdOn": 1622603209,
            "author": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "meta-quanta/meta-gbs/recipes-gbs/gbs-bios-update/files/bios-update.sh",
                    "line": 34,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Isn't only this check needed? since if it's fiu, then it can't be spi?"
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-gbs/gbs-bios-update/files/bios-update.sh",
                    "line": 34,
                    "reviewer": {
                        "name": "George Hung",
                        "email": "george.hung@quantatw.com",
                        "username": "georgehung1210"
                    },
                    "message": "Current Nuvoton NPCM7xx kernel dts either use fiu or spi as the node name, and also, I'd like to check the node name in sysfs directly instead of comparing kernel version. I haven't think the appropriate way to check this, do you have any better idea ?"
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-gbs/gbs-bios-update/files/bios-update.sh",
                    "line": 34,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "I meant, there is no need to check both  [ \"${fname##*\\.}\" != \"spi\" ]  &&  [ \"${fname##*\\.}\" == \"fiu\" ]\n\nWe should just check  [ \"${fname##*\\.}\" == \"fiu\" ]"
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-gbs/gbs-bios-update/files/bios-update.sh",
                    "line": 34,
                    "reviewer": {
                        "name": "George Hung",
                        "email": "george.hung@quantatw.com",
                        "username": "georgehung1210"
                    },
                    "message": "Sorry, I got it and I changed to just check  [ \"${fname##*\\.}\" == \"fiu\" ]"
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-gbs/gbs-bios-update/files/bios-update.sh",
                    "line": 36,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Also, what if a non c0000000 has .fiu suffix? Would it make sense to look for c0000000 and then set it to that?"
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-gbs/gbs-bios-update/files/bios-update.sh",
                    "line": 36,
                    "reviewer": {
                        "name": "George Hung",
                        "email": "george.hung@quantatw.com",
                        "username": "georgehung1210"
                    },
                    "message": "Consider the fiu3 may not always exist in sysfs (be unbound maybe) and fiu0/fiu3/fiux usually have the consistent node name, so even check non c0000000 nodes should be OK."
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-gbs/gbs-bios-update/files/bios-update.sh",
                    "line": 36,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Ack."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-gbs/gbs-bios-update/files/bios-update.sh",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 15,
            "sizeDeletions": 2
        },
        {
            "number": 2,
            "revision": "2219666f9c82645979d81b0847be1a68355043f4",
            "parents": [
                "5093725d06fc45a8191f10851b396ba49a9d087b"
            ],
            "ref": "refs/changes/95/43695/2",
            "uploader": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "createdOn": 1622775471,
            "author": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-gbs/gbs-bios-update/files/bios-update.sh",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 14,
            "sizeDeletions": 2
        },
        {
            "number": 3,
            "revision": "c1989599dfeaef5166c22fe1cae085a2966a8e2e",
            "parents": [
                "78c28a4e34610b7d087471341a131d8a7d05bc1e"
            ],
            "ref": "refs/changes/95/43695/3",
            "uploader": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "createdOn": 1622786790,
            "author": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-gbs/gbs-bios-update/files/bios-update.sh",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 14,
            "sizeDeletions": 2
        }
    ]
}