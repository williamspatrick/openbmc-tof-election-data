{
    "project": "openbmc/phosphor-power",
    "branch": "master",
    "id": "I095ecd83c85d5ed488f83cb3ede79c20701969a2",
    "number": 41268,
    "subject": "psu-ng: Move test getUtils and freeUtils to cpp",
    "owner": {
        "name": "B. J. Wyman",
        "email": "bjwyman@gmail.com",
        "username": "bjwyman"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-power/+/41268",
    "commitMessage": "psu-ng: Move test getUtils and freeUtils to cpp\n\nWhile debugging an SDK build issue regarding optimization and\n_FORTIFY_SORUCE, it was discovered that the tests for\nphosphor-power-supply fail to link if meson is run with --buildtype\ndebugoptimized.\n\nTested:\n     Builds with --buildtype debug\n     Builds with --buildtype debugoptimized\n     Builds with --buildtype plain\n\nSigned-off-by: Brandon Wyman <bjwyman@gmail.com>\nChange-Id: I095ecd83c85d5ed488f83cb3ede79c20701969a2\n",
    "createdOn": 1615587313,
    "lastUpdated": 1615918889,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1615587313,
            "reviewer": {
                "name": "B. J. Wyman",
                "email": "bjwyman@gmail.com",
                "username": "bjwyman"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1615587322,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1615588128,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/13723/ : SUCCESS"
        },
        {
            "timestamp": 1615591881,
            "reviewer": {
                "name": "B. J. Wyman",
                "email": "bjwyman@gmail.com",
                "username": "bjwyman"
            },
            "message": "Patch Set 1:\n\nThis change is ready for review."
        },
        {
            "timestamp": 1615591965,
            "reviewer": {
                "name": "B. J. Wyman",
                "email": "bjwyman@gmail.com",
                "username": "bjwyman"
            },
            "message": "Uploaded patch set 2: New patch set was added with same tree, parent, and commit message as Patch Set 1."
        },
        {
            "timestamp": 1615591976,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1615591979,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1615592389,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/13725/ : SUCCESS"
        },
        {
            "timestamp": 1615834744,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1615841308,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1615841740,
            "reviewer": {
                "name": "B. J. Wyman",
                "email": "bjwyman@gmail.com",
                "username": "bjwyman"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1615842060,
            "reviewer": {
                "name": "B. J. Wyman",
                "email": "bjwyman@gmail.com",
                "username": "bjwyman"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1615842076,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1615842484,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/13805/ : SUCCESS"
        },
        {
            "timestamp": 1615842710,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1615918437,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1615918875,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Patch Set 3: Code-Review+2"
        },
        {
            "timestamp": 1615918889,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Change has been successfully merged by Shawn McCarney"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "8b217840542064f2bc7e40fff21674b04ef84320",
            "parents": [
                "9bab9e10798770033621fbcba8046e7e3e058540"
            ],
            "ref": "refs/changes/68/41268/1",
            "uploader": {
                "name": "B. J. Wyman",
                "email": "bjwyman@gmail.com",
                "username": "bjwyman"
            },
            "createdOn": 1615587313,
            "author": {
                "name": "B. J. Wyman",
                "email": "bjwyman@gmail.com",
                "username": "bjwyman"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "phosphor-power-supply/test/mock.cpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -2
                },
                {
                    "file": "phosphor-power-supply/test/mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -8
                }
            ],
            "sizeInsertions": 20,
            "sizeDeletions": 10
        },
        {
            "number": 2,
            "revision": "9878c584d3d613381f3f866ece046b17acc3dc44",
            "parents": [
                "9bab9e10798770033621fbcba8046e7e3e058540"
            ],
            "ref": "refs/changes/68/41268/2",
            "uploader": {
                "name": "B. J. Wyman",
                "email": "bjwyman@gmail.com",
                "username": "bjwyman"
            },
            "createdOn": 1615591965,
            "author": {
                "name": "B. J. Wyman",
                "email": "bjwyman@gmail.com",
                "username": "bjwyman"
            },
            "kind": "NO_CHANGE",
            "comments": [
                {
                    "file": "phosphor-power-supply/test/mock.hpp",
                    "line": 44,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "I think you might want to move this to the .cpp file in addition to the implementation of getUtils().  You'll need to move the implementation of freeUtils() to the .cpp file too.\n\nOtherwise, as it is now, every .cpp file that #includes this .hpp file will get its own copy of the static global.  Is that what you want?"
                },
                {
                    "file": "phosphor-power-supply/test/mock.hpp",
                    "line": 44,
                    "reviewer": {
                        "name": "B. J. Wyman",
                        "email": "bjwyman@gmail.com",
                        "username": "bjwyman"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "phosphor-power-supply/test/mock.cpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -2
                },
                {
                    "file": "phosphor-power-supply/test/mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -8
                }
            ],
            "sizeInsertions": 20,
            "sizeDeletions": 10
        },
        {
            "number": 3,
            "revision": "a1830a8daa315921f66ca3f5c907654527a3071b",
            "parents": [
                "9bab9e10798770033621fbcba8046e7e3e058540"
            ],
            "ref": "refs/changes/68/41268/3",
            "uploader": {
                "name": "B. J. Wyman",
                "email": "bjwyman@gmail.com",
                "username": "bjwyman"
            },
            "createdOn": 1615842060,
            "author": {
                "name": "B. J. Wyman",
                "email": "bjwyman@gmail.com",
                "username": "bjwyman"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "phosphor-power-supply/test/mock.cpp",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -2
                },
                {
                    "file": "phosphor-power-supply/test/mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -13
                }
            ],
            "sizeInsertions": 27,
            "sizeDeletions": 15
        }
    ]
}