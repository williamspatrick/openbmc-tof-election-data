{
    "project": "openbmc/phosphor-fan-presence",
    "branch": "master",
    "id": "Ia32bc0e977245bd7d06b8d12c0cdfd79b981e4ba",
    "number": 49139,
    "subject": "control: Delete a parameter when nullopt is used",
    "owner": {
        "name": "Matt Spinler",
        "email": "spinler@us.ibm.com",
        "username": "spinler"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-fan-presence/+/49139",
    "commitMessage": "control: Delete a parameter when nullopt is used\n\nThis commit changes the Manager::setParameter function to take a\nstd::optional.  When std::nullopt is passed in, the parameter is\ndeleted.  This removes the need for a separate deleteParameter function\nand simplifies a code path that uses it.\n\nSigned-off-by: Matt Spinler <spinler@us.ibm.com>\nChange-Id: Ia32bc0e977245bd7d06b8d12c0cdfd79b981e4ba\n",
    "createdOn": 1638220007,
    "lastUpdated": 1641518467,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1638220007,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1638220046,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638220074,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/30873/ : FAILURE"
        },
        {
            "timestamp": 1638220170,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 2: Patch Set 1 was rebased."
        },
        {
            "timestamp": 1638220219,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638220325,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/30884/ : SUCCESS"
        },
        {
            "timestamp": 1638303817,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Patch Set 2: Code-Review+2"
        },
        {
            "timestamp": 1638375660,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 3: Patch Set 2 was rebased."
        },
        {
            "timestamp": 1638375711,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638375815,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/30998/ : SUCCESS"
        },
        {
            "timestamp": 1638895604,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1638895618,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638895718,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31450/ : SUCCESS"
        },
        {
            "timestamp": 1638896554,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Patch Set 4:\n\nThe pcie_card_floors action was removed in ps4, that looks to be a rebase error?"
        },
        {
            "timestamp": 1638896854,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 4:\n\n> Patch Set 4:\n> \n> The pcie_card_floors action was removed in ps4, that looks to be a rebase error?\n\nI rebased these 3 DVFS related commits on master where pcie_card_floors.cpp doesn't exist yet, so I can't tell if what this shows is bad or not."
        },
        {
            "timestamp": 1638897413,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Patch Set 4:\n\n> Patch Set 4:\n> \n> > Patch Set 4:\n> > \n> > The pcie_card_floors action was removed in ps4, that looks to be a rebase error?\n> \n> I rebased these 3 DVFS related commits on master where pcie_card_floors.cpp doesn't exist yet, so I can't tell if what this shows is bad or not.\n\nps2 shows that setParameter() should be called with nullopt, but there's no changes to that file in ps4"
        },
        {
            "timestamp": 1638973917,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 4:\n\n> Patch Set 4:\n> \n> > Patch Set 4:\n> > \n> > > Patch Set 4:\n> > > \n> > > The pcie_card_floors action was removed in ps4, that looks to be a rebase error?\n> > \n> > I rebased these 3 DVFS related commits on master where pcie_card_floors.cpp doesn't exist yet, so I can't tell if what this shows is bad or not.\n> \n> ps2 shows that setParameter() should be called with nullopt, but there's no changes to that file in ps4\n\npcie_card_floors isn't in git.  After this merges, I think I just need to rebase those changes on this, and then I can change setParameter as part of that commit."
        },
        {
            "timestamp": 1639086155,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 5: Patch Set 4 was rebased."
        },
        {
            "timestamp": 1639086175,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639086440,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31705/ : SUCCESS"
        },
        {
            "timestamp": 1640665321,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Patch Set 5: Code-Review+2"
        },
        {
            "timestamp": 1641310918,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Change has been successfully rebased and submitted as 72c4af43786bbea6896008ecd4b81439c40917ff"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "90dd8c076b75a7b955f3cd98f917c021652be3a0",
            "parents": [
                "7e5d858766ce02945f4bc77ff07122d16c724a1d"
            ],
            "ref": "refs/changes/39/49139/1",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1638220007,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "control/json/actions/pcie_card_floors.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "control/json/actions/set_parameter_from_group_max.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -8
                },
                {
                    "file": "control/json/manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -23
                }
            ],
            "sizeInsertions": 24,
            "sizeDeletions": 32
        },
        {
            "number": 2,
            "revision": "d517f4733f8701801fb192daa018d0d611db9c63",
            "parents": [
                "1350ac7f9466b98c53833cf7bdaeba367a521c1b"
            ],
            "ref": "refs/changes/39/49139/2",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1638220170,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "control/json/actions/pcie_card_floors.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "control/json/actions/set_parameter_from_group_max.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -8
                },
                {
                    "file": "control/json/manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -23
                }
            ],
            "sizeInsertions": 24,
            "sizeDeletions": 32
        },
        {
            "number": 3,
            "revision": "33c3c13730e5168ab41a59d270c249dee8a6c1da",
            "parents": [
                "cc782d687bf476deca95d5f55ea3c62be9d52ba8"
            ],
            "ref": "refs/changes/39/49139/3",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1638375660,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "control/json/actions/pcie_card_floors.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "control/json/actions/set_parameter_from_group_max.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -8
                },
                {
                    "file": "control/json/manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -23
                }
            ],
            "sizeInsertions": 24,
            "sizeDeletions": 32
        },
        {
            "number": 4,
            "revision": "e85f3be6e1cd289fe8f9bb2a255755b386167b52",
            "parents": [
                "602cedb460d4a2588997b413753442081ce080da"
            ],
            "ref": "refs/changes/39/49139/4",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1638895604,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "control/json/actions/set_parameter_from_group_max.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -8
                },
                {
                    "file": "control/json/manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -23
                }
            ],
            "sizeInsertions": 23,
            "sizeDeletions": 31
        },
        {
            "number": 5,
            "revision": "20f51af8cb8fbb6d38c7b6bdcc94a5cb100dd305",
            "parents": [
                "323694a9d8611405e93acb50ba5ba729cc580056"
            ],
            "ref": "refs/changes/39/49139/5",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1639086155,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "control/json/actions/set_parameter_from_group_max.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -8
                },
                {
                    "file": "control/json/manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -23
                }
            ],
            "sizeInsertions": 23,
            "sizeDeletions": 31
        },
        {
            "number": 6,
            "revision": "72c4af43786bbea6896008ecd4b81439c40917ff",
            "parents": [
                "075fcd858f1bfb4ba8ca5cc41526495bf3df166a"
            ],
            "ref": "refs/changes/39/49139/6",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1641310918,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "control/json/actions/set_parameter_from_group_max.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -8
                },
                {
                    "file": "control/json/manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -23
                }
            ],
            "sizeInsertions": 23,
            "sizeDeletions": 31
        }
    ]
}