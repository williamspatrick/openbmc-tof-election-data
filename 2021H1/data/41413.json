{
    "project": "openbmc/phosphor-host-ipmid",
    "branch": "master",
    "id": "Iadd3b145b2170667ca0d885a6413d1ef86b6fe27",
    "number": 41413,
    "subject": "chassishandler: Refactor get/set boot parameters code",
    "owner": {
        "name": "Konstantin Aladyshev",
        "email": "aladyshev22@gmail.com",
        "username": "Kostr"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-host-ipmid/+/41413",
    "commitMessage": "chassishandler: Refactor get/set boot parameters code\n\n-Make use of 'getDbusProperty'/'setDbusProperty' library functions\n-Remove duplicate log messages on errors\n\nSigned-off-by: Konstantin Aladyshev <aladyshev22@gmail.com>\nChange-Id: Iadd3b145b2170667ca0d885a6413d1ef86b6fe27\n",
    "createdOn": 1616095236,
    "lastUpdated": 1622031780,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1616095236,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1616095248,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1616095523,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/14003/ : SUCCESS"
        },
        {
            "timestamp": 1616100457,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1616100474,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1616100733,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/14009/ : SUCCESS"
        },
        {
            "timestamp": 1616101276,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Patch Set 2:\n\nHello!\nI've added a refactoring commit that covers some issues that Vernon have mentioned in my commit\n\"chassishandler: Add support for boot type flag (Legacy/EFI)\" (https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-host-ipmid/+/40900/2) and more.\nMy first commit was about adding BootType interface support in a same way how it is was done with BootMode/BootSource interfaces.\nAnd this commit refactors code for all of the three interfaces BootMode/BootSource/BootType.\nI think separating these changes into two commits is better for the history log.\nPlease review."
        },
        {
            "timestamp": 1617398346,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 2: Code-Review+2"
        },
        {
            "timestamp": 1617918794,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1617918809,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1617919006,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/15154/ : FAILURE"
        },
        {
            "timestamp": 1617919175,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1617919189,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1617919513,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/15156/ : SUCCESS"
        },
        {
            "timestamp": 1619185453,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1619185469,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1619185884,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/16094/ : SUCCESS"
        },
        {
            "timestamp": 1619188733,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Patch Set 5:\n\nI've rebased this commit on top of the\n(40900: chassishandler: Add support for boot type flag (Legacy/EFI) | https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-host-ipmid/+/40900)\nwhich is now able to run even if the system lacks BootType interface in a Settings object (POWER case).\n\nCan we merge it?"
        },
        {
            "timestamp": 1621550347,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1621602483,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Patch Set 6: Patch Set 5 was rebased"
        },
        {
            "timestamp": 1621602499,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1621602645,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/17807/ : SUCCESS"
        },
        {
            "timestamp": 1621604128,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1621604149,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1621604549,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/17811/ : SUCCESS"
        },
        {
            "timestamp": 1621605593,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1621630635,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 7: Code-Review+2"
        },
        {
            "timestamp": 1622031780,
            "reviewer": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "message": "Change has been successfully merged by Konstantin Aladyshev"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "365331b7282121ef86daef7b87fa0463eaf9ceec",
            "parents": [
                "ca00988ff609daf57692e9a01af66ff59583d1d1"
            ],
            "ref": "refs/changes/13/41413/1",
            "uploader": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "createdOn": 1616095236,
            "author": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "chassishandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -37
                }
            ],
            "sizeInsertions": 36,
            "sizeDeletions": 37
        },
        {
            "number": 2,
            "revision": "9d2a222d3ada22a6b45a2b8f2338be4dac64dc34",
            "parents": [
                "ca00988ff609daf57692e9a01af66ff59583d1d1"
            ],
            "ref": "refs/changes/13/41413/2",
            "uploader": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "createdOn": 1616100457,
            "author": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "chassishandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 59,
                    "deletions": -69
                }
            ],
            "sizeInsertions": 59,
            "sizeDeletions": 69
        },
        {
            "number": 3,
            "revision": "ac15ea8949f59cafcdfeb1e4153aab07eb41c7a4",
            "parents": [
                "9568a000d27502bf358efc423a6a36d93896a646"
            ],
            "ref": "refs/changes/13/41413/3",
            "uploader": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "createdOn": 1617918794,
            "author": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "chassishandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 64,
                    "deletions": -68
                }
            ],
            "sizeInsertions": 64,
            "sizeDeletions": 68
        },
        {
            "number": 4,
            "revision": "2f0c7437d9aad56a9f5dc9070fed794acde71d09",
            "parents": [
                "9568a000d27502bf358efc423a6a36d93896a646"
            ],
            "ref": "refs/changes/13/41413/4",
            "uploader": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "createdOn": 1617919175,
            "author": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "chassishandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 65,
                    "deletions": -69
                }
            ],
            "sizeInsertions": 65,
            "sizeDeletions": 69
        },
        {
            "number": 5,
            "revision": "045048e8b3fdaf4bcd0e052544bfc0da2df52fe4",
            "parents": [
                "498213d0941522c03baf1819551888bde4ef4206"
            ],
            "ref": "refs/changes/13/41413/5",
            "uploader": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "createdOn": 1619185453,
            "author": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "chassishandler.cpp",
                    "line": 1641,
                    "reviewer": {
                        "name": "Vernon Mauery",
                        "email": "vernon.mauery@linux.intel.com",
                        "username": "vmauery"
                    },
                    "message": "the yielding variants of get/setdbusproperty do not throw on errors, they return a boost::system::error_code instead.\n\nboost::system::error_code ec{};\nec = ipmi::setDbusProperty(...);\nif (ec) {\n    log<level::ERR>(\"Error in BootSource Set\", entry(\"ERROR=%s\", ec.message().c_str());\n    return ipmi::ccUnspecifiedError;\n}\n\nPlease fix here and below."
                },
                {
                    "file": "chassishandler.cpp",
                    "line": 1641,
                    "reviewer": {
                        "name": "Konstantin Aladyshev",
                        "email": "aladyshev22@gmail.com",
                        "username": "Kostr"
                    },
                    "message": "Fixed"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "chassishandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 59,
                    "deletions": -69
                }
            ],
            "sizeInsertions": 59,
            "sizeDeletions": 69
        },
        {
            "number": 6,
            "revision": "129a5a8d723844dbe50d931382788dce341ee9b5",
            "parents": [
                "493fa1be326cb3a1bbc3047c5a7c0fabe126ed73"
            ],
            "ref": "refs/changes/13/41413/6",
            "uploader": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "createdOn": 1621602483,
            "author": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "chassishandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 59,
                    "deletions": -69
                }
            ],
            "sizeInsertions": 59,
            "sizeDeletions": 69
        },
        {
            "number": 7,
            "revision": "e76a61a2f7c19ed07e2bfe98533d82bc23692fc1",
            "parents": [
                "96ef02824710c2736ffdb3de3218fbdc984e55be"
            ],
            "ref": "refs/changes/13/41413/7",
            "uploader": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "createdOn": 1621604128,
            "author": {
                "name": "Konstantin Aladyshev",
                "email": "aladyshev22@gmail.com",
                "username": "Kostr"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "chassishandler.cpp",
                    "type": "MODIFIED",
                    "insertions": 56,
                    "deletions": -75
                }
            ],
            "sizeInsertions": 56,
            "sizeDeletions": 75
        }
    ]
}