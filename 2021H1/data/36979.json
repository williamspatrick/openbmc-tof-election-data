{
    "project": "openbmc/dbus-sensors",
    "branch": "master",
    "id": "Id280898cf1fc9bdaa56b87f381c5d55b961e72d7",
    "number": 36979,
    "subject": "PSUSensors: add support for vout17",
    "owner": {
        "name": "Jason Ling",
        "email": "jasonling@google.com",
        "username": "jclaz"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/dbus-sensors/+/36979",
    "commitMessage": "PSUSensors: add support for vout17\n\nAdd support for vouts up to vout32.\n\nTested:\nTested on a system where the hwmon(pmbus) driver had a in17_label that\nread vout17. Unable to test past vout17.\nVoltage reading using ipmi tool sensor list looked reasonable\n\nSigned-off-by: Jason Ling <jasonling@google.com>\nChange-Id: Id280898cf1fc9bdaa56b87f381c5d55b961e72d7\n",
    "hashtags": [
        "tag1"
    ],
    "createdOn": 1601506927,
    "lastUpdated": 1613789540,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1601506927,
            "reviewer": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1601506945,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1601506953,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/5539/"
        },
        {
            "timestamp": 1601507021,
            "reviewer": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "message": "Uploaded patch set 2: Patch Set 1 was rebased."
        },
        {
            "timestamp": 1601507031,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/5539/ : SUCCESS"
        },
        {
            "timestamp": 1601507032,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1601507038,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/5540/"
        },
        {
            "timestamp": 1601507085,
            "reviewer": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "message": "Uploaded patch set 3: Patch Set 2 was rebased."
        },
        {
            "timestamp": 1601507095,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1601507096,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/5540/ : ABORTED"
        },
        {
            "timestamp": 1601507103,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/5541/"
        },
        {
            "timestamp": 1601507184,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/5541/ : SUCCESS"
        },
        {
            "timestamp": 1601507400,
            "reviewer": {
                "name": "Josh Lehan",
                "email": "krellan@google.com",
                "username": "Krellan"
            },
            "message": "Patch Set 3: Code-Review+1\n\nLGTM - long-term, we should try to generalize this numbering concept, instead of having all these repetitive numbers in an array, so that we can allow the numbering to go arbitrarily high, so that we don't have to keep patching this every time somebody invents a chip with a greater quantity of voltage sensors onboard."
        },
        {
            "timestamp": 1601507898,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1601512980,
            "reviewer": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1601512991,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1601512998,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/5550/"
        },
        {
            "timestamp": 1601513042,
            "reviewer": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1601513110,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/5550/ : SUCCESS"
        },
        {
            "timestamp": 1601513547,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1601517769,
            "reviewer": {
                "name": "James Feist",
                "email": "james.feist@linux.intel.com",
                "username": "feistjj"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1601575175,
            "reviewer": {
                "name": "Josh Lehan",
                "email": "krellan@google.com",
                "username": "Krellan"
            },
            "message": "Patch Set 4: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1601582097,
            "reviewer": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1601615529,
            "reviewer": {
                "name": "Josh Lehan",
                "email": "krellan@google.com",
                "username": "Krellan"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1601671581,
            "reviewer": {
                "name": "James Feist",
                "email": "james.feist@linux.intel.com",
                "username": "feistjj"
            },
            "message": "Patch Set 4: Code-Review+2\n\n(1 comment)"
        },
        {
            "timestamp": 1601671830,
            "reviewer": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "message": "Change has been successfully merged by Jason Ling"
        },
        {
            "timestamp": 1613789540,
            "reviewer": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "message": "Hashtag added: tag1"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "f665c1041445afb7840c32e323b1064e1fd8a502",
            "parents": [
                "577937b55d4644dc2d59ad571abf059c46ce83b3"
            ],
            "ref": "refs/changes/79/36979/1",
            "uploader": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "createdOn": 1601506927,
            "author": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 1,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "00ca2d5a9dac038bc3891ba671f63d8182370835",
            "parents": [
                "484b9b37530a52f10a606abff23b345a4ec6ab2a"
            ],
            "ref": "refs/changes/79/36979/2",
            "uploader": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "createdOn": 1601507021,
            "author": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 1,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "4e7244091110b4f80f975aeb4765fb100fdd6af6",
            "parents": [
                "dbfd4667b2a53493bb6889a02a74e445ce3a50e9"
            ],
            "ref": "refs/changes/79/36979/3",
            "uploader": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "createdOn": 1601507085,
            "author": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 843,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Should we just branch predict and implement this out to a count of 32?  Does the kernel have a hard limit on the number of these that can exist?"
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 843,
                    "reviewer": {
                        "name": "Jason Ling",
                        "email": "jasonling@google.com",
                        "username": "jclaz"
                    },
                    "message": "Going out to 32 sounds reasonable. Kernel doesn't seem to have a hard limit, generic pmbus driver searches up to 32 pages.\nPMBus spec 1.2 says up to 32 pages are allowed."
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 843,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "32 it is."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 1,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "32047ef7a5b70e8c610d51113ebdbef8167809b3",
            "parents": [
                "dbfd4667b2a53493bb6889a02a74e445ce3a50e9"
            ],
            "ref": "refs/changes/79/36979/4",
            "uploader": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "createdOn": 1601512980,
            "author": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 843,
                    "reviewer": {
                        "name": "James Feist",
                        "email": "james.feist@linux.intel.com",
                        "username": "feistjj"
                    },
                    "message": "this is getting a bit insane... should we consider vout\\d+?"
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 843,
                    "reviewer": {
                        "name": "Josh Lehan",
                        "email": "krellan@google.com",
                        "username": "Krellan"
                    },
                    "message": "Agreed, but should be in a different patch, not this patch."
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 843,
                    "reviewer": {
                        "name": "Jason Ling",
                        "email": "jasonling@google.com",
                        "username": "jclaz"
                    },
                    "message": "+1 Josh,\nJames , is it acceptable to add vout17 for now.. remove vout18...32 and then leave it up to a future patch to play around with using a regex for labels?"
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 843,
                    "reviewer": {
                        "name": "Josh Lehan",
                        "email": "krellan@google.com",
                        "username": "Krellan"
                    },
                    "message": "OK to add only vout17, but then another patch will need to be generated when the next person needs vout18 :)"
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 843,
                    "reviewer": {
                        "name": "James Feist",
                        "email": "james.feist@linux.intel.com",
                        "username": "feistjj"
                    },
                    "message": "agreed, it probably needs to be fixed for all types"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 16,
            "sizeDeletions": 0
        }
    ]
}