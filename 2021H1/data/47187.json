{
    "project": "openbmc/openbmc",
    "branch": "master",
    "id": "Iecc2377f7bcf3d487833dc10b9f9cbff9aae072f",
    "number": 47187,
    "subject": "Hook Script For Multiple Vmedia Connections Support",
    "owner": {
        "name": "Dinesh Eswaran",
        "email": "dhineskumare@ami.com",
        "username": "Dinesh-Eswaran"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/openbmc/+/47187",
    "commitMessage": "Hook Script For Multiple Vmedia Connections Support\n\nThis hook script is implemented with respect to support the\nMultiple media instance redirections/connections. It is used to\nConfigure the gadget driver, nbd devices and LUN devices as well.\n\nCurrently six numbers of media instances can be redirect, so that\ntotally six numbers of nbd devices(nbd0 to nbd5) were used for\nVirtual Media redirections. There were six numbers of LUN(LUN0 to LUN5)\ndevices also used for Multiple Media redirections. ISO/NRG images will\nbe consider as cdrom instance and IMG/IMA images will be consider\nas hdd media instance.\n\nDependency code has committed to below link:\nhttps://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/47140\nhttps://gerrit.openbmc-project.xyz/c/openbmc/jsnbd/+/47142\nhttps://gerrit.openbmc-project.xyz/c/openbmc/phosphor-webui/+/47144\n\nTesting:\ntested with all three numbers of clients at a time.\nAll six instances were redirected to host machine. Which\nI can able to see in host machine.\n\nSigned-off-by: Dhines Kumar E <dhineskumare@ami.com>\nChange-Id: Iecc2377f7bcf3d487833dc10b9f9cbff9aae072f\n",
    "createdOn": 1632464335,
    "lastUpdated": 1633466219,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1632464335,
            "reviewer": {
                "name": "Dinesh Eswaran",
                "email": "dhineskumare@ami.com",
                "username": "Dinesh-Eswaran"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1632464372,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1632464379,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/6843/"
        },
        {
            "timestamp": 1632465371,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/6843/ : SUCCESS"
        },
        {
            "timestamp": 1632466640,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 1:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1632485691,
            "reviewer": {
                "name": "Dinesh Eswaran",
                "email": "dhineskumare@ami.com",
                "username": "Dinesh-Eswaran"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1632485729,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1632485735,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/6848/"
        },
        {
            "timestamp": 1632486510,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/6848/ : SUCCESS"
        },
        {
            "timestamp": 1632487889,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1632759893,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2:\n\n(6 comments)"
        },
        {
            "timestamp": 1632825835,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "b12f884f85a49f74fa0c95761836718fff095535",
            "parents": [
                "cc92478642b2124187357319416340b3d7701365"
            ],
            "ref": "refs/changes/87/47187/1",
            "uploader": {
                "name": "Dinesh Eswaran",
                "email": "dhineskumare@ami.com",
                "username": "Dinesh-Eswaran"
            },
            "createdOn": 1632464335,
            "author": {
                "name": "Dinesh Eswaran",
                "email": "dhineskumare@ami.com",
                "username": "Dinesh-Eswaran"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/aspeed-layer/recipes-connectivity/jsnbd/jsnbd/state_hook",
                    "type": "MODIFIED",
                    "insertions": 109,
                    "deletions": -47
                }
            ],
            "sizeInsertions": 109,
            "sizeDeletions": 47
        },
        {
            "number": 2,
            "revision": "313d3dbf0e8ba461d2f97e40c4320645a3150903",
            "parents": [
                "cc92478642b2124187357319416340b3d7701365"
            ],
            "ref": "refs/changes/87/47187/2",
            "uploader": {
                "name": "Dinesh Eswaran",
                "email": "dhineskumare@ami.com",
                "username": "Dinesh-Eswaran"
            },
            "createdOn": 1632485691,
            "author": {
                "name": "Dinesh Eswaran",
                "email": "dhineskumare@ami.com",
                "username": "Dinesh-Eswaran"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Can you put a `jsnbd:` prefix on this?  Generally commit message titles should be lower-case."
                },
                {
                    "file": "meta-phosphor/aspeed-layer/recipes-connectivity/jsnbd/jsnbd/state_hook",
                    "line": 1,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Should this be /bin/sh or /bin/bash?"
                },
                {
                    "file": "meta-phosphor/aspeed-layer/recipes-connectivity/jsnbd/jsnbd/state_hook",
                    "line": 11,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Is there some hardware limitation on '6'?"
                },
                {
                    "file": "meta-phosphor/aspeed-layer/recipes-connectivity/jsnbd/jsnbd/state_hook",
                    "line": 20,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Any reason this can't be `[0-9]*)` and `nbd_device=/dev/nbd${config}`?"
                },
                {
                    "file": "meta-phosphor/aspeed-layer/recipes-connectivity/jsnbd/jsnbd/state_hook",
                    "line": 42,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Can you remove tabs please?"
                },
                {
                    "file": "meta-phosphor/aspeed-layer/recipes-connectivity/jsnbd/jsnbd/state_hook",
                    "line": 50,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This change is not obvious from the commit message.  Why do we only run this if the directory doesn't exist?"
                },
                {
                    "file": "meta-phosphor/aspeed-layer/recipes-connectivity/jsnbd/jsnbd/state_hook",
                    "line": 83,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "yulei.sh@bytedance.com",
                        "username": "mine260309"
                    },
                    "message": "The hard-coded `1e6a0000.usb-vhub:p4` will fail if this port is used by other devices.\nSee https://github.com/openbmc/openbmc/issues/3814 for details."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/aspeed-layer/recipes-connectivity/jsnbd/jsnbd/state_hook",
                    "type": "MODIFIED",
                    "insertions": 112,
                    "deletions": -47
                }
            ],
            "sizeInsertions": 112,
            "sizeDeletions": 47
        }
    ]
}