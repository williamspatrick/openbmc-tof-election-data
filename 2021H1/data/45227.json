{
    "project": "openbmc/openbmc",
    "branch": "master",
    "id": "I81fb707d5b16f88032d7022da97563bf6ccc78f5",
    "number": 45227,
    "subject": "meta-google: sslh: Ensure conf2struct files are not regenerated",
    "owner": {
        "name": "William A. Kennington III",
        "email": "wak@google.com",
        "username": "wak-google"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/openbmc/+/45227",
    "commitMessage": "meta-google: sslh: Ensure conf2struct files are not regenerated\n\nWe sometimes have a race condition in the git checkout process that\ncauses the source file timestamp to be newer than the generated ones.\nThe generation process is currently broken, but the necessary files are\nbundled in the source tree.\n\nChange-Id: I81fb707d5b16f88032d7022da97563bf6ccc78f5\nSigned-off-by: William A. Kennington III <wak@google.com>\n",
    "createdOn": 1627283683,
    "lastUpdated": 1627342652,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1627283683,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1627283787,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1627283796,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/5457/"
        },
        {
            "timestamp": 1627285756,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/5457/ : FAILURE"
        },
        {
            "timestamp": 1627286071,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1627286130,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1627286136,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/5458/"
        },
        {
            "timestamp": 1627287405,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/5458/ : FAILURE"
        },
        {
            "timestamp": 1627322702,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1627328231,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1627329528,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1627335230,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1627335289,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1627335337,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Uploaded patch set 4: Commit message was updated."
        },
        {
            "timestamp": 1627335623,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 4: Code-Review+2"
        },
        {
            "timestamp": 1627336487,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/5488/"
        },
        {
            "timestamp": 1627338432,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/5488/ : SUCCESS"
        },
        {
            "timestamp": 1627339613,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 3:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1627342628,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1627342652,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Change has been successfully rebased and submitted as 837bfa821d82357bbb41746acce357a44cbc8fd4 by William A. Kennington III"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "92bef463ffd445a3fbc6564676d282352773213b",
            "parents": [
                "f5023f1a7055299b56609918821c8ae553f1c1ed"
            ],
            "ref": "refs/changes/27/45227/1",
            "uploader": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "createdOn": 1627283683,
            "author": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-google/recipes-extended/networking/sslh_git.bb",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 5,
            "sizeDeletions": 5
        },
        {
            "number": 2,
            "revision": "566cec3cc5fcb3776d823ae18c12fd6f97f4ff28",
            "parents": [
                "f5023f1a7055299b56609918821c8ae553f1c1ed"
            ],
            "ref": "refs/changes/27/45227/2",
            "uploader": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "createdOn": 1627286071,
            "author": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "meta-google/recipes-extended/networking/sslh_git.bb",
                    "line": 12,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "It looks like we may still need this? Failure says:\n\n```\n00:59:39 conf2struct sslhconf.cfg\n00:59:39 make: conf2struct: Command not found\n00:59:39 make: *** [Makefile:84: sslh-conf.c] Error 127\n00:59:39 make: *** Waiting for unfinished jobs....\n```"
                },
                {
                    "file": "meta-google/recipes-extended/networking/sslh_git.bb",
                    "line": 12,
                    "reviewer": {
                        "name": "William A. Kennington III",
                        "email": "wak@google.com",
                        "username": "wak-google"
                    },
                    "message": "The idea behind this patch was to explicitly avoid that dependency because that is what is causing failures with the new libconfig. It's odd that even with the guaranteed touch ordering it is still trying to regenerate the files."
                },
                {
                    "file": "meta-google/recipes-extended/networking/sslh_git.bb",
                    "line": 12,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Oh I see..."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-google/recipes-extended/networking/sslh_git.bb",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 6,
            "sizeDeletions": 5
        },
        {
            "number": 3,
            "revision": "0a07d3854ef6ce7f2383ea17b0d65bf90f8c8135",
            "parents": [
                "1f3228605cd05df2e481ff482d81a0d3b5599063"
            ],
            "ref": "refs/changes/27/45227/3",
            "uploader": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "createdOn": 1627335230,
            "author": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-google/recipes-extended/networking/sslh_git.bb",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 8,
            "sizeDeletions": 5
        },
        {
            "number": 4,
            "revision": "945187c69220d6f168d445471309d448b686169a",
            "parents": [
                "1f3228605cd05df2e481ff482d81a0d3b5599063"
            ],
            "ref": "refs/changes/27/45227/4",
            "uploader": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "createdOn": 1627335337,
            "author": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "meta-google/recipes-extended/networking/sslh_git.bb",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 8,
            "sizeDeletions": 5
        },
        {
            "number": 5,
            "revision": "837bfa821d82357bbb41746acce357a44cbc8fd4",
            "parents": [
                "60c1ee464450a3919475785a428439a1b7e6f0e9"
            ],
            "ref": "refs/changes/27/45227/5",
            "uploader": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "createdOn": 1627342652,
            "author": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "meta-google/recipes-extended/networking/sslh_git.bb",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 8,
            "sizeDeletions": 5
        }
    ]
}