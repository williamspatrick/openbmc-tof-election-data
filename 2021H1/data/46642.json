{
    "project": "openbmc/openbmc",
    "branch": "master",
    "id": "Ie3ef974e7edc172c82f63cb0129d90d098b15906",
    "number": 46642,
    "subject": "e3c246d4i: enable x86-power-control",
    "owner": {
        "name": "Zev Weiss",
        "email": "zev@bewilderbeest.net",
        "username": "zevweiss"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/openbmc/+/46642",
    "commitMessage": "e3c246d4i: enable x86-power-control\n\nThe config has a slight hack regarding the SioPowerGood/PowerOk signals\n(as explained in a comment in the file).  The O_PWROK GPIO line perhaps\n\"should\" be the SioPowerGood signal, but we also don't have\nSioOnControl, so power-control disables its SIO support anyway, and\nusing O_PWROK as PowerOk seems to work alright.\n\nSigned-off-by: Zev Weiss <zev@bewilderbeest.net>\nChange-Id: Ie3ef974e7edc172c82f63cb0129d90d098b15906\n",
    "createdOn": 1631045417,
    "lastUpdated": 1634920352,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1631045417,
            "reviewer": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1631045450,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1631045458,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/6533/"
        },
        {
            "timestamp": 1631046123,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/6533/ : SUCCESS"
        },
        {
            "timestamp": 1631047739,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 1:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1631741546,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(2 comments)\n\nAdding Jason Bills as maintainer of x86-power-control."
        },
        {
            "timestamp": 1631741575,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1631752577,
            "reviewer": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "message": "Patch Set 1:\n\n(3 comments)"
        },
        {
            "timestamp": 1631752593,
            "reviewer": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1631752634,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1631752643,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/6713/"
        },
        {
            "timestamp": 1631753687,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/6713/ : SUCCESS"
        },
        {
            "timestamp": 1631754895,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1631759384,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1631759431,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1632241661,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1632307512,
            "reviewer": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1632307549,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1632307555,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/6803/"
        },
        {
            "timestamp": 1632308138,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/6803/ : FAILURE"
        },
        {
            "timestamp": 1632308947,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Verified\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/6804/"
        },
        {
            "timestamp": 1632309533,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/6804/ : FAILURE"
        },
        {
            "timestamp": 1632310563,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Verified\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/6805/"
        },
        {
            "timestamp": 1632312119,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/6805/ : FAILURE"
        },
        {
            "timestamp": 1632315718,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Verified\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/6810/"
        },
        {
            "timestamp": 1632316382,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/6810/ : SUCCESS"
        },
        {
            "timestamp": 1632318763,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 3:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1634698140,
            "reviewer": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "message": "Patch Set 3:\n\nPing...Ed or anyone else want to chime in on this?"
        },
        {
            "timestamp": 1634747132,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3: Code-Review+1\n\nI'm going to rebase this just so it is up to date.  Feel free to reach out to me in Discord if you don't get additional feedback by Friday and I'll merge this as-is."
        },
        {
            "timestamp": 1634747136,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 4: Patch Set 3 was rebased"
        },
        {
            "timestamp": 1634747179,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1634747186,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/7253/"
        },
        {
            "timestamp": 1634748220,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/7253/ : SUCCESS"
        },
        {
            "timestamp": 1634748692,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 4:\n\nBuild Failed \n\nIBM Hardware CI : witherspoon hardware test failed"
        },
        {
            "timestamp": 1634750434,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 4:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1634753356,
            "reviewer": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "message": "Patch Set 4:\n\n> Patch Set 3: Code-Review+1\n> \n> I'm going to rebase this just so it is up to date.  Feel free to reach out to me in Discord if you don't get additional feedback by Friday and I'll merge this as-is.\n\nAck, thanks Patrick."
        },
        {
            "timestamp": 1634920348,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 4: Code-Review+2"
        },
        {
            "timestamp": 1634920352,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Change has been successfully rebased and submitted as 2b0681962d86d8431d7ebaee59ed49ddd10498cd by Patrick Williams"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "10fdd3df20d43223d118eaab1b204ac47b754351",
            "parents": [
                "8ad67d2154d928140f558d803dbda95af482cb1e"
            ],
            "ref": "refs/changes/42/46642/1",
            "uploader": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "createdOn": 1631045417,
            "author": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "meta-asrock/meta-e3c246d4i/recipes-x86/chassis/x86-power-control/power-config-host0.json",
                    "line": 2,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Generally we use space-indentation.  Can you retab this file?"
                },
                {
                    "file": "meta-asrock/meta-e3c246d4i/recipes-x86/chassis/x86-power-control/power-config-host0.json",
                    "line": 2,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "Done"
                },
                {
                    "file": "meta-asrock/meta-e3c246d4i/recipes-x86/chassis/x86-power-control/power-config-host0.json",
                    "line": 7,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Also, I think this is a new requirement but there are Polarity required now."
                },
                {
                    "file": "meta-asrock/meta-e3c246d4i/recipes-x86/chassis/x86-power-control/power-config-host0.json",
                    "line": 7,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "Ah right, thanks for the reminder (I had initially tested and posted this prior to that change getting merged)."
                },
                {
                    "file": "meta-asrock/meta-e3c246d4i/recipes-x86/chassis/x86-power-control/power-config-host0.json",
                    "line": 30,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Some repositories, and I don't know if x86-power-control does, allow /**/ style comments.  Can you check if they do and if they don't maybe submit a change to their json::parse calls so that they do?"
                },
                {
                    "file": "meta-asrock/meta-e3c246d4i/recipes-x86/chassis/x86-power-control/power-config-host0.json",
                    "line": 30,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "Yeah...the unfortunate trade-off meaning you can't just run it through `jq` as a quick syntax check (which of course leads back to my wish that there was some reasonably well-established format that was better than JSON for this kind of config stuff, but that's of course a totally separate discussion).  But yeah, enabling comments is nice, even if it is non-standard, so: https://gerrit.openbmc-project.xyz/c/openbmc/x86-power-control/+/46925"
                },
                {
                    "file": "meta-asrock/meta-e3c246d4i/recipes-x86/chassis/x86-power-control/power-config-host0.json",
                    "line": 30,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "FWIW, there are some additional in-flight commits that will enable `eslint` on all JSON files we find in repositories.  Maybe not as globally available as `jq` but at least it is relatively easy to install with `npm`."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "meta-asrock/meta-e3c246d4i/conf/machine/e3c246d4i.conf",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meta-asrock/meta-e3c246d4i/recipes-x86/chassis/x86-power-control/power-config-host0.json",
                    "type": "ADDED",
                    "insertions": 76,
                    "deletions": 0
                },
                {
                    "file": "meta-asrock/meta-e3c246d4i/recipes-x86/chassis/x86-power-control_%.bbappend",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 89,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "a1701e7a3dbe2bbb76dfa6d71b7ffb847b8fbed4",
            "parents": [
                "e8963ad91976924003cb17c0bf966619b3d87307"
            ],
            "ref": "refs/changes/42/46642/2",
            "uploader": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "createdOn": 1631752593,
            "author": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meta-asrock/meta-e3c246d4i/conf/machine/e3c246d4i.conf",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meta-asrock/meta-e3c246d4i/recipes-x86/chassis/x86-power-control/power-config-host0.json",
                    "type": "ADDED",
                    "insertions": 93,
                    "deletions": 0
                },
                {
                    "file": "meta-asrock/meta-e3c246d4i/recipes-x86/chassis/x86-power-control_%.bbappend",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 106,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "842b1f002130fd4b81c0d0458b1b9b0bc87cd9c7",
            "parents": [
                "164a9c9f2d774276d5f5802e15e6c2299e43c04f"
            ],
            "ref": "refs/changes/42/46642/3",
            "uploader": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "createdOn": 1632307512,
            "author": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meta-asrock/meta-e3c246d4i/conf/machine/e3c246d4i.conf",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meta-asrock/meta-e3c246d4i/recipes-x86/chassis/x86-power-control/power-config-host0.json",
                    "type": "ADDED",
                    "insertions": 93,
                    "deletions": 0
                },
                {
                    "file": "meta-asrock/meta-e3c246d4i/recipes-x86/chassis/x86-power-control_%.bbappend",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 106,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "9257e835a6aae97741fe1e1970c7dd069967f647",
            "parents": [
                "5b4b4f8529e4b919702f8fb08142d100b2310bbc"
            ],
            "ref": "refs/changes/42/46642/4",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1634747136,
            "author": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meta-asrock/meta-e3c246d4i/conf/machine/e3c246d4i.conf",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meta-asrock/meta-e3c246d4i/recipes-x86/chassis/x86-power-control/power-config-host0.json",
                    "type": "ADDED",
                    "insertions": 93,
                    "deletions": 0
                },
                {
                    "file": "meta-asrock/meta-e3c246d4i/recipes-x86/chassis/x86-power-control_%.bbappend",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 106,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "2b0681962d86d8431d7ebaee59ed49ddd10498cd",
            "parents": [
                "2ded481fe4b8b5a841b3f2440c683498c5e2bcae"
            ],
            "ref": "refs/changes/42/46642/5",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1634920352,
            "author": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meta-asrock/meta-e3c246d4i/conf/machine/e3c246d4i.conf",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meta-asrock/meta-e3c246d4i/recipes-x86/chassis/x86-power-control/power-config-host0.json",
                    "type": "ADDED",
                    "insertions": 93,
                    "deletions": 0
                },
                {
                    "file": "meta-asrock/meta-e3c246d4i/recipes-x86/chassis/x86-power-control_%.bbappend",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 106,
            "sizeDeletions": 0
        }
    ]
}