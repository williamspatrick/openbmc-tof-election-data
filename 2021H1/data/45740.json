{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "topic": "hostlogger",
    "id": "Ia95735e2f03a4361ee876774b5906df18ab013b8",
    "number": 45740,
    "subject": "Redfish: Script to Expose Host Log Entries",
    "owner": {
        "name": "Spencer Ku",
        "email": "Spencer.Ku@quantatw.com",
        "username": "SpencerKu"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/45740",
    "commitMessage": "Redfish: Script to Expose Host Log Entries\n\nSimple script to expose host serial console logs,\nSearch and get the log via redfish in every 5 seconds\n\noption:\n--host : Host to connect to\n--cert : File path to cert\n--username : Username to connect with\n--password : Password to use\n\nSigned-off-by: SpencerKu <Spencer.Ku@quantatw.com>\nChange-Id: Ia95735e2f03a4361ee876774b5906df18ab013b8\n",
    "createdOn": 1628505081,
    "lastUpdated": 1639729372,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1628505081,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1628505106,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1628505113,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Topic set to hostlogger"
        },
        {
            "timestamp": 1628506752,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/24052/ : SUCCESS"
        },
        {
            "timestamp": 1628508485,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1628508504,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1628508915,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/24054/ : SUCCESS"
        },
        {
            "timestamp": 1639112752,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2: Code-Review+2"
        },
        {
            "timestamp": 1639112763,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully rebased and submitted as 5e89efd9f5f72a86419565d1826b0ad1a545ac0b by Ed Tanous"
        },
        {
            "timestamp": 1639439603,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1639440937,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1639447324,
            "reviewer": {
                "name": "Claire Weinan",
                "email": "cweinan@google.com",
                "username": "daylight22"
            },
            "message": "Patch Set 3:\n\nRecent errors from hostlogger_test.py in jenkins: https://jenkins.openbmc.org/job/ci-repository/31898/console"
        },
        {
            "timestamp": 1639448123,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1639448556,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Patch Set 3:\n\n> Patch Set 3:\n> \n> Recent errors from hostlogger_test.py in jenkins: https://jenkins.openbmc.org/job/ci-repository/31898/console\n\nThese errors Patrick were fixed in https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/49652\nThanks Patrick."
        },
        {
            "timestamp": 1639451783,
            "reviewer": {
                "name": "Claire Weinan",
                "email": "cweinan@google.com",
                "username": "daylight22"
            },
            "message": "Patch Set 3:\n\n> Patch Set 3:\n> \n> > Patch Set 3:\n> > \n> > Recent errors from hostlogger_test.py in jenkins: https://jenkins.openbmc.org/job/ci-repository/31898/console\n> \n> These errors Patrick were fixed in https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/49652\n> Thanks Patrick.\n\nAwesome, thanks"
        },
        {
            "timestamp": 1639596261,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1639729372,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "d3e59862b067b40c350839d7d522e9dd8be8f80f",
            "parents": [
                "e269e01167cfc94d29f3d22f13e558c63b0a7cee"
            ],
            "ref": "refs/changes/40/45740/1",
            "uploader": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "createdOn": 1628505081,
            "author": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "scripts/hostlogger_test.py",
                    "type": "ADDED",
                    "insertions": 86,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 86,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "89e5f3ceedfc65d15ceb2b7a4bd1ef2c98dde4a2",
            "parents": [
                "e269e01167cfc94d29f3d22f13e558c63b0a7cee"
            ],
            "ref": "refs/changes/40/45740/2",
            "uploader": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "createdOn": 1628508485,
            "author": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "scripts/hostlogger_test.py",
                    "type": "ADDED",
                    "insertions": 88,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 88,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "5e89efd9f5f72a86419565d1826b0ad1a545ac0b",
            "parents": [
                "7a474a5fa9791424d1258b6f2061e31593bfcd7c"
            ],
            "ref": "refs/changes/40/45740/3",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1639112763,
            "author": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "scripts/hostlogger_test.py",
                    "line": 40,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Out of curiosity, did this script even get ran?  This syntax doesn't even work in python3.\n\n```\n$ ./scripts/hostlogger_test.py --help              \nFile \".../openbmc-sources/bmcweb/./scripts/hostlogger_test.py\", line 36\n    print \"There occurs error when get request, status_code = \" + str(\n          ^\nSyntaxError: invalid syntax\n```"
                },
                {
                    "file": "scripts/hostlogger_test.py",
                    "line": 40,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "I did try the code and it worked. I didn't hit this error probably because never go into this branch.\n\nI didn't review the Python codes carefully though."
                },
                {
                    "file": "scripts/hostlogger_test.py",
                    "line": 40,
                    "reviewer": {
                        "name": "Spencer Ku",
                        "email": "Spencer.Ku@quantatw.com",
                        "username": "SpencerKu"
                    },
                    "message": "I test the script and this branch when I upload the script. Since the upload date is September, I think maybe the new python3 print syntax has been update during this months.\n\nSorry for missing this issue."
                },
                {
                    "file": "scripts/hostlogger_test.py",
                    "line": 40,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "> Since the upload date is September, I think maybe the new python3 print syntax has been update during this months.\n\nPython 3 was first released in 2008.  I don't think that is the case.\n\nClearly what happened was one of two things:\n\n1. You originally wrote this with `/usr/bin/env python`, which defaults to Python2 on most systems.\n2. You added additional logging and never re-ran the script in its final form."
                },
                {
                    "file": "scripts/hostlogger_test.py",
                    "line": 40,
                    "reviewer": {
                        "name": "Spencer Ku",
                        "email": "Spencer.Ku@quantatw.com",
                        "username": "SpencerKu"
                    },
                    "message": "Understood, perhaps I used Python2 to test the script at that time but I didn't notice. Next time I will pay more attention when I push the new PR. Thank you for pointing out the problem."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "scripts/hostlogger_test.py",
                    "type": "ADDED",
                    "insertions": 88,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 88,
            "sizeDeletions": 0
        }
    ]
}