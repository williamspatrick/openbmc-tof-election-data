{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "I39e76b9552dacfe249c459590b1986d6eba8bb89",
    "number": 24106,
    "subject": "Redfish(Network): Modified to support Default gateway on EthernetInterface",
    "owner": {
        "name": "Ravi Teja",
        "email": "raviteja28031990@gmail.com",
        "username": "raviteja-b"
    },
    "assignee": {
        "name": "Johnathan Mantey",
        "email": "johnathanx.mantey@intel.com",
        "username": "Howitzer105mm"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/24106",
    "commitMessage": "Redfish(Network): Modified to support Default gateway on EthernetInterface\n\nEarlier we have the gateway at system level, Now with the change\nhttps://gerrit.openbmc-project.xyz/c/openbmc/phosphor-networkd/+/34852/\nGateway has been associated with interface level.\nThis commit fixes this behaviour.\n\nTested by:\n\nGET https://${BMC_IP}/redfish/v1/Managers/bmc/EthernetInterfaces/eth0/\nPATCH -D '{\"IPv4StaticAddresses\": [{},{\"Address\": \"10.7.8.7\",\"SubnetMask\": \"255.255.0.0\",\"Gateway\":\"10.7.8.1\"}]}' https://${BMC_IP}/redfish/v1/Managers/bmc/EthernetInterfaces/eth0\n\nRan Redfish validator\n\nSigned-off-by: Ravi Teja <raviteja28031990@gmail.com>\nChange-Id: I39e76b9552dacfe249c459590b1986d6eba8bb89\n",
    "createdOn": 1564720603,
    "lastUpdated": 1618246843,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1564720603,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1564720630,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1564721564,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Uploaded patch set 2: New patch set was added with same tree, parent, and commit message as Patch Set 1."
        },
        {
            "timestamp": 1564721589,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 2:\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1564721589,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 1:\n\nNo Builds Executed"
        },
        {
            "timestamp": 1564721957,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Uploaded patch set 3: Commit message was updated."
        },
        {
            "timestamp": 1564722245,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 2:\n\nBuild Started https://openpower.xyz/job/openbmc-repository-ci/33833/"
        },
        {
            "timestamp": 1564722298,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://openpower.xyz/job/openbmc-repository-ci/33833/ : FAILURE"
        },
        {
            "timestamp": 1564724089,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1564724115,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1564724127,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 4:\n\nBuild Started https://openpower.xyz/job/openbmc-repository-ci/33839/"
        },
        {
            "timestamp": 1564724395,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://openpower.xyz/job/openbmc-repository-ci/33839/ : SUCCESS"
        },
        {
            "timestamp": 1564726891,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1564745982,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1565082911,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1565082933,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1565082945,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 5:\n\nBuild Started https://openpower.xyz/job/openbmc-repository-ci/34011/"
        },
        {
            "timestamp": 1565083051,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1565083219,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://openpower.xyz/job/openbmc-repository-ci/34011/ : SUCCESS"
        },
        {
            "timestamp": 1566363277,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 5: Code-Review+1"
        },
        {
            "timestamp": 1566399530,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 5: Code-Review+1"
        },
        {
            "timestamp": 1567029839,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 5: Code-Review-1\n\nI do not agree with the contents of this change.\n\nRedfish provides a specific Gateway parameter to be written to the networkd.  This value is to be preferred to the default gateway. The default gateway is a fallback value, which should not be blindly assigned to every valid IPv4 address assigned to the NIC.\n\nFor example, it is valid to assign several valid IP addresses to the eth(x):\n192.168.10.10/24\n192.168.20.20/26\n192.168.30.30/25\n\nIf the default gateway is assigned 192.168.20.1, then assigning this to the the 20.20 and 30.30 subnets makes those nets unroutable.\n\nRedfish does not provide any schema that I can find to override the IPv4 DefaultGateway.  We can not invent a non-standard method for updating that feature.\n\nI recommend abandoning this change in favor of the work I submitted that has a merge conflict with this change (Redfish: Make NIC HW reflect PATCH changes)."
        },
        {
            "timestamp": 1567065604,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 5:\n\n> Patch Set 5: Code-Review-1\n> \n> I do not agree with the contents of this change.\n> \n> Redfish provides a specific Gateway parameter to be written to the networkd.  This value is to be preferred to the default gateway. The default gateway is a fallback value, which should not be blindly assigned to every valid IPv4 address assigned to the NIC.\n> \n> For example, it is valid to assign several valid IP addresses to the eth(x):\n> 192.168.10.10/24\n> 192.168.20.20/26\n> 192.168.30.30/25\n> \n> If the default gateway is assigned 192.168.20.1, then assigning this to the the 20.20 and 30.30 subnets makes those nets unroutable.\n> \n> Redfish does not provide any schema that I can find to override the IPv4 DefaultGateway.  We can not invent a non-standard method for updating that feature.\n> \n> I recommend abandoning this change in favor of the work I submitted that has a merge conflict with this change (Redfish: Make NIC HW reflect PATCH changes).\n\nJonathan, The confusion here is because of the redfish schema, which is not correct here.\nAs per the IP address schema, Each IP address can have the default gateway which is not correct.\nEthernet Interface schema suggest that on each IP address can have multiple IP addresses and with each address, we get the default gateway which is not correct.\n\nI would say this patch is fixing this issue.\n\nI proposed the same to the redfish community and they have agreed on it."
        },
        {
            "timestamp": 1567065664,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 5:\n\n> Patch Set 5:\n> \n> > Patch Set 5: Code-Review-1\n> > \n> > I do not agree with the contents of this change.\n> > \n> > Redfish provides a specific Gateway parameter to be written to the networkd.  This value is to be preferred to the default gateway. The default gateway is a fallback value, which should not be blindly assigned to every valid IPv4 address assigned to the NIC.\n> > \n> > For example, it is valid to assign several valid IP addresses to the eth(x):\n> > 192.168.10.10/24\n> > 192.168.20.20/26\n> > 192.168.30.30/25\n> > \n> > If the default gateway is assigned 192.168.20.1, then assigning this to the the 20.20 and 30.30 subnets makes those nets unroutable.\n> > \n> > Redfish does not provide any schema that I can find to override the IPv4 DefaultGateway.  We can not invent a non-standard method for updating that feature.\n> > \n> > I recommend abandoning this change in favor of the work I submitted that has a merge conflict with this change (Redfish: Make NIC HW reflect PATCH changes).\n> \n> Jonathan, The confusion here is because of the redfish schema, which is not correct here.\n> As per the IP address schema, Each IP address can have the default gateway which is not correct.\n> Ethernet Interface schema suggest that on each IP address can have multiple IP addresses and with each address, we get the default gateway which is not correct.\nEthernet Interface schema suggest that each interface can have multiple IP addresses and with each address, we get the default gateway which is not correct.\n> \n> I would say this patch is fixing this issue.\n> \n> I proposed the same to the redfish community and they have agreed on it."
        },
        {
            "timestamp": 1567107722,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 5:\n\n> Patch Set 5:\n> \n> > Patch Set 5:\n> > \n> > > Patch Set 5: Code-Review-1\n> > > \n> > > I do not agree with the contents of this change.\n> > > \n> > > Redfish provides a specific Gateway parameter to be written to the networkd.  This value is to be preferred to the default gateway. The default gateway is a fallback value, which should not be blindly assigned to every valid IPv4 address assigned to the NIC.\n> > > \n> > > For example, it is valid to assign several valid IP addresses to the eth(x):\n> > > 192.168.10.10/24\n> > > 192.168.20.20/26\n> > > 192.168.30.30/25\n> > > \n> > > If the default gateway is assigned 192.168.20.1, then assigning this to the the 20.20 and 30.30 subnets makes those nets unroutable.\n> > > \n> > > Redfish does not provide any schema that I can find to override the IPv4 DefaultGateway.  We can not invent a non-standard method for updating that feature.\n> > > \n> > > I recommend abandoning this change in favor of the work I submitted that has a merge conflict with this change (Redfish: Make NIC HW reflect PATCH changes).\n> > \n> > Jonathan, The confusion here is because of the redfish schema, which is not correct here.\n> > As per the IP address schema, Each IP address can have the default gateway which is not correct.\n> > Ethernet Interface schema suggest that on each IP address can have multiple IP addresses and with each address, we get the default gateway which is not correct.\n> Ethernet Interface schema suggest that each interface can have multiple IP addresses and with each address, we get the default gateway which is not correct.\n> > \n> > I would say this patch is fixing this issue.\n> > \n> > I proposed the same to the redfish community and they have agreed on it.\n\nRatan,\nCan you explain what is wrong with the RF schema?  I am unable to understand your reasoning.\n\nIn my DHCP changes I give an example of how \"ip addr add\" creates an address, and creates a point specific routing table entry.\nip addr add 192.168.20.12/24 dev eth0\n   inet 192.168.20.12/24 brd 192.168.20.255 scope global dynamic eth0\n       valid_lft 436sec preferred_lft 436sec\nroute -n\nKernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\n0.0.0.0         10.243.48.1     0.0.0.0         UG    1024   0        0 eth1\n0.0.0.0         192.168.20.1    0.0.0.0         UG    1024   0        0 eth0\n0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth1\n0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth0\n10.243.48.0     0.0.0.0         255.255.254.0   U     0      0        0 eth1\n10.243.48.1     0.0.0.0         255.255.255.255 UH    1024   0        0 eth1\n169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth1\n169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth0\n192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0\n192.168.20.1    0.0.0.0         255.255.255.255 UH    1024   0        0 eth0\n\nNotice that the gateway/routing table correctly generate a route for the address created.\n\nHere is what happens with the current code base:\nip addr\n    inet 192.168.20.12/24 brd 192.168.20.255 scope global eth0\n       valid_lft forever preferred_lft forever\nroute -n:\nKernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\n0.0.0.0         192.168.20.1    0.0.0.0         UG    0      0        0 eth0\n0.0.0.0         10.xxx.xxx.1     0.0.0.0         UG    1024   0        0 eth1\n0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth1\n0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth0\n10.xxx.xxx.0     0.0.0.0         255.255.254.0   U     0      0        0 eth1\n10.xxx.xxx.1     0.0.0.0         255.255.255.255 UH    1024   0        0 eth1\n169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth1\n169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth0\n192.168.20.0    192.168.20.1    255.255.255.255 UGH   0      0        0 eth0\n192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0\n\nTry to use RF to access the BMC over the 10.xxx.xxx.yyy net:\nREST request hangs.\n\nUse route to delete the default gateway:\nroute del -net 0.0.0.0 dev eth0\nroute -n\nKernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\n0.0.0.0         10.xxx.xxx.1     0.0.0.0         UG    1024   0        0 eth1\n0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth1\n0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth0\n10.xxx.xxx.0     0.0.0.0         255.255.254.0   U     0      0        0 eth1\n10.xxx.xxx.1     0.0.0.0         255.255.255.255 UH    1024   0        0 eth1\n169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth1\n169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth0\n192.168.20.0    192.168.20.1    255.255.255.255 UGH   0      0        0 eth0\n192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0\n\nUse RF to access the BMC using 10.xxx.xxx.yyy net: \nREST request succeeds\n\nUsing my DHCP changes, where the Gateway is explicitly added to the RF request this conflict does not happen.\n\nIt is obvious that having a default gateway preceding the 10.xxx.xxx.xxx causes network failures.  The answer, IMO, is not to assign an invalid default gateway to every non-associated IP address.  The solution is to specifically assign a correct gateway to each IP address."
        },
        {
            "timestamp": 1567116765,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\n> Patch Set 5:\n> \n> > Patch Set 5:\n> > \n> > > Patch Set 5: Code-Review-1\n> > > \n> > > I do not agree with the contents of this change.\n> > > \n> > > Redfish provides a specific Gateway parameter to be written to the networkd.  This value is to be preferred to the default gateway. The default gateway is a fallback value, which should not be blindly assigned to every valid IPv4 address assigned to the NIC.\n> > > \n> > > For example, it is valid to assign several valid IP addresses to the eth(x):\n> > > 192.168.10.10/24\n> > > 192.168.20.20/26\n> > > 192.168.30.30/25\n> > > \n> > > If the default gateway is assigned 192.168.20.1, then assigning this to the the 20.20 and 30.30 subnets makes those nets unroutable.\n> > > \n> > > Redfish does not provide any schema that I can find to override the IPv4 DefaultGateway.  We can not invent a non-standard method for updating that feature.\n> > > \n> > > I recommend abandoning this change in favor of the work I submitted that has a merge conflict with this change (Redfish: Make NIC HW reflect PATCH changes).\n> > \n> > Jonathan, The confusion here is because of the redfish schema, which is not correct here.\n> > As per the IP address schema, Each IP address can have the default gateway which is not correct.\n> > Ethernet Interface schema suggest that on each IP address can have multiple IP addresses and with each address, we get the default gateway which is not correct.\n> Ethernet Interface schema suggest that each interface can have multiple IP addresses and with each address, we get the default gateway which is not correct.\n> > \n> > I would say this patch is fixing this issue.\n> > \n> > I proposed the same to the redfish community and they have agreed on it.\n\nRatan,\n\nCan you give us a pointer to the discussion/patchset where the change was adjusted in the specification?\n\n-Ed"
        },
        {
            "timestamp": 1567246512,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 5:\n\nhttps://redfishforum.com/thread/218/ip-address-default-gateway"
        },
        {
            "timestamp": 1567715252,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 5:\n\n(1 comment)\n\nI am still unclear why this change is necessary.  A PATCH with gateway=0.0.0.0 achieves the same effect, assuming addressOrigin == static is allowed to use the default gateway.\n\nIt also eliminates functionality allowing a full interface with L3 (and higher) switches which will accept explicit gateway values.\n\nI believe this behavior is handled in this commit, which is still pending review comment: https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/22721"
        },
        {
            "timestamp": 1568022953,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 5:\n\n> Patch Set 5:\n> \n> (1 comment)\n> \n> I am still unclear why this change is necessary.  A PATCH with gateway=0.0.0.0 achieves the same effect, assuming addressOrigin == static is allowed to use the default gateway.\n> \n> It also eliminates functionality allowing a full interface with L3 (and higher) switches which will accept explicit gateway values.\n> \n> I believe this behavior is handled in this commit, which is still pending review comment: https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/22721\nIn this  commit we are updating DefaultGateway dbus property which exist in xyz.openbmc_project.Network.SystemConfiguration to make sure only one default gateway can exist for a system.\nthis behavior is not handled in the above commit."
        },
        {
            "timestamp": 1568023144,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 5:\n\n(1 comment)\n\n> Patch Set 5:\n> \n> (1 comment)\n> \n> I am still unclear why this change is necessary.  A PATCH with gateway=0.0.0.0 achieves the same effect, assuming addressOrigin == static is allowed to use the default gateway.\n> \n> It also eliminates functionality allowing a full interface with L3 (and higher) switches which will accept explicit gateway values.\n> \n> I believe this behavior is handled in this commit, which is still pending review comment: https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/22721"
        },
        {
            "timestamp": 1568023749,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 5:\n\n> Patch Set 5:\n> \n> > Patch Set 5:\n> > \n> > (1 comment)\n> > \n> > I am still unclear why this change is necessary.  A PATCH with gateway=0.0.0.0 achieves the same effect, assuming addressOrigin == static is allowed to use the default gateway.\n> > \n> > It also eliminates functionality allowing a full interface with L3 (and higher) switches which will accept explicit gateway values.\n> > \n> > I believe this behavior is handled in this commit, which is still pending review comment: https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/22721\n> In this  commit we are updating DefaultGateway dbus property which exist in xyz.openbmc_project.Network.SystemConfiguration to make sure only one default gateway can exist for a system.\n> this behavior is not handled in the above commit.\n\nIn this  commit we are updating DefaultGateway dbus property which exist in xyz.openbmc_project.Network.SystemConfiguration to make sure only one default gateway can exist for a system.\nthis behavior is not handled in the above commit."
        },
        {
            "timestamp": 1568139135,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 5:\n\n(1 comment)\n\n> Patch Set 5:\n> \n> > Patch Set 5:\n> > \n> > > Patch Set 5:\n> > > \n> > > (1 comment)\n> > > \n> > > I am still unclear why this change is necessary.  A PATCH with gateway=0.0.0.0 achieves the same effect, assuming addressOrigin == static is allowed to use the default gateway.\n> > > \n> > > It also eliminates functionality allowing a full interface with L3 (and higher) switches which will accept explicit gateway values.\n> > > \n> > > I believe this behavior is handled in this commit, which is still pending review comment: https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/22721\n> > In this  commit we are updating DefaultGateway dbus property which exist in xyz.openbmc_project.Network.SystemConfiguration to make sure only one default gateway can exist for a system.\n> > this behavior is not handled in the above commit.\n> \n> In this  commit we are updating DefaultGateway dbus property which exist in xyz.openbmc_project.Network.SystemConfiguration to make sure only one default gateway can exist for a system.\n> this behavior is not handled in the above commit.\n\nI'm curious as to what happens with this change when there are several static IP addresses assigned.  How is the default gateway updated in the event the IP address associated with the default gateway is deleted?  If deleteIPv4 is called I don't see any resolution or fixup of the list of default gateways.  What value are you going to use?  Presumably the system will not have created a new default, and any gateway values you may have will not reflect what is present in the BMC OS."
        },
        {
            "timestamp": 1568199599,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1568199621,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1568199633,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 6:\n\nBuild Started https://openpower.xyz/job/openbmc-repository-ci/35619/"
        },
        {
            "timestamp": 1568199652,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 6: Verified-1\n\nBuild Failed \n\nhttps://openpower.xyz/job/openbmc-repository-ci/35619/ : FAILURE"
        },
        {
            "timestamp": 1568200357,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 6:\n\n(1 comment)\n\n> Patch Set 5:\n> \n> (1 comment)\n> \n> > Patch Set 5:\n> > \n> > > Patch Set 5:\n> > > \n> > > > Patch Set 5:\n> > > > \n> > > > (1 comment)\n> > > > \n> > > > I am still unclear why this change is necessary.  A PATCH with gateway=0.0.0.0 achieves the same effect, assuming addressOrigin == static is allowed to use the default gateway.\n> > > > \n> > > > It also eliminates functionality allowing a full interface with L3 (and higher) switches which will accept explicit gateway values.\n> > > > \n> > > > I believe this behavior is handled in this commit, which is still pending review comment: https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/22721\n> > > In this  commit we are updating DefaultGateway dbus property which exist in xyz.openbmc_project.Network.SystemConfiguration to make sure only one default gateway can exist for a system.\n> > > this behavior is not handled in the above commit.\n> > \n> > In this  commit we are updating DefaultGateway dbus property which exist in xyz.openbmc_project.Network.SystemConfiguration to make sure only one default gateway can exist for a system.\n> > this behavior is not handled in the above commit.\n> \n> I'm curious as to what happens with this change when there are several static IP addresses assigned.  How is the default gateway updated in the event the IP address associated with the default gateway is deleted?  If deleteIPv4 is called I don't see any resolution or fixup of the list of default gateways.  What value are you going to use?  Presumably the system will not have created a new default, and any gateway values you may have will not reflect what is present in the BMC OS.\n\nJohnathan,\n\nLets say systems has one static ipv4 address configured\n  \"IPv4StaticAddresses\": [\n    {\n      \"Address\": \"9.3.185.173\",\n      \"Gateway\": \"9.3.185.1\",\n      \"SubnetMask\": \"255.255.255.0\"\n    }\n\nlets Configure one more ipaddress\n\ncurl -k -H \"X-Auth-Token: $bmc_token\" -X PATCH -D patch.txt -d '{\"IP                                                                                                                     4StaticAddresses\": [{},{\"Address\": \"10.7.8.7\",\"SubnetMask\": \"255.255.0.0\",\"Gatew                                                                                                                     ay\":\"10.7.8.1\"}]}' https://${BMC_IP}/redfish/v1/Managers/bmc/EthernetInterfaces/                                                                                                                     eth0\n\nnow IPv4StaticAddresses looks like\n\n  \"IPv4StaticAddresses\": [\n    {\n      \"Address\": \"10.7.8.7\",\n      \"Gateway\": \"10.7.8.1\",\n      \"SubnetMask\": \"255.255.0.0\"\n    },\n    {\n      \"Address\": \"9.3.185.173\",\n      \"Gateway\": \"10.7.8.1\",\n      \"SubnetMask\": \"255.255.255.0\"\n    }\n  ],\n\nBasically while creating new IPv4 address gateway provided by user will be considered as new default gateway and same default gateway displayed for all other ipaddresses."
        },
        {
            "timestamp": 1568220763,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1568220782,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1568220794,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 7:\n\nBuild Started https://openpower.xyz/job/openbmc-repository-ci/35633/"
        },
        {
            "timestamp": 1568221075,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://openpower.xyz/job/openbmc-repository-ci/35633/ : SUCCESS"
        },
        {
            "timestamp": 1568308564,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 7: Code-Review-1\n\nRavi,\nUsing this patch there is no ability to get to the BMC from a remote system.\n\nStart with only link local:\n3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n    link/ether a4:bf:01:16:f5:fe brd ff:ff:ff:ff:ff:ff\n    inet 169.254.85.20/16 brd 169.254.255.255 scope link eth1\n       valid_lft forever preferred_lft forever\n    inet6 fe80::a6bf:1ff:fe16:f5fe/64 scope link \n       valid_lft forever preferred_lft forever\nroute -n\nKernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\n0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth0\n0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth1\n169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth0\n169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth1\n192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0\n\ncat /etc/systemd/network/00-bmc-eth1.network\n[Match]\nName=eth1\n[Network]\nLinkLocalAddressing=yes\nIPv6AcceptRA=false\nDHCP=false\n[DHCP]\nClientIdentifier=mac\nUseDNS=false\nUseNTP=false\nUseHostname=true\n\n\nAdd multiple addresses:\n      PATCH https://obmcjgmwfp.jf.intel.com/redfish/v1/Managers/bmc/EthernetInterfaces/eth1\n      Authorization: Basic cm9vdDowcGVuQm1j\n      {\n          \"DHCPv4\": {\n              \"DHCPEnabled\": false\n          },\n          \"IPv4StaticAddresses\": [\n              {\n                  \"Address\": \"10.243.49.24\",\n                  \"SubnetMask\": \"255.255.254.0\",\n                  \"Gateway\": \"10.243.48.1\"\n              },\n              {\n                  \"Address\": \"10.243.50.55\",\n                  \"SubnetMask\": \"255.255.255.0\",\n                  \"Gateway\": \"10.243.50.1\"\n              },\n              {\n                  \"Address\": \"10.243.60.66\",\n                  \"SubnetMask\": \"255.255.255.192\",\n                  \"Gateway\": \"10.243.60.6\"\n              },\n              {\n                  \"Address\": \"10.243.70.77\",\n                  \"SubnetMask\": \"255.255.255.0\",\n                  \"Gateway\": \"10.243.70.7\"\n              },\n              {\n                  \"Address\": \"10.243.80.88\",\n                  \"SubnetMask\": \"255.255.255.0\",\n                  \"Gateway\": \"10.243.80.8\"\n              }\n          ]\n      }\n\nip addr\n3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n    link/ether a4:bf:01:16:f5:fe brd ff:ff:ff:ff:ff:ff\n    inet 10.243.49.24/23 brd 10.243.49.255 scope global eth1\n       valid_lft forever preferred_lft forever\n    inet 10.243.50.55/24 brd 10.243.50.255 scope global eth1\n       valid_lft forever preferred_lft forever\n    inet 10.243.60.66/26 brd 10.243.60.127 scope global eth1\n       valid_lft forever preferred_lft forever\n    inet 10.243.70.77/24 brd 10.243.70.255 scope global eth1\n       valid_lft forever preferred_lft forever\n    inet 10.243.80.88/24 brd 10.243.80.255 scope global eth1\n       valid_lft forever preferred_lft forever\n    inet6 fe80::a6bf:1ff:fe16:f5fe/64 scope link \n       valid_lft forever preferred_lft forever\nroute -n\nKernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\n0.0.0.0         10.243.80.8     0.0.0.0         UG    0      0        0 eth1\n0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth0\n0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth1\n10.243.48.0     10.243.48.1     255.255.255.255 UGH   0      0        0 eth1\n10.243.48.0     0.0.0.0         255.255.254.0   U     0      0        0 eth1\n10.243.50.0     10.243.50.1     255.255.255.255 UGH   0      0        0 eth1\n10.243.50.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n10.243.60.64    0.0.0.0         255.255.255.192 U     0      0        0 eth1\n10.243.70.0     10.243.70.7     255.255.255.255 UGH   0      0        0 eth1\n10.243.70.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n10.243.80.0     10.243.80.8     255.255.255.255 UGH   0      0        0 eth1\n10.243.80.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth0\n169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth1\n192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0\n\nNotice the default gateway is 10.243.80.8\n\nping remote host from BMC console:\nping 10.243.49.86\nPING 10.243.49.86 (10.243.49.86): 56 data bytes\n64 bytes from 10.243.49.86: seq=0 ttl=64 time=1.241 ms\n\nping BMC console from remote host\nping 10.243.49.24\n--- 10.243.49.24 ping statistics ---\n5 packets transmitted, 0 received, 100% packet loss, time 139ms\n\nNo ability to get to BMC from remote system.\n\n$ cat /etc/systemd/network/00-bmc-eth1.network\n[Match]                                                                                                                                                                                                   [1/1933]\nName=eth1                                                                                                                                                                                                         \n[Network]          \nLinkLocalAddressing=yes\nIPv6AcceptRA=false\nDHCP=false\nAddress=10.243.49.24/23\nAddress=10.243.50.55/24\nAddress=10.243.60.66/26\nAddress=10.243.70.77/24\nAddress=10.243.80.88/24\nGateway=10.243.80.8\n[Route]\nGateway=10.243.48.1\nDestination=10.243.48.0\n[Route]\nGateway=10.243.50.1\nDestination=10.243.50.0\n[Route]\nGateway=10.243.60.6\nDestination=10.243.60.64\n[Route]\nGateway=10.243.70.7\nDestination=10.243.70.0\n[Route]\nGateway=10.243.80.8\nDestination=10.243.80.0\n[DHCP]\nClientIdentifier=mac\nUseDNS=false\nUseNTP=false\nUseHostname=true\nSendHostname=true\n\nNotice the Gateway is 10.243.80.8\n\nDelete 10.243.80.8\n      PATCH https://obmcjgmwfp.jf.intel.com/redfish/v1/Managers/bmc/EthernetInterfaces/eth1\n      Authorization: Basic cm9vdDowcGVuQm1j\n      {\n          \"IPv4StaticAddresses\": [\n              {},\n              {},\n              null,\n              {},\n              {}\n          ]\n      }\n      #+END_SRC\nip addr\n3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n    link/ether a4:bf:01:16:f5:fe brd ff:ff:ff:ff:ff:ff\n    inet 10.243.49.24/23 brd 10.243.49.255 scope global eth1\n       valid_lft forever preferred_lft forever\n    inet 10.243.50.55/24 brd 10.243.50.255 scope global eth1\n       valid_lft forever preferred_lft forever\n    inet 10.243.60.66/26 brd 10.243.60.127 scope global eth1\n       valid_lft forever preferred_lft forever\n    inet 10.243.70.77/24 brd 10.243.70.255 scope global eth1\n       valid_lft forever preferred_lft forever\n    inet6 fe80::a6bf:1ff:fe16:f5fe/64 scope link \n       valid_lft forever preferred_lft forever\n\nroute -n\nKernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\n0.0.0.0         10.243.80.8     0.0.0.0         UG    0      0        0 eth1\n0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth1\n0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth0\n10.243.48.0     10.243.48.1     255.255.255.255 UGH   0      0        0 eth1\n10.243.48.0     0.0.0.0         255.255.254.0   U     0      0        0 eth1\n10.243.50.0     10.243.50.1     255.255.255.255 UGH   0      0        0 eth1\n10.243.50.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n10.243.60.64    0.0.0.0         255.255.255.192 U     0      0        0 eth1\n10.243.70.0     10.243.70.7     255.255.255.255 UGH   0      0        0 eth1\n10.243.70.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth1\n169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth0\n192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0\n\nGateway is 80.8, which doesn't have a corresponding IP any longer.\n\n$ cat /etc/systemd/network/00-bmc-eth1.network\n[Match]\nName=eth1\n[Network]\nLinkLocalAddressing=yes\nIPv6AcceptRA=false\nDHCP=false\nAddress=10.243.49.24/23\nAddress=10.243.50.55/24\nAddress=10.243.60.66/26\nAddress=10.243.70.77/24\nGateway=10.243.80.8\n[Route]\nGateway=10.243.48.1\nDestination=10.243.48.0\n[Route]\nGateway=10.243.50.1\nDestination=10.243.50.0\n[Route]\nGateway=10.243.70.7\nDestination=10.243.70.0\n[DHCP]\nClientIdentifier=mac\nUseDNS=false\nUseNTP=false\nUseHostname=true\n\nGateway is 10.243.80.8, which doesn't have a corresponding IP any longer.\n\nping remote from BMC console:\nping 10.243.49.86\nPING 10.243.49.86 (10.243.49.86): 56 data bytes\n64 bytes from 10.243.49.86: seq=0 ttl=64 time=1.241 ms\n\nping BMC console from remote host\nping 10.243.49.24\n--- 10.243.49.24 ping statistics ---\n5 packets transmitted, 0 received, 100% packet loss, time 89ms\n\nNo ability to get to BMC from remote system.\n\nMy pending changes for the static and DHCP IP handling allow the remote system to access the BMC when multiple static addresses are assigned.  Based on the evidence here I don't agree with carte blanche assigning the default gateway in this fashion."
        },
        {
            "timestamp": 1568649362,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 7:\n\n> Patch Set 7: Code-Review-1\n> \n> Ravi,\n> Using this patch there is no ability to get to the BMC from a remote system.\n> \n> Start with only link local:\n> 3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n>     link/ether a4:bf:01:16:f5:fe brd ff:ff:ff:ff:ff:ff\n>     inet 169.254.85.20/16 brd 169.254.255.255 scope link eth1\n>        valid_lft forever preferred_lft forever\n>     inet6 fe80::a6bf:1ff:fe16:f5fe/64 scope link \n>        valid_lft forever preferred_lft forever\n> route -n\n> Kernel IP routing table\n> Destination     Gateway         Genmask         Flags Metric Ref    Use Iface\n> 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth0\n> 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth1\n> 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth0\n> 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth1\n> 192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0\n> \n> cat /etc/systemd/network/00-bmc-eth1.network\n> [Match]\n> Name=eth1\n> [Network]\n> LinkLocalAddressing=yes\n> IPv6AcceptRA=false\n> DHCP=false\n> [DHCP]\n> ClientIdentifier=mac\n> UseDNS=false\n> UseNTP=false\n> UseHostname=true\n> \n> \n> Add multiple addresses:\n>       PATCH https://obmcjgmwfp.jf.intel.com/redfish/v1/Managers/bmc/EthernetInterfaces/eth1\n>       Authorization: Basic cm9vdDowcGVuQm1j\n>       {\n>           \"DHCPv4\": {\n>               \"DHCPEnabled\": false\n>           },\n>           \"IPv4StaticAddresses\": [\n>               {\n>                   \"Address\": \"10.243.49.24\",\n>                   \"SubnetMask\": \"255.255.254.0\",\n>                   \"Gateway\": \"10.243.48.1\"\n>               },\n>               {\n>                   \"Address\": \"10.243.50.55\",\n>                   \"SubnetMask\": \"255.255.255.0\",\n>                   \"Gateway\": \"10.243.50.1\"\n>               },\n>               {\n>                   \"Address\": \"10.243.60.66\",\n>                   \"SubnetMask\": \"255.255.255.192\",\n>                   \"Gateway\": \"10.243.60.6\"\n>               },\n>               {\n>                   \"Address\": \"10.243.70.77\",\n>                   \"SubnetMask\": \"255.255.255.0\",\n>                   \"Gateway\": \"10.243.70.7\"\n>               },\n>               {\n>                   \"Address\": \"10.243.80.88\",\n>                   \"SubnetMask\": \"255.255.255.0\",\n>                   \"Gateway\": \"10.243.80.8\"\n>               }\n>           ]\n>       }\n> \n> ip addr\n> 3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n>     link/ether a4:bf:01:16:f5:fe brd ff:ff:ff:ff:ff:ff\n>     inet 10.243.49.24/23 brd 10.243.49.255 scope global eth1\n>        valid_lft forever preferred_lft forever\n>     inet 10.243.50.55/24 brd 10.243.50.255 scope global eth1\n>        valid_lft forever preferred_lft forever\n>     inet 10.243.60.66/26 brd 10.243.60.127 scope global eth1\n>        valid_lft forever preferred_lft forever\n>     inet 10.243.70.77/24 brd 10.243.70.255 scope global eth1\n>        valid_lft forever preferred_lft forever\n>     inet 10.243.80.88/24 brd 10.243.80.255 scope global eth1\n>        valid_lft forever preferred_lft forever\n>     inet6 fe80::a6bf:1ff:fe16:f5fe/64 scope link \n>        valid_lft forever preferred_lft forever\n> route -n\n> Kernel IP routing table\n> Destination     Gateway         Genmask         Flags Metric Ref    Use Iface\n> 0.0.0.0         10.243.80.8     0.0.0.0         UG    0      0        0 eth1\n> 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth0\n> 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth1\n> 10.243.48.0     10.243.48.1     255.255.255.255 UGH   0      0        0 eth1\n> 10.243.48.0     0.0.0.0         255.255.254.0   U     0      0        0 eth1\n> 10.243.50.0     10.243.50.1     255.255.255.255 UGH   0      0        0 eth1\n> 10.243.50.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> 10.243.60.64    0.0.0.0         255.255.255.192 U     0      0        0 eth1\n> 10.243.70.0     10.243.70.7     255.255.255.255 UGH   0      0        0 eth1\n> 10.243.70.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> 10.243.80.0     10.243.80.8     255.255.255.255 UGH   0      0        0 eth1\n> 10.243.80.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth0\n> 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth1\n> 192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0\n> \n> Notice the default gateway is 10.243.80.8\n> \n> ping remote host from BMC console:\n> ping 10.243.49.86\n> PING 10.243.49.86 (10.243.49.86): 56 data bytes\n> 64 bytes from 10.243.49.86: seq=0 ttl=64 time=1.241 ms\n> \n> ping BMC console from remote host\n> ping 10.243.49.24\n> --- 10.243.49.24 ping statistics ---\n> 5 packets transmitted, 0 received, 100% packet loss, time 139ms\n> \n> No ability to get to BMC from remote system.\n> \n> $ cat /etc/systemd/network/00-bmc-eth1.network\n> [Match]                                                                                                                                                                                                   [1/1933]\n> Name=eth1                                                                                                                                                                                                         \n> [Network]          \n> LinkLocalAddressing=yes\n> IPv6AcceptRA=false\n> DHCP=false\n> Address=10.243.49.24/23\n> Address=10.243.50.55/24\n> Address=10.243.60.66/26\n> Address=10.243.70.77/24\n> Address=10.243.80.88/24\n> Gateway=10.243.80.8\n> [Route]\n> Gateway=10.243.48.1\n> Destination=10.243.48.0\n> [Route]\n> Gateway=10.243.50.1\n> Destination=10.243.50.0\n> [Route]\n> Gateway=10.243.60.6\n> Destination=10.243.60.64\n> [Route]\n> Gateway=10.243.70.7\n> Destination=10.243.70.0\n> [Route]\n> Gateway=10.243.80.8\n> Destination=10.243.80.0\n> [DHCP]\n> ClientIdentifier=mac\n> UseDNS=false\n> UseNTP=false\n> UseHostname=true\n> SendHostname=true\n> \n> Notice the Gateway is 10.243.80.8\n> \n> Delete 10.243.80.8\n>       PATCH https://obmcjgmwfp.jf.intel.com/redfish/v1/Managers/bmc/EthernetInterfaces/eth1\n>       Authorization: Basic cm9vdDowcGVuQm1j\n>       {\n>           \"IPv4StaticAddresses\": [\n>               {},\n>               {},\n>               null,\n>               {},\n>               {}\n>           ]\n>       }\n>       #+END_SRC\n> ip addr\n> 3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n>     link/ether a4:bf:01:16:f5:fe brd ff:ff:ff:ff:ff:ff\n>     inet 10.243.49.24/23 brd 10.243.49.255 scope global eth1\n>        valid_lft forever preferred_lft forever\n>     inet 10.243.50.55/24 brd 10.243.50.255 scope global eth1\n>        valid_lft forever preferred_lft forever\n>     inet 10.243.60.66/26 brd 10.243.60.127 scope global eth1\n>        valid_lft forever preferred_lft forever\n>     inet 10.243.70.77/24 brd 10.243.70.255 scope global eth1\n>        valid_lft forever preferred_lft forever\n>     inet6 fe80::a6bf:1ff:fe16:f5fe/64 scope link \n>        valid_lft forever preferred_lft forever\n> \n> route -n\n> Kernel IP routing table\n> Destination     Gateway         Genmask         Flags Metric Ref    Use Iface\n> 0.0.0.0         10.243.80.8     0.0.0.0         UG    0      0        0 eth1\n> 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth1\n> 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth0\n> 10.243.48.0     10.243.48.1     255.255.255.255 UGH   0      0        0 eth1\n> 10.243.48.0     0.0.0.0         255.255.254.0   U     0      0        0 eth1\n> 10.243.50.0     10.243.50.1     255.255.255.255 UGH   0      0        0 eth1\n> 10.243.50.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> 10.243.60.64    0.0.0.0         255.255.255.192 U     0      0        0 eth1\n> 10.243.70.0     10.243.70.7     255.255.255.255 UGH   0      0        0 eth1\n> 10.243.70.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth1\n> 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth0\n> 192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0\n> \n> Gateway is 80.8, which doesn't have a corresponding IP any longer.\n> \n> $ cat /etc/systemd/network/00-bmc-eth1.network\n> [Match]\n> Name=eth1\n> [Network]\n> LinkLocalAddressing=yes\n> IPv6AcceptRA=false\n> DHCP=false\n> Address=10.243.49.24/23\n> Address=10.243.50.55/24\n> Address=10.243.60.66/26\n> Address=10.243.70.77/24\n> Gateway=10.243.80.8\n> [Route]\n> Gateway=10.243.48.1\n> Destination=10.243.48.0\n> [Route]\n> Gateway=10.243.50.1\n> Destination=10.243.50.0\n> [Route]\n> Gateway=10.243.70.7\n> Destination=10.243.70.0\n> [DHCP]\n> ClientIdentifier=mac\n> UseDNS=false\n> UseNTP=false\n> UseHostname=true\n> \n> Gateway is 10.243.80.8, which doesn't have a corresponding IP any longer.\n> \n> ping remote from BMC console:\n> ping 10.243.49.86\n> PING 10.243.49.86 (10.243.49.86): 56 data bytes\n> 64 bytes from 10.243.49.86: seq=0 ttl=64 time=1.241 ms\n> \n> ping BMC console from remote host\n> ping 10.243.49.24\n> --- 10.243.49.24 ping statistics ---\n> 5 packets transmitted, 0 received, 100% packet loss, time 89ms\n> \n> No ability to get to BMC from remote system.\n> \n> My pending changes for the static and DHCP IP handling allow the remote system to access the BMC when multiple static addresses are assigned.  Based on the evidence here I don't agree with carte blanche assigning the default gateway in this fashion.\n\nHi Jonathan,\n\nAs per the redfish spec IP address schema \"Gateway property is defined as below\"\nThe value of this property shall be the IPv4 default gateway address for this interface\n\nWhich tell it is default gateway, Now on a system there can not be multiple default gateway.\n\nAs per your eg where the user has given multiple IP addresses with multiple default gateways, last gateway entry would be treated as the default gateway.\n\n\nSo what I mean to say that Default gateway should not be tied up with IP address and that is the reason I opened up a thread in the redfish forum and DMTF guys have accepted it.\n\nthe problem which you are referring can be solved if we open up the route interface where we can ask the user to enter the destination network and the gateway to create the network specific routing table.\n\nBut I don't think so that BMC would require such complex routing.If the need exist we can demand the same."
        },
        {
            "timestamp": 1569601836,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 7:\n\n(1 comment)\n\n> Patch Set 7:\n> \n> > Patch Set 7: Code-Review-1\n> > \n> > Ravi,\n> > Using this patch there is no ability to get to the BMC from a remote system.\n> > \n> > Start with only link local:\n> > 3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n> >     link/ether a4:bf:01:16:f5:fe brd ff:ff:ff:ff:ff:ff\n> >     inet 169.254.85.20/16 brd 169.254.255.255 scope link eth1\n> >        valid_lft forever preferred_lft forever\n> >     inet6 fe80::a6bf:1ff:fe16:f5fe/64 scope link \n> >        valid_lft forever preferred_lft forever\n> > route -n\n> > Kernel IP routing table\n> > Destination     Gateway         Genmask         Flags Metric Ref    Use Iface\n> > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth0\n> > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth1\n> > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth0\n> > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth1\n> > 192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0\n> > \n> > cat /etc/systemd/network/00-bmc-eth1.network\n> > [Match]\n> > Name=eth1\n> > [Network]\n> > LinkLocalAddressing=yes\n> > IPv6AcceptRA=false\n> > DHCP=false\n> > [DHCP]\n> > ClientIdentifier=mac\n> > UseDNS=false\n> > UseNTP=false\n> > UseHostname=true\n> > \n> > \n> > Add multiple addresses:\n> >       PATCH https://obmcjgmwfp.jf.intel.com/redfish/v1/Managers/bmc/EthernetInterfaces/eth1\n> >       Authorization: Basic cm9vdDowcGVuQm1j\n> >       {\n> >           \"DHCPv4\": {\n> >               \"DHCPEnabled\": false\n> >           },\n> >           \"IPv4StaticAddresses\": [\n> >               {\n> >                   \"Address\": \"10.243.49.24\",\n> >                   \"SubnetMask\": \"255.255.254.0\",\n> >                   \"Gateway\": \"10.243.48.1\"\n> >               },\n> >               {\n> >                   \"Address\": \"10.243.50.55\",\n> >                   \"SubnetMask\": \"255.255.255.0\",\n> >                   \"Gateway\": \"10.243.50.1\"\n> >               },\n> >               {\n> >                   \"Address\": \"10.243.60.66\",\n> >                   \"SubnetMask\": \"255.255.255.192\",\n> >                   \"Gateway\": \"10.243.60.6\"\n> >               },\n> >               {\n> >                   \"Address\": \"10.243.70.77\",\n> >                   \"SubnetMask\": \"255.255.255.0\",\n> >                   \"Gateway\": \"10.243.70.7\"\n> >               },\n> >               {\n> >                   \"Address\": \"10.243.80.88\",\n> >                   \"SubnetMask\": \"255.255.255.0\",\n> >                   \"Gateway\": \"10.243.80.8\"\n> >               }\n> >           ]\n> >       }\n> > \n> > ip addr\n> > 3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n> >     link/ether a4:bf:01:16:f5:fe brd ff:ff:ff:ff:ff:ff\n> >     inet 10.243.49.24/23 brd 10.243.49.255 scope global eth1\n> >        valid_lft forever preferred_lft forever\n> >     inet 10.243.50.55/24 brd 10.243.50.255 scope global eth1\n> >        valid_lft forever preferred_lft forever\n> >     inet 10.243.60.66/26 brd 10.243.60.127 scope global eth1\n> >        valid_lft forever preferred_lft forever\n> >     inet 10.243.70.77/24 brd 10.243.70.255 scope global eth1\n> >        valid_lft forever preferred_lft forever\n> >     inet 10.243.80.88/24 brd 10.243.80.255 scope global eth1\n> >        valid_lft forever preferred_lft forever\n> >     inet6 fe80::a6bf:1ff:fe16:f5fe/64 scope link \n> >        valid_lft forever preferred_lft forever\n> > route -n\n> > Kernel IP routing table\n> > Destination     Gateway         Genmask         Flags Metric Ref    Use Iface\n> > 0.0.0.0         10.243.80.8     0.0.0.0         UG    0      0        0 eth1\n> > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth0\n> > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth1\n> > 10.243.48.0     10.243.48.1     255.255.255.255 UGH   0      0        0 eth1\n> > 10.243.48.0     0.0.0.0         255.255.254.0   U     0      0        0 eth1\n> > 10.243.50.0     10.243.50.1     255.255.255.255 UGH   0      0        0 eth1\n> > 10.243.50.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> > 10.243.60.64    0.0.0.0         255.255.255.192 U     0      0        0 eth1\n> > 10.243.70.0     10.243.70.7     255.255.255.255 UGH   0      0        0 eth1\n> > 10.243.70.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> > 10.243.80.0     10.243.80.8     255.255.255.255 UGH   0      0        0 eth1\n> > 10.243.80.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth0\n> > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth1\n> > 192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0\n> > \n> > Notice the default gateway is 10.243.80.8\n> > \n> > ping remote host from BMC console:\n> > ping 10.243.49.86\n> > PING 10.243.49.86 (10.243.49.86): 56 data bytes\n> > 64 bytes from 10.243.49.86: seq=0 ttl=64 time=1.241 ms\n> > \n> > ping BMC console from remote host\n> > ping 10.243.49.24\n> > --- 10.243.49.24 ping statistics ---\n> > 5 packets transmitted, 0 received, 100% packet loss, time 139ms\n> > \n> > No ability to get to BMC from remote system.\n> > \n> > $ cat /etc/systemd/network/00-bmc-eth1.network\n> > [Match]                                                                                                                                                                                                   [1/1933]\n> > Name=eth1                                                                                                                                                                                                         \n> > [Network]          \n> > LinkLocalAddressing=yes\n> > IPv6AcceptRA=false\n> > DHCP=false\n> > Address=10.243.49.24/23\n> > Address=10.243.50.55/24\n> > Address=10.243.60.66/26\n> > Address=10.243.70.77/24\n> > Address=10.243.80.88/24\n> > Gateway=10.243.80.8\n> > [Route]\n> > Gateway=10.243.48.1\n> > Destination=10.243.48.0\n> > [Route]\n> > Gateway=10.243.50.1\n> > Destination=10.243.50.0\n> > [Route]\n> > Gateway=10.243.60.6\n> > Destination=10.243.60.64\n> > [Route]\n> > Gateway=10.243.70.7\n> > Destination=10.243.70.0\n> > [Route]\n> > Gateway=10.243.80.8\n> > Destination=10.243.80.0\n> > [DHCP]\n> > ClientIdentifier=mac\n> > UseDNS=false\n> > UseNTP=false\n> > UseHostname=true\n> > SendHostname=true\n> > \n> > Notice the Gateway is 10.243.80.8\n> > \n> > Delete 10.243.80.8\n> >       PATCH https://obmcjgmwfp.jf.intel.com/redfish/v1/Managers/bmc/EthernetInterfaces/eth1\n> >       Authorization: Basic cm9vdDowcGVuQm1j\n> >       {\n> >           \"IPv4StaticAddresses\": [\n> >               {},\n> >               {},\n> >               null,\n> >               {},\n> >               {}\n> >           ]\n> >       }\n> >       #+END_SRC\n> > ip addr\n> > 3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n> >     link/ether a4:bf:01:16:f5:fe brd ff:ff:ff:ff:ff:ff\n> >     inet 10.243.49.24/23 brd 10.243.49.255 scope global eth1\n> >        valid_lft forever preferred_lft forever\n> >     inet 10.243.50.55/24 brd 10.243.50.255 scope global eth1\n> >        valid_lft forever preferred_lft forever\n> >     inet 10.243.60.66/26 brd 10.243.60.127 scope global eth1\n> >        valid_lft forever preferred_lft forever\n> >     inet 10.243.70.77/24 brd 10.243.70.255 scope global eth1\n> >        valid_lft forever preferred_lft forever\n> >     inet6 fe80::a6bf:1ff:fe16:f5fe/64 scope link \n> >        valid_lft forever preferred_lft forever\n> > \n> > route -n\n> > Kernel IP routing table\n> > Destination     Gateway         Genmask         Flags Metric Ref    Use Iface\n> > 0.0.0.0         10.243.80.8     0.0.0.0         UG    0      0        0 eth1\n> > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth1\n> > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth0\n> > 10.243.48.0     10.243.48.1     255.255.255.255 UGH   0      0        0 eth1\n> > 10.243.48.0     0.0.0.0         255.255.254.0   U     0      0        0 eth1\n> > 10.243.50.0     10.243.50.1     255.255.255.255 UGH   0      0        0 eth1\n> > 10.243.50.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> > 10.243.60.64    0.0.0.0         255.255.255.192 U     0      0        0 eth1\n> > 10.243.70.0     10.243.70.7     255.255.255.255 UGH   0      0        0 eth1\n> > 10.243.70.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth1\n> > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth0\n> > 192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0\n> > \n> > Gateway is 80.8, which doesn't have a corresponding IP any longer.\n> > \n> > $ cat /etc/systemd/network/00-bmc-eth1.network\n> > [Match]\n> > Name=eth1\n> > [Network]\n> > LinkLocalAddressing=yes\n> > IPv6AcceptRA=false\n> > DHCP=false\n> > Address=10.243.49.24/23\n> > Address=10.243.50.55/24\n> > Address=10.243.60.66/26\n> > Address=10.243.70.77/24\n> > Gateway=10.243.80.8\n> > [Route]\n> > Gateway=10.243.48.1\n> > Destination=10.243.48.0\n> > [Route]\n> > Gateway=10.243.50.1\n> > Destination=10.243.50.0\n> > [Route]\n> > Gateway=10.243.70.7\n> > Destination=10.243.70.0\n> > [DHCP]\n> > ClientIdentifier=mac\n> > UseDNS=false\n> > UseNTP=false\n> > UseHostname=true\n> > \n> > Gateway is 10.243.80.8, which doesn't have a corresponding IP any longer.\n> > \n> > ping remote from BMC console:\n> > ping 10.243.49.86\n> > PING 10.243.49.86 (10.243.49.86): 56 data bytes\n> > 64 bytes from 10.243.49.86: seq=0 ttl=64 time=1.241 ms\n> > \n> > ping BMC console from remote host\n> > ping 10.243.49.24\n> > --- 10.243.49.24 ping statistics ---\n> > 5 packets transmitted, 0 received, 100% packet loss, time 89ms\n> > \n> > No ability to get to BMC from remote system.\n> > \n> > My pending changes for the static and DHCP IP handling allow the remote system to access the BMC when multiple static addresses are assigned.  Based on the evidence here I don't agree with carte blanche assigning the default gateway in this fashion.\n> \n> Hi Jonathan,\n> \n> As per the redfish spec IP address schema \"Gateway property is defined as below\"\n> The value of this property shall be the IPv4 default gateway address for this interface\n> \n> Which tell it is default gateway, Now on a system there can not be multiple default gateway.\n> \n> As per your eg where the user has given multiple IP addresses with multiple default gateways, last gateway entry would be treated as the default gateway.\n> \n> \n> So what I mean to say that Default gateway should not be tied up with IP address and that is the reason I opened up a thread in the redfish forum and DMTF guys have accepted it.\n> \n> the problem which you are referring can be solved if we open up the route interface where we can ask the user to enter the destination network and the gateway to create the network specific routing table.\n> \n> But I don't think so that BMC would require such complex routing.If the need exist we can demand the same.\n\n\"last gateway entry would be treated as the default gateway.\"\nYou've defined this somewhere?  That seems really odd that the BMC would accept multiple gateways, but only take action on one.  Also, looking at the attached debug logs, it looks like it's created a route for each gateway, despite what you've stated?\n\n\"if we open up the route interface where we can ask the user to enter the destination network and the gateway\"\nI would really hope that's not necessary, as the default routing rules should be fine.  To my knowledge, other Redfish implementations handle this correctly.\n\nIn the next few days I will try to research this better, and understand better the technical needs here, but as written, I don't think it implements the redfish interfaces properly."
        },
        {
            "timestamp": 1570090446,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 7:\n\n> Patch Set 7:\n> \n> (1 comment)\n> \n> > Patch Set 7:\n> > \n> > > Patch Set 7: Code-Review-1\n> > > \n> > > Ravi,\n> > > Using this patch there is no ability to get to the BMC from a remote system.\n> > > \n> > > Start with only link local:\n> > > 3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n> > >     link/ether a4:bf:01:16:f5:fe brd ff:ff:ff:ff:ff:ff\n> > >     inet 169.254.85.20/16 brd 169.254.255.255 scope link eth1\n> > >        valid_lft forever preferred_lft forever\n> > >     inet6 fe80::a6bf:1ff:fe16:f5fe/64 scope link \n> > >        valid_lft forever preferred_lft forever\n> > > route -n\n> > > Kernel IP routing table\n> > > Destination     Gateway         Genmask         Flags Metric Ref    Use Iface\n> > > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth0\n> > > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth1\n> > > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth0\n> > > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth1\n> > > 192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0\n> > > \n> > > cat /etc/systemd/network/00-bmc-eth1.network\n> > > [Match]\n> > > Name=eth1\n> > > [Network]\n> > > LinkLocalAddressing=yes\n> > > IPv6AcceptRA=false\n> > > DHCP=false\n> > > [DHCP]\n> > > ClientIdentifier=mac\n> > > UseDNS=false\n> > > UseNTP=false\n> > > UseHostname=true\n> > > \n> > > \n> > > Add multiple addresses:\n> > >       PATCH https://obmcjgmwfp.jf.intel.com/redfish/v1/Managers/bmc/EthernetInterfaces/eth1\n> > >       Authorization: Basic cm9vdDowcGVuQm1j\n> > >       {\n> > >           \"DHCPv4\": {\n> > >               \"DHCPEnabled\": false\n> > >           },\n> > >           \"IPv4StaticAddresses\": [\n> > >               {\n> > >                   \"Address\": \"10.243.49.24\",\n> > >                   \"SubnetMask\": \"255.255.254.0\",\n> > >                   \"Gateway\": \"10.243.48.1\"\n> > >               },\n> > >               {\n> > >                   \"Address\": \"10.243.50.55\",\n> > >                   \"SubnetMask\": \"255.255.255.0\",\n> > >                   \"Gateway\": \"10.243.50.1\"\n> > >               },\n> > >               {\n> > >                   \"Address\": \"10.243.60.66\",\n> > >                   \"SubnetMask\": \"255.255.255.192\",\n> > >                   \"Gateway\": \"10.243.60.6\"\n> > >               },\n> > >               {\n> > >                   \"Address\": \"10.243.70.77\",\n> > >                   \"SubnetMask\": \"255.255.255.0\",\n> > >                   \"Gateway\": \"10.243.70.7\"\n> > >               },\n> > >               {\n> > >                   \"Address\": \"10.243.80.88\",\n> > >                   \"SubnetMask\": \"255.255.255.0\",\n> > >                   \"Gateway\": \"10.243.80.8\"\n> > >               }\n> > >           ]\n> > >       }\n> > > \n> > > ip addr\n> > > 3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n> > >     link/ether a4:bf:01:16:f5:fe brd ff:ff:ff:ff:ff:ff\n> > >     inet 10.243.49.24/23 brd 10.243.49.255 scope global eth1\n> > >        valid_lft forever preferred_lft forever\n> > >     inet 10.243.50.55/24 brd 10.243.50.255 scope global eth1\n> > >        valid_lft forever preferred_lft forever\n> > >     inet 10.243.60.66/26 brd 10.243.60.127 scope global eth1\n> > >        valid_lft forever preferred_lft forever\n> > >     inet 10.243.70.77/24 brd 10.243.70.255 scope global eth1\n> > >        valid_lft forever preferred_lft forever\n> > >     inet 10.243.80.88/24 brd 10.243.80.255 scope global eth1\n> > >        valid_lft forever preferred_lft forever\n> > >     inet6 fe80::a6bf:1ff:fe16:f5fe/64 scope link \n> > >        valid_lft forever preferred_lft forever\n> > > route -n\n> > > Kernel IP routing table\n> > > Destination     Gateway         Genmask         Flags Metric Ref    Use Iface\n> > > 0.0.0.0         10.243.80.8     0.0.0.0         UG    0      0        0 eth1\n> > > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth0\n> > > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth1\n> > > 10.243.48.0     10.243.48.1     255.255.255.255 UGH   0      0        0 eth1\n> > > 10.243.48.0     0.0.0.0         255.255.254.0   U     0      0        0 eth1\n> > > 10.243.50.0     10.243.50.1     255.255.255.255 UGH   0      0        0 eth1\n> > > 10.243.50.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> > > 10.243.60.64    0.0.0.0         255.255.255.192 U     0      0        0 eth1\n> > > 10.243.70.0     10.243.70.7     255.255.255.255 UGH   0      0        0 eth1\n> > > 10.243.70.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> > > 10.243.80.0     10.243.80.8     255.255.255.255 UGH   0      0        0 eth1\n> > > 10.243.80.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> > > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth0\n> > > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth1\n> > > 192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0\n> > > \n> > > Notice the default gateway is 10.243.80.8\n> > > \n> > > ping remote host from BMC console:\n> > > ping 10.243.49.86\n> > > PING 10.243.49.86 (10.243.49.86): 56 data bytes\n> > > 64 bytes from 10.243.49.86: seq=0 ttl=64 time=1.241 ms\n> > > \n> > > ping BMC console from remote host\n> > > ping 10.243.49.24\n> > > --- 10.243.49.24 ping statistics ---\n> > > 5 packets transmitted, 0 received, 100% packet loss, time 139ms\n> > > \n> > > No ability to get to BMC from remote system.\n> > > \n> > > $ cat /etc/systemd/network/00-bmc-eth1.network\n> > > [Match]                                                                                                                                                                                                   [1/1933]\n> > > Name=eth1                                                                                                                                                                                                         \n> > > [Network]          \n> > > LinkLocalAddressing=yes\n> > > IPv6AcceptRA=false\n> > > DHCP=false\n> > > Address=10.243.49.24/23\n> > > Address=10.243.50.55/24\n> > > Address=10.243.60.66/26\n> > > Address=10.243.70.77/24\n> > > Address=10.243.80.88/24\n> > > Gateway=10.243.80.8\n> > > [Route]\n> > > Gateway=10.243.48.1\n> > > Destination=10.243.48.0\n> > > [Route]\n> > > Gateway=10.243.50.1\n> > > Destination=10.243.50.0\n> > > [Route]\n> > > Gateway=10.243.60.6\n> > > Destination=10.243.60.64\n> > > [Route]\n> > > Gateway=10.243.70.7\n> > > Destination=10.243.70.0\n> > > [Route]\n> > > Gateway=10.243.80.8\n> > > Destination=10.243.80.0\n> > > [DHCP]\n> > > ClientIdentifier=mac\n> > > UseDNS=false\n> > > UseNTP=false\n> > > UseHostname=true\n> > > SendHostname=true\n> > > \n> > > Notice the Gateway is 10.243.80.8\n> > > \n> > > Delete 10.243.80.8\n> > >       PATCH https://obmcjgmwfp.jf.intel.com/redfish/v1/Managers/bmc/EthernetInterfaces/eth1\n> > >       Authorization: Basic cm9vdDowcGVuQm1j\n> > >       {\n> > >           \"IPv4StaticAddresses\": [\n> > >               {},\n> > >               {},\n> > >               null,\n> > >               {},\n> > >               {}\n> > >           ]\n> > >       }\n> > >       #+END_SRC\n> > > ip addr\n> > > 3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n> > >     link/ether a4:bf:01:16:f5:fe brd ff:ff:ff:ff:ff:ff\n> > >     inet 10.243.49.24/23 brd 10.243.49.255 scope global eth1\n> > >        valid_lft forever preferred_lft forever\n> > >     inet 10.243.50.55/24 brd 10.243.50.255 scope global eth1\n> > >        valid_lft forever preferred_lft forever\n> > >     inet 10.243.60.66/26 brd 10.243.60.127 scope global eth1\n> > >        valid_lft forever preferred_lft forever\n> > >     inet 10.243.70.77/24 brd 10.243.70.255 scope global eth1\n> > >        valid_lft forever preferred_lft forever\n> > >     inet6 fe80::a6bf:1ff:fe16:f5fe/64 scope link \n> > >        valid_lft forever preferred_lft forever\n> > > \n> > > route -n\n> > > Kernel IP routing table\n> > > Destination     Gateway         Genmask         Flags Metric Ref    Use Iface\n> > > 0.0.0.0         10.243.80.8     0.0.0.0         UG    0      0        0 eth1\n> > > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth1\n> > > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth0\n> > > 10.243.48.0     10.243.48.1     255.255.255.255 UGH   0      0        0 eth1\n> > > 10.243.48.0     0.0.0.0         255.255.254.0   U     0      0        0 eth1\n> > > 10.243.50.0     10.243.50.1     255.255.255.255 UGH   0      0        0 eth1\n> > > 10.243.50.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> > > 10.243.60.64    0.0.0.0         255.255.255.192 U     0      0        0 eth1\n> > > 10.243.70.0     10.243.70.7     255.255.255.255 UGH   0      0        0 eth1\n> > > 10.243.70.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> > > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth1\n> > > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth0\n> > > 192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0\n> > > \n> > > Gateway is 80.8, which doesn't have a corresponding IP any longer.\n> > > \n> > > $ cat /etc/systemd/network/00-bmc-eth1.network\n> > > [Match]\n> > > Name=eth1\n> > > [Network]\n> > > LinkLocalAddressing=yes\n> > > IPv6AcceptRA=false\n> > > DHCP=false\n> > > Address=10.243.49.24/23\n> > > Address=10.243.50.55/24\n> > > Address=10.243.60.66/26\n> > > Address=10.243.70.77/24\n> > > Gateway=10.243.80.8\n> > > [Route]\n> > > Gateway=10.243.48.1\n> > > Destination=10.243.48.0\n> > > [Route]\n> > > Gateway=10.243.50.1\n> > > Destination=10.243.50.0\n> > > [Route]\n> > > Gateway=10.243.70.7\n> > > Destination=10.243.70.0\n> > > [DHCP]\n> > > ClientIdentifier=mac\n> > > UseDNS=false\n> > > UseNTP=false\n> > > UseHostname=true\n> > > \n> > > Gateway is 10.243.80.8, which doesn't have a corresponding IP any longer.\n> > > \n> > > ping remote from BMC console:\n> > > ping 10.243.49.86\n> > > PING 10.243.49.86 (10.243.49.86): 56 data bytes\n> > > 64 bytes from 10.243.49.86: seq=0 ttl=64 time=1.241 ms\n> > > \n> > > ping BMC console from remote host\n> > > ping 10.243.49.24\n> > > --- 10.243.49.24 ping statistics ---\n> > > 5 packets transmitted, 0 received, 100% packet loss, time 89ms\n> > > \n> > > No ability to get to BMC from remote system.\n> > > \n> > > My pending changes for the static and DHCP IP handling allow the remote system to access the BMC when multiple static addresses are assigned.  Based on the evidence here I don't agree with carte blanche assigning the default gateway in this fashion.\n> > \n> > Hi Jonathan,\n> > \n> > As per the redfish spec IP address schema \"Gateway property is defined as below\"\n> > The value of this property shall be the IPv4 default gateway address for this interface\n> > \n> > Which tell it is default gateway, Now on a system there can not be multiple default gateway.\n> > \n> > As per your eg where the user has given multiple IP addresses with multiple default gateways, last gateway entry would be treated as the default gateway.\n> > \n> > \n> > So what I mean to say that Default gateway should not be tied up with IP address and that is the reason I opened up a thread in the redfish forum and DMTF guys have accepted it.\n> > \n> > the problem which you are referring can be solved if we open up the route interface where we can ask the user to enter the destination network and the gateway to create the network specific routing table.\n> > \n> > But I don't think so that BMC would require such complex routing.If the need exist we can demand the same.\n> \n> \"last gateway entry would be treated as the default gateway.\"\n> You've defined this somewhere?  That seems really odd that the BMC would accept multiple gateways, but only take action on one.  Also, looking at the attached debug logs, it looks like it's created a route for each gateway, despite what you've stated?\n\n\nEd, The problem is in the redfish ethernet interface schema where it says that it can accept muliple default gateway, In any system there would be single default gateway.\n\nNo, we don't create a route for each gateway in phosphor-networkd, this gateway entry we are not using at all.\n\nFor the default gateway it is system specific property, not an ip address specific property, it is defined in the system configuration interface.\n\n> \n> \"if we open up the route interface where we can ask the user to enter the destination network and the gateway\"\n> I would really hope that's not necessary, as the default routing rules should be fine.  To my knowledge, other Redfish implementations handle this correctly.\n> \n> In the next few days I will try to research this better, and understand better the technical needs here, but as written, I don't think it implements the redfish interfaces properly.\nSeems what we have done here it is trying to mitigate the problem defined by the redfish interface, so the correct interface would have been untie the gateway from the IPaddress object and put it in the some system-specific interface.\n\nPlesae have a look at the following defect on DMTF\n\nhttps://github.com/DMTF/Redfish/issues/3609\n\nIt has been approved."
        },
        {
            "timestamp": 1570478737,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 7:\n\n> Patch Set 7:\n> \n> (1 comment)\n> \n> > Patch Set 7:\n> > \n> > > Patch Set 7: Code-Review-1\n> > > \n> > > Ravi,\n> > > Using this patch there is no ability to get to the BMC from a remote system.\n> > > \n> > > Start with only link local:\n> > > 3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n> > >     link/ether a4:bf:01:16:f5:fe brd ff:ff:ff:ff:ff:ff\n> > >     inet 169.254.85.20/16 brd 169.254.255.255 scope link eth1\n> > >        valid_lft forever preferred_lft forever\n> > >     inet6 fe80::a6bf:1ff:fe16:f5fe/64 scope link \n> > >        valid_lft forever preferred_lft forever\n> > > route -n\n> > > Kernel IP routing table\n> > > Destination     Gateway         Genmask         Flags Metric Ref    Use Iface\n> > > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth0\n> > > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth1\n> > > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth0\n> > > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth1\n> > > 192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0\n> > > \n> > > cat /etc/systemd/network/00-bmc-eth1.network\n> > > [Match]\n> > > Name=eth1\n> > > [Network]\n> > > LinkLocalAddressing=yes\n> > > IPv6AcceptRA=false\n> > > DHCP=false\n> > > [DHCP]\n> > > ClientIdentifier=mac\n> > > UseDNS=false\n> > > UseNTP=false\n> > > UseHostname=true\n> > > \n> > > \n> > > Add multiple addresses:\n> > >       PATCH https://obmcjgmwfp.jf.intel.com/redfish/v1/Managers/bmc/EthernetInterfaces/eth1\n> > >       Authorization: Basic cm9vdDowcGVuQm1j\n> > >       {\n> > >           \"DHCPv4\": {\n> > >               \"DHCPEnabled\": false\n> > >           },\n> > >           \"IPv4StaticAddresses\": [\n> > >               {\n> > >                   \"Address\": \"10.243.49.24\",\n> > >                   \"SubnetMask\": \"255.255.254.0\",\n> > >                   \"Gateway\": \"10.243.48.1\"\n> > >               },\n> > >               {\n> > >                   \"Address\": \"10.243.50.55\",\n> > >                   \"SubnetMask\": \"255.255.255.0\",\n> > >                   \"Gateway\": \"10.243.50.1\"\n> > >               },\n> > >               {\n> > >                   \"Address\": \"10.243.60.66\",\n> > >                   \"SubnetMask\": \"255.255.255.192\",\n> > >                   \"Gateway\": \"10.243.60.6\"\n> > >               },\n> > >               {\n> > >                   \"Address\": \"10.243.70.77\",\n> > >                   \"SubnetMask\": \"255.255.255.0\",\n> > >                   \"Gateway\": \"10.243.70.7\"\n> > >               },\n> > >               {\n> > >                   \"Address\": \"10.243.80.88\",\n> > >                   \"SubnetMask\": \"255.255.255.0\",\n> > >                   \"Gateway\": \"10.243.80.8\"\n> > >               }\n> > >           ]\n> > >       }\n> > > \n> > > ip addr\n> > > 3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n> > >     link/ether a4:bf:01:16:f5:fe brd ff:ff:ff:ff:ff:ff\n> > >     inet 10.243.49.24/23 brd 10.243.49.255 scope global eth1\n> > >        valid_lft forever preferred_lft forever\n> > >     inet 10.243.50.55/24 brd 10.243.50.255 scope global eth1\n> > >        valid_lft forever preferred_lft forever\n> > >     inet 10.243.60.66/26 brd 10.243.60.127 scope global eth1\n> > >        valid_lft forever preferred_lft forever\n> > >     inet 10.243.70.77/24 brd 10.243.70.255 scope global eth1\n> > >        valid_lft forever preferred_lft forever\n> > >     inet 10.243.80.88/24 brd 10.243.80.255 scope global eth1\n> > >        valid_lft forever preferred_lft forever\n> > >     inet6 fe80::a6bf:1ff:fe16:f5fe/64 scope link \n> > >        valid_lft forever preferred_lft forever\n> > > route -n\n> > > Kernel IP routing table\n> > > Destination     Gateway         Genmask         Flags Metric Ref    Use Iface\n> > > 0.0.0.0         10.243.80.8     0.0.0.0         UG    0      0        0 eth1\n> > > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth0\n> > > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth1\n> > > 10.243.48.0     10.243.48.1     255.255.255.255 UGH   0      0        0 eth1\n> > > 10.243.48.0     0.0.0.0         255.255.254.0   U     0      0        0 eth1\n> > > 10.243.50.0     10.243.50.1     255.255.255.255 UGH   0      0        0 eth1\n> > > 10.243.50.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> > > 10.243.60.64    0.0.0.0         255.255.255.192 U     0      0        0 eth1\n> > > 10.243.70.0     10.243.70.7     255.255.255.255 UGH   0      0        0 eth1\n> > > 10.243.70.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> > > 10.243.80.0     10.243.80.8     255.255.255.255 UGH   0      0        0 eth1\n> > > 10.243.80.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> > > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth0\n> > > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth1\n> > > 192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0\n> > > \n> > > Notice the default gateway is 10.243.80.8\n> > > \n> > > ping remote host from BMC console:\n> > > ping 10.243.49.86\n> > > PING 10.243.49.86 (10.243.49.86): 56 data bytes\n> > > 64 bytes from 10.243.49.86: seq=0 ttl=64 time=1.241 ms\n> > > \n> > > ping BMC console from remote host\n> > > ping 10.243.49.24\n> > > --- 10.243.49.24 ping statistics ---\n> > > 5 packets transmitted, 0 received, 100% packet loss, time 139ms\n> > > \n> > > No ability to get to BMC from remote system.\n> > > \n> > > $ cat /etc/systemd/network/00-bmc-eth1.network\n> > > [Match]                                                                                                                                                                                                   [1/1933]\n> > > Name=eth1                                                                                                                                                                                                         \n> > > [Network]          \n> > > LinkLocalAddressing=yes\n> > > IPv6AcceptRA=false\n> > > DHCP=false\n> > > Address=10.243.49.24/23\n> > > Address=10.243.50.55/24\n> > > Address=10.243.60.66/26\n> > > Address=10.243.70.77/24\n> > > Address=10.243.80.88/24\n> > > Gateway=10.243.80.8\n> > > [Route]\n> > > Gateway=10.243.48.1\n> > > Destination=10.243.48.0\n> > > [Route]\n> > > Gateway=10.243.50.1\n> > > Destination=10.243.50.0\n> > > [Route]\n> > > Gateway=10.243.60.6\n> > > Destination=10.243.60.64\n> > > [Route]\n> > > Gateway=10.243.70.7\n> > > Destination=10.243.70.0\n> > > [Route]\n> > > Gateway=10.243.80.8\n> > > Destination=10.243.80.0\n> > > [DHCP]\n> > > ClientIdentifier=mac\n> > > UseDNS=false\n> > > UseNTP=false\n> > > UseHostname=true\n> > > SendHostname=true\n> > > \n> > > Notice the Gateway is 10.243.80.8\n> > > \n> > > Delete 10.243.80.8\n> > >       PATCH https://obmcjgmwfp.jf.intel.com/redfish/v1/Managers/bmc/EthernetInterfaces/eth1\n> > >       Authorization: Basic cm9vdDowcGVuQm1j\n> > >       {\n> > >           \"IPv4StaticAddresses\": [\n> > >               {},\n> > >               {},\n> > >               null,\n> > >               {},\n> > >               {}\n> > >           ]\n> > >       }\n> > >       #+END_SRC\n> > > ip addr\n> > > 3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n> > >     link/ether a4:bf:01:16:f5:fe brd ff:ff:ff:ff:ff:ff\n> > >     inet 10.243.49.24/23 brd 10.243.49.255 scope global eth1\n> > >        valid_lft forever preferred_lft forever\n> > >     inet 10.243.50.55/24 brd 10.243.50.255 scope global eth1\n> > >        valid_lft forever preferred_lft forever\n> > >     inet 10.243.60.66/26 brd 10.243.60.127 scope global eth1\n> > >        valid_lft forever preferred_lft forever\n> > >     inet 10.243.70.77/24 brd 10.243.70.255 scope global eth1\n> > >        valid_lft forever preferred_lft forever\n> > >     inet6 fe80::a6bf:1ff:fe16:f5fe/64 scope link \n> > >        valid_lft forever preferred_lft forever\n> > > \n> > > route -n\n> > > Kernel IP routing table\n> > > Destination     Gateway         Genmask         Flags Metric Ref    Use Iface\n> > > 0.0.0.0         10.243.80.8     0.0.0.0         UG    0      0        0 eth1\n> > > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth1\n> > > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth0\n> > > 10.243.48.0     10.243.48.1     255.255.255.255 UGH   0      0        0 eth1\n> > > 10.243.48.0     0.0.0.0         255.255.254.0   U     0      0        0 eth1\n> > > 10.243.50.0     10.243.50.1     255.255.255.255 UGH   0      0        0 eth1\n> > > 10.243.50.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> > > 10.243.60.64    0.0.0.0         255.255.255.192 U     0      0        0 eth1\n> > > 10.243.70.0     10.243.70.7     255.255.255.255 UGH   0      0        0 eth1\n> > > 10.243.70.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> > > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth1\n> > > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth0\n> > > 192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0\n> > > \n> > > Gateway is 80.8, which doesn't have a corresponding IP any longer.\n> > > \n> > > $ cat /etc/systemd/network/00-bmc-eth1.network\n> > > [Match]\n> > > Name=eth1\n> > > [Network]\n> > > LinkLocalAddressing=yes\n> > > IPv6AcceptRA=false\n> > > DHCP=false\n> > > Address=10.243.49.24/23\n> > > Address=10.243.50.55/24\n> > > Address=10.243.60.66/26\n> > > Address=10.243.70.77/24\n> > > Gateway=10.243.80.8\n> > > [Route]\n> > > Gateway=10.243.48.1\n> > > Destination=10.243.48.0\n> > > [Route]\n> > > Gateway=10.243.50.1\n> > > Destination=10.243.50.0\n> > > [Route]\n> > > Gateway=10.243.70.7\n> > > Destination=10.243.70.0\n> > > [DHCP]\n> > > ClientIdentifier=mac\n> > > UseDNS=false\n> > > UseNTP=false\n> > > UseHostname=true\n> > > \n> > > Gateway is 10.243.80.8, which doesn't have a corresponding IP any longer.\n> > > \n> > > ping remote from BMC console:\n> > > ping 10.243.49.86\n> > > PING 10.243.49.86 (10.243.49.86): 56 data bytes\n> > > 64 bytes from 10.243.49.86: seq=0 ttl=64 time=1.241 ms\n> > > \n> > > ping BMC console from remote host\n> > > ping 10.243.49.24\n> > > --- 10.243.49.24 ping statistics ---\n> > > 5 packets transmitted, 0 received, 100% packet loss, time 89ms\n> > > \n> > > No ability to get to BMC from remote system.\n> > > \n> > > My pending changes for the static and DHCP IP handling allow the remote system to access the BMC when multiple static addresses are assigned.  Based on the evidence here I don't agree with carte blanche assigning the default gateway in this fashion.\n> > \n> > Hi Jonathan,\n> > \n> > As per the redfish spec IP address schema \"Gateway property is defined as below\"\n> > The value of this property shall be the IPv4 default gateway address for this interface\n> > \n> > Which tell it is default gateway, Now on a system there can not be multiple default gateway.\n> > \n> > As per your eg where the user has given multiple IP addresses with multiple default gateways, last gateway entry would be treated as the default gateway.\n> > \n> > \n> > So what I mean to say that Default gateway should not be tied up with IP address and that is the reason I opened up a thread in the redfish forum and DMTF guys have accepted it.\n> > \n> > the problem which you are referring can be solved if we open up the route interface where we can ask the user to enter the destination network and the gateway to create the network specific routing table.\n> > \n> > But I don't think so that BMC would require such complex routing.If the need exist we can demand the same.\n> \n> \"last gateway entry would be treated as the default gateway.\"\n> You've defined this somewhere?  That seems really odd that the BMC would accept multiple gateways, but only take action on one.  Also, looking at the attached debug logs, it looks like it's created a route for each gateway, despite what you've stated?\n> \n> \"if we open up the route interface where we can ask the user to enter the destination network and the gateway\"\n> I would really hope that's not necessary, as the default routing rules should be fine.  To my knowledge, other Redfish implementations handle this correctly.\n> \n> In the next few days I will try to research this better, and understand better the technical needs here, but as written, I don't think it implements the redfish interfaces properly.\n\nEd,\nThe multiple [Route] entries are a result of my failing to remove my own set of code changes.  The [Route] entries are in a code change I have pushed for review, and that have not been approved.  \n\nUsing the [Route] scheme allows any static address to be inserted/deleted without breaking the default gateway.  This patch causes the last static IP assigned to update the default gateway.  The code has no provision for updating the default gateway when the IP address that assigned the default gateway is deleted.  This means the default gateway holds an invalid IP address."
        },
        {
            "timestamp": 1570702503,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 7:\n\n> Patch Set 7:\n> \n> > Patch Set 7:\n> > \n> > (1 comment)\n> > \n> > > Patch Set 7:\n> > > \n> > > > Patch Set 7: Code-Review-1\n> > > > \n> > > > Ravi,\n> > > > Using this patch there is no ability to get to the BMC from a remote system.\n> > > > \n> > > > Start with only link local:\n> > > > 3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n> > > >     link/ether a4:bf:01:16:f5:fe brd ff:ff:ff:ff:ff:ff\n> > > >     inet 169.254.85.20/16 brd 169.254.255.255 scope link eth1\n> > > >        valid_lft forever preferred_lft forever\n> > > >     inet6 fe80::a6bf:1ff:fe16:f5fe/64 scope link \n> > > >        valid_lft forever preferred_lft forever\n> > > > route -n\n> > > > Kernel IP routing table\n> > > > Destination     Gateway         Genmask         Flags Metric Ref    Use Iface\n> > > > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth0\n> > > > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth1\n> > > > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth0\n> > > > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth1\n> > > > 192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0\n> > > > \n> > > > cat /etc/systemd/network/00-bmc-eth1.network\n> > > > [Match]\n> > > > Name=eth1\n> > > > [Network]\n> > > > LinkLocalAddressing=yes\n> > > > IPv6AcceptRA=false\n> > > > DHCP=false\n> > > > [DHCP]\n> > > > ClientIdentifier=mac\n> > > > UseDNS=false\n> > > > UseNTP=false\n> > > > UseHostname=true\n> > > > \n> > > > \n> > > > Add multiple addresses:\n> > > >       PATCH https://obmcjgmwfp.jf.intel.com/redfish/v1/Managers/bmc/EthernetInterfaces/eth1\n> > > >       Authorization: Basic cm9vdDowcGVuQm1j\n> > > >       {\n> > > >           \"DHCPv4\": {\n> > > >               \"DHCPEnabled\": false\n> > > >           },\n> > > >           \"IPv4StaticAddresses\": [\n> > > >               {\n> > > >                   \"Address\": \"10.243.49.24\",\n> > > >                   \"SubnetMask\": \"255.255.254.0\",\n> > > >                   \"Gateway\": \"10.243.48.1\"\n> > > >               },\n> > > >               {\n> > > >                   \"Address\": \"10.243.50.55\",\n> > > >                   \"SubnetMask\": \"255.255.255.0\",\n> > > >                   \"Gateway\": \"10.243.50.1\"\n> > > >               },\n> > > >               {\n> > > >                   \"Address\": \"10.243.60.66\",\n> > > >                   \"SubnetMask\": \"255.255.255.192\",\n> > > >                   \"Gateway\": \"10.243.60.6\"\n> > > >               },\n> > > >               {\n> > > >                   \"Address\": \"10.243.70.77\",\n> > > >                   \"SubnetMask\": \"255.255.255.0\",\n> > > >                   \"Gateway\": \"10.243.70.7\"\n> > > >               },\n> > > >               {\n> > > >                   \"Address\": \"10.243.80.88\",\n> > > >                   \"SubnetMask\": \"255.255.255.0\",\n> > > >                   \"Gateway\": \"10.243.80.8\"\n> > > >               }\n> > > >           ]\n> > > >       }\n> > > > \n> > > > ip addr\n> > > > 3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n> > > >     link/ether a4:bf:01:16:f5:fe brd ff:ff:ff:ff:ff:ff\n> > > >     inet 10.243.49.24/23 brd 10.243.49.255 scope global eth1\n> > > >        valid_lft forever preferred_lft forever\n> > > >     inet 10.243.50.55/24 brd 10.243.50.255 scope global eth1\n> > > >        valid_lft forever preferred_lft forever\n> > > >     inet 10.243.60.66/26 brd 10.243.60.127 scope global eth1\n> > > >        valid_lft forever preferred_lft forever\n> > > >     inet 10.243.70.77/24 brd 10.243.70.255 scope global eth1\n> > > >        valid_lft forever preferred_lft forever\n> > > >     inet 10.243.80.88/24 brd 10.243.80.255 scope global eth1\n> > > >        valid_lft forever preferred_lft forever\n> > > >     inet6 fe80::a6bf:1ff:fe16:f5fe/64 scope link \n> > > >        valid_lft forever preferred_lft forever\n> > > > route -n\n> > > > Kernel IP routing table\n> > > > Destination     Gateway         Genmask         Flags Metric Ref    Use Iface\n> > > > 0.0.0.0         10.243.80.8     0.0.0.0         UG    0      0        0 eth1\n> > > > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth0\n> > > > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth1\n> > > > 10.243.48.0     10.243.48.1     255.255.255.255 UGH   0      0        0 eth1\n> > > > 10.243.48.0     0.0.0.0         255.255.254.0   U     0      0        0 eth1\n> > > > 10.243.50.0     10.243.50.1     255.255.255.255 UGH   0      0        0 eth1\n> > > > 10.243.50.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> > > > 10.243.60.64    0.0.0.0         255.255.255.192 U     0      0        0 eth1\n> > > > 10.243.70.0     10.243.70.7     255.255.255.255 UGH   0      0        0 eth1\n> > > > 10.243.70.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> > > > 10.243.80.0     10.243.80.8     255.255.255.255 UGH   0      0        0 eth1\n> > > > 10.243.80.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> > > > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth0\n> > > > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth1\n> > > > 192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0\n> > > > \n> > > > Notice the default gateway is 10.243.80.8\n> > > > \n> > > > ping remote host from BMC console:\n> > > > ping 10.243.49.86\n> > > > PING 10.243.49.86 (10.243.49.86): 56 data bytes\n> > > > 64 bytes from 10.243.49.86: seq=0 ttl=64 time=1.241 ms\n> > > > \n> > > > ping BMC console from remote host\n> > > > ping 10.243.49.24\n> > > > --- 10.243.49.24 ping statistics ---\n> > > > 5 packets transmitted, 0 received, 100% packet loss, time 139ms\n> > > > \n> > > > No ability to get to BMC from remote system.\n> > > > \n> > > > $ cat /etc/systemd/network/00-bmc-eth1.network\n> > > > [Match]                                                                                                                                                                                                   [1/1933]\n> > > > Name=eth1                                                                                                                                                                                                         \n> > > > [Network]          \n> > > > LinkLocalAddressing=yes\n> > > > IPv6AcceptRA=false\n> > > > DHCP=false\n> > > > Address=10.243.49.24/23\n> > > > Address=10.243.50.55/24\n> > > > Address=10.243.60.66/26\n> > > > Address=10.243.70.77/24\n> > > > Address=10.243.80.88/24\n> > > > Gateway=10.243.80.8\n> > > > [Route]\n> > > > Gateway=10.243.48.1\n> > > > Destination=10.243.48.0\n> > > > [Route]\n> > > > Gateway=10.243.50.1\n> > > > Destination=10.243.50.0\n> > > > [Route]\n> > > > Gateway=10.243.60.6\n> > > > Destination=10.243.60.64\n> > > > [Route]\n> > > > Gateway=10.243.70.7\n> > > > Destination=10.243.70.0\n> > > > [Route]\n> > > > Gateway=10.243.80.8\n> > > > Destination=10.243.80.0\n> > > > [DHCP]\n> > > > ClientIdentifier=mac\n> > > > UseDNS=false\n> > > > UseNTP=false\n> > > > UseHostname=true\n> > > > SendHostname=true\n> > > > \n> > > > Notice the Gateway is 10.243.80.8\n> > > > \n> > > > Delete 10.243.80.8\n> > > >       PATCH https://obmcjgmwfp.jf.intel.com/redfish/v1/Managers/bmc/EthernetInterfaces/eth1\n> > > >       Authorization: Basic cm9vdDowcGVuQm1j\n> > > >       {\n> > > >           \"IPv4StaticAddresses\": [\n> > > >               {},\n> > > >               {},\n> > > >               null,\n> > > >               {},\n> > > >               {}\n> > > >           ]\n> > > >       }\n> > > >       #+END_SRC\n> > > > ip addr\n> > > > 3: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast qlen 1000\n> > > >     link/ether a4:bf:01:16:f5:fe brd ff:ff:ff:ff:ff:ff\n> > > >     inet 10.243.49.24/23 brd 10.243.49.255 scope global eth1\n> > > >        valid_lft forever preferred_lft forever\n> > > >     inet 10.243.50.55/24 brd 10.243.50.255 scope global eth1\n> > > >        valid_lft forever preferred_lft forever\n> > > >     inet 10.243.60.66/26 brd 10.243.60.127 scope global eth1\n> > > >        valid_lft forever preferred_lft forever\n> > > >     inet 10.243.70.77/24 brd 10.243.70.255 scope global eth1\n> > > >        valid_lft forever preferred_lft forever\n> > > >     inet6 fe80::a6bf:1ff:fe16:f5fe/64 scope link \n> > > >        valid_lft forever preferred_lft forever\n> > > > \n> > > > route -n\n> > > > Kernel IP routing table\n> > > > Destination     Gateway         Genmask         Flags Metric Ref    Use Iface\n> > > > 0.0.0.0         10.243.80.8     0.0.0.0         UG    0      0        0 eth1\n> > > > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth1\n> > > > 0.0.0.0         0.0.0.0         0.0.0.0         U     2048   0        0 eth0\n> > > > 10.243.48.0     10.243.48.1     255.255.255.255 UGH   0      0        0 eth1\n> > > > 10.243.48.0     0.0.0.0         255.255.254.0   U     0      0        0 eth1\n> > > > 10.243.50.0     10.243.50.1     255.255.255.255 UGH   0      0        0 eth1\n> > > > 10.243.50.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> > > > 10.243.60.64    0.0.0.0         255.255.255.192 U     0      0        0 eth1\n> > > > 10.243.70.0     10.243.70.7     255.255.255.255 UGH   0      0        0 eth1\n> > > > 10.243.70.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1\n> > > > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth1\n> > > > 169.254.0.0     0.0.0.0         255.255.0.0     U     0      0        0 eth0\n> > > > 192.168.20.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0\n> > > > \n> > > > Gateway is 80.8, which doesn't have a corresponding IP any longer.\n> > > > \n> > > > $ cat /etc/systemd/network/00-bmc-eth1.network\n> > > > [Match]\n> > > > Name=eth1\n> > > > [Network]\n> > > > LinkLocalAddressing=yes\n> > > > IPv6AcceptRA=false\n> > > > DHCP=false\n> > > > Address=10.243.49.24/23\n> > > > Address=10.243.50.55/24\n> > > > Address=10.243.60.66/26\n> > > > Address=10.243.70.77/24\n> > > > Gateway=10.243.80.8\n> > > > [Route]\n> > > > Gateway=10.243.48.1\n> > > > Destination=10.243.48.0\n> > > > [Route]\n> > > > Gateway=10.243.50.1\n> > > > Destination=10.243.50.0\n> > > > [Route]\n> > > > Gateway=10.243.70.7\n> > > > Destination=10.243.70.0\n> > > > [DHCP]\n> > > > ClientIdentifier=mac\n> > > > UseDNS=false\n> > > > UseNTP=false\n> > > > UseHostname=true\n> > > > \n> > > > Gateway is 10.243.80.8, which doesn't have a corresponding IP any longer.\n> > > > \n> > > > ping remote from BMC console:\n> > > > ping 10.243.49.86\n> > > > PING 10.243.49.86 (10.243.49.86): 56 data bytes\n> > > > 64 bytes from 10.243.49.86: seq=0 ttl=64 time=1.241 ms\n> > > > \n> > > > ping BMC console from remote host\n> > > > ping 10.243.49.24\n> > > > --- 10.243.49.24 ping statistics ---\n> > > > 5 packets transmitted, 0 received, 100% packet loss, time 89ms\n> > > > \n> > > > No ability to get to BMC from remote system.\n> > > > \n> > > > My pending changes for the static and DHCP IP handling allow the remote system to access the BMC when multiple static addresses are assigned.  Based on the evidence here I don't agree with carte blanche assigning the default gateway in this fashion.\n> > > \n> > > Hi Jonathan,\n> > > \n> > > As per the redfish spec IP address schema \"Gateway property is defined as below\"\n> > > The value of this property shall be the IPv4 default gateway address for this interface\n> > > \n> > > Which tell it is default gateway, Now on a system there can not be multiple default gateway.\n> > > \n> > > As per your eg where the user has given multiple IP addresses with multiple default gateways, last gateway entry would be treated as the default gateway.\n> > > \n> > > \n> > > So what I mean to say that Default gateway should not be tied up with IP address and that is the reason I opened up a thread in the redfish forum and DMTF guys have accepted it.\n> > > \n> > > the problem which you are referring can be solved if we open up the route interface where we can ask the user to enter the destination network and the gateway to create the network specific routing table.\n> > > \n> > > But I don't think so that BMC would require such complex routing.If the need exist we can demand the same.\n> > \n> > \"last gateway entry would be treated as the default gateway.\"\n> > You've defined this somewhere?  That seems really odd that the BMC would accept multiple gateways, but only take action on one.  Also, looking at the attached debug logs, it looks like it's created a route for each gateway, despite what you've stated?\n\nI think I explained before that redfish schema specifies the gateway as \"Default Gateway\" not the network gateway.\nWhat you are mentioning that we can create a route for each gateway, that is not what redfish spec tells, it talks about default gateway.\nthe entry which goes with IP address is \"DEFAULT GATEWAY NOT GATEWAY\".\nOn the system, there could be only one Default Gateway.\n\n\n> > \n> > \"if we open up the route interface where we can ask the user to enter the destination network and the gateway\"\n> > I would really hope that's not necessary, as the default routing rules should be fine.  To my knowledge, other Redfish implementations handle this correctly.\n> > \n> > In the next few days I will try to research this better, and understand better the technical needs here, but as written, I don't think it implements the redfish interfaces properly.\n> \n> Ed,\n> The multiple [Route] entries are a result of my failing to remove my own set of code changes.  The [Route] entries are in a code change I have pushed for review, and that have not been approved.  \n> \n> Using the [Route] scheme allows any static address to be inserted/deleted without breaking the default gateway.  This patch causes the last static IP assigned to update the default gateway.  The code has no provision for updating the default gateway when the IP address that assigned the default gateway is deleted.  This means the default gateway holds an invalid IP address."
        },
        {
            "timestamp": 1571832982,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Uploaded patch set 8."
        },
        {
            "timestamp": 1571833009,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1571833023,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 8:\n\nBuild Started https://openpower.xyz/job/openbmc-repository-ci/37977/"
        },
        {
            "timestamp": 1571833264,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://openpower.xyz/job/openbmc-repository-ci/37977/ : SUCCESS"
        },
        {
            "timestamp": 1571873563,
            "reviewer": {
                "name": "James Feist",
                "email": "james.feist@linux.intel.com",
                "username": "feistjj"
            },
            "message": "Assignee added: Johnathan Mantey <johnathanx.mantey@intel.com>"
        },
        {
            "timestamp": 1571917127,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 8:\n\nThis commit should go in, otherwise it is breaking the system as on the system default gateway is not getting set."
        },
        {
            "timestamp": 1571936423,
            "reviewer": {
                "name": "James Feist",
                "email": "james.feist@linux.intel.com",
                "username": "feistjj"
            },
            "message": "Patch Set 8:\n\n> Patch Set 8:\n> \n> This commit should go in, otherwise it is breaking the system as on the system default gateway is not getting set.\n\nWaiting on Jonathan"
        },
        {
            "timestamp": 1571958635,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 8: Code-Review-1\n\nI have spent a good portion of the day testing this commit.\nMy test machine has two NIC's, both initially assigned addresses via DHCP.\nI can use Redfish via Eth1 to add a single static address.\nEth0 is a 192.168.x.x address (local net), Eth1 is a 10.x.x.x address (corp net).\nI can write the DHCP address to Eth0 to the same address and static.\nI lose access to the Redfish network used to change Eth0.\nManually deleting the default GW for 192.168 (route del -net 0.0.0.0 dev eth0) allows corporate network access to the SUT again.\n\nIt's not acceptable to merge a code change that will prevent future network access to the system being modified. Especially since restoring access needs BMC console access, host OS ipmitool access, or a reboot to BIOS/UEFI to restore the network settings.\n\nThis change either needs substantially more work in testing and verification of the feature set.\n\nAlternately, the code change I have pending:\nhttps://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/24725\nneeds to be approved and merged, as I have tested that the network connections remain available following PATCH commands."
        },
        {
            "timestamp": 1572599160,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 8:\n\n> Patch Set 8: Code-Review-1\n> \n> I have spent a good portion of the day testing this commit.\n> My test machine has two NIC's, both initially assigned addresses via DHCP.\n> I can use Redfish via Eth1 to add a single static address.\n> Eth0 is a 192.168.x.x address (local net), Eth1 is a 10.x.x.x address (corp net).\n> I can write the DHCP address to Eth0 to the same address and static.\n> I lose access to the Redfish network used to change Eth0.\n> Manually deleting the default GW for 192.168 (route del -net 0.0.0.0 dev eth0) allows corporate network access to the SUT again.\n> \n> It's not acceptable to merge a code change that will prevent future network access to the system being modified. Especially since restoring access needs BMC console access, host OS ipmitool access, or a reboot to BIOS/UEFI to restore the network settings.\n> \n> This change either needs substantially more work in testing and verification of the feature set.\n> \n> Alternately, the code change I have pending:\n> https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/24725\n> needs to be approved and merged, as I have tested that the network connections remain available following PATCH commands.\n\nJonathan, I don't have an idea how you are testing but let me see why it is not working for you.\nFlow:\nUser tries to configure one IP address on(eth0) 192.168.1.1/24 with the default gateway as 192.168.1.1"
        },
        {
            "timestamp": 1572600844,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 8:\n\n> Patch Set 8:\n> \n> > Patch Set 8: Code-Review-1\n> > \n> > I have spent a good portion of the day testing this commit.\n> > My test machine has two NIC's, both initially assigned addresses via DHCP.\n> > I can use Redfish via Eth1 to add a single static address.\n> > Eth0 is a 192.168.x.x address (local net), Eth1 is a 10.x.x.x address (corp net).\n> > I can write the DHCP address to Eth0 to the same address and static.\n> > I lose access to the Redfish network used to change Eth0.\n> > Manually deleting the default GW for 192.168 (route del -net 0.0.0.0 dev eth0) allows corporate network access to the SUT again.\n> > \n> > It's not acceptable to merge a code change that will prevent future network access to the system being modified. Especially since restoring access needs BMC console access, host OS ipmitool access, or a reboot to BIOS/UEFI to restore the network settings.\n> > \n> > This change either needs substantially more work in testing and verification of the feature set.\n> > \n> > Alternately, the code change I have pending:\n> > https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/24725\n> > needs to be approved and merged, as I have tested that the network connections remain available following PATCH commands.\n \nJonathan, I don't have an idea how you are testing but let me see why it is not working for you.\n Flow:\nUser tries to configure one IP address on(eth0) 192.168.1.2/24 with the default gateway as 192.168.1.1\n\nThat will add the subnet route as 192.168.1.0 in the routing table and it will add the defualt route as 192.168.1.1\n\nNow user tries to configure other IP address on(eth1) 10.10.1.2/24 with the default gateway as 10.10.1.1\n\nThis will add the subnet route as 10.10.1.0 in the routing table and it will replace the default gateway to 10.10.1.1.\n \nNow if client machine is in the 192.168.1 network they can access the 192.168.1.2 address as the subnet route will hit first(gateway route will not come into picture) and similarly if client machine is in the 10.10.1.0 network and try to access the 10.10.1.2 then even in that case subnet route will come into picture.\n\nIf client machine can access both the network assuming clinet machine have two interfaces(one is in 192.168.1 network and the other one is in 10.10.1 network) even in this case there is no problem.\n\n\nabove cases where client machine is in the same network then there is no issue, now suppose if the client machine is not in the same network say(5.5.5 network).\n\nNow suppose client does a ping request to 192.168.1.2 from the 5.5.5.2\n\nNow assume that packet reaches to BMC and now when bmc has to respond to the ping request it will get the default gateway as 10.10.10.1 if that gateway has a route for how to reach 5.5.5 network then the client will get the ping response otherwise not.\n\nIf you have any other use case please describe it fully, then I can let you know why it is not working with your setup.\n\nGet me the routing table output(netstat -rn) as well as the interface ipaddresses.\n\nThe problem which we are talking here, wherever there is multi interface, there could be only one default gateway.\n\nNow it is up to the admin to make sure that configure the correct default gateway so that the both the address can be pingable."
        },
        {
            "timestamp": 1572624540,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 8:\n\nRatan,\n\nDo you want me to include all of my debug process inline?  I assume you do so that it is part of the formal record.  It's just pretty long."
        },
        {
            "timestamp": 1572884347,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 8:\n\nPlease see my test sequence and results here:\nhttps://gist.github.com/Howitzer105mm/b1264b7dcf4767932d3c5fac787b3fc6"
        },
        {
            "timestamp": 1587384697,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 8:\n\nSeems in your case, it is getting messed up as you have a separate gateway for each subnet and the backend is implemented for a single default gateway.\n\nIt is getting discussed in the redfish DMTF to support the default gateway for each interface for the Ipv4, I can see that IPv6 default gateway is already implemented as ethernet interface specific.\nhttps://github.com/DMTF/Redfish/issues/3252\n\nhttps://redfish.dmtf.org/schemas/v1/EthernetInterface.v1_5_1.json specifies the default gateway interface specific.\n\n               \"IPv6DefaultGateway\": {\n                    \"description\": \"The IPv6 default gateway address in use on this interface.\",\n                    \"longDescription\": \"This property shall contain the current IPv6 default gateway address in use on this interface.\",\n                    \"readonly\": true,\n                    \"type\": [\n                        \"string\",\n                        \"null\"\n                    ]\n                },\n\nNow a similar thing will be done for the Ipv4 case, where default gateway is getting proposed for interface-specific. Please refer the following issue\nhttps://github.com/DMTF/Redfish/issues/3609\n\nWe will make the change in bmcweb, once we get the support from backend for the default gateway per interface."
        },
        {
            "timestamp": 1587410798,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 8:\n\nRatan,\n\nThere's more than a single factor at work."
        },
        {
            "timestamp": 1587421543,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 8:\n\nRatan,\n\nI thought I'd cancelled sending the prior message.\n\nThe behavior of the assignment of the gateway is currently full of corner cases that cause loss of network access depending on the most recent action taken.\n\nI'm not sure how much detail to add here, as it will get long and complex quickly.\n\nFirst off: \nhttps://github.com/DMTF/Redfish/issues/3252  is 404\nhttps://github.com/DMTF/Redfish/issues/3609  is 404\n\nSecond: \nThe eth(x).network file that configures what systemd-networkd is going to require some thoughtful management.\n\nIn the case of the S2600WF and multi-NIC systems the best case for maintaining network access to the NICS is to leave them in DHCP mode. This way the DHCP server assigns the Gateway, and route correctly.\n\nThe DHCP assigns both a valid Gateway AND a valid Metric value. I do not believe the redfish DMTF has any control over assigning the routing metric. As such the Metric value for the route is \"0\", and thus highest priority. This, in our systems, terminates network traffic on the link with a routing metric greater than 0.\n\nIMO, \n* Redfish, and the D-Bus subsystem needs to support a per NIC Gateway.\n* The prior statement means reverting the DMTF schema change this code implements.\n* Redfish needs to support a per NIC Metric control to prevent routes with excessive priority.\n* Phosphor-networkd needs to correctly reconcile inclusion of a [Route], Gateway, Metric section that coexists with existing elements in the \"ip route\" table. \n* Ideally it will do so in a way that does not create duplicate entries. Some of my recent testing in trying to make the routing table avoid any duplicates shows writes to the eth(x).network may duplicate existing entries created via DHCP.\n* I have no formula in mind for solving the problem for IPMI. The only solution I can conceive is to either assign a fixed low priority value, or to plumb the current routing table entries via netlink for values to assign."
        },
        {
            "timestamp": 1587730534,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 8:\n\n> Patch Set 8:\n> \n> Ratan,\n> \n> I thought I'd cancelled sending the prior message.\n> \n> The behavior of the assignment of the gateway is currently full of corner cases that cause loss of network access depending on the most recent action taken.\n> \n> I'm not sure how much detail to add here, as it will get long and complex quickly.\n> \n> First off: \n> https://github.com/DMTF/Redfish/issues/3252  is 404\n> https://github.com/DMTF/Redfish/issues/3609  is 404\n\nSeems you are not the member of DMTF, Can you please get this data from some of the intel folks who are member of Redfish.\n\n> \n> Second: \n> The eth(x).network file that configures what systemd-networkd is going to require some thoughtful management.\n\nI think what is needed is to just have gateway per interface.\n> \n> In the case of the S2600WF and multi-NIC systems the best case for maintaining network access to the NICS is to leave them in DHCP mode. This way the DHCP server assigns the Gateway, and route correctly.\n> \n> The DHCP assigns both a valid Gateway AND a valid Metric value. I do not believe the redfish DMTF has any control over assigning the routing metric. As such the Metric value for the route is \"0\", and thus highest priority. This, in our systems, terminates network traffic on the link with a routing metric greater than 0.\n> \n> IMO, \n> * Redfish, and the D-Bus subsystem needs to support a per NIC Gateway.\nAgree, which is being proposed through https://github.com/DMTF/Redfish/issues/3609\n  However, I see it is correct for IPv6\n https://redfish.dmtf.org/schemas/v1/EthernetInterface.v1_5_1.json \n          \"IPv6DefaultGateway\": {\n                    \"description\": \"The IPv6 default gateway address in use on this interface.\",\n                    \"longDescription\": \"This property shall contain the current IPv6 default gateway address in use on this interface.\",\n                    \"readonly\": true,\n                    \"type\": [\n                        \"string\",\n                        \"null\"\n                    ]\n                },\n\nPer Interface Default Gateway.\n\n> * The prior statement means reverting the DMTF schema change this code implements.\nNo, we are trying to make it work, without impacting a lot of entities.\n\n> * Redfish needs to support a per NIC Metric control to prevent routes with excessive priority.\nRoute management is an entirely different scope.Policy based routing.\n\n> * Phosphor-networkd needs to correctly reconcile inclusion of a [Route], Gateway, Metric section that coexists with existing elements in the \"ip route\" table.\n \nPhosphor-networkd gave the route management, only single route which is allowed is a default gateway.\n\n> * Ideally it will do so in a way that does not create duplicate entries. Some of my recent testing in trying to make the routing table avoid any duplicates shows writes to the eth(x).network may duplicate existing entries created via DHCP.\n\nThat can be fixed. I will put a fix for the same\n\n> * I have no formula in mind for solving the problem for IPMI. The only solution I can conceive is to either assign a fixed low priority value, or to plumb the current routing table entries via netlink for values to assign.\nIf we have gateway per interface I don't see any issues.\n\nhttps://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/deployment_guide/s1-networkscripts-static-routes\n\nGlobal default gateway configuration is stored in the /etc/sysconfig/network file. This file specifies gateway and host information for all network interfaces.\n\nI think what we have today.\n\nhttps://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/deployment_guide/sec-configuring_static_routes_in_ifcfg_files\n\nIt talks about the interface-specific gateway, Now seems we both are on the same page that we require the gateway per interface and it is big activity.\n\nHow to path forward:\n=====================\n\nWhat we have now is single default gateway at the backend, How you can solve your problem where you have two network interfaces and both are in different subnets.\n\nSolution : Default gateway should have access to both the subnets.\n\nBy blocking this commit, we have put the master in a bad state. The single default gateway is there since a long."
        },
        {
            "timestamp": 1588184028,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 8:\n\n> Patch Set 8:\n> \n> > Patch Set 8:\n> > \n> > Ratan,\n> > \n> > I thought I'd cancelled sending the prior message.\n> > \n> > The behavior of the assignment of the gateway is currently full of corner cases that cause loss of network access depending on the most recent action taken.\n> > \n> > I'm not sure how much detail to add here, as it will get long and complex quickly.\n> > \n> > First off: \n> > https://github.com/DMTF/Redfish/issues/3252  is 404\n> > https://github.com/DMTF/Redfish/issues/3609  is 404\n> \n> Seems you are not the member of DMTF, Can you please get this data from some of the intel folks who are member of Redfish.\n> \n> > \n> > Second: \n> > The eth(x).network file that configures what systemd-networkd is going to require some thoughtful management.\n> \n> I think what is needed is to just have gateway per interface.\n> > \n> > In the case of the S2600WF and multi-NIC systems the best case for maintaining network access to the NICS is to leave them in DHCP mode. This way the DHCP server assigns the Gateway, and route correctly.\n> > \n> > The DHCP assigns both a valid Gateway AND a valid Metric value. I do not believe the redfish DMTF has any control over assigning the routing metric. As such the Metric value for the route is \"0\", and thus highest priority. This, in our systems, terminates network traffic on the link with a routing metric greater than 0.\n> > \n> > IMO, \n> > * Redfish, and the D-Bus subsystem needs to support a per NIC Gateway.\n> Agree, which is being proposed through https://github.com/DMTF/Redfish/issues/3609\n>   However, I see it is correct for IPv6\n>  https://redfish.dmtf.org/schemas/v1/EthernetInterface.v1_5_1.json \n>           \"IPv6DefaultGateway\": {\n>                     \"description\": \"The IPv6 default gateway address in use on this interface.\",\n>                     \"longDescription\": \"This property shall contain the current IPv6 default gateway address in use on this interface.\",\n>                     \"readonly\": true,\n>                     \"type\": [\n>                         \"string\",\n>                         \"null\"\n>                     ]\n>                 },\n> \n> Per Interface Default Gateway.\n> \n> > * The prior statement means reverting the DMTF schema change this code implements.\n> No, we are trying to make it work, without impacting a lot of entities.\n> \n> > * Redfish needs to support a per NIC Metric control to prevent routes with excessive priority.\n> Route management is an entirely different scope.Policy based routing.\n> \n> > * Phosphor-networkd needs to correctly reconcile inclusion of a [Route], Gateway, Metric section that coexists with existing elements in the \"ip route\" table.\n>  \n> Phosphor-networkd gave the route management, only single route which is allowed is a default gateway.\n> \n> > * Ideally it will do so in a way that does not create duplicate entries. Some of my recent testing in trying to make the routing table avoid any duplicates shows writes to the eth(x).network may duplicate existing entries created via DHCP.\n> \n> That can be fixed. I will put a fix for the same\n> \n> > * I have no formula in mind for solving the problem for IPMI. The only solution I can conceive is to either assign a fixed low priority value, or to plumb the current routing table entries via netlink for values to assign.\n> If we have gateway per interface I don't see any issues.\n> \n> https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/deployment_guide/s1-networkscripts-static-routes\n> \n> Global default gateway configuration is stored in the /etc/sysconfig/network file. This file specifies gateway and host information for all network interfaces.\n> \n> I think what we have today.\n> \n> https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/deployment_guide/sec-configuring_static_routes_in_ifcfg_files\n> \n> It talks about the interface-specific gateway, Now seems we both are on the same page that we require the gateway per interface and it is big activity.\n> \n> How to path forward:\n> =====================\n> \n> What we have now is single default gateway at the backend, How you can solve your problem where you have two network interfaces and both are in different subnets.\n> \n> Solution : Default gateway should have access to both the subnets.\n> \n> By blocking this commit, we have put the master in a bad state. The single default gateway is there since a long.\n\nRatan, \nI don't follow your logic concerning the \"Solution:\" remark.\nThis single default gateway upsets the routing table between our NCSI NIC, and the independent PHY connected to the AST2500. \nThese two RJ45 connections, per Intel best practices, are expected to be on separate subnets.\nEven when the RJ45 connections are on the same subnet the routing table blocks access to both NICs.\nThere isn't a path forward where this commit allows either of the NICS to be used.\n\nWhat's the correct open source project response? Block this because it doesn't improve the present state? Allow it because it follows the current Redfish and IPMI format, but it still doesn't work? Guidance from Brad Bishop indicates it should be blocked because Intel is broken by it."
        },
        {
            "timestamp": 1588581820,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 9: Patch Set 8 was rebased"
        },
        {
            "timestamp": 1588581855,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1588581880,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 9:\n\nBuild Started https://openpower.xyz/job/openbmc-repository-ci/48585/"
        },
        {
            "timestamp": 1588583185,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://openpower.xyz/job/openbmc-repository-ci/48585/ : SUCCESS"
        },
        {
            "timestamp": 1598340189,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Uploaded patch set 10."
        },
        {
            "timestamp": 1598340203,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1598340209,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/3570/"
        },
        {
            "timestamp": 1598340376,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/3570/ : FAILURE"
        },
        {
            "timestamp": 1598340992,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Uploaded patch set 11."
        },
        {
            "timestamp": 1598341007,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1598341014,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/3572/"
        },
        {
            "timestamp": 1598341280,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/3572/ : SUCCESS"
        },
        {
            "timestamp": 1604592519,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 11:\n\nIs this still being worked?"
        },
        {
            "timestamp": 1611123586,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 11:\n\n> Patch Set 11:\n> \n> Is this still being worked?\n\nEd\nI am working on backend \nthis commit will be needed once changes are merged"
        },
        {
            "timestamp": 1611308942,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 11:\n\n> Patch Set 11:\n> \n> > Patch Set 11:\n> > \n> > Is this still being worked?\n> \n> Ed\n> I am working on backend \n> this commit will be needed once changes are merged\n\nThis commit has to make the changes- Tie the gateway to the ethernet interface level."
        },
        {
            "timestamp": 1613708344,
            "reviewer": {
                "name": "ManojKiran Eda",
                "email": "manojkiran.eda@gmail.com",
                "username": "manojkiraneda"
            },
            "message": "Removed reviewer ManojKiran Eda."
        },
        {
            "timestamp": 1614074469,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Uploaded patch set 12."
        },
        {
            "timestamp": 1614074499,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1614074525,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/12853/ : FAILURE"
        },
        {
            "timestamp": 1614075264,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Uploaded patch set 13."
        },
        {
            "timestamp": 1614075289,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1614075315,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/12854/ : FAILURE"
        },
        {
            "timestamp": 1614075417,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Uploaded patch set 14."
        },
        {
            "timestamp": 1614075444,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 14: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1614076355,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 14: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/12855/ : SUCCESS"
        },
        {
            "timestamp": 1614610491,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 14:\n\nI am fine with the changes."
        },
        {
            "timestamp": 1614610497,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 14: Code-Review+1"
        },
        {
            "timestamp": 1614610549,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 14:\n\nThis is tied up with the following back end commit.\nhttps://gerrit.openbmc-project.xyz/c/openbmc/phosphor-networkd/+/34852/"
        },
        {
            "timestamp": 1614614547,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 14: Code-Review-1\n\n(2 comments)"
        },
        {
            "timestamp": 1614614558,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 14:\n\n> Patch Set 14:\n> \n> This is tied up with the following back end commit.\n> https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-networkd/+/34852/\n\nThis should be in the commit msg"
        },
        {
            "timestamp": 1614618053,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 14:\n\n(1 comment)"
        },
        {
            "timestamp": 1614762008,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 15: Commit message was updated."
        },
        {
            "timestamp": 1614762680,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 16: Commit message was updated."
        },
        {
            "timestamp": 1614762798,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 17: Commit message was updated."
        },
        {
            "timestamp": 1614763108,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 18: Commit message was updated."
        },
        {
            "timestamp": 1614763154,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 18:\n\n(2 comments)"
        },
        {
            "timestamp": 1615495349,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 18: -Code-Review\n\n(3 comments)"
        },
        {
            "timestamp": 1615519334,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 18:\n\n(2 comments)"
        },
        {
            "timestamp": 1615525160,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 18:\n\n(1 comment)"
        },
        {
            "timestamp": 1615545815,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 18:\n\n(1 comment)"
        },
        {
            "timestamp": 1615562346,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 18:\n\n(1 comment)\n\nAdding comments regarding my experience with pushing a code change that break existing functionality vs following the Redfish spec."
        },
        {
            "timestamp": 1615803969,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 18:\n\n(1 comment)"
        },
        {
            "timestamp": 1615814096,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 18:\n\n(1 comment)"
        },
        {
            "timestamp": 1615913418,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 18:\n\n(1 comment)"
        },
        {
            "timestamp": 1615969756,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Uploaded patch set 19."
        },
        {
            "timestamp": 1615969783,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 19: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1615970217,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 19: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/13915/ : SUCCESS"
        },
        {
            "timestamp": 1615974975,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 19: Code-Review+1"
        },
        {
            "timestamp": 1615990344,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 19:\n\n(1 comment)"
        },
        {
            "timestamp": 1615991099,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 20: Commit message was updated."
        },
        {
            "timestamp": 1615991370,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 20:\n\n(1 comment)"
        },
        {
            "timestamp": 1616090829,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 20:\n\n(3 comments)"
        },
        {
            "timestamp": 1616159745,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 20:\n\n(2 comments)"
        },
        {
            "timestamp": 1616161330,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 20:\n\n(1 comment)"
        },
        {
            "timestamp": 1616162008,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 20:\n\n(1 comment)"
        },
        {
            "timestamp": 1616162232,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 21: Commit message was updated."
        },
        {
            "timestamp": 1616165557,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 21:\n\n(5 comments)"
        },
        {
            "timestamp": 1616168782,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Uploaded patch set 22."
        },
        {
            "timestamp": 1616168796,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 22: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1616168903,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 22:\n\n(3 comments)"
        },
        {
            "timestamp": 1616169472,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 22: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/14049/ : SUCCESS"
        },
        {
            "timestamp": 1616169741,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 22:\n\n(1 comment)"
        },
        {
            "timestamp": 1616386266,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 22:\n\n(1 comment)"
        },
        {
            "timestamp": 1616402432,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Uploaded patch set 23."
        },
        {
            "timestamp": 1616402447,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 23: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1616402530,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 23:\n\n(2 comments)"
        },
        {
            "timestamp": 1616403137,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 23: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/14126/ : SUCCESS"
        },
        {
            "timestamp": 1616433242,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 23:\n\n(2 comments)\n\nSomeone feel free to correct me if I'm wrong, but I suspect this was the same thing as we found on the other gateway interface."
        },
        {
            "timestamp": 1616508420,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Uploaded patch set 24."
        },
        {
            "timestamp": 1616508437,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 24: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1616508512,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 24:\n\n(2 comments)"
        },
        {
            "timestamp": 1616508591,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 24:\n\n> Patch Set 23:\n> \n> (2 comments)\n> \n> Someone feel free to correct me if I'm wrong, but I suspect this was the same thing as we found on the other gateway interface.\n\nEd \nyes your are correct, we need to handle this. fixed it\nThanks"
        },
        {
            "timestamp": 1616508824,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 24: Code-Review+1\n\nI think a \"success\" message and 200 is more in line with Redfish spec than no content (204) but this isn't the only place and is allowed."
        },
        {
            "timestamp": 1616508961,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 24:\n\n(1 comment)"
        },
        {
            "timestamp": 1616509144,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 24: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/14239/ : SUCCESS"
        },
        {
            "timestamp": 1616728414,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 24:\n\nEd\n\nIncorporated changes you suggest, can you please give your score on this commit."
        },
        {
            "timestamp": 1617086975,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 24: Code-Review+1"
        },
        {
            "timestamp": 1617304186,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 24:\n\n(3 comments)"
        },
        {
            "timestamp": 1617341527,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 24:\n\n(2 comments)"
        },
        {
            "timestamp": 1617349367,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Uploaded patch set 25."
        },
        {
            "timestamp": 1617349383,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 25: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1617349811,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 25:\n\n(2 comments)"
        },
        {
            "timestamp": 1617350097,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 25: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/14794/ : SUCCESS"
        },
        {
            "timestamp": 1617376661,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 25: Code-Review+1"
        },
        {
            "timestamp": 1617674720,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 25: Code-Review+1"
        },
        {
            "timestamp": 1617700663,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 25: Code-Review+1"
        },
        {
            "timestamp": 1618232801,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 25: Code-Review+2\n\nAll comments have been addressed."
        },
        {
            "timestamp": 1618246843,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Change has been successfully rebased and submitted as 9010ec2e1dd5f8ad5edb61281b45019f2ea02eaa by Ravi Teja"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "a347adfb86e803cc5c1aed645854263e90f6d888",
            "parents": [
                "dd118a2ed38b3b1093c44686d1b6c2e19d3485d1"
            ],
            "ref": "refs/changes/06/24106/1",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1564720603,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 29,
                    "deletions": -16
                }
            ],
            "sizeInsertions": 29,
            "sizeDeletions": 16
        },
        {
            "number": 2,
            "revision": "44d9960dd2ecfb6f59cfba77adef9dfe7afa48a8",
            "parents": [
                "c619141b47d5aaa5227a2a9ef0ef8ee6f0bef22f"
            ],
            "ref": "refs/changes/06/24106/2",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1564721564,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 27,
                    "deletions": -15
                }
            ],
            "sizeInsertions": 27,
            "sizeDeletions": 15
        },
        {
            "number": 3,
            "revision": "b0b7f11c83033f21793745014e8a491c3c8bcd0b",
            "parents": [
                "c619141b47d5aaa5227a2a9ef0ef8ee6f0bef22f"
            ],
            "ref": "refs/changes/06/24106/3",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1564721957,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 27,
                    "deletions": -15
                }
            ],
            "sizeInsertions": 27,
            "sizeDeletions": 15
        },
        {
            "number": 4,
            "revision": "aa045710c0b598586ced2f2fbc42917e08330c5f",
            "parents": [
                "c619141b47d5aaa5227a2a9ef0ef8ee6f0bef22f"
            ],
            "ref": "refs/changes/06/24106/4",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1564724089,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 1336,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "this should be called from the createIPv4 function also mentioned the link of the redfish forum thread why you are doing this change.\nhttps://redfishforum.com/thread/218/ip-address-default-gateway"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 1336,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "ok done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 26,
                    "deletions": -16
                }
            ],
            "sizeInsertions": 26,
            "sizeDeletions": 16
        },
        {
            "number": 5,
            "revision": "6236cd48310cb04569a84828fbfc8edb680b6bfc",
            "parents": [
                "c619141b47d5aaa5227a2a9ef0ef8ee6f0bef22f"
            ],
            "ref": "refs/changes/06/24106/5",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1565082911,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 708,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "This construct is hazardous.\nYou have assigned ownership of gateway to the lambda, removing it from createIPv4.  That means the aysnc_method_call may not have access to the gateway variable in the parameter list."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 708,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "i dont see any issue here, async_method_Call have access to gateway variable."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 708,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "It is a potential race condition.  The lambda uses a std::move on gateway.  This may move gateway out of scope prior to the crow::connections call.  As a result the lambda will receive the passed value of gateway, while the crow::connections will see a \"safe\" or indeterminate value in gateway."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 708,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": -17
                }
            ],
            "sizeInsertions": 28,
            "sizeDeletions": 17
        },
        {
            "number": 6,
            "revision": "ccfa18f444ebbc7d36b4741718fdadbcc7cbc0ce",
            "parents": [
                "c619141b47d5aaa5227a2a9ef0ef8ee6f0bef22f"
            ],
            "ref": "refs/changes/06/24106/6",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1568199599,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": -17
                }
            ],
            "sizeInsertions": 28,
            "sizeDeletions": 17
        },
        {
            "number": 7,
            "revision": "36c386fc526d009f628584556988f9e6ce354b6a",
            "parents": [
                "c619141b47d5aaa5227a2a9ef0ef8ee6f0bef22f"
            ],
            "ref": "refs/changes/06/24106/7",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1568220763,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 8,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "A little more description here would be nice.  You're changing semantics of how this interface functions.  A one line description isn't really good enough."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": -17
                }
            ],
            "sizeInsertions": 28,
            "sizeDeletions": 17
        },
        {
            "number": 8,
            "revision": "23552f860df017213b9b8a7dac9b2e8aa3c06de0",
            "parents": [
                "717794d5465c54e07a1247db9e9d7ec68b0d6cc6"
            ],
            "ref": "refs/changes/06/24106/8",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1571832982,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 29,
                    "deletions": -18
                }
            ],
            "sizeInsertions": 29,
            "sizeDeletions": 18
        },
        {
            "number": 9,
            "revision": "9816ee296ce790fb04417f59c3ac8dd079875baa",
            "parents": [
                "2a5689a752d31a4a5758d3827c7ca6302bc0acc7"
            ],
            "ref": "refs/changes/06/24106/9",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1588581820,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 29,
                    "deletions": -18
                }
            ],
            "sizeInsertions": 29,
            "sizeDeletions": 18
        },
        {
            "number": 10,
            "revision": "f224a1c82302b7da064c71dacae9b3fd7a6fae7e",
            "parents": [
                "d139c2364bec98a5da1fe803414f3b02fdcd3092"
            ],
            "ref": "refs/changes/06/24106/10",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1598340189,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": -17
                }
            ],
            "sizeInsertions": 28,
            "sizeDeletions": 17
        },
        {
            "number": 11,
            "revision": "e2e56575afc73098514071213568b260e97b9f0b",
            "parents": [
                "d139c2364bec98a5da1fe803414f3b02fdcd3092"
            ],
            "ref": "refs/changes/06/24106/11",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1598340992,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 29,
                    "deletions": -18
                }
            ],
            "sizeInsertions": 29,
            "sizeDeletions": 18
        },
        {
            "number": 12,
            "revision": "5cf1ece622fca256e970c4cd87f36c79ebca8633",
            "parents": [
                "086d32c5a61a29e92ac441e66fd4a53df4f2c8ec"
            ],
            "ref": "refs/changes/06/24106/12",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1614074469,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 48,
                    "deletions": -18
                }
            ],
            "sizeInsertions": 48,
            "sizeDeletions": 18
        },
        {
            "number": 13,
            "revision": "6f45ebeee178ec6492ee5e1c7f29f4e8c5e54ef9",
            "parents": [
                "086d32c5a61a29e92ac441e66fd4a53df4f2c8ec"
            ],
            "ref": "refs/changes/06/24106/13",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1614075264,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 52,
                    "deletions": -18
                }
            ],
            "sizeInsertions": 52,
            "sizeDeletions": 18
        },
        {
            "number": 14,
            "revision": "656b6c4428dc6b20143eef630216e44217d567b3",
            "parents": [
                "086d32c5a61a29e92ac441e66fd4a53df4f2c8ec"
            ],
            "ref": "refs/changes/06/24106/14",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1614075417,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "This isn't much of a commit msg..\nCan you explain this does and more importantly why bmcweb needs this commit?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "+1\n\nAlso, a nitpick, there should be a space after the colon."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "Done"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 13,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Validator ?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 13,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 51,
                    "deletions": -18
                }
            ],
            "sizeInsertions": 51,
            "sizeDeletions": 18
        },
        {
            "number": 15,
            "revision": "79b3914565defb8d0ff78bacce59c2a8d30e0b94",
            "parents": [
                "086d32c5a61a29e92ac441e66fd4a53df4f2c8ec"
            ],
            "ref": "refs/changes/06/24106/15",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1614762008,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 51,
                    "deletions": -18
                }
            ],
            "sizeInsertions": 51,
            "sizeDeletions": 18
        },
        {
            "number": 16,
            "revision": "ed7224e9fcfcceccd48c511c661b47cff5eb29b3",
            "parents": [
                "086d32c5a61a29e92ac441e66fd4a53df4f2c8ec"
            ],
            "ref": "refs/changes/06/24106/16",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1614762680,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 51,
                    "deletions": -18
                }
            ],
            "sizeInsertions": 51,
            "sizeDeletions": 18
        },
        {
            "number": 17,
            "revision": "1cfa6bf6734b868f281412ce4e2a70a6ee8c8f1b",
            "parents": [
                "086d32c5a61a29e92ac441e66fd4a53df4f2c8ec"
            ],
            "ref": "refs/changes/06/24106/17",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1614762798,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 51,
                    "deletions": -18
                }
            ],
            "sizeInsertions": 51,
            "sizeDeletions": 18
        },
        {
            "number": 18,
            "revision": "bf0fb45d9619ba0b18ae5952c769fbe0a34f472a",
            "parents": [
                "086d32c5a61a29e92ac441e66fd4a53df4f2c8ec"
            ],
            "ref": "refs/changes/06/24106/18",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1614763108,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Commit msg could still use some work..\n\nWhy does bmcweb need this commit ? Why is this better?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Can you address this comment?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "done"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Neither of these commits explain *why* we are moving to default gateway on a \nEthernet interface level."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "till now we supported default gateway at system level and now we are adding support of default gateway at ethernet interface level\ni did not get what did i miss?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Looking for \"why\" we switched. \nI look at the commit message to tell me \"why\" this commit should go into bmcweb."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "ok. hopefully updated commit message may be clear."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 538,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Does this break anyone?"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 538,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "No, As it was deprecated from the Backend long ago. Backend was returning some default string ,so I don't see any breakage here."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 733,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Need a success message here? messages::success(aResp->res);\n\nhttps://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/40969"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 733,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "As per the Redfish it mentions as \"Should\" not \"Shall\", Hence it is optional. I have seen various instances where in the redfish success case we are not sending the success message."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 733,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Yep wrong in many places but if the response is \"200 OK\" we need one."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 733,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "No, it is not mandatory as per the spec."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 733,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "If this commit is any guide, following the spec is immaterial.\nhttps://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/38475\nThe spec is explicitly allowed to be ignored in the event it may break existing behavior.\nThe way forward, as requested by Ed in 38745, is to add a enable/disable flag to the build that will keep/remove the behavior here.\nThe main sticking point in 38475, and an enable/disable in this commit, is whether to use one single \"deprecate all non-compliant things\", or a sea of \"deprecate this feature\" build switches."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 733,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "I think this thread started, Because of sending success message response(Redfish success message(Success message from the message registry), I am hoping with this commit HTTP 200 OK is being sent with this commit.\n\nRavi, can you confirm the same?"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 733,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "Yes Ratan, I see HTTP 200 OK in response"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 733,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "\"If this commit is any guide, following the spec is immaterial.\"\nI have no idea where you got that impression.  Immaterial implies that we ignore the spec, which has never been the case.  Weighing the impact of client implementations breaking with the specification itself is always something we've done, and tried to tread softly.  I'm sorry if you feel like you were uprightly judged or singled out, but there's no need to carry that attitude into other peoples patches.  If you have legitimate concerns where a working client would break because of this change, I'd love to hear them, but that seems unlikely, given that a working client would have to be ignoring the payload entirely to function with the code as-is, so adding a success message seems really unlikely to break anything.\n\n\n\"The spec is explicitly allowed to be ignored in the event it may break existing behavior.\"\n\nUnlike the commit you linked, this change is very unlikely to break existing behavior.  It also happens in the golden path, and doesn't also require a broken client to make it happen.  That significantly changes the discussion, unless you have clients that are broken because of doing this?\n\n\n\nBack to the issue at hand, in a perfect world we would be putting a success message in all responses, but as Ratan says, the spec says \"should\" which means that it's not breaking to avoid putting it here.  I would prefer a success message, as gunnar suggested, but considering this code is no worse than the old code, I my opinion isn't very strong."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 733,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Even though only a \"should\", I think we should have a messages::success. \nAlso on a 200 OK, you must have a payload, it can be empty.. If we don't want to send a payload then need to use 204. \nhttps://restfulapi.net/http-status-200-ok/"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 733,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "> Even though only a \"should\", I think we should have a messages::success.\nAs I told earlier it is not must\n\n> Also on a 200 OK, you must have a payload, it can be empty.. If we don't want to send a payload then need to use 204. \nhttps://restfulapi.net/http-status-200-ok/\nYes, agree that we can send 204, But seems bigger activity now if we don't send 204 with empty response."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 733,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "But it is incorrect if we don't have a payload with 200.\nIf we have an empty payload with 200 then I am fine here (would still prefer the success message) but if we don't have a payload at all this is wrong."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 733,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "Yes, I agree, It could be like below.\nasyncResp->res.result(boost::beast::http::status::no_content);"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 733,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "Done, now Patch operation returns \"HTTP/1.1 204 No Content\""
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 21,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 51,
                    "deletions": -18
                }
            ],
            "sizeInsertions": 51,
            "sizeDeletions": 18
        },
        {
            "number": 19,
            "revision": "9cd9fa49df612c6feacef44c02007fa992227fd5",
            "parents": [
                "7ea79e5e15814eb8566f3e6799f2d7eee23527a6"
            ],
            "ref": "refs/changes/06/24106/19",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1615969756,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 21,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 51,
                    "deletions": -36
                }
            ],
            "sizeInsertions": 51,
            "sizeDeletions": 36
        },
        {
            "number": 20,
            "revision": "6ab182f21bcc86183a5ade3aa630b6f7a47e7a6b",
            "parents": [
                "7ea79e5e15814eb8566f3e6799f2d7eee23527a6"
            ],
            "ref": "refs/changes/06/24106/20",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1615991099,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 332,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "I know this is just a copy from below so I am fine as is but typically we turn this check around and return internalError if nullptr.\n\nSomething like \n            if (defaultGateway == nullptr)\n            {\n                messages::internalError(asyncResp->res);\n                return;\n            }\n            ethData.default_gateway = *defaultGateway;"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 332,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "ok gunnar, got it. we followed this way in most of the places"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 332,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "@ravi, @gunnar: Seems what is being asked is changing the behavior of the API.\n\n During GET if there is an error during fetching of a property, As per the code above don't fetch other property. \n    I am not align with it what the spec says that we can get all the properties and have an extended info object which will tell the properties having an error."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 332,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "if (defaultGateway == nullptr)\n{\n  messages::internalError(asyncResp->res);\n  return;\n}\nethData.default_gateway = *defaultGateway;\n\nIs the pattern we have mostly established.\nSee like https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/40326/6/redfish-core/lib/power_supply.hpp\n\n\nIf we have an internalError, bail. Which makes sense, if you have a critical error like this, don't keep going.\n\nI would prefer you did it like this but just a copy from below so I am good here."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 332,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "ok"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 332,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "I agree with ratan's point that we should keep going \nand  we can get all the properties and have an extended info object which will tell the properties having an error."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 25,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 51,
                    "deletions": -36
                }
            ],
            "sizeInsertions": 51,
            "sizeDeletions": 36
        },
        {
            "number": 21,
            "revision": "c98e2e16829297e518dc02b873b9b0a506824b58",
            "parents": [
                "7ea79e5e15814eb8566f3e6799f2d7eee23527a6"
            ],
            "ref": "refs/changes/06/24106/21",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1616162232,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 741,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "return here?"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 741,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 786,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Same here, do we need a return?"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 786,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 51,
                    "deletions": -36
                }
            ],
            "sizeInsertions": 51,
            "sizeDeletions": 36
        },
        {
            "number": 22,
            "revision": "33219c29528ac709b89dc4db2b15bc6b5912dc3f",
            "parents": [
                "4e69c9040b996b48b6e361ac8caed47e91b71a83"
            ],
            "ref": "refs/changes/06/24106/22",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1616168782,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 55,
                    "deletions": -36
                }
            ],
            "sizeInsertions": 55,
            "sizeDeletions": 36
        },
        {
            "number": 23,
            "revision": "c4ab9057f2b2a92640978bc8d28109b5e66e569c",
            "parents": [
                "c951448acb5c81a69569326c080b1a50e5678cbf"
            ],
            "ref": "refs/changes/06/24106/23",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1616402432,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 332,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Similar to the other patches, we need to handle empty string properly.  Redfish expects the property to be populated, phosphor-networkd uses empty string for \"not populated\", so we'll need to handle that case."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 332,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 340,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Same here."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 340,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 56,
                    "deletions": -36
                }
            ],
            "sizeInsertions": 56,
            "sizeDeletions": 36
        },
        {
            "number": 24,
            "revision": "aebe6ed39146fca85b699b2aedfa4137361e2c08",
            "parents": [
                "c951448acb5c81a69569326c080b1a50e5678cbf"
            ],
            "ref": "refs/changes/06/24106/24",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1616508420,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 330,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "ideally this would be: \n\nif (defaultGateway == nullptr)\n{\n  internalError\n  return;\n}\n\nstd::string defaultGatewayStr = *defaultGateway;\nif (defaultGatewayStr.empty())\n  ...."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 330,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Yeah, we should do that, but considering this loop already doesn't really do a good job of internal error, I'm ok with this as is."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 334,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Is this a valid ipv4 address?  It doesn't look like it.\n\nAlso please investigate why your testing didn't catch this.  The regex in the Redfish Service validator fails this string\n\nhttps://regex101.com/r/8vxyuW/1\n\nSo if you actually ran redfish service validtor on something that called this code, this should've been seen right away;  Please debug why that didn't happen.  If service validator is broken, we'd like to know."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 334,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "+1, This is not a valid address and validator should have been caught this."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 334,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "I have ran validator with gateway configured, sorry i missed running validator with default values, that's why could not catch in my testing.\n\nfixed it and ran validator with default values"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 353,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Is this a valid ipv6 address?"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 353,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "Ed, This seems valid.\nAn IPv6 (Normal) address has the following format: y : y : y : y : y : y : y : y where y is called a segment and can be any hexadecimal value between 0 and FFFF. The segments are separated by colons"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 353,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "yes its valid ipv6 address"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 75,
                    "deletions": -36
                }
            ],
            "sizeInsertions": 75,
            "sizeDeletions": 36
        },
        {
            "number": 25,
            "revision": "75c637a5ee5405e86ec8ed4d6afbab7951d134b4",
            "parents": [
                "c951448acb5c81a69569326c080b1a50e5678cbf"
            ],
            "ref": "refs/changes/06/24106/25",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1617349367,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 75,
                    "deletions": -36
                }
            ],
            "sizeInsertions": 75,
            "sizeDeletions": 36
        },
        {
            "number": 26,
            "revision": "9010ec2e1dd5f8ad5edb61281b45019f2ea02eaa",
            "parents": [
                "b304bd7965eeba71b10645bc9bc3f64254cd242f"
            ],
            "ref": "refs/changes/06/24106/26",
            "uploader": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "createdOn": 1618246843,
            "author": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 75,
                    "deletions": -36
                }
            ],
            "sizeInsertions": 75,
            "sizeDeletions": 36
        }
    ]
}