{
    "project": "openbmc/phosphor-logging",
    "branch": "master",
    "id": "I2135e3b0e916947449ab5d0cfa9669a98349226e",
    "number": 42285,
    "subject": "rsyslog-config: Support IPv6 address",
    "owner": {
        "name": "Lei YU",
        "email": "yulei.sh@bytedance.com",
        "username": "mine260309"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-logging/+/42285",
    "commitMessage": "rsyslog-config: Support IPv6 address\n\nThe IPv6 address requires `[]` in the config file. Add support for this\nformat so that user could set IPv6 address on DBus, and this service\nwill add `[]` in the config file to make it work correctly.\n\nSplit the logic in restore() into a separate function parseConfig() so\nthat it is easier to test.\n\nTested: Verify both IPv4 and IPv6 address could be set to rsyslog-config\n        and verify it works correctly.\n        Added several IPv6 related test cases.\n\nSigned-off-by: Lei YU <yulei.sh@bytedance.com>\nChange-Id: I2135e3b0e916947449ab5d0cfa9669a98349226e\n",
    "createdOn": 1618490268,
    "lastUpdated": 1619505788,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1618490268,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1618490285,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618490966,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/15501/ : SUCCESS"
        },
        {
            "timestamp": 1618523009,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1618544695,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1618544726,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618544736,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1618545364,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/15538/ : SUCCESS"
        },
        {
            "timestamp": 1618589681,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1618988176,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Patch Set 2:\n\n@Deepak could you kindly review this and possibly merge it?"
        },
        {
            "timestamp": 1618988222,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1618988782,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1618988795,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618989126,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/15864/ : SUCCESS"
        },
        {
            "timestamp": 1619010645,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1619501890,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Patch Set 3:\n\n@Deepak Ping again."
        },
        {
            "timestamp": 1619505382,
            "reviewer": {
                "name": "Deepak Kodihalli",
                "email": "deepak.kodihalli.83@gmail.com",
                "username": "dkodihal"
            },
            "message": "Patch Set 3: Code-Review+2"
        },
        {
            "timestamp": 1619505788,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Change has been successfully rebased and submitted as a1c4338ece021ed22b575be0502f2e733c739579 by Lei YU"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "781c49b50d20686fe6d5bdf895fa988ab920ab7c",
            "parents": [
                "981ffc3c0296f2df7c96d025e92300bc11573087"
            ],
            "ref": "refs/changes/85/42285/1",
            "uploader": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "createdOn": 1618490268,
            "author": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "phosphor-rsyslog-config/server-conf.cpp",
                    "line": 165,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "is there any chance the ']' could be at the end of a line so the line.at() would throw?"
                },
                {
                    "file": "phosphor-rsyslog-config/server-conf.cpp",
                    "line": 165,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "yulei.sh@bytedance.com",
                        "username": "mine260309"
                    },
                    "message": "Yup, this is true.\n\nSplit this logic into a separate function and added test cases."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "phosphor-rsyslog-config/server-conf.cpp",
                    "type": "MODIFIED",
                    "insertions": 43,
                    "deletions": -8
                }
            ],
            "sizeInsertions": 43,
            "sizeDeletions": 8
        },
        {
            "number": 2,
            "revision": "a8cc07ae4a4e00ae6e66a2e8952e68594b6bb7fa",
            "parents": [
                "993168de4791dc83ea787c2180187654a9f37e89"
            ],
            "ref": "refs/changes/85/42285/2",
            "uploader": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "createdOn": 1618544695,
            "author": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "phosphor-rsyslog-config/server-conf.cpp",
                    "line": 49,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "this also requires a non-blank line,  but this was how the original code already worked."
                },
                {
                    "file": "phosphor-rsyslog-config/server-conf.cpp",
                    "line": 49,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "yulei.sh@bytedance.com",
                        "username": "mine260309"
                    },
                    "message": "hmm, yup, this is a valid concern, let's fix it now."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 21,
                    "deletions": 0
                },
                {
                    "file": "phosphor-rsyslog-config/server-conf.cpp",
                    "type": "MODIFIED",
                    "insertions": 89,
                    "deletions": -16
                },
                {
                    "file": "test/remote_logging_test_address.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "test/remote_logging_test_config.cpp",
                    "type": "MODIFIED",
                    "insertions": 70,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 162,
            "sizeDeletions": 16
        },
        {
            "number": 3,
            "revision": "d2bab9baa4c7688a6eb3d8609ebdc72275a79e2e",
            "parents": [
                "993168de4791dc83ea787c2180187654a9f37e89"
            ],
            "ref": "refs/changes/85/42285/3",
            "uploader": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "createdOn": 1618988782,
            "author": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 21,
                    "deletions": 0
                },
                {
                    "file": "phosphor-rsyslog-config/server-conf.cpp",
                    "type": "MODIFIED",
                    "insertions": 89,
                    "deletions": -16
                },
                {
                    "file": "test/remote_logging_test_address.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "test/remote_logging_test_config.cpp",
                    "type": "MODIFIED",
                    "insertions": 79,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 171,
            "sizeDeletions": 16
        },
        {
            "number": 4,
            "revision": "a1c4338ece021ed22b575be0502f2e733c739579",
            "parents": [
                "23867bc37c8c3cbde57d3c1de6d6439071fd639b"
            ],
            "ref": "refs/changes/85/42285/4",
            "uploader": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "createdOn": 1619505788,
            "author": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 21,
                    "deletions": 0
                },
                {
                    "file": "phosphor-rsyslog-config/server-conf.cpp",
                    "type": "MODIFIED",
                    "insertions": 89,
                    "deletions": -16
                },
                {
                    "file": "test/remote_logging_test_address.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "test/remote_logging_test_config.cpp",
                    "type": "MODIFIED",
                    "insertions": 79,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 171,
            "sizeDeletions": 16
        }
    ]
}