{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "Id03faa17cffdbabaf4e5b0d46b24bb58b7f44669",
    "number": 40369,
    "subject": "Fix compile issue on DISABLE_XSS_PREVENTION",
    "owner": {
        "name": "Ed Tanous",
        "email": "ed@tanous.net",
        "username": "edtanous"
    },
    "assignee": {
        "name": "Gunnar Mills",
        "email": "gmills@us.ibm.com",
        "username": "gtmills"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/40369",
    "commitMessage": "Fix compile issue on DISABLE_XSS_PREVENTION\n\nFixes #178\n\nEvery few months, this option breaks because of some combination of\ncompiler options.  I'm hoping that this is a more permenant fix, and\nwill keep it working forever.\n\nFunctionally, this commit changes a couple things.\n1.  It fixes the regression that snuck into this option, by making the\nreq variable optional using the c++17 [[maybe_unused]] syntax.\n2. It promotes the BMCWEB_INSECURE_DISABLE_XSS_PREVENTION into the\nconfig.h file, and a constexpr variable rather than a #define.  This has\nthe benefit that both the code paths in question will compiled\nregardless of whether or not they're used, thus ensuring they stay\nbuildable forever.  The optimization path will still delete the code\nlater, but we won't have so many one-off build options breaking.  We\nshould move all the other feature driven #ifdefs to this pattern in the\nfuture.\n3. As a mechnaical change to #2, this adds a config.h.in, which delcares\nthe various variables as their respective constexpr types.  This allows\nthe constants to be used in a cleaner way.\n\nAs an aside, at some point, DISABLE_XSS_PREVENTION should really move to\na non-persistent runtime option rather than a compile time option.  Too\nmany people get hung up on having to recompile their BMC, and moving it\nto runtime under admin credentials is no more a security risk.\n\nAs another aside, we should move all the other #ifdef style options to\nthis pattern.  It seems like it would help with keeping all options\nbuildable, and is definitely more modern than #ifdefs for features,\nespecially if they don't require #include changes or linker changes.\n\nTested:\nenabled meson option insecure-disable-xss, and verified code builds and\nworks again.\n\nChange-Id: Id03faa17cffdbabaf4e5b0d46b24bb58b7f44669\nSigned-off-by: Ed Tanous <edtanous@google.com>\n",
    "createdOn": 1612726917,
    "lastUpdated": 1613767224,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1612726917,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1612726934,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1612727024,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/12048/ : FAILURE"
        },
        {
            "timestamp": 1612727033,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1612727048,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1612727137,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/12049/ : FAILURE"
        },
        {
            "timestamp": 1612732791,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1612732803,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1612733237,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/12052/ : FAILURE"
        },
        {
            "timestamp": 1612733902,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1612733934,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1612734020,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/12053/ : FAILURE"
        },
        {
            "timestamp": 1612735498,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Set Work In Progress"
        },
        {
            "timestamp": 1612895746,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1612895760,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1612896194,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/12170/ : FAILURE"
        },
        {
            "timestamp": 1612896545,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1612896560,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1612897003,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/12176/ : FAILURE"
        },
        {
            "timestamp": 1612897172,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1612897188,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1612897848,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 7:\n\nThis change is ready for review."
        },
        {
            "timestamp": 1612898186,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/12177/ : SUCCESS"
        },
        {
            "timestamp": 1613082477,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 8: Patch Set 7 was rebased."
        },
        {
            "timestamp": 1613082491,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1613083519,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/12335/ : SUCCESS"
        },
        {
            "timestamp": 1613157519,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 9: Patch Set 8 was rebased."
        },
        {
            "timestamp": 1613157533,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1613159112,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/12396/ : SUCCESS"
        },
        {
            "timestamp": 1613507409,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Assignee added: Gunnar Mills <gmills@us.ibm.com>"
        },
        {
            "timestamp": 1613573264,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 9:\n\n(1 comment)"
        },
        {
            "timestamp": 1613577784,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 9: Code-Review-1"
        },
        {
            "timestamp": 1613582604,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 10."
        },
        {
            "timestamp": 1613582616,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1613582622,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1613583526,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/12554/ : SUCCESS"
        },
        {
            "timestamp": 1613593765,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 10: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1613600340,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1613601099,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 10:\n\n(4 comments)"
        },
        {
            "timestamp": 1613604089,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1613607157,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 10:\n\n(1 comment)\n\nSeems okay to me.  The future direction seems good too."
        },
        {
            "timestamp": 1613680355,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1613681729,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 10: Code-Review+1"
        },
        {
            "timestamp": 1613681904,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1613767222,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 10: Code-Review+2"
        },
        {
            "timestamp": 1613767224,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully rebased and submitted as 0260d9d6b252d5fef81a51d4797e27a6893827f4 by Ed Tanous"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "29fbb25e75e5f4eb6a0d6a6c8a62a90bfb56b787",
            "parents": [
                "9706fe4f60b2573521466791dd9f7f4e8e620abf"
            ],
            "ref": "refs/changes/69/40369/1",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1612726917,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "config.h.in",
                    "type": "ADDED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "http/http_connection.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "include/cors_preflight.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "include/security_headers.hpp",
                    "type": "MODIFIED",
                    "insertions": 38,
                    "deletions": -36
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -4
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "src/webserver_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 63,
            "sizeDeletions": 46
        },
        {
            "number": 2,
            "revision": "47461c40005b684cf1506fddda6fc6fb90226835",
            "parents": [
                "9706fe4f60b2573521466791dd9f7f4e8e620abf"
            ],
            "ref": "refs/changes/69/40369/2",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1612727033,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "config.h.in",
                    "type": "ADDED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "http/http_connection.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "include/cors_preflight.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "include/security_headers.hpp",
                    "type": "MODIFIED",
                    "insertions": 38,
                    "deletions": -36
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -4
                },
                {
                    "file": "src/webserver_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 62,
            "sizeDeletions": 45
        },
        {
            "number": 3,
            "revision": "5509e51cae826f1a0af95d55dd6039127828f0f9",
            "parents": [
                "9706fe4f60b2573521466791dd9f7f4e8e620abf"
            ],
            "ref": "refs/changes/69/40369/3",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1612732791,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "config.h.in",
                    "type": "ADDED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "http/http_connection.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "include/cors_preflight.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "include/security_headers.hpp",
                    "type": "MODIFIED",
                    "insertions": 38,
                    "deletions": -36
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -4
                },
                {
                    "file": "src/webserver_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 62,
            "sizeDeletions": 45
        },
        {
            "number": 4,
            "revision": "d713a1efe6eff68690da5cad097c2f7f9c5b1adf",
            "parents": [
                "9706fe4f60b2573521466791dd9f7f4e8e620abf"
            ],
            "ref": "refs/changes/69/40369/4",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1612733902,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "config.h.in",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "http/http_connection.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "include/cors_preflight.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "include/security_headers.hpp",
                    "type": "MODIFIED",
                    "insertions": 38,
                    "deletions": -36
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -4
                },
                {
                    "file": "src/webserver_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 65,
            "sizeDeletions": 47
        },
        {
            "number": 5,
            "revision": "035bec780cc3daf641cd0a14e790adf72120ecba",
            "parents": [
                "9706fe4f60b2573521466791dd9f7f4e8e620abf"
            ],
            "ref": "refs/changes/69/40369/5",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1612895746,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "config.h.in",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "http/http_connection.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "include/cors_preflight.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "include/security_headers.hpp",
                    "type": "MODIFIED",
                    "insertions": 38,
                    "deletions": -36
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -4
                },
                {
                    "file": "src/webserver_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 65,
            "sizeDeletions": 47
        },
        {
            "number": 6,
            "revision": "369b9efee33da563a487519d116e839606a70e2b",
            "parents": [
                "9706fe4f60b2573521466791dd9f7f4e8e620abf"
            ],
            "ref": "refs/changes/69/40369/6",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1612896545,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "config.h.in",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "http/http_connection.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "include/cors_preflight.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "include/security_headers.hpp",
                    "type": "MODIFIED",
                    "insertions": 38,
                    "deletions": -36
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -4
                },
                {
                    "file": "src/webserver_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 65,
            "sizeDeletions": 47
        },
        {
            "number": 7,
            "revision": "42dc1527155f30f208b611eb6270623c940fc73d",
            "parents": [
                "9706fe4f60b2573521466791dd9f7f4e8e620abf"
            ],
            "ref": "refs/changes/69/40369/7",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1612897172,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "config.h.in",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "http/http_connection.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "include/cors_preflight.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "include/security_headers.hpp",
                    "type": "MODIFIED",
                    "insertions": 38,
                    "deletions": -36
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -4
                },
                {
                    "file": "src/webserver_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 65,
            "sizeDeletions": 47
        },
        {
            "number": 8,
            "revision": "2c1f2b08a07088edfad89939f19282e418fbacd8",
            "parents": [
                "2b3da45876aac57a36d3093379a992d699e7e396"
            ],
            "ref": "refs/changes/69/40369/8",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1613082477,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "config.h.in",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "http/http_connection.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "include/cors_preflight.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "include/security_headers.hpp",
                    "type": "MODIFIED",
                    "insertions": 38,
                    "deletions": -36
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -4
                },
                {
                    "file": "src/webserver_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 65,
            "sizeDeletions": 47
        },
        {
            "number": 9,
            "revision": "490721ca46590e822e0c93f4a858c5836ea2e88d",
            "parents": [
                "ae6595ef5349a290bd36d5da967190aa4a461355"
            ],
            "ref": "refs/changes/69/40369/9",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1613157519,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 43,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "signed-off ?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 43,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "config.h.in",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "http/http_connection.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "include/cors_preflight.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "include/security_headers.hpp",
                    "type": "MODIFIED",
                    "insertions": 38,
                    "deletions": -36
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -4
                },
                {
                    "file": "src/webserver_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 65,
            "sizeDeletions": 47
        },
        {
            "number": 10,
            "revision": "3f3b78070f7fc9a8815f409d1a00db3b570cfa59",
            "parents": [
                "071d8fdf75e78f189cf4d670854eb9a22f5e484c"
            ],
            "ref": "refs/changes/69/40369/10",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1613582604,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "spelling"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 26,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "spelling"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 26,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "spelling"
                },
                {
                    "file": "config.h.in",
                    "line": 0,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "I am good with this approach. A comment here about why we did this, this way, might help someone in the future"
                },
                {
                    "file": "config.h.in",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I' m not quite following.  What would the comment say that can't be seen in the file?"
                },
                {
                    "file": "config.h.in",
                    "line": 0,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "I guess what I am suggesting is a repeat of some of the commit msg here: \nE.g \nUse a config.h file and a constexpr variable rather than a #define so both the code paths will compile regardless of whether or not they're used.\nHave had a lot of issues of one-off build options breaking.\n\nI am good with this, just a suggestion. \nYes, I know the developer (might be me) could go dig through the blame/git commit history but not always takes just 5 seconds (e.g. the next commmit moves this file and in 2 years when there has been 20 changes to this file)"
                },
                {
                    "file": "config.h.in",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I guess some of the issue I have with that is that these are self describing if you understand c++, and including info about how branching works is kinda like teaching c++ in a C++ file.  If we're documenting everything we didn't do because it was a bad idea, 80% of the code would be comments.\n\n\nI don't think we should be in the business of describing the different between an #ifdef and an if statement in a comment.  We could certainly document that every option going forward should be using if() unlesss there's a good reason not to, but that would go in the developing guide, and I don't want to make this policy until I get a little seat time with this one option to make sure there aren't any gotchas over some time."
                },
                {
                    "file": "config.h.in",
                    "line": 0,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Gunnar, do you mean to add a comment to this file that says the constexpr values are intended to be provided by the meson build system as described in https://github.com/openbmc/bmcweb#configuration?"
                },
                {
                    "file": "config.h.in",
                    "line": 0,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "I am good with no comment. I guess I would like to see more comments in bmcweb. Things are getting better with better commit msgs but I personally still look at the code sometimes and be like \"why was that done\" and there is very little explanation. Anyway I am good here, you explained why a comment doesn't belong."
                },
                {
                    "file": "config.h.in",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Fair point, we should be documenting the things that are non-standard when there's a good reason to.  Happy to see more comments, just not in this spot, and so long as they're non-obvious.  I really want to avoid comments like\n\n// Move the thing into str\nstd::string str = std::move(thing);\n\nI'm sure we can find a better balance though.  If anyone is going through code and finds something weird that deserves a comment, I'm happy to take patches to add them."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 45,
                    "deletions": 0
                },
                {
                    "file": "config.h.in",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "http/http_connection.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "include/cors_preflight.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "include/security_headers.hpp",
                    "type": "MODIFIED",
                    "insertions": 38,
                    "deletions": -36
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -4
                },
                {
                    "file": "src/webserver_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 65,
            "sizeDeletions": 47
        },
        {
            "number": 11,
            "revision": "0260d9d6b252d5fef81a51d4797e27a6893827f4",
            "parents": [
                "71f52d96b51bda2a2f00374237f368e980396692"
            ],
            "ref": "refs/changes/69/40369/11",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1613767224,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 45,
                    "deletions": 0
                },
                {
                    "file": "config.h.in",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "http/http_connection.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "include/cors_preflight.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "include/security_headers.hpp",
                    "type": "MODIFIED",
                    "insertions": 38,
                    "deletions": -36
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -4
                },
                {
                    "file": "src/webserver_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 65,
            "sizeDeletions": 47
        }
    ]
}