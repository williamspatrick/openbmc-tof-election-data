{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "I528293e55b1f3401bc2bb09c11c63ae985fbfedb",
    "number": 41536,
    "subject": "EventService: Log events for subscription actions",
    "owner": {
        "email": "smriti.ayushi@linux.intel.com",
        "username": "Smriti-Ayushi"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/41536",
    "commitMessage": "EventService: Log events for subscription actions\n\nLog redfish event for below 3 actions\n - Add new subscription\n - Update existing subscription properties\n - Delete existing subscription\nin order to notify the subscribed clients on the subscription related\ninformation.\n\nTested:\n - Performed all the above actions and verified the redfish events are\n   logged.\n\nChange-Id: I528293e55b1f3401bc2bb09c11c63ae985fbfedb\nSigned-off-by: AppaRao Puli <apparao.puli@linux.intel.com>\nSigned-off-by: Ayushi Smriti <smriti.ayushi@linux.intel.com>\n",
    "createdOn": 1616569467,
    "lastUpdated": 1618199907,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1616569467,
            "reviewer": {
                "email": "smriti.ayushi@linux.intel.com",
                "username": "Smriti-Ayushi"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1616569488,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1616569573,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/14284/ : FAILURE"
        },
        {
            "timestamp": 1616569822,
            "reviewer": {
                "email": "smriti.ayushi@linux.intel.com",
                "username": "Smriti-Ayushi"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1616569838,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1616570505,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/14285/ : SUCCESS"
        },
        {
            "timestamp": 1617102373,
            "reviewer": {
                "email": "smriti.ayushi@linux.intel.com",
                "username": "Smriti-Ayushi"
            },
            "message": "Patch Set 3: Commit message was updated."
        },
        {
            "timestamp": 1617136548,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1617163350,
            "reviewer": {
                "name": "AppaRao Puli",
                "email": "apparao.puli@linux.intel.com",
                "username": "apuli1"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1617256639,
            "reviewer": {
                "email": "smriti.ayushi@linux.intel.com",
                "username": "Smriti-Ayushi"
            },
            "message": "Description \"Edit commit message\" removed from patch set 3"
        },
        {
            "timestamp": 1617256845,
            "reviewer": {
                "email": "smriti.ayushi@linux.intel.com",
                "username": "Smriti-Ayushi"
            },
            "message": "Patch Set 3:\n\n@Gunnar Mills and @Ed Taneous.\nPlease review. Waiting for you comments/+2 on this.\nThanks"
        },
        {
            "timestamp": 1617405493,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(3 comments)"
        },
        {
            "timestamp": 1617405608,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\nPatchset itself looks reasonable.  Message registry versioning is going to be a problem, and the commit message needs some work and details added."
        },
        {
            "timestamp": 1617779707,
            "reviewer": {
                "email": "smriti.ayushi@linux.intel.com",
                "username": "Smriti-Ayushi"
            },
            "message": "Patch Set 3:\n\n(3 comments)"
        },
        {
            "timestamp": 1617779711,
            "reviewer": {
                "email": "smriti.ayushi@linux.intel.com",
                "username": "Smriti-Ayushi"
            },
            "message": "Patch Set 4: Commit message was updated."
        },
        {
            "timestamp": 1617779786,
            "reviewer": {
                "email": "smriti.ayushi@linux.intel.com",
                "username": "Smriti-Ayushi"
            },
            "message": "Patch Set 4:\n\n> Patch Set 3:\n> \n> Patchset itself looks reasonable.  Message registry versioning is going to be a problem, and the commit message needs some work and details added.\n\nUpdated the commit message and added details. Please review."
        },
        {
            "timestamp": 1617916034,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1618194962,
            "reviewer": {
                "name": "AppaRao Puli",
                "email": "apparao.puli@linux.intel.com",
                "username": "apuli1"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1618199907,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "c7d044c8df2b9eba754fa5a0a9a17ef215fb3e73",
            "parents": [
                "8f7e9c194f36a84f4e49ad142110f4f3d0f312be"
            ],
            "ref": "refs/changes/36/41536/1",
            "uploader": {
                "email": "smriti.ayushi@linux.intel.com",
                "username": "Smriti-Ayushi"
            },
            "createdOn": 1616569467,
            "author": {
                "email": "smriti.ayushi@linux.intel.com",
                "username": "Smriti-Ayushi"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": -4
                },
                {
                    "file": "redfish-core/include/registries/openbmc_message_registry.hpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 69,
            "sizeDeletions": 6
        },
        {
            "number": 2,
            "revision": "932801188789c7805a9a83dc18f3245ef83a2ccb",
            "parents": [
                "8f7e9c194f36a84f4e49ad142110f4f3d0f312be"
            ],
            "ref": "refs/changes/36/41536/2",
            "uploader": {
                "email": "smriti.ayushi@linux.intel.com",
                "username": "Smriti-Ayushi"
            },
            "createdOn": 1616569822,
            "author": {
                "email": "smriti.ayushi@linux.intel.com",
                "username": "Smriti-Ayushi"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": -4
                },
                {
                    "file": "redfish-core/include/registries/openbmc_message_registry.hpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 69,
            "sizeDeletions": 6
        },
        {
            "number": 3,
            "revision": "a26fd094974b9a4c298579173bde5e48a8c0541e",
            "parents": [
                "8f7e9c194f36a84f4e49ad142110f4f3d0f312be"
            ],
            "ref": "refs/changes/36/41536/3",
            "uploader": {
                "email": "smriti.ayushi@linux.intel.com",
                "username": "Smriti-Ayushi"
            },
            "createdOn": 1617102373,
            "author": {
                "email": "smriti.ayushi@linux.intel.com",
                "username": "Smriti-Ayushi"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Why is this important?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "email": "smriti.ayushi@linux.intel.com",
                        "username": "Smriti-Ayushi"
                    },
                    "message": "So that subscribed client can be notified of the subscription related changes."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 17,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please wrap your text properly.  50/72"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 17,
                    "reviewer": {
                        "email": "smriti.ayushi@linux.intel.com",
                        "username": "Smriti-Ayushi"
                    },
                    "message": "Done."
                },
                {
                    "file": "redfish-core/include/registries/openbmc_message_registry.hpp",
                    "line": 29,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Version needs bumped, which gets into a whole other can of worms that we'll need to sort through.  Jason Bills has more details."
                },
                {
                    "file": "redfish-core/include/registries/openbmc_message_registry.hpp",
                    "line": 29,
                    "reviewer": {
                        "email": "smriti.ayushi@linux.intel.com",
                        "username": "Smriti-Ayushi"
                    },
                    "message": "Okay Ed. \nMessage registry version change is out of scope of this commit. Can check with Jason on the details and take care of this as part of another commit."
                },
                {
                    "file": "redfish-core/include/registries/openbmc_message_registry.hpp",
                    "line": 29,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> Okay Ed. \n> Message registry version change is out of scope of this commit. Can check with Jason on the details and take care of this as part of another commit.\n\nCool, let me know when that commit is in the series."
                },
                {
                    "file": "redfish-core/include/registries/openbmc_message_registry.hpp",
                    "line": 29,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "Ed, I see it as separate line item which should be fixed irrespective of this patch. Can that be take as separate commit without blocking this?"
                },
                {
                    "file": "redfish-core/include/registries/openbmc_message_registry.hpp",
                    "line": 29,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Feel free to take that up with DMTF if you don't like that they require the version number to be reved any time when the registry changes, and you'd like to see the spec changed in that regard.  Because we've now had a formal OpenBMC release since this registry was created, this version will need to be incremented when we change this registry.\n\nUnless I'm missing something, I'm reading your request as \"Is it ok to merge code that disobeys the Redfish spec in this case?\" to which the answer would be no, we need to solve the version problem first, or get DMTF to drop the requirements around the versioning rules.\n\nIf you think this still obeys the letter of the specification in this regard, happy to talk about getting this merged, but as written, I don't believe it does, which make this patchset a non-starter."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": -4
                },
                {
                    "file": "redfish-core/include/registries/openbmc_message_registry.hpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 69,
            "sizeDeletions": 6
        },
        {
            "number": 4,
            "revision": "42723133fdb26712788e85ed53b1e21ec955b092",
            "parents": [
                "8f7e9c194f36a84f4e49ad142110f4f3d0f312be"
            ],
            "ref": "refs/changes/36/41536/4",
            "uploader": {
                "email": "smriti.ayushi@linux.intel.com",
                "username": "Smriti-Ayushi"
            },
            "createdOn": 1617779711,
            "author": {
                "email": "smriti.ayushi@linux.intel.com",
                "username": "Smriti-Ayushi"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": -4
                },
                {
                    "file": "redfish-core/include/registries/openbmc_message_registry.hpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 69,
            "sizeDeletions": 6
        }
    ]
}