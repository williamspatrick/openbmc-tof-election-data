{
    "project": "openbmc/openbmc",
    "branch": "master",
    "id": "Iba4ac164a7a39ca1be109301402911d432294997",
    "number": 43995,
    "subject": "meta-quanta: gbs: Modified pid sensor type from margin to temp",
    "owner": {
        "name": "George Hung",
        "email": "george.hung@quantatw.com",
        "username": "georgehung1210"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/openbmc/+/43995",
    "commitMessage": "meta-quanta: gbs: Modified pid sensor type from margin to temp\n\n- Remove read-margin-temp files and codes\n- Modified sensor type in pid json to temp\n    setpoint set to target temp\n    Kp set to Kp * scalar\n    Ki set to Ki * scalar\n- Pre-detect nvme present status in fan-table-init.sh,\n  and delete settings if nvme present is false.\n\nSigned-off-by: George Hung <george.hung@quantatw.com>\nChange-Id: Iba4ac164a7a39ca1be109301402911d432294997\n",
    "createdOn": 1623389740,
    "lastUpdated": 1623975025,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1623389740,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1623389778,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1623389788,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/4596/"
        },
        {
            "timestamp": 1623391687,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/4596/ : SUCCESS"
        },
        {
            "timestamp": 1623392964,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 1:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1623776215,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 1:\n\nAdding Ed for review as well"
        },
        {
            "timestamp": 1623890947,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1623891013,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1623891023,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/4682/"
        },
        {
            "timestamp": 1623891888,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/4682/ : SUCCESS"
        },
        {
            "timestamp": 1623893121,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1623907465,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(1 comment)\n\nHas this been tested? Adding Josh who may be interested since I know he was also using Quanta's read-margin-temp daemon."
        },
        {
            "timestamp": 1623908402,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1623908443,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1623908449,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/4688/"
        },
        {
            "timestamp": 1623909524,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/4688/ : SUCCESS"
        },
        {
            "timestamp": 1623910831,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 3:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1623912493,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Patch Set 3:\n\n(1 comment)\n\n> Patch Set 2: Code-Review+1\n> \n> (1 comment)\n> \n> Has this been tested? Adding Josh who may be interested since I know he was also using Quanta's read-margin-temp daemon.\n\nYes, we provided the test FW to our thermal team and the test result is OK."
        },
        {
            "timestamp": 1623917571,
            "reviewer": {
                "name": "Josh Lehan",
                "email": "krellan@google.com",
                "username": "Krellan"
            },
            "message": "Patch Set 3: Code-Review+1\n\nI'm unfamiliar with this hardware, but the change looks good to me. If your hardware is reporting these sensors as raw temperature (not margin), then it's correct to read them as temperature, not margin.\n\nThe phosphor-pid-control program can manage a PID loop of temperature, provided all of the input sensors are raw temperature (not margin), so in this case, it looks OK, as long as you don't have any margin sensors elsewhere that are also needed for the same PID loop."
        },
        {
            "timestamp": 1623947905,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 3: Code-Review+2"
        },
        {
            "timestamp": 1623975025,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Change has been successfully rebased and submitted as bf078825d137b0e1a1ec02ddd4e6d08670a6783c by George Hung"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "07e7ffbe6e3bbb51c474caf6a4ed568c9260738a",
            "parents": [
                "2bb4f12fba0d1faa1184a9d787b32cdfdbbd8992"
            ],
            "ref": "refs/changes/95/43995/1",
            "uploader": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "createdOn": 1623389740,
            "author": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/fans/phosphor-pid-control/config.json.in",
                    "type": "MODIFIED",
                    "insertions": 581,
                    "deletions": -31
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/fans/phosphor-pid-control/fan-table-init.sh",
                    "type": "MODIFIED",
                    "insertions": 55,
                    "deletions": -4
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-quanta/fans/read-margin-temp/config-margin.json.in",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -408
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-quanta/fans/read-margin-temp/read-margin-temp-wait.sh",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -70
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-quanta/fans/read-margin-temp_%.bbappend",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -17
                }
            ],
            "sizeInsertions": 636,
            "sizeDeletions": 530
        },
        {
            "number": 2,
            "revision": "fd87bc8f2c117218bf6e731a40edb9fdd54b1c5f",
            "parents": [
                "2bb4f12fba0d1faa1184a9d787b32cdfdbbd8992"
            ],
            "ref": "refs/changes/95/43995/2",
            "uploader": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "createdOn": 1623890947,
            "author": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/fans/phosphor-pid-control/fan-table-init.sh",
                    "line": 22,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Is this used anywhere?"
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/fans/phosphor-pid-control/fan-table-init.sh",
                    "line": 22,
                    "reviewer": {
                        "name": "George Hung",
                        "email": "george.hung@quantatw.com",
                        "username": "georgehung1210"
                    },
                    "message": "Sorry, I forgot to remove and now I'm done to remove it."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/fans/phosphor-pid-control/config.json.in",
                    "type": "MODIFIED",
                    "insertions": 581,
                    "deletions": -31
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/fans/phosphor-pid-control/fan-table-init.sh",
                    "type": "MODIFIED",
                    "insertions": 66,
                    "deletions": -4
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-quanta/fans/read-margin-temp/config-margin.json.in",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -408
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-quanta/fans/read-margin-temp/read-margin-temp-wait.sh",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -70
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-quanta/fans/read-margin-temp_%.bbappend",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -17
                }
            ],
            "sizeInsertions": 647,
            "sizeDeletions": 530
        },
        {
            "number": 3,
            "revision": "76093197961f7a0696ccebd0bd8421a2c16ae1bc",
            "parents": [
                "2bb4f12fba0d1faa1184a9d787b32cdfdbbd8992"
            ],
            "ref": "refs/changes/95/43995/3",
            "uploader": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "createdOn": 1623908402,
            "author": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/fans/phosphor-pid-control/config.json.in",
                    "type": "MODIFIED",
                    "insertions": 581,
                    "deletions": -31
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/fans/phosphor-pid-control/fan-table-init.sh",
                    "type": "MODIFIED",
                    "insertions": 65,
                    "deletions": -4
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-quanta/fans/read-margin-temp/config-margin.json.in",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -408
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-quanta/fans/read-margin-temp/read-margin-temp-wait.sh",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -70
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-quanta/fans/read-margin-temp_%.bbappend",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -17
                }
            ],
            "sizeInsertions": 646,
            "sizeDeletions": 530
        },
        {
            "number": 4,
            "revision": "bf078825d137b0e1a1ec02ddd4e6d08670a6783c",
            "parents": [
                "1d28a2c8c1feb3e776d7c2ced3d4dc92652754ca"
            ],
            "ref": "refs/changes/95/43995/4",
            "uploader": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "createdOn": 1623975025,
            "author": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/fans/phosphor-pid-control/config.json.in",
                    "type": "MODIFIED",
                    "insertions": 581,
                    "deletions": -31
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/fans/phosphor-pid-control/fan-table-init.sh",
                    "type": "MODIFIED",
                    "insertions": 65,
                    "deletions": -4
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-quanta/fans/read-margin-temp/config-margin.json.in",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -408
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-quanta/fans/read-margin-temp/read-margin-temp-wait.sh",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -70
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-quanta/fans/read-margin-temp_%.bbappend",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -17
                }
            ],
            "sizeInsertions": 646,
            "sizeDeletions": 530
        }
    ]
}