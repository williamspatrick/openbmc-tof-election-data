{
    "project": "openbmc/openbmc",
    "branch": "master",
    "id": "Ib7fca16217d93b7d021ba8fb6659e9ddca17d1d9",
    "number": 42810,
    "subject": "phosphor-power: Only build monitor when told to",
    "owner": {
        "name": "Matt Spinler",
        "email": "spinler@us.ibm.com",
        "username": "spinler"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/openbmc/+/42810",
    "commitMessage": "phosphor-power: Only build monitor when told to\n\nThe 'monitor' package provides a power supply monitor application that\nuses an org.open_power phosphor-dbus-interface that is only used\non a subset of the OpenPower systems.\n\nSo that non OpenPower systems can use phosphor-power and not need to\ninclude the org.open_power D-Bus interfaces, add a packageconfig option\nfor this application to turn off its compilation.  It will then only be\nenabled for certain machines.\n\nFixes openbmc/phosphor-power#6\n\nTested:\nBuilt Witherspoon, application still built and installed.\nBuilt Rainier, application not built.\n\nSigned-off-by: Matt Spinler <spinler@us.ibm.com>\nChange-Id: Ib7fca16217d93b7d021ba8fb6659e9ddca17d1d9\n",
    "createdOn": 1619800081,
    "lastUpdated": 1620834599,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1619800081,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1619800112,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1619800210,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 2: Commit message was updated."
        },
        {
            "timestamp": 1619800500,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1619803037,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/3606/"
        },
        {
            "timestamp": 1619803755,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/3606/ : SUCCESS"
        },
        {
            "timestamp": 1619804492,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 3: Commit message was updated."
        },
        {
            "timestamp": 1619804509,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1619804653,
            "reviewer": {
                "name": "Bruce Mitchell",
                "email": "bruce.mitchell@linux.vnet.ibm.com",
                "username": "BMC-Bruce"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1619804987,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 1:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1619806132,
            "reviewer": {
                "name": "B. J. Wyman",
                "email": "bjwyman@gmail.com",
                "username": "bjwyman"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1619806195,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Patch Set 3: Code-Review+1\n\nThanks Matt."
        },
        {
            "timestamp": 1619807039,
            "reviewer": {
                "name": "B. J. Wyman",
                "email": "bjwyman@gmail.com",
                "username": "bjwyman"
            },
            "message": "Patch Set 3:\n\nAside from those other two platforms, this looks fine to me.\n\nI did note that prior contributors to these two files, not already in the review, have not contributed patches to openbmc since 2020."
        },
        {
            "timestamp": 1619811906,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1619812694,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1619812781,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1619812822,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1619812831,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/3612/"
        },
        {
            "timestamp": 1619812985,
            "reviewer": {
                "name": "Bruce Mitchell",
                "email": "bruce.mitchell@linux.vnet.ibm.com",
                "username": "BMC-Bruce"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1619813793,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1619814115,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/3612/ : FAILURE"
        },
        {
            "timestamp": 1619816731,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1619822080,
            "reviewer": {
                "name": "B. J. Wyman",
                "email": "bjwyman@gmail.com",
                "username": "bjwyman"
            },
            "message": "Patch Set 4: Code-Review+1\n\nThis looks good, although, I fail to understand why Romulus failed CI."
        },
        {
            "timestamp": 1620060802,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 4: Ok-To-Test+1"
        },
        {
            "timestamp": 1620063263,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Verified\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/3638/"
        },
        {
            "timestamp": 1620064619,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/3638/ : SUCCESS"
        },
        {
            "timestamp": 1620065924,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 4:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1620834593,
            "reviewer": {
                "name": "Brad Bishop",
                "email": "bradleyb@fuzziesquirrel.com",
                "username": "bradbishop"
            },
            "message": "Patch Set 4: Code-Review+2"
        },
        {
            "timestamp": 1620834599,
            "reviewer": {
                "name": "Brad Bishop",
                "email": "bradleyb@fuzziesquirrel.com",
                "username": "bradbishop"
            },
            "message": "Change has been successfully rebased and submitted as cb3bd90ac6c9c97c9ef87287b82caa53cbbd8209 by Brad Bishop"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "4f9996cb1b154a94dc080108e7d9aa37909f4200",
            "parents": [
                "0316134a1dd1c88229ee05b19ea33ac2a77c95d5"
            ],
            "ref": "refs/changes/10/42810/1",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1619800081,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "meta-ibm/recipes-phosphor/power/phosphor-power_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/power/phosphor-power_git.bb",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 7,
            "sizeDeletions": 1
        },
        {
            "number": 2,
            "revision": "445da0501ef03efd08c1765663f097ac6c69b6b8",
            "parents": [
                "0316134a1dd1c88229ee05b19ea33ac2a77c95d5"
            ],
            "ref": "refs/changes/10/42810/2",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1619800210,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 21,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Suggest 'Fixes openbmc/phosphor-power#6'"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 21,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "meta-ibm/recipes-phosphor/power/phosphor-power_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/power/phosphor-power_git.bb",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 7,
            "sizeDeletions": 1
        },
        {
            "number": 3,
            "revision": "2cfd7bd75880081b0fd5530da8e2f89795bd50fb",
            "parents": [
                "0316134a1dd1c88229ee05b19ea33ac2a77c95d5"
            ],
            "ref": "refs/changes/10/42810/3",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1619804492,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 22,
                    "reviewer": {
                        "name": "B. J. Wyman",
                        "email": "bjwyman@gmail.com",
                        "username": "bjwyman"
                    },
                    "message": "Assuming this works with Swift as well: https://github.com/openbmc/openbmc/blob/master/meta-ibm/conf/machine/swift.conf\n\nWhat about Mihawk? https://github.com/openbmc/openbmc/blob/master/meta-ibm/conf/machine/mihawk.conf\n\nI do see that CI passed, but neither of those are in the CI runs."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 22,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "i was thinking swift was part of ibm-ac-server but indeed it is not."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 22,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "actually, seems like swift has to be part of ibm-ac-server, though I don't see where that is being added.  I'll add it just to be safe, others can comment if I should remove it."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 25,
                    "deletions": 0
                },
                {
                    "file": "meta-ibm/recipes-phosphor/power/phosphor-power_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/power/phosphor-power_git.bb",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 7,
            "sizeDeletions": 1
        },
        {
            "number": 4,
            "revision": "684dccd714eca4a35bb2d3a648cf83c6b7addcc4",
            "parents": [
                "0316134a1dd1c88229ee05b19ea33ac2a77c95d5"
            ],
            "ref": "refs/changes/10/42810/4",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1619812781,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 25,
                    "deletions": 0
                },
                {
                    "file": "meta-ibm/recipes-phosphor/power/phosphor-power_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/power/phosphor-power_git.bb",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 9,
            "sizeDeletions": 1
        },
        {
            "number": 5,
            "revision": "cb3bd90ac6c9c97c9ef87287b82caa53cbbd8209",
            "parents": [
                "3452153a6e93bab2536c9665b817588ff7b33b8e"
            ],
            "ref": "refs/changes/10/42810/5",
            "uploader": {
                "name": "Brad Bishop",
                "email": "bradleyb@fuzziesquirrel.com",
                "username": "bradbishop"
            },
            "createdOn": 1620834599,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 25,
                    "deletions": 0
                },
                {
                    "file": "meta-ibm/recipes-phosphor/power/phosphor-power_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/power/phosphor-power_git.bb",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 9,
            "sizeDeletions": 1
        }
    ]
}