{
    "project": "openbmc/pldm",
    "branch": "master",
    "id": "Ibc8c77945e872f2bd327ec74fcd41118b5f046ce",
    "number": 41407,
    "subject": "handle response asynchronously",
    "owner": {
        "name": "Sampa Misra",
        "email": "sampmisr@in.ibm.com",
        "username": "sampmisr"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/pldm/+/41407",
    "commitMessage": "handle response asynchronously\n\nthis commit creates the infrastructure in pldmd to align with the\nbase spec DSP0240_1.0.0\nIf a PLDM terminus is working on a request from a requester,then the\nPLDM terminus shall be able to process (or queue up processing)and send\nthe response independently from sending its own request.\n\nthis commit also makes pldmd handle pdrRepoChgEvent response\nfrom host in async manner. this enables pldmd work on other\nrequest msg that may have come from host before responding\nto BMC's pdrRepoChgEvent request\n\ntesting:\n:/tmp# pldmtool bios getdatetime\n{\n    \"Response\": \"2021-03-18 10:31:23\"\n}\n:/tmp#\n\n:/tmp# Received Msg\n08 01 80 03 0c\nprocessRxMsg got REQUEST\nSending Msg\n00 03 0c 00 23 31 10 18 03 21 20\nReceived Msg\n08 01 00 03 0c 00 23 31 10 18 03 21 20\nprocessRxMsg got RESPONSE\ncould not find a handler for the response msg\n\npoweron trace:\nSending Msg:\n80 02 51 34 00 00 00 00 00 00 00 01 ff ff 00 00\nsent msg and got resp for GetPDR\nReceiving Msg:\n00 02 51 00 00 00 00 00 00 00 00 00 05 1b 00 34 00 00 00 01\n04 00 00 11 00 02 00 03 00 43 00 04 00 01 00 00 00 01 0b 00 01 18\nReceived Msg\n09 01 00 02 0a 00 00\nprocessRxMsg got RESPONSE\nenter platformEventMessageResp\nReceived Msg\n09 01 8c 02 51 00 00 00 00 00 00 00 00 01 ff 7f 00 00\nprocessRxMsg got REQUEST\nSending Msg\n0c 02 51 00 02 00 00 00 00 00 00 00 05 14 00 01 00 00 00 01\n14 00 00 0a 00 00 00 01 00 01 2d 01 00 00 00\n\nChange-Id: Ibc8c77945e872f2bd327ec74fcd41118b5f046ce\nSigned-off-by: Sampa Misra <sampmisr@in.ibm.com>\n",
    "createdOn": 1616067135,
    "lastUpdated": 1623648197,
    "open": false,
    "status": "ABANDONED",
    "comments": [
        {
            "timestamp": 1616067135,
            "reviewer": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1616067152,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1616067159,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1328/ (1/2)\n\nppc64le CI Build Started"
        },
        {
            "timestamp": 1616067309,
            "reviewer": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1616067327,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1616067331,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1328/ : ABORTED\n\nhttps://jenkins.openbmc.org/job/ci-repository/13986/ : FAILURE"
        },
        {
            "timestamp": 1616067335,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1329/ (2/2)\n\nppc64le CI Build Started"
        },
        {
            "timestamp": 1616067548,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1329/ : ppc64le CI Build Failed\n\nhttps://jenkins.openbmc.org/job/ci-repository/13987/ : FAILURE"
        },
        {
            "timestamp": 1616137688,
            "reviewer": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1616137702,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1616137711,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1336/ (1/2)\n\nppc64le CI Build Started"
        },
        {
            "timestamp": 1616137876,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1336/ : ppc64le CI Build Failed\n\nhttps://jenkins.openbmc.org/job/ci-repository/14033/ : FAILURE"
        },
        {
            "timestamp": 1617866213,
            "reviewer": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1617866225,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1617866233,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1401/ (2/2)\n\nppc64le CI Build Started"
        },
        {
            "timestamp": 1617867109,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/15039/ : FAILURE\n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1401/ : ppc64le CI Build Failed"
        },
        {
            "timestamp": 1618397773,
            "reviewer": {
                "name": "ManojKiran Eda",
                "email": "manojkiran.eda@gmail.com",
                "username": "manojkiraneda"
            },
            "message": "Patch Set 4:\n\nCode looks okay to me."
        },
        {
            "timestamp": 1618560267,
            "reviewer": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1618560282,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618560288,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1460/ (1/2)\n\nppc64le CI Build Started"
        },
        {
            "timestamp": 1618561263,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/15563/ : FAILURE\n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1460/ : ppc64le CI Build Failed"
        },
        {
            "timestamp": 1618723032,
            "reviewer": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1618723065,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618723075,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1481/ (2/2)\n\nppc64le CI Build Started"
        },
        {
            "timestamp": 1618725306,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/15671/ : SUCCESS\n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1481/ : ppc64le CI Build Successful"
        },
        {
            "timestamp": 1618805449,
            "reviewer": {
                "name": "ManojKiran Eda",
                "email": "manojkiran.eda@gmail.com",
                "username": "manojkiraneda"
            },
            "message": "Patch Set 6: Code-Review+1"
        },
        {
            "timestamp": 1618811465,
            "reviewer": {
                "name": "Pavithra Barithaya",
                "email": "pavithra.b@ibm.com",
                "username": "Pavithrab7"
            },
            "message": "Patch Set 6: Code-Review+1"
        },
        {
            "timestamp": 1618814610,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Patch Set 6:\n\n(6 comments)"
        },
        {
            "timestamp": 1618900316,
            "reviewer": {
                "name": "Pavithra Barithaya",
                "email": "pavithra.b@ibm.com",
                "username": "Pavithrab7"
            },
            "message": "Uploaded patch set 7: New patch set was added with same tree, parent, and commit message as Patch Set 6."
        },
        {
            "timestamp": 1618900331,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1618900340,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618900347,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Verified\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1505/ (2/2)\n\nppc64le CI Build Started"
        },
        {
            "timestamp": 1618902508,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/15782/ : SUCCESS\n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1505/ : ppc64le CI Build Successful"
        },
        {
            "timestamp": 1619076228,
            "reviewer": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "message": "Patch Set 7:\n\n(4 comments)"
        },
        {
            "timestamp": 1620294673,
            "reviewer": {
                "name": "ManojKiran Eda",
                "email": "manojkiran.eda@gmail.com",
                "username": "manojkiraneda"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1620376721,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Patch Set 7:\n\n(2 comments)"
        },
        {
            "timestamp": 1620622540,
            "reviewer": {
                "name": "Tom Joseph",
                "email": "rushtotom@gmail.com",
                "username": "tomjoseph83"
            },
            "message": "Patch Set 7: Code-Review-1\n\n(1 comment)"
        },
        {
            "timestamp": 1620799077,
            "reviewer": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "message": "Patch Set 7:\n\n(2 comments)"
        },
        {
            "timestamp": 1623648197,
            "reviewer": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "message": "Abandoned\n\nthis approach is not taken"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "27ec6b81d0664f76301564296b33b16c4978cf8c",
            "parents": [
                "bcabadac18a072cecce76b0e7038f2978f9025b1"
            ],
            "ref": "refs/changes/07/41407/1",
            "uploader": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "createdOn": 1616067135,
            "author": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 50,
                    "deletions": 0
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -19
                },
                {
                    "file": "libpldmresponder/platform.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "libpldmresponder/platform.hpp",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "pldmd/handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -2
                },
                {
                    "file": "pldmd/invoker.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 65,
            "sizeDeletions": 25
        },
        {
            "number": 2,
            "revision": "9c713453e6ef98ee832c40c27a5de0829839259c",
            "parents": [
                "bcabadac18a072cecce76b0e7038f2978f9025b1"
            ],
            "ref": "refs/changes/07/41407/2",
            "uploader": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "createdOn": 1616067309,
            "author": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 50,
                    "deletions": 0
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -19
                },
                {
                    "file": "libpldmresponder/platform.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "libpldmresponder/platform.hpp",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "pldmd/handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": -2
                },
                {
                    "file": "pldmd/invoker.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 64,
            "sizeDeletions": 25
        },
        {
            "number": 3,
            "revision": "8e1d2f6f833c9a9993502dae5ccc8451f83c20be",
            "parents": [
                "bcabadac18a072cecce76b0e7038f2978f9025b1"
            ],
            "ref": "refs/changes/07/41407/3",
            "uploader": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "createdOn": 1616137688,
            "author": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 50,
                    "deletions": 0
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -19
                },
                {
                    "file": "libpldmresponder/platform.cpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "libpldmresponder/platform.hpp",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "oem/ibm/libpldmresponder/file_io_type_lid.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "pldmd/handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": -2
                },
                {
                    "file": "pldmd/invoker.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 79,
            "sizeDeletions": 25
        },
        {
            "number": 4,
            "revision": "90b86bc15fb44bd9a62799c36d191b6f8b7ef7a6",
            "parents": [
                "e7991b75325dacafd9573d52eb722cfe390b6faf"
            ],
            "ref": "refs/changes/07/41407/4",
            "uploader": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "createdOn": 1617866213,
            "author": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 56,
                    "deletions": 0
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -19
                },
                {
                    "file": "libpldmresponder/platform.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "libpldmresponder/platform.hpp",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "pldmd/handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": -2
                },
                {
                    "file": "pldmd/invoker.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 64,
            "sizeDeletions": 25
        },
        {
            "number": 5,
            "revision": "0a7fabf98bc6a4a06c4464f96e18bddfc2b1a943",
            "parents": [
                "e7991b75325dacafd9573d52eb722cfe390b6faf"
            ],
            "ref": "refs/changes/07/41407/5",
            "uploader": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "createdOn": 1618560267,
            "author": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 56,
                    "deletions": 0
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -19
                },
                {
                    "file": "libpldmresponder/platform.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "libpldmresponder/platform.hpp",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": -1
                },
                {
                    "file": "pldmd/handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": -3
                },
                {
                    "file": "pldmd/invoker.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 65,
            "sizeDeletions": 27
        },
        {
            "number": 6,
            "revision": "8663ef1a3cb3f9ba40e0348d7e43edc65a78a2c5",
            "parents": [
                "b0d15f1fdb518caba397f4ea24a1f33db3bfa502"
            ],
            "ref": "refs/changes/07/41407/6",
            "uploader": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "createdOn": 1618723032,
            "author": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "libpldmresponder/platform.hpp",
                    "line": 255,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "I do not understand why need a return value(Response), it should `void`.\nBecause, it is requester is BMC, and responser is HOST.\nFor this command, it is HOST to BMC, So we do not need to send data to HOST again, Correct?"
                },
                {
                    "file": "libpldmresponder/platform.hpp",
                    "line": 255,
                    "reviewer": {
                        "name": "Sampa Misra",
                        "email": "sampmisr@in.ibm.com",
                        "username": "sampmisr"
                    },
                    "message": "we will not send the data again to Host. the return type is needed by processRxMsg. we send an empty response if we fail to unpack the header as well\nplease refer:\nauto response =\n                        processRxMsg(requestMsg, invoker, dbusImplReq);\n                    if (!response.empty())\n                    {"
                },
                {
                    "file": "pldmd/handler.hpp",
                    "line": 42,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "I think we should separate the two methods, instead of `bool`, like this:\n\nFor Requester Handle:\n```\n Response reqHandle(Command pldmCommand, const pldm_msg* request, size_t reqMsgLen)\n{\n    return reqHandlers.at(pldmCommand)(request, reqMsgLen);\n}\n```\n\nFor Responser Handler:\n```\n void respHandle(Command pldmCommand, const pldm_msg* request, size_t reqMsgLen)\n{\n    return respHandlers.at(pldmCommand)(request, reqMsgLen);\n}\n```"
                },
                {
                    "file": "pldmd/handler.hpp",
                    "line": 66,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Add doxygen"
                },
                {
                    "file": "pldmd/handler.hpp",
                    "line": 66,
                    "reviewer": {
                        "name": "Sampa Misra",
                        "email": "sampmisr@in.ibm.com",
                        "username": "sampmisr"
                    },
                    "message": "yeah added up together"
                },
                {
                    "file": "pldmd/invoker.hpp",
                    "line": 45,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "As above:\n\nFor Requester Handle:\n```\nResponse reqHandle(Type pldmType, Command pldmCommand, const pldm_msg* request,\n                    size_t reqMsgLen, bool isRespMsg)\n{\n    return handlers.at(pldmType)->reqHandle(pldmCommand, request, reqMsgLen,\n                                             isRespMsg);\n}\n```\n\nFor Responser Handler:\n```\nvoid respHandle(Type pldmType, Command pldmCommand, const pldm_msg* request,\n                    size_t reqMsgLen, bool isRespMsg)\n{\n    return handlers.at(pldmType)->respHandle(pldmCommand, request, reqMsgLen,\n                                             isRespMsg);\n}\n```"
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "line": 69,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Add `return response`;"
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "line": 69,
                    "reviewer": {
                        "name": "Sampa Misra",
                        "email": "sampmisr@in.ibm.com",
                        "username": "sampmisr"
                    },
                    "message": "return is present at the end"
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "line": 71,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "nit: I like use `switch case` instead of `if, else if, else if...`"
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "line": 71,
                    "reviewer": {
                        "name": "Sampa Misra",
                        "email": "sampmisr@in.ibm.com",
                        "username": "sampmisr"
                    },
                    "message": "yeah i just followed the existing pattern. i will change to switch-case while addressing next set of comments"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 56,
                    "deletions": 0
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -19
                },
                {
                    "file": "libpldmresponder/platform.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "libpldmresponder/platform.hpp",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": -1
                },
                {
                    "file": "pldmd/handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": -3
                },
                {
                    "file": "pldmd/invoker.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -2
                },
                {
                    "file": "test/pldmd_registration_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 68,
            "sizeDeletions": 30
        },
        {
            "number": 7,
            "revision": "42369781d03547c72919ccaa55b90a5d5eb26e2b",
            "parents": [
                "b0d15f1fdb518caba397f4ea24a1f33db3bfa502"
            ],
            "ref": "refs/changes/07/41407/7",
            "uploader": {
                "name": "Pavithra Barithaya",
                "email": "pavithra.b@ibm.com",
                "username": "Pavithrab7"
            },
            "createdOn": 1618900316,
            "author": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "kind": "NO_CHANGE",
            "comments": [
                {
                    "file": "libpldmresponder/platform.cpp",
                    "line": 297,
                    "reviewer": {
                        "name": "ManojKiran Eda",
                        "email": "manojkiran.eda@gmail.com",
                        "username": "manojkiraneda"
                    },
                    "message": "Sampa, after starting to see more of your changes ,should we make sure we standardize these function names(much like what we did for the encode_foo(), decode_foo()) of request and response ? so that it would be easy for someone to understand the code ?\n\nand i think it's also better to document that in README ?"
                },
                {
                    "file": "libpldmresponder/platform.cpp",
                    "line": 297,
                    "reviewer": {
                        "name": "Sampa Misra",
                        "email": "sampmisr@in.ibm.com",
                        "username": "sampmisr"
                    },
                    "message": "encode_foo(), is followed in libpldm"
                },
                {
                    "file": "pldmd/handler.hpp",
                    "line": 66,
                    "reviewer": {
                        "name": "Tom Joseph",
                        "email": "rushtotom@gmail.com",
                        "username": "tomjoseph83"
                    },
                    "message": "The response handlers of PLDM requests cannot be modelled in the same way as handlers for PLDM responders. This approach inhibits the solution my team wants to provide in the near future.\n\n1) BMC (PLDM requester) wants to do firmware update of PLDM devices in a parallel fashion. So RequestUpdate PLDM command will be in flight for multiple devices. So the responses need more context than the request buffers.\n\n2) PLDM requesters are expected to do retries of the command if there are no responses from the PLDM responder.\n\nI am working on trying to solve the above requirements, will share code that will make PLDM request and response handling asynchronous."
                },
                {
                    "file": "pldmd/handler.hpp",
                    "line": 66,
                    "reviewer": {
                        "name": "Sampa Misra",
                        "email": "sampmisr@in.ibm.com",
                        "username": "sampmisr"
                    },
                    "message": "1)the responses can have more context by adding the instance id so that the response can be matched to the request\n2)this is not really a usecase for us till now. may we should have an option to retry after a timeout?\n\nwe are ok to use a more generic solution but when are you planning to have the code ready? this seems to be an important requirement for us"
                },
                {
                    "file": "pldmd/invoker.hpp",
                    "line": 41,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "TBH, I really do not like using `bool` to distinguish between request and response.\nIt's better way is to encapsulate into a class call.\n\nBut I am Ok if you insist."
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "line": 71,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Line 71 to line 118, I think we can optimize and remove duplicate code"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 56,
                    "deletions": 0
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -19
                },
                {
                    "file": "libpldmresponder/platform.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "libpldmresponder/platform.hpp",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": -1
                },
                {
                    "file": "pldmd/handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": -3
                },
                {
                    "file": "pldmd/invoker.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -2
                },
                {
                    "file": "test/pldmd_registration_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 68,
            "sizeDeletions": 30
        }
    ]
}