{
    "project": "openbmc/entity-manager",
    "branch": "master",
    "id": "Ia731eb4130cb19fad29497a93d075419f8681096",
    "number": 44018,
    "subject": "doc: Design doc for getting Entity Name",
    "owner": {
        "name": "Willy Tu",
        "email": "wltu@google.com",
        "username": "wltu"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/44018",
    "commitMessage": "doc: Design doc for getting Entity Name\n\nAdded a high-level design for getting entity name in EntityManager.\n\nOverview:\n- Have a static mapping from entity id/instance to a name as a json\nconfig.\n- Add EntityName entry to the dbus interface when with the name in the\nmapping.\n\nChange-Id: Ia731eb4130cb19fad29497a93d075419f8681096\nSigned-off-by: Willy Tu <wltu@google.com>\n",
    "hashtags": [
        "entity-name-wltu"
    ],
    "createdOn": 1623441072,
    "lastUpdated": 1627339507,
    "open": false,
    "status": "ABANDONED",
    "comments": [
        {
            "timestamp": 1623441072,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1623441091,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1623441288,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/19528/ : SUCCESS"
        },
        {
            "timestamp": 1623447350,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1623447362,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1623447563,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/19536/ : SUCCESS"
        },
        {
            "timestamp": 1623567917,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Hashtag added: entity-name-wltu"
        },
        {
            "timestamp": 1623570903,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1623570918,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1623571114,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/19579/ : SUCCESS"
        },
        {
            "timestamp": 1623629214,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Uploaded patch set 4: Commit message was updated."
        },
        {
            "timestamp": 1623861535,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1623868467,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1624459350,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 4:\n\n(5 comments)"
        },
        {
            "timestamp": 1624553764,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1624553776,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 5:\n\n(5 comments)"
        },
        {
            "timestamp": 1624553784,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1624553993,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/20626/ : SUCCESS"
        },
        {
            "timestamp": 1624554130,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1627166776,
            "reviewer": {
                "name": "Milton D. Miller II",
                "email": "miltonm@us.ibm.com",
                "username": "mdmillerii"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1627338154,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1627339499,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1627339507,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Abandoned\n\nUse https://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/43958 and https://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/44196 instead"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "07799f93d4652b627cdd2d2c1c361cd4baf389c1",
            "parents": [
                "6d649821da7aa3159bae7139670efc4c27ff6ebb"
            ],
            "ref": "refs/changes/18/44018/1",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1623441072,
            "author": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "docs/FruDeviceEntityName.md",
                    "type": "ADDED",
                    "insertions": 105,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 105,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "215871554388b1dab03ecb9b769bf4deb2ffb125",
            "parents": [
                "6d649821da7aa3159bae7139670efc4c27ff6ebb"
            ],
            "ref": "refs/changes/18/44018/2",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1623447350,
            "author": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "docs/EntityName.md",
                    "type": "ADDED",
                    "insertions": 108,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 108,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "f3356cc81899500c3086d66b3f88277de6e45eef",
            "parents": [
                "6d649821da7aa3159bae7139670efc4c27ff6ebb"
            ],
            "ref": "refs/changes/18/44018/3",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1623570903,
            "author": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "docs/EntityName.md",
                    "type": "ADDED",
                    "insertions": 136,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 136,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "044b8de36d983f088150bf56a99d0a8d38a4315e",
            "parents": [
                "6d649821da7aa3159bae7139670efc4c27ff6ebb"
            ],
            "ref": "refs/changes/18/44018/4",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1623629214,
            "author": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "docs/EntityName.md",
                    "line": 52,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "So 'instance' is the key to the do the lookups with.... Where does that number come from?"
                },
                {
                    "file": "docs/EntityName.md",
                    "line": 52,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "that will be configured in the entity manager json configs. So pretty much use defined.\n\nLike\n```\n\"xyz.openbmc_project.Inventory.Decorator.Ipmi\": {\n        \"EntityId\": \"0x0B\",\n        \"EntityInstance\": \"$BUS\"\n},\n```"
                },
                {
                    "file": "docs/EntityName.md",
                    "line": 52,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "I'd prefer the instance number to be chosen dynamically by entity-manager. That way we can handle variable numbers of entities (e.g., a bifurcated PCIe card[1]) and we could avoid IPMI-specific entries in the entity-manager JSON.\n\n[1] https://www.delock.com/produkt/89835/faq.html"
                },
                {
                    "file": "docs/EntityName.md",
                    "line": 52,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "yeah, I think I will abandon this doc since this is a bit too hardcoded to be able to support all systems.\n\njjy@'s work on https://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/43958 and https://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/44196 will cover this.\n\nIt will get the entity name dynamically."
                },
                {
                    "file": "docs/EntityName.md",
                    "line": 84,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "nit: will"
                },
                {
                    "file": "docs/EntityName.md",
                    "line": 84,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "Done"
                },
                {
                    "file": "docs/EntityName.md",
                    "line": 96,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "nit: method"
                },
                {
                    "file": "docs/EntityName.md",
                    "line": 96,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "Done"
                },
                {
                    "file": "docs/EntityName.md",
                    "line": 97,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "nit: times"
                },
                {
                    "file": "docs/EntityName.md",
                    "line": 97,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "nit: the"
                },
                {
                    "file": "docs/EntityName.md",
                    "line": 97,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "Done"
                },
                {
                    "file": "docs/EntityName.md",
                    "line": 97,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "Done"
                },
                {
                    "file": "docs/EntityName.md",
                    "line": 126,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "The wording makes it sound like a negative thing, do you perhaps mean something like extra feature?"
                },
                {
                    "file": "docs/EntityName.md",
                    "line": 126,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "I guess I was implying  that  there are more processing required from the Entity Manager to get the information.\n\nNot sure if I need to mention that at all. I will change it."
                },
                {
                    "file": "docs/EntityName.md",
                    "line": 126,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Oh I see, if that's the case, I think it is good to note that it is extra processing - I didn't understand that's what you meant. I think it's better to note that it'll take extra processing."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "docs/EntityName.md",
                    "type": "ADDED",
                    "insertions": 136,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 136,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "9971160d9910c107e337fed26e232b6ee03677d0",
            "parents": [
                "6d649821da7aa3159bae7139670efc4c27ff6ebb"
            ],
            "ref": "refs/changes/18/44018/5",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1624553764,
            "author": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "docs/EntityName.md",
                    "line": 1,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "This top level heading doesn't seem related to the rest of the content nor the changelog."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "docs/EntityName.md",
                    "type": "ADDED",
                    "insertions": 136,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 136,
            "sizeDeletions": 0
        }
    ]
}