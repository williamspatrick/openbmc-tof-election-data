{
    "project": "openbmc/pldm",
    "branch": "master",
    "id": "I051a2e697d865274f84b3a4c9c4b8a308e29b12c",
    "number": 41712,
    "subject": "make PDR exchange async",
    "owner": {
        "name": "Sampa Misra",
        "email": "sampmisr@in.ibm.com",
        "username": "sampmisr"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/pldm/+/41712",
    "commitMessage": "make PDR exchange async\n\nThis commit makes GetPDR command requested by BMC\nto work in async manner. BMC sends the request and\ndoes not block on waiting for the response.that enables\nhost to send some other request instead of sending response\nto BMC's GetPDR request first\n\nChange-Id: I051a2e697d865274f84b3a4c9c4b8a308e29b12c\nSigned-off-by: Sampa Misra <sampmisr@in.ibm.com>\n",
    "createdOn": 1617088690,
    "lastUpdated": 1623648212,
    "open": false,
    "status": "ABANDONED",
    "comments": [
        {
            "timestamp": 1617088690,
            "reviewer": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1617088701,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1617088711,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1354/ (1/2)\n\nppc64le CI Build Started"
        },
        {
            "timestamp": 1617088727,
            "reviewer": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "message": "Set Work In Progress"
        },
        {
            "timestamp": 1617089110,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1354/ : ppc64le CI Build Failed\n\nhttps://jenkins.openbmc.org/job/ci-repository/14542/ : FAILURE"
        },
        {
            "timestamp": 1617808805,
            "reviewer": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "message": "Patch Set 1:\n\nThis change is ready for review."
        },
        {
            "timestamp": 1617866213,
            "reviewer": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1617866225,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1617866233,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1400/ (2/2)\n\nppc64le CI Build Started"
        },
        {
            "timestamp": 1617867126,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/15038/ : FAILURE\n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1400/ : ppc64le CI Build Failed"
        },
        {
            "timestamp": 1618560267,
            "reviewer": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1618560290,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618560297,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1462/ (1/2)\n\nppc64le CI Build Started"
        },
        {
            "timestamp": 1618561304,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/15565/ : FAILURE\n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1462/ : ppc64le CI Build Failed"
        },
        {
            "timestamp": 1618723190,
            "reviewer": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "message": "Uploaded patch set 4: Patch Set 3 was rebased."
        },
        {
            "timestamp": 1618723206,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618723213,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1482/ (2/2)\n\nppc64le CI Build Started"
        },
        {
            "timestamp": 1618725296,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/15672/ : SUCCESS\n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1482/ : ppc64le CI Build Successful"
        },
        {
            "timestamp": 1618900316,
            "reviewer": {
                "name": "Pavithra Barithaya",
                "email": "pavithra.b@ibm.com",
                "username": "Pavithrab7"
            },
            "message": "Uploaded patch set 5: New patch set was added with same tree, parent, and commit message as Patch Set 4."
        },
        {
            "timestamp": 1618900326,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1618900335,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618900341,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Verified\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1504/ (2/2)\n\nppc64le CI Build Started"
        },
        {
            "timestamp": 1618902461,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/15781/ : SUCCESS\n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-repository-ppc64le/1504/ : ppc64le CI Build Successful"
        },
        {
            "timestamp": 1620465503,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Patch Set 5:\n\n(9 comments)"
        },
        {
            "timestamp": 1623648212,
            "reviewer": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "message": "Abandoned\n\nthis approach is not taken"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "28159dd41ec0b316140575e713facf7a7574cd31",
            "parents": [
                "8e1d2f6f833c9a9993502dae5ccc8451f83c20be"
            ],
            "ref": "refs/changes/12/41712/1",
            "uploader": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "createdOn": 1617088690,
            "author": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 50,
                    "deletions": -22
                },
                {
                    "file": "host-bmc/host_pdr_handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -3
                },
                {
                    "file": "libpldmresponder/platform.cpp",
                    "type": "MODIFIED",
                    "insertions": 143,
                    "deletions": 0
                },
                {
                    "file": "libpldmresponder/platform.hpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -2
                },
                {
                    "file": "oem/ibm/libpldmresponder/file_io_by_type.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "oem/ibm/libpldmresponder/file_io_type_lid.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 227,
            "sizeDeletions": 28
        },
        {
            "number": 2,
            "revision": "be2e2294476bf70b4298473c5cffff34e5241f2d",
            "parents": [
                "90b86bc15fb44bd9a62799c36d191b6f8b7ef7a6"
            ],
            "ref": "refs/changes/12/41712/2",
            "uploader": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "createdOn": 1617866213,
            "author": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 35,
                    "deletions": -132
                },
                {
                    "file": "host-bmc/host_pdr_handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -9
                },
                {
                    "file": "libpldmresponder/platform.cpp",
                    "type": "MODIFIED",
                    "insertions": 128,
                    "deletions": 0
                },
                {
                    "file": "libpldmresponder/platform.hpp",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -2
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 209,
            "sizeDeletions": 144
        },
        {
            "number": 3,
            "revision": "bb0dcfe4a8e42e4fef939a4067e84c8e5760d419",
            "parents": [
                "0a7fabf98bc6a4a06c4464f96e18bddfc2b1a943"
            ],
            "ref": "refs/changes/12/41712/3",
            "uploader": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "createdOn": 1618560267,
            "author": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -132
                },
                {
                    "file": "host-bmc/host_pdr_handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": -9
                },
                {
                    "file": "libpldmresponder/platform.cpp",
                    "type": "MODIFIED",
                    "insertions": 127,
                    "deletions": 0
                },
                {
                    "file": "libpldmresponder/platform.hpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -2
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 211,
            "sizeDeletions": 144
        },
        {
            "number": 4,
            "revision": "e6adf87c32943574b6af77077b2e0cb91d4f6e2f",
            "parents": [
                "8663ef1a3cb3f9ba40e0348d7e43edc65a78a2c5"
            ],
            "ref": "refs/changes/12/41712/4",
            "uploader": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "createdOn": 1618723190,
            "author": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -132
                },
                {
                    "file": "host-bmc/host_pdr_handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": -9
                },
                {
                    "file": "libpldmresponder/platform.cpp",
                    "type": "MODIFIED",
                    "insertions": 127,
                    "deletions": 0
                },
                {
                    "file": "libpldmresponder/platform.hpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -2
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 211,
            "sizeDeletions": 144
        },
        {
            "number": 5,
            "revision": "6dda402f8ec3c79383d6fefa77087193456706c1",
            "parents": [
                "42369781d03547c72919ccaa55b90a5d5eb26e2b"
            ],
            "ref": "refs/changes/12/41712/5",
            "uploader": {
                "name": "Pavithra Barithaya",
                "email": "pavithra.b@ibm.com",
                "username": "Pavithrab7"
            },
            "createdOn": 1618900316,
            "author": {
                "name": "Sampa Misra",
                "email": "sampmisr@in.ibm.com",
                "username": "sampmisr"
            },
            "kind": "NO_CHANGE",
            "comments": [
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "line": 123,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "If pdrRecordHandles is empty, do we get pdr with recordHandle=0, or return directly?\n\nI think we can return directly."
                },
                {
                    "file": "host-bmc/host_pdr_handler.hpp",
                    "line": 143,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "the next record"
                },
                {
                    "file": "libpldmresponder/platform.cpp",
                    "line": 156,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Here, I would rather define `std::vector<uint8_t> pdr(UINT16_MAX);` than call the `decode_get_pdr_resp` method twice."
                },
                {
                    "file": "libpldmresponder/platform.cpp",
                    "line": 216,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "I think this logic is incorrect.\nWhy do not call the `_processFetchPDREvent` method if `nextRecordHandle` == 0?\nAt this time, perhaps `pdrRecordHandles` != empty\nSo I think we can check if pdrRecordHandles is empty."
                },
                {
                    "file": "libpldmresponder/platform.cpp",
                    "line": 258,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "We call this method after the `pdrRecordHandles` equal empty?"
                },
                {
                    "file": "libpldmresponder/platform.cpp",
                    "line": 264,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Do we need to send getPDR command again if `pdrRecordHandles` equal empty?"
                },
                {
                    "file": "libpldmresponder/platform.hpp",
                    "line": 226,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Remove?"
                },
                {
                    "file": "libpldmresponder/platform.hpp",
                    "line": 474,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Add param"
                },
                {
                    "file": "libpldmresponder/platform.hpp",
                    "line": 477,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Add param"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "host-bmc/host_pdr_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -132
                },
                {
                    "file": "host-bmc/host_pdr_handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": -9
                },
                {
                    "file": "libpldmresponder/platform.cpp",
                    "type": "MODIFIED",
                    "insertions": 127,
                    "deletions": 0
                },
                {
                    "file": "libpldmresponder/platform.hpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -2
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 211,
            "sizeDeletions": 144
        }
    ]
}