{
    "project": "openbmc/google-misc",
    "branch": "master",
    "id": "I9762244b7d15a03fe1102fd12f807bc0dfbce3bf",
    "number": 47415,
    "subject": "flashupdate: Implement injectPersistent command",
    "owner": {
        "name": "Willy Tu",
        "email": "wltu@google.com",
        "username": "wltu"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/google-misc/+/47415",
    "commitMessage": "flashupdate: Implement injectPersistent command\n\nRead the persistent regions of the input image and inject those regions\nfrom the primary flash onto the firmware. The persistent regions are\nfetched from CR51 after the firmware is validated.\n\nChange-Id: I9762244b7d15a03fe1102fd12f807bc0dfbce3bf\nSigned-off-by: Willy Tu <wltu@google.com>\n",
    "hashtags": [
        "flashupdate-wltu"
    ],
    "createdOn": 1633113318,
    "lastUpdated": 1634246520,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1633113318,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1633113341,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633113465,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Hashtag added: flashupdate-wltu"
        },
        {
            "timestamp": 1633113648,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/27308/ : FAILURE"
        },
        {
            "timestamp": 1633391018,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 1: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1633564504,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 2: Patch Set 1 was rebased"
        },
        {
            "timestamp": 1633564511,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633564681,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/27671/ : FAILURE"
        },
        {
            "timestamp": 1633577263,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1633577273,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633577627,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/27684/ : FAILURE"
        },
        {
            "timestamp": 1633624614,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1633624642,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633624667,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/27739/ : FAILURE"
        },
        {
            "timestamp": 1633625015,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 5: Patch Set 4 was rebased"
        },
        {
            "timestamp": 1633625023,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633625052,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/27748/ : FAILURE"
        },
        {
            "timestamp": 1633633459,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 5: Code-Review+2"
        },
        {
            "timestamp": 1633638848,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 6: Patch Set 5 was rebased"
        },
        {
            "timestamp": 1633638856,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633639139,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/27774/ : SUCCESS"
        },
        {
            "timestamp": 1634246520,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Set Work In Progress"
        }
    ],
    "wip": true,
    "patchSets": [
        {
            "number": 1,
            "revision": "5d74308b2d6436e101f0b46ec8e63ce6f7cc2b02",
            "parents": [
                "2ac41beab15d6829b6aad6148cab4b26a1c83d85"
            ],
            "ref": "refs/changes/15/47415/1",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1633113318,
            "author": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "subprojects/flashupdate/src/ops.cpp",
                    "line": 148,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "nit: size_t?"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "subprojects/flashupdate/src/ops.cpp",
                    "type": "MODIFIED",
                    "insertions": 42,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 42,
            "sizeDeletions": 2
        },
        {
            "number": 2,
            "revision": "b3845eb717353a34054a1e8e79669c774335bb81",
            "parents": [
                "ef964e984a1df0e399434e368dca1c8d2a57a091"
            ],
            "ref": "refs/changes/15/47415/2",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1633564504,
            "author": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "subprojects/flashupdate/src/ops.cpp",
                    "type": "MODIFIED",
                    "insertions": 42,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 42,
            "sizeDeletions": 2
        },
        {
            "number": 3,
            "revision": "78f6a227137f41316e3bbe490b8cacd20cc5ec27",
            "parents": [
                "691dd7941b009ab94d8358c7ecb251f4c80f3f68"
            ],
            "ref": "refs/changes/15/47415/3",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1633577263,
            "author": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "subprojects/flashupdate/include/flashupdate/flash.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -2
                },
                {
                    "file": "subprojects/flashupdate/include/flashupdate/flash/mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -2
                },
                {
                    "file": "subprojects/flashupdate/internal/flashupdate/args.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "subprojects/flashupdate/src/args.cpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -1
                },
                {
                    "file": "subprojects/flashupdate/src/ops.cpp",
                    "type": "MODIFIED",
                    "insertions": 49,
                    "deletions": -2
                },
                {
                    "file": "subprojects/flashupdate/test/flash.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "subprojects/flashupdate/test/ops.cpp",
                    "type": "MODIFIED",
                    "insertions": 135,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 215,
            "sizeDeletions": 9
        },
        {
            "number": 4,
            "revision": "3e5be2292477ab38ad977c00106a81d74b2ea533",
            "parents": [
                "0449b02209aa64bec5c107ebf78ad6d6644a9719"
            ],
            "ref": "refs/changes/15/47415/4",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1633624614,
            "author": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "subprojects/flashupdate/internal/flashupdate/args.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "subprojects/flashupdate/src/args.cpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "subprojects/flashupdate/src/ops.cpp",
                    "type": "MODIFIED",
                    "insertions": 49,
                    "deletions": -2
                },
                {
                    "file": "subprojects/flashupdate/test/ops.cpp",
                    "type": "MODIFIED",
                    "insertions": 136,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 201,
            "sizeDeletions": 2
        },
        {
            "number": 5,
            "revision": "b178ad8de5cab78609c189ab1fb3b5e0d8b9542e",
            "parents": [
                "765db747832d053806a68b800a88bbdd735928b7"
            ],
            "ref": "refs/changes/15/47415/5",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1633625015,
            "author": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "subprojects/flashupdate/internal/flashupdate/args.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "subprojects/flashupdate/src/args.cpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "subprojects/flashupdate/src/ops.cpp",
                    "type": "MODIFIED",
                    "insertions": 49,
                    "deletions": -2
                },
                {
                    "file": "subprojects/flashupdate/test/ops.cpp",
                    "type": "MODIFIED",
                    "insertions": 124,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 189,
            "sizeDeletions": 2
        },
        {
            "number": 6,
            "revision": "1125680052e58072b6b7869fbb4c317b3ad5aed3",
            "parents": [
                "cc1bd3a4bb9d40b3a97f93234057c5ab755f3cb4"
            ],
            "ref": "refs/changes/15/47415/6",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1633638848,
            "author": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "subprojects/flashupdate/internal/flashupdate/args.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "subprojects/flashupdate/src/args.cpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "subprojects/flashupdate/src/ops.cpp",
                    "type": "MODIFIED",
                    "insertions": 49,
                    "deletions": -2
                },
                {
                    "file": "subprojects/flashupdate/test/ops.cpp",
                    "type": "MODIFIED",
                    "insertions": 124,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 189,
            "sizeDeletions": 2
        }
    ]
}