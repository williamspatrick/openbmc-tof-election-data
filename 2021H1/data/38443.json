{
    "project": "openbmc/phosphor-ipmi-flash",
    "branch": "master",
    "id": "I5cd93ad01a329850a8ee516fae8a35339c991ae0",
    "number": 38443,
    "subject": "json builder: fix error with buildHandlerConfigs",
    "owner": {
        "name": "Jason Ling",
        "email": "jasonling@google.com",
        "username": "jclaz"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-ipmi-flash/+/38443",
    "commitMessage": "json builder: fix error with buildHandlerConfigs\n\nProblem: mistakenly defined the implementation of buildHandlerConfigs in\na separate cpp file. This breaks calling buildHandlerConfigs from a\nderived class.\n\nSolution: move implementation of buildHandlerConfigs into the header.\n\nunit tests added:\nfirmware_json_unittest.cpp * add a test to parse json from file\n                           * add a test to parse an invalid json file\n\nSigned-off-by: Jason Ling <jasonling@google.com>\nChange-Id: I5cd93ad01a329850a8ee516fae8a35339c991ae0\n",
    "hashtags": [
        "tag1"
    ],
    "createdOn": 1605837743,
    "lastUpdated": 1613789569,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1605837743,
            "reviewer": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1605837755,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1605837805,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/8192/ : FAILURE"
        },
        {
            "timestamp": 1605837867,
            "reviewer": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "message": "Uploaded patch set 2: Patch Set 1 was rebased."
        },
        {
            "timestamp": 1605837883,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1605837964,
            "reviewer": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "message": "Patch Set 2:\n\nFixed broken code; added unit test to catch the breaking case."
        },
        {
            "timestamp": 1605838175,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/8193/ : FAILURE"
        },
        {
            "timestamp": 1605840236,
            "reviewer": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1605840249,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1605840526,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/8194/ : FAILURE"
        },
        {
            "timestamp": 1605840601,
            "reviewer": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1605840618,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1605840820,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/8195/ : FAILURE"
        },
        {
            "timestamp": 1605925814,
            "reviewer": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "message": "Patch Set 4:\n\nlooks like CI is still broken. Passed make check locally though."
        },
        {
            "timestamp": 1606179875,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 4: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1606180431,
            "reviewer": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1606180930,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 4: Code-Review+2\n\n(1 comment)"
        },
        {
            "timestamp": 1606241278,
            "reviewer": {
                "name": "Patrick Venture",
                "email": "venture@google.com",
                "username": "pstrinkle"
            },
            "message": "Patch Set 4: Ok-To-Test+1"
        },
        {
            "timestamp": 1606241397,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/8487/ : FAILURE"
        },
        {
            "timestamp": 1606359319,
            "reviewer": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "message": "Uploaded patch set 5: Commit message was updated."
        },
        {
            "timestamp": 1606765219,
            "reviewer": {
                "name": "Patrick Venture",
                "email": "venture@google.com",
                "username": "pstrinkle"
            },
            "message": "Patch Set 6: Patch Set 5 was rebased"
        },
        {
            "timestamp": 1606765222,
            "reviewer": {
                "name": "Patrick Venture",
                "email": "venture@google.com",
                "username": "pstrinkle"
            },
            "message": "Patch Set 6: Verified+1"
        },
        {
            "timestamp": 1606765235,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1606765686,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/8759/ : SUCCESS"
        },
        {
            "timestamp": 1606765713,
            "reviewer": {
                "name": "Patrick Venture",
                "email": "venture@google.com",
                "username": "pstrinkle"
            },
            "message": "Patch Set 7: Patch Set 6 was rebased"
        },
        {
            "timestamp": 1606765716,
            "reviewer": {
                "name": "Patrick Venture",
                "email": "venture@google.com",
                "username": "pstrinkle"
            },
            "message": "Patch Set 7: Verified+1"
        },
        {
            "timestamp": 1606765719,
            "reviewer": {
                "name": "Patrick Venture",
                "email": "venture@google.com",
                "username": "pstrinkle"
            },
            "message": "Change has been successfully merged by Patrick Venture"
        },
        {
            "timestamp": 1606765728,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1606766180,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/8763/ : SUCCESS"
        },
        {
            "timestamp": 1613789569,
            "reviewer": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "message": "Hashtag added: tag1"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "003b575ca6fc7247e361682a5e1af634ba8e51ec",
            "parents": [
                "9f943babf86ac9aac0cc37bf1e34c29db8aa3dcb"
            ],
            "ref": "refs/changes/43/38443/1",
            "uploader": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "createdOn": 1605837743,
            "author": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "bmc/buildjson.cpp",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -31
                },
                {
                    "file": "bmc/buildjson.hpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -1
                },
                {
                    "file": "bmc/firmware-handler/test/firmware_json_unittest.cpp",
                    "type": "MODIFIED",
                    "insertions": 59,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 95,
            "sizeDeletions": 33
        },
        {
            "number": 2,
            "revision": "61a28dd4062b4fc50b5942e53072d2e3fcaa2d2a",
            "parents": [
                "85e54f1bf6867cb53723be1196da28225b6525d3"
            ],
            "ref": "refs/changes/43/38443/2",
            "uploader": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "createdOn": 1605837867,
            "author": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "bmc/buildjson.cpp",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -31
                },
                {
                    "file": "bmc/buildjson.hpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -1
                },
                {
                    "file": "bmc/firmware-handler/test/firmware_json_unittest.cpp",
                    "type": "MODIFIED",
                    "insertions": 59,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 95,
            "sizeDeletions": 33
        },
        {
            "number": 3,
            "revision": "5cb66519f195ec52611860231b33b35f4a032798",
            "parents": [
                "85e54f1bf6867cb53723be1196da28225b6525d3"
            ],
            "ref": "refs/changes/43/38443/3",
            "uploader": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "createdOn": 1605840236,
            "author": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "bmc/buildjson.cpp",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -31
                },
                {
                    "file": "bmc/buildjson.hpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -1
                },
                {
                    "file": "bmc/firmware-handler/test/firmware_json_unittest.cpp",
                    "type": "MODIFIED",
                    "insertions": 59,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 95,
            "sizeDeletions": 33
        },
        {
            "number": 4,
            "revision": "1132b17cbb5837badf00f74e8f18e41bb932eb00",
            "parents": [
                "85e54f1bf6867cb53723be1196da28225b6525d3"
            ],
            "ref": "refs/changes/43/38443/4",
            "uploader": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "createdOn": 1605840601,
            "author": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 13,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Hmm, I was not aware that this would cause issues - I guess you're making it so you're not depending on buildjson library in your derived class?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 13,
                    "reviewer": {
                        "name": "Jason Ling",
                        "email": "jasonling@google.com",
                        "username": "jclaz"
                    },
                    "message": "Yup, pretty much. It's a header only library now.\nbuildjson.cpp now just contains the helper functions to build TriggerableActions from the json \"action\" stanzas."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 13,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Got it."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "bmc/buildjson.cpp",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -31
                },
                {
                    "file": "bmc/buildjson.hpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -1
                },
                {
                    "file": "bmc/firmware-handler/test/firmware_json_unittest.cpp",
                    "type": "MODIFIED",
                    "insertions": 57,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 93,
            "sizeDeletions": 33
        },
        {
            "number": 5,
            "revision": "ffa50bcb2e6bcc23f152f42aab11772578639bcf",
            "parents": [
                "85e54f1bf6867cb53723be1196da28225b6525d3"
            ],
            "ref": "refs/changes/43/38443/5",
            "uploader": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "createdOn": 1606359319,
            "author": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "bmc/buildjson.cpp",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -31
                },
                {
                    "file": "bmc/buildjson.hpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -1
                },
                {
                    "file": "bmc/firmware-handler/test/firmware_json_unittest.cpp",
                    "type": "MODIFIED",
                    "insertions": 57,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 93,
            "sizeDeletions": 33
        },
        {
            "number": 6,
            "revision": "cf8fcc5c7725ac2567f7efd9cf76705e78c6aa89",
            "parents": [
                "7c229a4e9c79eeac1ad351a12ed0b9629118fa01"
            ],
            "ref": "refs/changes/43/38443/6",
            "uploader": {
                "name": "Patrick Venture",
                "email": "venture@google.com",
                "username": "pstrinkle"
            },
            "createdOn": 1606765219,
            "author": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "bmc/buildjson.cpp",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -31
                },
                {
                    "file": "bmc/buildjson.hpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -1
                },
                {
                    "file": "bmc/firmware-handler/test/firmware_json_unittest.cpp",
                    "type": "MODIFIED",
                    "insertions": 57,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 93,
            "sizeDeletions": 33
        },
        {
            "number": 7,
            "revision": "e82d73952c3f412d2f2c4a9ed8f40a7f14f38e3a",
            "parents": [
                "85e54f1bf6867cb53723be1196da28225b6525d3"
            ],
            "ref": "refs/changes/43/38443/7",
            "uploader": {
                "name": "Patrick Venture",
                "email": "venture@google.com",
                "username": "pstrinkle"
            },
            "createdOn": 1606765713,
            "author": {
                "name": "Jason Ling",
                "email": "jasonling@google.com",
                "username": "jclaz"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "bmc/buildjson.cpp",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -31
                },
                {
                    "file": "bmc/buildjson.hpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -1
                },
                {
                    "file": "bmc/firmware-handler/test/firmware_json_unittest.cpp",
                    "type": "MODIFIED",
                    "insertions": 57,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 93,
            "sizeDeletions": 33
        }
    ]
}