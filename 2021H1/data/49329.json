{
    "project": "openbmc/phosphor-certificate-manager",
    "branch": "master",
    "id": "Ib9700b5a3bb437ccc157a2d060067b8e2b777981",
    "number": 49329,
    "subject": "build: add meson support",
    "owner": {
        "name": "Patrick Williams",
        "email": "patrick@stwcx.xyz",
        "username": "williamspatrick"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-certificate-manager/+/49329",
    "commitMessage": "build: add meson support\n\nPort the existing autotools build system to meson, add meson wrap files\nfor all openbmc dependencies, and add appropriate meson rules to\ngitignore.\n\nTested:\n\nVerified executables all build, test cases pass, and executables\ninstall.  Checked configuration files are all installed into the same\nlocations as a Yocto-built autotools version of the package.  Manually\nchecked the symlinks for the systemd service files.\n\n```\n$ DESTDIR=/tmp/certificate_test ninja install\n$ find /tmp/certificate_test/lib /tmp/certificate_test/usr/local/share/phosphor-certificate-manager/\n/tmp/certificate_test/lib\n/tmp/certificate_test/lib/systemd\n/tmp/certificate_test/lib/systemd/system\n/tmp/certificate_test/lib/systemd/system/multi-user.target.wants\n/tmp/certificate_test/lib/systemd/system/multi-user.target.wants/phosphor-certificate-manager@authority.service\n/tmp/certificate_test/lib/systemd/system/multi-user.target.wants/phosphor-certificate-manager@bmcweb.service\n/tmp/certificate_test/lib/systemd/system/bmc-vmi-ca-manager.service\n/tmp/certificate_test/lib/systemd/system/phosphor-certificate-manager@.service\n/tmp/certificate_test/usr/local/share/phosphor-certificate-manager/\n/tmp/certificate_test/usr/local/share/phosphor-certificate-manager/authority\n/tmp/certificate_test/usr/local/share/phosphor-certificate-manager/bmcweb\n$ ls -n /tmp/certificate_test/lib/systemd/system/multi-user.target.wants\ntotal 0\nlrwxrwxrwx 1 1000 1000 40 Dec  3 15:37 phosphor-certificate-manager@authority.service -> ../phosphor-certificate-manager@.service\nlrwxrwxrwx 1 1000 1000 40 Dec  3 15:37 phosphor-certificate-manager@bmcweb.service -> ../phosphor-certificate-manager@.service\n```\n\nSigned-off-by: Patrick Williams <patrick@stwcx.xyz>\nChange-Id: Ib9700b5a3bb437ccc157a2d060067b8e2b777981\n",
    "createdOn": 1638568007,
    "lastUpdated": 1639247690,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1638568007,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1638568029,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638568062,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/31225/ : FAILURE"
        },
        {
            "timestamp": 1638568368,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1638568384,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638568417,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/31231/ : FAILURE"
        },
        {
            "timestamp": 1638568576,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1638568589,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638568620,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/31232/ : FAILURE"
        },
        {
            "timestamp": 1638569107,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Uploaded patch set 4: Patch Set 3 was rebased."
        },
        {
            "timestamp": 1638569120,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638569472,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/31236/ : FAILURE"
        },
        {
            "timestamp": 1638569776,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 4:\n\nLatest Jenkins run seems to indicate some kind of ubsan detection:\n\n2/2 test_certs_manager           FAIL            56.84s   exit status 1\n>>> MALLOC_PERTURB_=129 /data0/jenkins/workspace/ci-repository/openbmc/phosphor-certificate-manager/build/test/test-certs-manager\n\nWill check it out."
        },
        {
            "timestamp": 1638572869,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 4:\n\n> Patch Set 4:\n> \n> Latest Jenkins run seems to indicate some kind of ubsan detection:\n> \n> 2/2 test_certs_manager           FAIL            56.84s   exit status 1\n> >>> MALLOC_PERTURB_=129 /data0/jenkins/workspace/ci-repository/openbmc/phosphor-certificate-manager/build/test/test-certs-manager\n> \n> Will check it out.\n\nI can't figure out anything more than it appears as if it is a leak inside SSL.\n\n```\nIndirect leak of 2 byte(s) in 1 object(s) allocated from:\n    #0 0x7f311acdcd37 in __interceptor_malloc (/usr/lib/gcc/x86_64-pc-linux-gnu/11.2.1/libasan.so.6+0xb5d37)\n    #1 0x7f3113b8247a in ASN1_STRING_set (/usr/lib64/libcrypto.so.1.1+0x8f47a)\n    #2 0x7f3113b79f6f  (/usr/lib64/libcrypto.so.1.1+0x86f6f)\n    #3 0x7f3113b8a354  (/usr/lib64/libcrypto.so.1.1+0x97354)\n    #4 0x7f3113b8b04c  (/usr/lib64/libcrypto.so.1.1+0x9804c)\n    #5 0x7f3113b8b5a5  (/usr/lib64/libcrypto.so.1.1+0x985a5)\n    #6 0x7f3113b8b7d1  (/usr/lib64/libcrypto.so.1.1+0x987d1)\n    #7 0x7f3113b8ae2f  (/usr/lib64/libcrypto.so.1.1+0x97e2f)\n    #8 0x7f3113b8b5a5  (/usr/lib64/libcrypto.so.1.1+0x985a5)\n    #9 0x7f3113b8ae2f  (/usr/lib64/libcrypto.so.1.1+0x97e2f)\n    #10 0x7f3113b8b97d in ASN1_item_ex_d2i (/usr/lib64/libcrypto.so.1.1+0x9897d)\n    #11 0x7f3113b8b9fa in ASN1_item_d2i (/usr/lib64/libcrypto.so.1.1+0x989fa)\n    #12 0x7f3113c73ca0 in PEM_X509_INFO_read_bio (/usr/lib64/libcrypto.so.1.1+0x180ca0)\n    #13 0x7f3113cd7a5a in X509_load_cert_crl_file (/usr/lib64/libcrypto.so.1.1+0x1e4a5a)\n    #14 0x7f3113cd7bb9  (/usr/lib64/libcrypto.so.1.1+0x1e4bb9)\n    #15 0x559c340c6080 in phosphor::certs::Certificate::install(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&) ../certificate.cpp:280\n    #16 0x559c340d571e in phosphor::certs::Certificate::Certificate(sdbusplus::bus::bus&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::unique_ptr<phosphor::certs::Watch, std::default_delete<phosphor::certs::Watch> > const&, phosphor::certs::Manager&) ../certificate.cpp:199\n    #17 0x559c3414414f in std::_MakeUniq<phosphor::certs::Certificate>::__single_object std::make_unique<phosphor::certs::Certificate, sdbusplus::bus::bus&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::unique_ptr<phosphor::certs::Watch, std::default_delete<phosphor::certs::Watch> >&, phosphor::certs::Manager&>(sdbusplus::bus::bus&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::unique_ptr<phosphor::certs::Watch, std::default_delete<phosphor::certs::Watch> >&, phosphor::certs::Manager&) /usr/lib/gcc/x86_64-pc-linux-gnu/11.2.1/include/g++-v11/bits/unique_ptr.h:962\n    #18 0x559c3414414f in phosphor::certs::Manager::install(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >) ../certs_manager.cpp:168\n    #19 0x559c34062f79 in MainApp::install(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >&) ../test/certs_manager_test.cpp:154\n    #20 0x559c33fa426e in TestCertificates_InvokeServerInstall_Test::TestBody() ../test/certs_manager_test.cpp:204\n    #21 0x7f3113ebd056 in void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) (/usr/lib64/libgtest.so.1.10.0+0x51056)\n    #22 0x7f3113eb1c55 in testing::Test::Run() (/usr/lib64/libgtest.so.1.10.0+0x45c55)\n    #23 0x7f3113eb1dc4 in testing::TestInfo::Run() (/usr/lib64/libgtest.so.1.10.0+0x45dc4)\n    #24 0x7f3113eb2351 in testing::TestSuite::Run() (/usr/lib64/libgtest.so.1.10.0+0x46351)\n    #25 0x7f3113eb29eb in testing::internal::UnitTestImpl::RunAllTests() (/usr/lib64/libgtest.so.1.10.0+0x469eb)\n    #26 0x7f3113ebd646 in bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) (/usr/lib64/libgtest.so.1.10.0+0x51646)\n    #27 0x7f3113eb1e87 in testing::UnitTest::Run() (/usr/lib64/libgtest.so.1.10.0+0x45e87)\n    #28 0x7f3113ed70df in main (/usr/lib64/libgtest_main.so.1.10.0+0x10df)\n    #29 0x7f3112cd27fc in __libc_start_main (/lib64/libc.so.6+0x237fc)\n```"
        },
        {
            "timestamp": 1638653108,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4: Code-Review+1\n\n(2 comments)\n\nLGTM.  Is there a recipe patch for this as well?"
        },
        {
            "timestamp": 1638654042,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 4:\n\n(2 comments)\n\n> LGTM.  Is there a recipe patch for this as well?\n\nI haven't done that yet, but will do once this is ready for merge.\n\nStill hung up on a memory leak exposed in openssl for the time being."
        },
        {
            "timestamp": 1638654409,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1638704865,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1638708431,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Uploaded patch set 5: Patch Set 4 was rebased."
        },
        {
            "timestamp": 1638708446,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638709021,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31266/ : SUCCESS"
        },
        {
            "timestamp": 1638709030,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Uploaded patch set 6: Patch Set 5 was rebased."
        },
        {
            "timestamp": 1638709046,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638709542,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 6:\n\nAlso, made the necessary recipe changes:\n\nremote:   https://gerrit.openbmc-project.xyz/c/openbmc/openbmc/+/49358 phosphor-certificate-manager: switch to meson [NEW]"
        },
        {
            "timestamp": 1638709620,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31268/ : SUCCESS"
        },
        {
            "timestamp": 1638722637,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 6: Code-Review-1\n\nThere seems to be some kind of issue with the recipe.  Hold off on merging this until I investigate further.\n\n```\nDec 05 13:53:28 romulus systemd[1]: Failed to start Phosphor certificate manager for authority.\nDec 05 13:53:28 romulus systemd[1]: Failed to start Phosphor certificate manager for bmcweb.\nDec 05 13:53:28 romulus systemd[1]: Failed to start Phosphor certificate manager for nslcd.' should be empty.\n```"
        },
        {
            "timestamp": 1638738311,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1638738333,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638738476,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1638738940,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31269/ : SUCCESS"
        },
        {
            "timestamp": 1638966907,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 7:\n\nThis is also ready for review.  I pointed to the openbmc/openbmc commit that is ready to go with the support (and passes build)."
        },
        {
            "timestamp": 1638991530,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 7: Code-Review+1\n\nLGTM"
        },
        {
            "timestamp": 1639040211,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 7:\n\n(1 comment)\n\nPatrick,\n\nAssuming you will remove autoconf related build files after this file is merged.\n\nconfigure.ac\nMakefile.am\n\ngiving +1 expecting another patch"
        },
        {
            "timestamp": 1639040222,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 7: Code-Review+1"
        },
        {
            "timestamp": 1639040469,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1639040519,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1639043425,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 7: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1639060863,
            "reviewer": {
                "name": "Brad Bishop",
                "email": "bradleyb@fuzziesquirrel.com",
                "username": "bradbishop"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1639060996,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 7:\n\n(2 comments)"
        },
        {
            "timestamp": 1639148606,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Uploaded patch set 8: Patch Set 7 was rebased."
        },
        {
            "timestamp": 1639148619,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639149266,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31754/ : SUCCESS"
        },
        {
            "timestamp": 1639193182,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 8: Code-Review+2"
        },
        {
            "timestamp": 1639247690,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Change has been successfully merged by Patrick Williams"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "6690b5159991316b266bd8592cc182b253adc5dc",
            "parents": [
                "7e2797ee0a595cb0f3d044c1b58b8ed4f3f56f99"
            ],
            "ref": "refs/changes/29/49329/1",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1638568007,
            "author": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": ".gitignore",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "bmc-vmi-ca/meson.build",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "dist/meson.build",
                    "type": "ADDED",
                    "insertions": 67,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "ADDED",
                    "insertions": 94,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "subprojects/phosphor-dbus-interfaces.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/phosphor-logging.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/sdbusplus.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/sdeventplus.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "test/meson.build",
                    "type": "ADDED",
                    "insertions": 52,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 280,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "a1cc7ac0292efea24d5e059c3b09ad14248a7c87",
            "parents": [
                "7e2797ee0a595cb0f3d044c1b58b8ed4f3f56f99"
            ],
            "ref": "refs/changes/29/49329/2",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1638568368,
            "author": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": ".gitignore",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "bmc-vmi-ca/meson.build",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "config.h.meson",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "dist/meson.build",
                    "type": "ADDED",
                    "insertions": 67,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "ADDED",
                    "insertions": 94,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "subprojects/phosphor-dbus-interfaces.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/phosphor-logging.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/sdbusplus.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/sdeventplus.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "test/meson.build",
                    "type": "ADDED",
                    "insertions": 52,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 299,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "722fc8d77b6812509adc85e4772d3aac40e7b54b",
            "parents": [
                "7e2797ee0a595cb0f3d044c1b58b8ed4f3f56f99"
            ],
            "ref": "refs/changes/29/49329/3",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1638568576,
            "author": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": ".gitignore",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "bmc-vmi-ca/meson.build",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "config.h.meson",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "dist/meson.build",
                    "type": "ADDED",
                    "insertions": 67,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "ADDED",
                    "insertions": 94,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "subprojects/phosphor-dbus-interfaces.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/phosphor-logging.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/sdbusplus.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/sdeventplus.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "test/meson.build",
                    "type": "ADDED",
                    "insertions": 51,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 298,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "d03d6ac584778b1a2381c62fe8c505ac2afa3ad2",
            "parents": [
                "13eba41aaba1e704afe63db23e287518c1ae6dff"
            ],
            "ref": "refs/changes/29/49329/4",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1638569107,
            "author": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "config.h.meson",
                    "line": 20,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "not your problem, but we should really inline everything in this file, with the possibly exception of the last one.  Considering this stuff ends up hardcoded other places anyway, making it configurable does us no good."
                },
                {
                    "file": "config.h.meson",
                    "line": 20,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Right.  That's why I got rid of the configuration and switched to this to start with.  That way it maintains autotools compatibility in the short term and once we rip out autotools we can replace them at the origin."
                },
                {
                    "file": "dist/meson.build",
                    "line": 66,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Is this the right way to do this?  bmcweb just copies into systemd_system_unit_dir, which I think we copied from somewhere else."
                },
                {
                    "file": "dist/meson.build",
                    "line": 66,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This was what was already being done by the autotools code.  Essentially it is installing the services into the `multi-user.target`."
                },
                {
                    "file": "dist/meson.build",
                    "line": 66,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Yeah, I see that, but for some reason I thought the recipe did that for you when you declared a systemd target file.  Which way is \"right\"?"
                },
                {
                    "file": "dist/meson.build",
                    "line": 66,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "We should probably have that discussion with Brad (outside this review).  He's been telling people to move all service files into the repositories and outside of recipes.\n\nI don't know that there is a \"right\" or \"wrong\" way, specifically on the target symlinks, because on a normal linux distribution packages typically rely on the system admin to do the \"systemctl enable\".  For OpenBMC we don't have a system admin who can do the enable like that, so we need to do it as part of the install step.\n\nMy opinion is that leaving the enable to the distribution (openbmc/openbmc) is probably more appropriate and normal therefore, but you end up with this separation of concerns that I think Brad was trying to avoid (I'm not sure I fully grasp his rationale)."
                },
                {
                    "file": "dist/meson.build",
                    "line": 66,
                    "reviewer": {
                        "name": "Brad Bishop",
                        "email": "bradleyb@fuzziesquirrel.com",
                        "username": "bradbishop"
                    },
                    "message": "> My opinion is that leaving the enable to the distribution (openbmc/openbmc) is probably more appropriate and normal\n\nI agree.\n\nSo why is it like this?  FWIW I do vaguely remember asking for something like this to be done years ago.  I have a vague recollection that, in a moment of weakness, I was frustrated with endless systemd unit file related patch submissions and sought relief by asking that all the systemd unit file complexity be managed in-repo, where I wouldn't have to be bothered with it.  My bad \ud83d\ude2c"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": ".gitignore",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "bmc-vmi-ca/meson.build",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "config.h.meson",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "dist/meson.build",
                    "type": "ADDED",
                    "insertions": 67,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "ADDED",
                    "insertions": 94,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "subprojects/phosphor-dbus-interfaces.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/phosphor-logging.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/sdbusplus.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/sdeventplus.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "test/meson.build",
                    "type": "ADDED",
                    "insertions": 51,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 298,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "63206ac20a65251b382b85f1012460305fbb67dc",
            "parents": [
                "4d11848d23f6a5ff008677bc6448c795dc2a4027"
            ],
            "ref": "refs/changes/29/49329/5",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1638708431,
            "author": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": ".gitignore",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "bmc-vmi-ca/meson.build",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "config.h.meson",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "dist/meson.build",
                    "type": "ADDED",
                    "insertions": 67,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "ADDED",
                    "insertions": 94,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "subprojects/phosphor-dbus-interfaces.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/phosphor-logging.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/sdbusplus.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/sdeventplus.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "test/meson.build",
                    "type": "ADDED",
                    "insertions": 51,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 298,
            "sizeDeletions": 0
        },
        {
            "number": 6,
            "revision": "8781205c3b08d288c3af7e2061a51b5fadb30dd8",
            "parents": [
                "83e6eab0f088f742528e0860e8105340eb9dfb46"
            ],
            "ref": "refs/changes/29/49329/6",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1638709030,
            "author": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "meson.build",
                    "line": 79,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I had spelled 'certificate' wrong here and that was causing the QEMU failure in Romulus."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": ".gitignore",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "bmc-vmi-ca/meson.build",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "config.h.meson",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "dist/meson.build",
                    "type": "ADDED",
                    "insertions": 67,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "ADDED",
                    "insertions": 94,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "subprojects/phosphor-dbus-interfaces.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/phosphor-logging.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/sdbusplus.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/sdeventplus.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "test/meson.build",
                    "type": "ADDED",
                    "insertions": 51,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 298,
            "sizeDeletions": 0
        },
        {
            "number": 7,
            "revision": "b70a4eeea3f7349bae6a6e69df0885a2fcf99825",
            "parents": [
                "83e6eab0f088f742528e0860e8105340eb9dfb46"
            ],
            "ref": "refs/changes/29/49329/7",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1638738311,
            "author": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": ".gitignore",
                    "line": 28,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "some of these and others might not be generated if we use meson build do we need to add them here?"
                },
                {
                    "file": ".gitignore",
                    "line": 28,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "probably we need to push another commit to clear these files."
                },
                {
                    "file": ".gitignore",
                    "line": 28,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "Usually ,after comoplete meson migration remove automake support"
                },
                {
                    "file": ".gitignore",
                    "line": 28,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Right.  There will be another commit after this code is merged and the recipe is merged to remove all the autotools support.  I'm doing it in two stages to avoid co-dependency between the bump and recipe changes."
                },
                {
                    "file": "bmc-vmi-ca/meson.build",
                    "line": 13,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "what is the advantage of creating a library when the original code just created binary? do not see any reuse case?"
                },
                {
                    "file": "bmc-vmi-ca/meson.build",
                    "line": 13,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "The test cases also use this code.  Putting into a static library reduces the number of times the code needs to be compiled therefore."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": ".gitignore",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "bmc-vmi-ca/meson.build",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "config.h.meson",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "dist/meson.build",
                    "type": "ADDED",
                    "insertions": 67,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "ADDED",
                    "insertions": 94,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "subprojects/phosphor-dbus-interfaces.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/phosphor-logging.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/sdbusplus.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/sdeventplus.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "test/meson.build",
                    "type": "ADDED",
                    "insertions": 51,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 298,
            "sizeDeletions": 0
        },
        {
            "number": 8,
            "revision": "bb939ea45d53b2dbb7ab6b03856f023f82beecd5",
            "parents": [
                "63540131ac2c2e9fa97f948c1d7a11de589e268b"
            ],
            "ref": "refs/changes/29/49329/8",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1639148606,
            "author": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": ".gitignore",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "bmc-vmi-ca/meson.build",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "config.h.meson",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "dist/meson.build",
                    "type": "ADDED",
                    "insertions": 67,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "ADDED",
                    "insertions": 94,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "subprojects/phosphor-dbus-interfaces.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/phosphor-logging.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/sdbusplus.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "subprojects/sdeventplus.wrap",
                    "type": "ADDED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "test/meson.build",
                    "type": "ADDED",
                    "insertions": 51,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 298,
            "sizeDeletions": 0
        }
    ]
}