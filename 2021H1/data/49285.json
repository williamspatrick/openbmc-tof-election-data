{
    "project": "openbmc/phosphor-fan-presence",
    "branch": "master",
    "id": "I61136409f035cd78a1762b4e22b00376e1cb4a43",
    "number": 49285,
    "subject": "control: Change `addGroup()` to get all managed objects",
    "owner": {
        "name": "Matthew Barth",
        "email": "msbarth@linux.ibm.com",
        "username": "msbarth"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-fan-presence/+/49285",
    "commitMessage": "control: Change `addGroup()` to get all managed objects\n\nThe addGroup method is used to populate the cache with event groups\ntriggered by a timer when the \"preload_groups\" directive is used.\nInstead of going out to dbus to refresh the cache for each group member,\nuse the ObjectManager interface to retrieve all the managed objects for\neach unique service of the group members.\n\nChange-Id: I61136409f035cd78a1762b4e22b00376e1cb4a43\nSigned-off-by: Matthew Barth <msbarth@us.ibm.com>\n",
    "createdOn": 1638505963,
    "lastUpdated": 1639014614,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1638505963,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1638505981,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638506034,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Uploaded patch set 2: Patch Set 1 was rebased."
        },
        {
            "timestamp": 1638506047,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638506053,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/31134/ : ABORTED"
        },
        {
            "timestamp": 1638506153,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31138/ : SUCCESS"
        },
        {
            "timestamp": 1638841229,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Patch Set 2: Code-Review-1\n\n(1 comment)"
        },
        {
            "timestamp": 1638841337,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1638843239,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1638843254,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638843360,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31334/ : SUCCESS"
        },
        {
            "timestamp": 1638890664,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1638931473,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Uploaded patch set 4: Patch Set 3 was rebased."
        },
        {
            "timestamp": 1638931486,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638931590,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31490/ : SUCCESS"
        },
        {
            "timestamp": 1639003402,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1639014589,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Patch Set 4: Code-Review+2"
        },
        {
            "timestamp": 1639014614,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Change has been successfully merged by Matthew Barth"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "1d1c7fb949f9d729a7c0775a205b8448afaca0d9",
            "parents": [
                "6c673b10766a7dcedb34663825f608e39419c8a0"
            ],
            "ref": "refs/changes/85/49285/1",
            "uploader": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "createdOn": 1638505963,
            "author": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "control/json/manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 38,
                    "deletions": -15
                }
            ],
            "sizeInsertions": 38,
            "sizeDeletions": 15
        },
        {
            "number": 2,
            "revision": "e5de612000d012af6e53e45ae34f71b87065141e",
            "parents": [
                "0cb48f3d9a730cead5b082817ec2c4143218e891"
            ],
            "ref": "refs/changes/85/49285/2",
            "uploader": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "createdOn": 1638506034,
            "author": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "control/json/manager.cpp",
                    "line": 602,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "msbarth@linux.ibm.com",
                        "username": "msbarth"
                    },
                    "message": "Need to use SDBusPlus::getService() instead as this continuously attempts to find the service for members that do not exist on dbus, which they should just be skipped."
                },
                {
                    "file": "control/json/manager.cpp",
                    "line": 602,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "msbarth@linux.ibm.com",
                        "username": "msbarth"
                    },
                    "message": "Done"
                },
                {
                    "file": "control/json/manager.cpp",
                    "line": 610,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "msbarth@linux.ibm.com",
                        "username": "msbarth"
                    },
                    "message": "An additional optimization should be considered here to minimize the number of entries in the cache since this call results in all the paths on dbus with the ObjectManager interface to be added."
                },
                {
                    "file": "control/json/manager.cpp",
                    "line": 610,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "msbarth@linux.ibm.com",
                        "username": "msbarth"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "control/json/manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 38,
                    "deletions": -15
                }
            ],
            "sizeInsertions": 38,
            "sizeDeletions": 15
        },
        {
            "number": 3,
            "revision": "2a7e83367b9c07bae9670ade75e6d9f07e6f8e7a",
            "parents": [
                "0cb48f3d9a730cead5b082817ec2c4143218e891"
            ],
            "ref": "refs/changes/85/49285/3",
            "uploader": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "createdOn": 1638843239,
            "author": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "control/json/manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -17
                }
            ],
            "sizeInsertions": 46,
            "sizeDeletions": 17
        },
        {
            "number": 4,
            "revision": "55627adf68e899d3cf030f20cd7097cb8fad9db6",
            "parents": [
                "20afdda36475796d4993143832132a8b877b441e"
            ],
            "ref": "refs/changes/85/49285/4",
            "uploader": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "createdOn": 1638931473,
            "author": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "control/json/manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -17
                }
            ],
            "sizeInsertions": 46,
            "sizeDeletions": 17
        }
    ]
}