{
    "project": "openbmc/phosphor-fan-presence",
    "branch": "master",
    "topic": "ibm1363",
    "id": "Ifda7493ab256fa2fbf869e984609888c418b1f9b",
    "number": 41721,
    "subject": "control: Use Group objects in events",
    "owner": {
        "name": "Matthew Barth",
        "email": "msbarth@linux.ibm.com",
        "username": "msbarth"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-fan-presence/+/41721",
    "commitMessage": "control: Use Group objects in events\n\nUse the generated Group objects in configured events. Group objects are\ntemporarily generated from the `groups.json` configuration and passed to\neach event. When the event is generated from its JSON configuration, the\ngroup(s) its configured to use in the event are first copied from the\nlist of Group objects and then populated with the remaining details for\nthe group configuration that's provided in the event. Groups to be used\nin the event must either have no profiles restricting their use or have\na profile that matches the event's profile where that profile is also\nactive.\n\nChange-Id: Ifda7493ab256fa2fbf869e984609888c418b1f9b\nSigned-off-by: Matthew Barth <msbarth@us.ibm.com>\n",
    "createdOn": 1617127681,
    "lastUpdated": 1623856841,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1617127681,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1617127695,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1617127860,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/14585/ : SUCCESS"
        },
        {
            "timestamp": 1617202565,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Uploaded patch set 2: Patch Set 1 was rebased."
        },
        {
            "timestamp": 1617202750,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1617202842,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/14653/ : SUCCESS"
        },
        {
            "timestamp": 1617897111,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Uploaded patch set 3: Patch Set 2 was rebased."
        },
        {
            "timestamp": 1617897249,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1617897354,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/15124/ : SUCCESS"
        },
        {
            "timestamp": 1619815366,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1621013599,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1621013660,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1621013741,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1621013833,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/17331/ : SUCCESS"
        },
        {
            "timestamp": 1621534505,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1623351740,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Uploaded patch set 5: Patch Set 4 was rebased."
        },
        {
            "timestamp": 1623351890,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1623352023,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/19335/ : SUCCESS"
        },
        {
            "timestamp": 1623356949,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Patch Set 5: Code-Review+2"
        },
        {
            "timestamp": 1623856841,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Change has been successfully merged by Matthew Barth"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "5b46b36369cdd383f98118c9789fbc13feacc945",
            "parents": [
                "2db4392a062dd0a127b5909c038eb4e16a2dcaac"
            ],
            "ref": "refs/changes/21/41721/1",
            "uploader": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "createdOn": 1617127681,
            "author": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "control/json/config_base.hpp",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -1
                },
                {
                    "file": "control/json/event.cpp",
                    "type": "MODIFIED",
                    "insertions": 68,
                    "deletions": -31
                },
                {
                    "file": "control/json/event.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -10
                },
                {
                    "file": "control/json/group.cpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "control/json/group.hpp",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 136,
            "sizeDeletions": 43
        },
        {
            "number": 2,
            "revision": "e503c5a3cad2466d149b12ebc9ea2c04e0eb11df",
            "parents": [
                "5959e1141c076717fed6c5983f257384b2dd994c"
            ],
            "ref": "refs/changes/21/41721/2",
            "uploader": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "createdOn": 1617202565,
            "author": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "control/json/config_base.hpp",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -1
                },
                {
                    "file": "control/json/event.cpp",
                    "type": "MODIFIED",
                    "insertions": 68,
                    "deletions": -31
                },
                {
                    "file": "control/json/event.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -10
                },
                {
                    "file": "control/json/group.cpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "control/json/group.hpp",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 136,
            "sizeDeletions": 43
        },
        {
            "number": 3,
            "revision": "10f0e487e358cddc137f6e6dc7fbdea165dc16b3",
            "parents": [
                "6890fc1ab23ed7ca89cb75775093347d2e5d8900"
            ],
            "ref": "refs/changes/21/41721/3",
            "uploader": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "createdOn": 1617897111,
            "author": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "control/json/event.cpp",
                    "line": 163,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "if you wanted, you could save yourself the trouble of typing this out twice with:\nauto msg = fmt::format(\"No groups...\");\nlog<level::ERR>(msg.c_str());\nthrow std::runtime_error(msg);"
                },
                {
                    "file": "control/json/event.cpp",
                    "line": 163,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "msbarth@linux.ibm.com",
                        "username": "msbarth"
                    },
                    "message": "Done\n\nTrying to remind myself of doing that."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "control/json/config_base.hpp",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -1
                },
                {
                    "file": "control/json/event.cpp",
                    "type": "MODIFIED",
                    "insertions": 68,
                    "deletions": -31
                },
                {
                    "file": "control/json/event.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -10
                },
                {
                    "file": "control/json/group.cpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "control/json/group.hpp",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 136,
            "sizeDeletions": 43
        },
        {
            "number": 4,
            "revision": "23a449b9e943b34a1d8a9a58cc357fe8196fe697",
            "parents": [
                "153def1d629d25c647c30dfafd60323a192f47a2"
            ],
            "ref": "refs/changes/21/41721/4",
            "uploader": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "createdOn": 1621013599,
            "author": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "control/json/config_base.hpp",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -1
                },
                {
                    "file": "control/json/event.cpp",
                    "type": "MODIFIED",
                    "insertions": 63,
                    "deletions": -31
                },
                {
                    "file": "control/json/event.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -10
                },
                {
                    "file": "control/json/group.cpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "control/json/group.hpp",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 130,
            "sizeDeletions": 43
        },
        {
            "number": 5,
            "revision": "e5578602c3139cf6dde6dff0732946adbd37ac73",
            "parents": [
                "42428059687d918bcd6388e904873c9a762a11c5"
            ],
            "ref": "refs/changes/21/41721/5",
            "uploader": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "createdOn": 1623351740,
            "author": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "control/json/config_base.hpp",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -1
                },
                {
                    "file": "control/json/event.cpp",
                    "type": "MODIFIED",
                    "insertions": 63,
                    "deletions": -31
                },
                {
                    "file": "control/json/event.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -10
                },
                {
                    "file": "control/json/group.cpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "control/json/group.hpp",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 130,
            "sizeDeletions": 43
        }
    ]
}