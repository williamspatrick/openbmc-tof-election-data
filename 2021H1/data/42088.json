{
    "project": "openbmc/phosphor-logging",
    "branch": "master",
    "id": "Ifa03f091a7d1efcc67f181c2be1cc0a6240891e1",
    "number": 42088,
    "subject": "PEL: Support creator supplied power fault flag",
    "owner": {
        "email": "vijaylobo@gmail.com",
        "username": "vflobo"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-logging/+/42088",
    "commitMessage": "PEL: Support creator supplied power fault flag\n\nUser can supply POWER_THERMAL_CRITICAL_FAULT=TRUE as part\nof AdditionalData entry in the event log to set the power\nfault bit in PEL\n\nTested: I ran unit test using docker. Also tested manually\nby setting D-bus event log\n\nChange-Id: Ifa03f091a7d1efcc67f181c2be1cc0a6240891e1\nSigned-off-by: Vijay Lobo <vijaylobo@gmail.com>\n",
    "createdOn": 1618000187,
    "lastUpdated": 1618407287,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1618000187,
            "reviewer": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1618000208,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618000341,
            "reviewer": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1618000356,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618000360,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/15203/ : ABORTED"
        },
        {
            "timestamp": 1618000738,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/15204/ : FAILURE"
        },
        {
            "timestamp": 1618001427,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1618012298,
            "reviewer": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1618012308,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618012686,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/15213/ : FAILURE"
        },
        {
            "timestamp": 1618211221,
            "reviewer": {
                "email": "sumit_kumar@in.ibm.com",
                "username": "sumitk56"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1618233112,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 3:\n\nThere's also a readme section I had forgotten about to explain what can be passed in when creating error logs that can be updated: https://github.com/openbmc/phosphor-logging/tree/master/extensions/openpower-pels#passing-pel-related-data-within-an-openbmc-event-log"
        },
        {
            "timestamp": 1618237581,
            "reviewer": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1618249252,
            "reviewer": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1618249269,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618249353,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1618249959,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/15264/ : SUCCESS"
        },
        {
            "timestamp": 1618256818,
            "reviewer": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1618256830,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618256881,
            "reviewer": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1618257532,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/15274/ : SUCCESS"
        },
        {
            "timestamp": 1618259854,
            "reviewer": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1618259865,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618260584,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/15275/ : SUCCESS"
        },
        {
            "timestamp": 1618261092,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1618261613,
            "reviewer": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "message": "Patch Set 7: Published edit on patch set 6."
        },
        {
            "timestamp": 1618261635,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618261643,
            "reviewer": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1618262045,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/15276/ : FAILURE"
        },
        {
            "timestamp": 1618262415,
            "reviewer": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "message": "Uploaded patch set 8."
        },
        {
            "timestamp": 1618262430,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618263122,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/15277/ : SUCCESS"
        },
        {
            "timestamp": 1618319631,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 8: Code-Review+1"
        },
        {
            "timestamp": 1618323151,
            "reviewer": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "message": "Assignee added: Adriana Kobylak <anoo@linux.ibm.com>"
        },
        {
            "timestamp": 1618323157,
            "reviewer": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "message": "Assignee deleted: Adriana Kobylak <anoo@linux.ibm.com>"
        },
        {
            "timestamp": 1618343413,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 8: Code-Review+1"
        },
        {
            "timestamp": 1618395565,
            "reviewer": {
                "email": "sumit_kumar@in.ibm.com",
                "username": "sumitk56"
            },
            "message": "Patch Set 8: Code-Review+1"
        },
        {
            "timestamp": 1618407267,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 8: Code-Review+2"
        },
        {
            "timestamp": 1618407287,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Change has been successfully rebased and submitted as f3702bb353a5006feedbd7c809859b19f6286c77 by Matt Spinler"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "d52f85a0a9041bff14cb3518b4d174d393dcd2dd",
            "parents": [
                "981ffc3c0296f2df7c96d025e92300bc11573087"
            ],
            "ref": "refs/changes/88/42088/1",
            "uploader": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "createdOn": 1618000187,
            "author": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/src.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                },
                {
                    "file": "test/openpower-pels/src_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 26,
            "sizeDeletions": 1
        },
        {
            "number": 2,
            "revision": "46bf1e6d85230410867459ed10aaf30526721394",
            "parents": [
                "981ffc3c0296f2df7c96d025e92300bc11573087"
            ],
            "ref": "refs/changes/88/42088/2",
            "uploader": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "createdOn": 1618000341,
            "author": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 13,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "nit: spelling"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 13,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "since simics is only used by IBM internally, we try to leave it out of commit messages."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/src.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                },
                {
                    "file": "test/openpower-pels/src_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 26,
            "sizeDeletions": 1
        },
        {
            "number": 3,
            "revision": "52bf34b57987094c422ccdaa90e99b1ac0f6d8ee",
            "parents": [
                "981ffc3c0296f2df7c96d025e92300bc11573087"
            ],
            "ref": "refs/changes/88/42088/3",
            "uploader": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "createdOn": 1618012298,
            "author": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "extensions/openpower-pels/src.cpp",
                    "line": 297,
                    "reviewer": {
                        "email": "sumit_kumar@in.ibm.com",
                        "username": "sumitk56"
                    },
                    "message": "Can we do in simpler way instead as-in just OR with item as shown below:\nif ((regEntry.src.powerFault.value_or(false)) || item )"
                },
                {
                    "file": "extensions/openpower-pels/src.cpp",
                    "line": 297,
                    "reviewer": {
                        "email": "vijaylobo@gmail.com",
                        "username": "vflobo"
                    },
                    "message": "@sumit, I need to make sure that the item is not null (if the value is really passed in) and also it is true.. so I think this is optimal as I see it"
                },
                {
                    "file": "extensions/openpower-pels/src.cpp",
                    "line": 297,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "I suppose you could this if you wanted:\n... ||\n(item.value_or(\"\") == \"TRUE\")"
                },
                {
                    "file": "extensions/openpower-pels/src.cpp",
                    "line": 297,
                    "reviewer": {
                        "email": "vijaylobo@gmail.com",
                        "username": "vflobo"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/src.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                },
                {
                    "file": "test/openpower-pels/src_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 26,
            "sizeDeletions": 1
        },
        {
            "number": 4,
            "revision": "d0faef6c8de1f5ad2b58831722c94a0be12021a9",
            "parents": [
                "981ffc3c0296f2df7c96d025e92300bc11573087"
            ],
            "ref": "refs/changes/88/42088/4",
            "uploader": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "createdOn": 1618249252,
            "author": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/src.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                },
                {
                    "file": "test/openpower-pels/src_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 26,
            "sizeDeletions": 1
        },
        {
            "number": 5,
            "revision": "beb095e60b6848538e14decbbff6395277e27f86",
            "parents": [
                "981ffc3c0296f2df7c96d025e92300bc11573087"
            ],
            "ref": "refs/changes/88/42088/5",
            "uploader": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "createdOn": 1618256818,
            "author": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/src.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                },
                {
                    "file": "test/openpower-pels/src_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 26,
            "sizeDeletions": 1
        },
        {
            "number": 6,
            "revision": "ef83606f6a28d0fc3d3c1bbda22b63d90999c52a",
            "parents": [
                "981ffc3c0296f2df7c96d025e92300bc11573087"
            ],
            "ref": "refs/changes/88/42088/6",
            "uploader": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "createdOn": 1618259854,
            "author": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "test/openpower-pels/src_test.cpp",
                    "line": 255,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "oh sorry one more small thing - could you update this comment to match what the testcase is testing? e.g. Test that POWER_THERMAL_CRITICAL_FAULT=TRUE will set the power fault bit."
                },
                {
                    "file": "test/openpower-pels/src_test.cpp",
                    "line": 255,
                    "reviewer": {
                        "email": "vijaylobo@gmail.com",
                        "username": "vflobo"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/README.md",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/src.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                },
                {
                    "file": "test/openpower-pels/src_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 37,
            "sizeDeletions": 1
        },
        {
            "number": 7,
            "revision": "07aac78e5e2d554782893820db1532ef1458aba4",
            "parents": [
                "981ffc3c0296f2df7c96d025e92300bc11573087"
            ],
            "ref": "refs/changes/88/42088/7",
            "uploader": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "createdOn": 1618261613,
            "author": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/README.md",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/src.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                },
                {
                    "file": "test/openpower-pels/src_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 38,
            "sizeDeletions": 1
        },
        {
            "number": 8,
            "revision": "4a0f7dbea388b4ed63c04c312ef8ba39c7d9472e",
            "parents": [
                "981ffc3c0296f2df7c96d025e92300bc11573087"
            ],
            "ref": "refs/changes/88/42088/8",
            "uploader": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "createdOn": 1618262415,
            "author": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/README.md",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/src.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                },
                {
                    "file": "test/openpower-pels/src_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 38,
            "sizeDeletions": 1
        },
        {
            "number": 9,
            "revision": "f3702bb353a5006feedbd7c809859b19f6286c77",
            "parents": [
                "741a57fd4a0014ee142b3c62ee08372525f190d6"
            ],
            "ref": "refs/changes/88/42088/9",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1618407287,
            "author": {
                "email": "vijaylobo@gmail.com",
                "username": "vflobo"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/README.md",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/src.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                },
                {
                    "file": "test/openpower-pels/src_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 38,
            "sizeDeletions": 1
        }
    ]
}