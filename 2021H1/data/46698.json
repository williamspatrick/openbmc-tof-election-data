{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "I331f65e1a3960f1812c9baac27dbdcb1d54f112c",
    "number": 46698,
    "subject": "Improve HttpHeaders in EventService",
    "owner": {
        "name": "Ed Tanous",
        "email": "ed@tanous.net",
        "username": "edtanous"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/46698",
    "commitMessage": "Improve HttpHeaders in EventService\n\nThis commit moves the internal data structures to use\nboost::beast::http::fields as its internal data structure.  fields is a\nhyper-optimized map implementation for http headers, and has a lot of\nnice escaping properties.  It is what boost::beast::http::request uses\nunder the covers, so this has some niceties in reducing the amount of\ncode, and means we can completely remove the headers structure, and\nsimply rely on req.  When this conversion was done, now the type safety\nof the incoming data needs to have better checking, as loading into the\nkeys has new requirements (like values must be strings), so that type\nconversion code for to and from json was added, and the POST and PATCH\nhandler updated to put into the new structure.\n\nTested:\ncurl -vvvv --insecure -u root:0penBmc\n\"https://192.168.7.2:443/redfish/v1/EventService/Subscriptions\" -X POST\n-d\n\"{\\\"Destination\\\":\\\"http://192.168.7.2:443/\\\",\\\"Context\\\":\\\"Public\\\",\\\"Protocol\\\":\\\"Redfish\\\",\\\"HttpHeaders\\\":[{\\\"Foo\\\":\\\"Bar\\\"}]}\"\nreturned 200.\n\nTested various \"bad\" headers, and observed the correct type errors.\n\nIssued: systemctl restart bmcweb.\nSubscription restored properly verified with.\nGET https://localhost:8001/redfish/v1/EventService/Subscriptions/183211400\n\nSigned-off-by: Ed Tanous <edtanous@google.com>\nChange-Id: I331f65e1a3960f1812c9baac27dbdcb1d54f112c\n",
    "createdOn": 1631144989,
    "lastUpdated": 1634504028,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1631144989,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1631145017,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1631145063,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 2: Patch Set 1 was rebased."
        },
        {
            "timestamp": 1631145078,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1631145082,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/25958/ : ABORTED"
        },
        {
            "timestamp": 1631145407,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/25959/ : FAILURE"
        },
        {
            "timestamp": 1631153509,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1631153527,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1631153946,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/25961/ : SUCCESS"
        },
        {
            "timestamp": 1631529685,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1631563087,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1631566072,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1631566087,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1631566123,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/26234/ : FAILURE"
        },
        {
            "timestamp": 1631566265,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1631566283,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1631566724,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/26236/ : SUCCESS"
        },
        {
            "timestamp": 1631724213,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1631774851,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1631807266,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1631807285,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1631807314,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1631807394,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/26458/ : FAILURE"
        },
        {
            "timestamp": 1631807800,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1631807815,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1631807891,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/26459/ : FAILURE"
        },
        {
            "timestamp": 1631810680,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 8."
        },
        {
            "timestamp": 1631810695,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1631811133,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/26461/ : SUCCESS"
        },
        {
            "timestamp": 1631874970,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 8: Code-Review+1"
        },
        {
            "timestamp": 1631875101,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1631897403,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1631898283,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 9."
        },
        {
            "timestamp": 1631898304,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1631898373,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 9:\n\nFYI, I have not run the tests on this latest patchset, but I will soon."
        },
        {
            "timestamp": 1631898742,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/26525/ : SUCCESS"
        },
        {
            "timestamp": 1632349699,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 9:\n\nI've tested this latest patch now, and it gives the same result as the old patch."
        },
        {
            "timestamp": 1632349714,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 10: Commit message was updated."
        },
        {
            "timestamp": 1632367129,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1632414667,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1633799570,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 11."
        },
        {
            "timestamp": 1633799624,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633800078,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/28003/ : SUCCESS"
        },
        {
            "timestamp": 1633804296,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 11:\n\n(1 comment)"
        },
        {
            "timestamp": 1633816889,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 12."
        },
        {
            "timestamp": 1633816905,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633817357,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/28005/ : SUCCESS"
        },
        {
            "timestamp": 1633970970,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 12: Code-Review+1"
        },
        {
            "timestamp": 1633982018,
            "reviewer": {
                "name": "Abhishek Patel",
                "email": "Abhishek.Patel@ibm.com",
                "username": "patelabhishek9893"
            },
            "message": "Patch Set 12: Code-Review+1"
        },
        {
            "timestamp": 1633985398,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 12:\n\n(2 comments)\n\nLooks reasonable to me"
        },
        {
            "timestamp": 1634068018,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 13."
        },
        {
            "timestamp": 1634068031,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 13:\n\n(2 comments)"
        },
        {
            "timestamp": 1634068050,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1634068503,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/28141/ : SUCCESS"
        },
        {
            "timestamp": 1634099234,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 13: Code-Review+1"
        },
        {
            "timestamp": 1634148254,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 13: Code-Review+1"
        },
        {
            "timestamp": 1634223498,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 13: Code-Review+2"
        },
        {
            "timestamp": 1634504028,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully rebased and submitted as 601c71aef4ac54e28933bc6e022c7e1f6e8bf1e8 by Ed Tanous"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "a532d1034e3658350437953609e2499e5f9c10f8",
            "parents": [
                "5c20ab81fa3052c393f4d51780ab3e4afffaac05"
            ],
            "ref": "refs/changes/98/46698/1",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1631144989,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 45,
                    "deletions": 0
                },
                {
                    "file": "http/http_client.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -9
                },
                {
                    "file": "include/event_service_store.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -4
                },
                {
                    "file": "include/persistent_data.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -2
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -11
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 48,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 70,
            "sizeDeletions": 31
        },
        {
            "number": 2,
            "revision": "fa45fd63e30b06e4aac8afced527149e1bbd8642",
            "parents": [
                "7bb985eeb0930905c2f4d551e895dd5293094931"
            ],
            "ref": "refs/changes/98/46698/2",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1631145063,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 45,
                    "deletions": 0
                },
                {
                    "file": "http/http_client.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -9
                },
                {
                    "file": "include/event_service_store.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -4
                },
                {
                    "file": "include/persistent_data.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -2
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -11
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 48,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 70,
            "sizeDeletions": 31
        },
        {
            "number": 3,
            "revision": "ade63bc3b47e7fbe72805686d514b702a03cf610",
            "parents": [
                "7bb985eeb0930905c2f4d551e895dd5293094931"
            ],
            "ref": "refs/changes/98/46698/3",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1631153509,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "line": 357,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "Does this code take the user passed keys ? This should dump the HttpHeaders json input and parse the key:value pair to map the keys and corresponding values."
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "line": 357,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> Does this code take the user passed keys ?\n\nYes\n\n> This should dump the HttpHeaders json input\n\nWe shouldn't need to call dump on any user provided information, that's destroying the type information, and would allow the user to inject json into an http header.  With that said, I see two different ways to represent this field when I look through the redfish documentation.  One is as a dict, which I've done here, and one as an array of dicts each with a single key.  I need to do more research to figure out which one is correct, but we should never be calling dump when going from Json to http header;  We should treat the data as structured.\n\nTBD, I need to do more research here.\n\n\n> and parse the key:value pair to map the keys and corresponding values.\n\nNot according to the redfish spec.  This code is taking the user provided keys.\n\nIn the docs I'm able to find, this shows HttpHeaders as an array:\n\nhttps://sysmgt.lenovofiles.com/help/index.jsp?topic=%2Fcom.lenovo.systems.management.xcc.restapi.doc%2Fcreate_a_subscription_post.html\n\nThis shows HttpHeaders as a dict:\nhttps://developer.hpe.com/blog/the-redfish-event-service/\n\n\nGoing to the schema files shows HttpHeaders is a collection of HttpHeaderProperty types.\n\n\nHttpHeaderProperty shows it's a complex type.  The interesting part is whether or not HttpHeaderProperty should allow multiple headers per item.\n\n\n\n\nInterestingly, the docs say \"This object shall be null or an empty array in responses.\"  Which I don't think we obey today.  That needs fixed, which I can look at.\n\n\nIn short, I think you're right;  I'll get this fixed."
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "line": 357,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "line": 357,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "This is good now. Similar change is needed while PATCHing the HttpHeaders property. The for loop at line 601"
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "line": 357,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> This is good now. Similar change is needed while PATCHing the HttpHeaders property. The for loop at line 601\n\nGood catch.  Fixed in latest patchset."
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "line": 612,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "Same as in line 357"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 45,
                    "deletions": 0
                },
                {
                    "file": "http/http_client.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -9
                },
                {
                    "file": "include/event_service_store.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -4
                },
                {
                    "file": "include/persistent_data.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -2
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -11
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 62,
            "sizeDeletions": 31
        },
        {
            "number": 4,
            "revision": "5c4018cdd93d33b5557c8cb1e5d43d5e7ad02da1",
            "parents": [
                "1bc4cdb166109ff2a39167236bbd8bb798c11394"
            ],
            "ref": "refs/changes/98/46698/4",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1631566072,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "http/http_client.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -9
                },
                {
                    "file": "include/event_service_store.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -4
                },
                {
                    "file": "include/persistent_data.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -2
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -11
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 33,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 55,
            "sizeDeletions": 29
        },
        {
            "number": 5,
            "revision": "06d7e051643c7a1fef0baa20dec6a3545b1fbb5f",
            "parents": [
                "7834debae216faf9b1f9f4c8c82cb1aaa76e154a"
            ],
            "ref": "refs/changes/98/46698/5",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1631566265,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "http/http_client.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -9
                },
                {
                    "file": "include/event_service_store.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -4
                },
                {
                    "file": "include/persistent_data.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -2
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -11
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 33,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 55,
            "sizeDeletions": 29
        },
        {
            "number": 6,
            "revision": "3c1f204eaea96e98e75c980508c510bef9442ff0",
            "parents": [
                "7de9f811db3400121e1453b1fa3da09ae6df69f6"
            ],
            "ref": "refs/changes/98/46698/6",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1631807266,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 47,
                    "deletions": 0
                },
                {
                    "file": "http/http_client.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -9
                },
                {
                    "file": "include/event_service_store.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -4
                },
                {
                    "file": "include/persistent_data.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -2
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -11
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 42,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 64,
            "sizeDeletions": 30
        },
        {
            "number": 7,
            "revision": "c4f939c379f7ce7890ac0ff3a151976c195dbb9e",
            "parents": [
                "7de9f811db3400121e1453b1fa3da09ae6df69f6"
            ],
            "ref": "refs/changes/98/46698/7",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1631807800,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "http/http_client.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -9
                },
                {
                    "file": "include/event_service_store.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -4
                },
                {
                    "file": "include/persistent_data.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -2
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -11
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 66,
            "sizeDeletions": 29
        },
        {
            "number": 8,
            "revision": "fb6405e77526bf817fea0d0e9d239d0fec48e556",
            "parents": [
                "7de9f811db3400121e1453b1fa3da09ae6df69f6"
            ],
            "ref": "refs/changes/98/46698/8",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1631810680,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "line": 555,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "Is https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/46837 going to be rebased on top of this change ?"
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "line": 555,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Yep..... doing it now."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "http/http_client.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -9
                },
                {
                    "file": "include/event_service_store.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -4
                },
                {
                    "file": "include/persistent_data.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -2
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -11
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 66,
            "sizeDeletions": 29
        },
        {
            "number": 9,
            "revision": "7ad60ab05af06aacfd1f8525f6c347bcc65bde7d",
            "parents": [
                "ad22fefecaf7988fd7072dc71042efbf86fc5162"
            ],
            "ref": "refs/changes/98/46698/9",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1631898283,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "http/http_client.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -9
                },
                {
                    "file": "include/event_service_store.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -4
                },
                {
                    "file": "include/persistent_data.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -2
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -11
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 35,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 57,
            "sizeDeletions": 28
        },
        {
            "number": 10,
            "revision": "84423a627a4becbb6f93c19609c56843d81bb613",
            "parents": [
                "ad22fefecaf7988fd7072dc71042efbf86fc5162"
            ],
            "ref": "refs/changes/98/46698/10",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1632349714,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 21,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "Tested the persistency of HttpHeaders ?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 21,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I did, but I will add more details here.\n\nACK."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 21,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "http/http_client.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -9
                },
                {
                    "file": "include/event_service_store.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -4
                },
                {
                    "file": "include/persistent_data.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -2
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -11
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 35,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 57,
            "sizeDeletions": 28
        },
        {
            "number": 11,
            "revision": "62b5e3760ea31e8e4d31ca72aa4f484410e4ad80",
            "parents": [
                "8e659c88fc872073f7f6dbc225cfac37d4e97ff6"
            ],
            "ref": "refs/changes/98/46698/11",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1633799570,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 35,
                    "deletions": 0
                },
                {
                    "file": "http/http_client.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -9
                },
                {
                    "file": "include/event_service_store.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -4
                },
                {
                    "file": "include/persistent_data.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -2
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -11
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 35,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 57,
            "sizeDeletions": 28
        },
        {
            "number": 12,
            "revision": "98fd8742dc343906a74c0b8f5e0cc43045dfcb52",
            "parents": [
                "8e659c88fc872073f7f6dbc225cfac37d4e97ff6"
            ],
            "ref": "refs/changes/98/46698/12",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1633816889,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "include/persistent_data.hpp",
                    "line": 8,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "#include <boost/beast/http/fields.hpp> ?"
                },
                {
                    "file": "include/persistent_data.hpp",
                    "line": 8,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "line": 18,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "#include <boost/beast/http/fields.hpp> ?"
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "line": 18,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 35,
                    "deletions": 0
                },
                {
                    "file": "http/http_client.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -9
                },
                {
                    "file": "include/event_service_store.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -4
                },
                {
                    "file": "include/persistent_data.hpp",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -2
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -11
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 35,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 58,
            "sizeDeletions": 28
        },
        {
            "number": 13,
            "revision": "a6aa82e9ca3a37af4ce41b0ead8e91c3d324a21f",
            "parents": [
                "8e659c88fc872073f7f6dbc225cfac37d4e97ff6"
            ],
            "ref": "refs/changes/98/46698/13",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1634068018,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 35,
                    "deletions": 0
                },
                {
                    "file": "http/http_client.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -9
                },
                {
                    "file": "include/event_service_store.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -4
                },
                {
                    "file": "include/persistent_data.hpp",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": -2
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -11
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 60,
            "sizeDeletions": 28
        },
        {
            "number": 14,
            "revision": "601c71aef4ac54e28933bc6e022c7e1f6e8bf1e8",
            "parents": [
                "565c0911faea72128a3a8c4b8b5ec3094756d82e"
            ],
            "ref": "refs/changes/98/46698/14",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1634504028,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 35,
                    "deletions": 0
                },
                {
                    "file": "http/http_client.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -9
                },
                {
                    "file": "include/event_service_store.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -4
                },
                {
                    "file": "include/persistent_data.hpp",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": -2
                },
                {
                    "file": "redfish-core/include/event_service_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -11
                },
                {
                    "file": "redfish-core/lib/event_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 60,
            "sizeDeletions": 28
        }
    ]
}