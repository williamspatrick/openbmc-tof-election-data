{
    "project": "openbmc/telemetry",
    "branch": "master",
    "topic": "telemetry",
    "id": "I7a14c15a30d78ce872342b5f938aba43c77be9c0",
    "number": 49576,
    "subject": "Trigger: make Sensors and Thresholds writable",
    "owner": {
        "name": "Szymon Dompke",
        "email": "szymon.dompke@intel.com",
        "username": "sdompke"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/telemetry/+/49576",
    "commitMessage": "Trigger: make Sensors and Thresholds writable\n\nThis change allows to modify 'Sensors' and 'Thresholds' dbus property\nfor Trigger interface. This was required by Redfish to implement PATCH\nfunctionality for Trigger schema.\n\nSome backend changes were required to enable this functionality, and as\nsuch few improvements were made for existing code:\n- NumericThreshold and DiscreteThreshold now have common implementation\n  where it was possible.\n- Internal sensor info structure for Trigger is now the same as the one\n  used for Report. This resulted in breaking compatibility with previous\n  Trigger persistency data.\n- Added getInfo / getParams methods for Sensor and Threshold interfaces.\n  They are used by Trigger dbus getters and persistency mechanism now,\n  instead of storing this data in Trigger object.\n\nTesting done:\n- Unit tests were expanded and are passing\n- dbus setters for Sensors and Thresholds are working and modifications\n  are reflected by calling appropriate getters.\n\nSigned-off-by: Szymon Dompke <szymon.dompke@intel.com>\nChange-Id: I7a14c15a30d78ce872342b5f938aba43c77be9c0\n",
    "createdOn": 1639120500,
    "lastUpdated": 1639987778,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1639120500,
            "reviewer": {
                "name": "Szymon Dompke",
                "email": "szymon.dompke@intel.com",
                "username": "sdompke"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1639120513,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639121148,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31737/ : SUCCESS"
        },
        {
            "timestamp": 1639661467,
            "reviewer": {
                "name": "Szymon Dompke",
                "email": "szymon.dompke@intel.com",
                "username": "sdompke"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1639661484,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639662105,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/32141/ : SUCCESS"
        },
        {
            "timestamp": 1639679596,
            "reviewer": {
                "name": "Lukasz Kazmierczak",
                "email": "lukasz.kazmierczak@intel.com",
                "username": "kazmierczak-lukasz"
            },
            "message": "Patch Set 2:\n\n(15 comments)"
        },
        {
            "timestamp": 1639680235,
            "reviewer": {
                "name": "Lukasz Kazmierczak",
                "email": "lukasz.kazmierczak@intel.com",
                "username": "kazmierczak-lukasz"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1639747799,
            "reviewer": {
                "name": "Lukasz Kazmierczak",
                "email": "lukasz.kazmierczak@intel.com",
                "username": "kazmierczak-lukasz"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1639748608,
            "reviewer": {
                "name": "Lukasz Kazmierczak",
                "email": "lukasz.kazmierczak@intel.com",
                "username": "kazmierczak-lukasz"
            },
            "message": "Uploaded patch set 3: New patch set was added with same tree, parent, and commit message as Patch Set 2."
        },
        {
            "timestamp": 1639748618,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1639748626,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639749242,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/32209/ : SUCCESS"
        },
        {
            "timestamp": 1639987139,
            "reviewer": {
                "name": "Szymon Dompke",
                "email": "szymon.dompke@intel.com",
                "username": "sdompke"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1639987152,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639987778,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/32259/ : SUCCESS"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "8cba93873173dc0a7d90915d6fca1e44d5b5c901",
            "parents": [
                "b8cc78ddf9cc87c83176c7bda575ceef2678d00f"
            ],
            "ref": "refs/changes/76/49576/1",
            "uploader": {
                "name": "Szymon Dompke",
                "email": "szymon.dompke@intel.com",
                "username": "sdompke"
            },
            "createdOn": 1639120500,
            "author": {
                "name": "Szymon Dompke",
                "email": "szymon.dompke@intel.com",
                "username": "sdompke"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "src/discrete_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -23
                },
                {
                    "file": "src/discrete_threshold.hpp",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": -6
                },
                {
                    "file": "src/interfaces/sensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "src/interfaces/threshold.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "src/interfaces/trigger_factory.hpp",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "src/metric.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -2
                },
                {
                    "file": "src/numeric_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 35,
                    "deletions": -29
                },
                {
                    "file": "src/numeric_threshold.hpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -8
                },
                {
                    "file": "src/on_change_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 41,
                    "deletions": -7
                },
                {
                    "file": "src/on_change_threshold.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -3
                },
                {
                    "file": "src/report_factory.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "src/report_factory.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                },
                {
                    "file": "src/sensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "src/sensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "src/trigger.cpp",
                    "type": "MODIFIED",
                    "insertions": 64,
                    "deletions": -20
                },
                {
                    "file": "src/trigger.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -8
                },
                {
                    "file": "src/trigger_factory.cpp",
                    "type": "MODIFIED",
                    "insertions": 151,
                    "deletions": -51
                },
                {
                    "file": "src/trigger_factory.hpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -2
                },
                {
                    "file": "src/types/report_types.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "src/types/report_types.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -6
                },
                {
                    "file": "src/types/sensor_types.hpp",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "src/types/trigger_types.hpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -8
                },
                {
                    "file": "src/utils/conversion_trigger.cpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": -1
                },
                {
                    "file": "src/utils/conversion_trigger.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "src/utils/dbus_mapper.hpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -3
                },
                {
                    "file": "src/utils/threshold_mixin.hpp",
                    "type": "ADDED",
                    "insertions": 69,
                    "deletions": 0
                },
                {
                    "file": "tests/src/mocks/report_factory_mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "tests/src/mocks/sensor_mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "tests/src/mocks/threshold_mock.hpp",
                    "type": "ADDED",
                    "insertions": 64,
                    "deletions": 0
                },
                {
                    "file": "tests/src/mocks/trigger_factory_mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -1
                },
                {
                    "file": "tests/src/params/report_params.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -6
                },
                {
                    "file": "tests/src/params/trigger_params.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "tests/src/test_discrete_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -5
                },
                {
                    "file": "tests/src/test_metric.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "tests/src/test_numeric_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -4
                },
                {
                    "file": "tests/src/test_on_change_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -1
                },
                {
                    "file": "tests/src/test_report_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "tests/src/test_sensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 25,
                    "deletions": 0
                },
                {
                    "file": "tests/src/test_trigger.cpp",
                    "type": "MODIFIED",
                    "insertions": 50,
                    "deletions": -8
                },
                {
                    "file": "tests/src/test_trigger_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 900,
            "sizeDeletions": 220
        },
        {
            "number": 2,
            "revision": "16c545907c62c1625710eb3259122def9ec028fa",
            "parents": [
                "3e2cc9d4978cf8f8bab4384dfd2b4996d95040fe"
            ],
            "ref": "refs/changes/76/49576/2",
            "uploader": {
                "name": "Szymon Dompke",
                "email": "szymon.dompke@intel.com",
                "username": "sdompke"
            },
            "createdOn": 1639661467,
            "author": {
                "name": "Szymon Dompke",
                "email": "szymon.dompke@intel.com",
                "username": "sdompke"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/discrete_threshold.hpp",
                    "line": 61,
                    "reviewer": {
                        "name": "Lukasz Kazmierczak",
                        "email": "lukasz.kazmierczak@intel.com",
                        "username": "kazmierczak-lukasz"
                    },
                    "message": "Is this map can be replaced by unordered_map? Unordered_map is smaller and has more efficient underlaying mechanism for insert and access, I suggest to consider it if you do not need sorting of SensorDetails elements."
                },
                {
                    "file": "src/numeric_threshold.cpp",
                    "line": 82,
                    "reviewer": {
                        "name": "Lukasz Kazmierczak",
                        "email": "lukasz.kazmierczak@intel.com",
                        "username": "kazmierczak-lukasz"
                    },
                    "message": "It seems that sensorName should not be modifiable in here, by introducing reference in the lambda you increase efficiency of this code by risking protection of the variable - I would vote to keep it captured by value as before."
                },
                {
                    "file": "src/numeric_threshold.hpp",
                    "line": 60,
                    "reviewer": {
                        "name": "Lukasz Kazmierczak",
                        "email": "lukasz.kazmierczak@intel.com",
                        "username": "kazmierczak-lukasz"
                    },
                    "message": "As above - please consider using unordered_map instead."
                },
                {
                    "file": "src/on_change_threshold.cpp",
                    "line": 23,
                    "reviewer": {
                        "name": "Lukasz Kazmierczak",
                        "email": "lukasz.kazmierczak@intel.com",
                        "username": "kazmierczak-lukasz"
                    },
                    "message": "Are there any cons against moving sensors into oldSensors instead of copying it?"
                },
                {
                    "file": "src/trigger.cpp",
                    "line": 12,
                    "reviewer": {
                        "name": "Lukasz Kazmierczak",
                        "email": "lukasz.kazmierczak@intel.com",
                        "username": "kazmierczak-lukasz"
                    },
                    "message": "Is this include really needed here?"
                },
                {
                    "file": "src/trigger.cpp",
                    "line": 77,
                    "reviewer": {
                        "name": "Lukasz Kazmierczak",
                        "email": "lukasz.kazmierczak@intel.com",
                        "username": "kazmierczak-lukasz"
                    },
                    "message": "Can this one be moved as well?"
                },
                {
                    "file": "src/trigger.cpp",
                    "line": 116,
                    "reviewer": {
                        "name": "Lukasz Kazmierczak",
                        "email": "lukasz.kazmierczak@intel.com",
                        "username": "kazmierczak-lukasz"
                    },
                    "message": "Why check against numeric alternative and negate? You could just check against discrete and get direct result."
                },
                {
                    "file": "src/trigger.cpp",
                    "line": 116,
                    "reviewer": {
                        "name": "Lukasz Kazmierczak",
                        "email": "lukasz.kazmierczak@intel.com",
                        "username": "kazmierczak-lukasz"
                    },
                    "message": "> Why check against numeric alternative and negate? You could just check against discrete and get direct result.\n\nGuessing it comes from that LabeledThresholdParam contains also monostate for discrete (discrete trigger works as specified or changed)?"
                },
                {
                    "file": "src/trigger_factory.cpp",
                    "line": 23,
                    "reviewer": {
                        "name": "Lukasz Kazmierczak",
                        "email": "lukasz.kazmierczak@intel.com",
                        "username": "kazmierczak-lukasz"
                    },
                    "message": "This is very long function, maybe you could split it into a few smaller modules, IMO such sliced routine would be much easier to read and understand."
                },
                {
                    "file": "src/trigger_factory.cpp",
                    "line": 29,
                    "reviewer": {
                        "name": "Lukasz Kazmierczak",
                        "email": "lukasz.kazmierczak@intel.com",
                        "username": "kazmierczak-lukasz"
                    },
                    "message": "auto?"
                },
                {
                    "file": "src/trigger_factory.cpp",
                    "line": 30,
                    "reviewer": {
                        "name": "Lukasz Kazmierczak",
                        "email": "lukasz.kazmierczak@intel.com",
                        "username": "kazmierczak-lukasz"
                    },
                    "message": "Are there any cons against moving currentThresholds into oldThresholds instead of copying it?"
                },
                {
                    "file": "src/trigger_factory.cpp",
                    "line": 48,
                    "reviewer": {
                        "name": "Lukasz Kazmierczak",
                        "email": "lukasz.kazmierczak@intel.com",
                        "username": "kazmierczak-lukasz"
                    },
                    "message": "Vector capacity reservation for a single element only should not be needed."
                },
                {
                    "file": "src/trigger_factory.cpp",
                    "line": 52,
                    "reviewer": {
                        "name": "Lukasz Kazmierczak",
                        "email": "lukasz.kazmierczak@intel.com",
                        "username": "kazmierczak-lukasz"
                    },
                    "message": "Seems that isCurrentOnChange is same for all items in labeledDiscreteThresholdParams, maybe you  could extract it to separate section as a separate condition instead checking this flag every loop in here?"
                },
                {
                    "file": "src/trigger_factory.cpp",
                    "line": 187,
                    "reviewer": {
                        "name": "Lukasz Kazmierczak",
                        "email": "lukasz.kazmierczak@intel.com",
                        "username": "kazmierczak-lukasz"
                    },
                    "message": "Are there any cons against moving currentSensors into oldSensors instead of copying it?"
                },
                {
                    "file": "src/utils/conversion_trigger.cpp",
                    "line": 96,
                    "reviewer": {
                        "name": "Lukasz Kazmierczak",
                        "email": "lukasz.kazmierczak@intel.com",
                        "username": "kazmierczak-lukasz"
                    },
                    "message": "There are several repeats of this construct with holds_alternative, and IMO in this form it obfuscates the code, maybe you could replace/create something like isTriggerThresholdDiscrete but for LabeledThresholdParam?"
                },
                {
                    "file": "src/utils/threshold_mixin.hpp",
                    "line": 7,
                    "reviewer": {
                        "name": "Lukasz Kazmierczak",
                        "email": "lukasz.kazmierczak@intel.com",
                        "username": "kazmierczak-lukasz"
                    },
                    "message": "nit: IMO the name of this struct is confusing, could you use more substantial name to better understand its meaning of handling both discrete trigger and numeric trigger common operations?"
                },
                {
                    "file": "src/utils/threshold_mixin.hpp",
                    "line": 37,
                    "reviewer": {
                        "name": "Lukasz Kazmierczak",
                        "email": "lukasz.kazmierczak@intel.com",
                        "username": "kazmierczak-lukasz"
                    },
                    "message": "Are there any cons against moving instead of copying it?"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "src/discrete_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -23
                },
                {
                    "file": "src/discrete_threshold.hpp",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": -6
                },
                {
                    "file": "src/interfaces/sensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "src/interfaces/threshold.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "src/interfaces/trigger_factory.hpp",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "src/metric.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -2
                },
                {
                    "file": "src/numeric_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 35,
                    "deletions": -29
                },
                {
                    "file": "src/numeric_threshold.hpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -8
                },
                {
                    "file": "src/on_change_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 41,
                    "deletions": -7
                },
                {
                    "file": "src/on_change_threshold.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -3
                },
                {
                    "file": "src/report_factory.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "src/report_factory.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                },
                {
                    "file": "src/sensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "src/sensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "src/trigger.cpp",
                    "type": "MODIFIED",
                    "insertions": 64,
                    "deletions": -20
                },
                {
                    "file": "src/trigger.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -8
                },
                {
                    "file": "src/trigger_factory.cpp",
                    "type": "MODIFIED",
                    "insertions": 151,
                    "deletions": -51
                },
                {
                    "file": "src/trigger_factory.hpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -2
                },
                {
                    "file": "src/types/report_types.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "src/types/report_types.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -6
                },
                {
                    "file": "src/types/sensor_types.hpp",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "src/types/trigger_types.hpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -8
                },
                {
                    "file": "src/utils/conversion_trigger.cpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": -1
                },
                {
                    "file": "src/utils/conversion_trigger.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "src/utils/dbus_mapper.hpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -3
                },
                {
                    "file": "src/utils/threshold_mixin.hpp",
                    "type": "ADDED",
                    "insertions": 69,
                    "deletions": 0
                },
                {
                    "file": "tests/src/mocks/report_factory_mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "tests/src/mocks/sensor_mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "tests/src/mocks/threshold_mock.hpp",
                    "type": "ADDED",
                    "insertions": 64,
                    "deletions": 0
                },
                {
                    "file": "tests/src/mocks/trigger_factory_mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -1
                },
                {
                    "file": "tests/src/params/report_params.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -6
                },
                {
                    "file": "tests/src/params/trigger_params.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "tests/src/test_discrete_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -5
                },
                {
                    "file": "tests/src/test_metric.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "tests/src/test_numeric_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -4
                },
                {
                    "file": "tests/src/test_on_change_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -1
                },
                {
                    "file": "tests/src/test_report_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "tests/src/test_sensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 25,
                    "deletions": 0
                },
                {
                    "file": "tests/src/test_trigger.cpp",
                    "type": "MODIFIED",
                    "insertions": 50,
                    "deletions": -8
                },
                {
                    "file": "tests/src/test_trigger_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 900,
            "sizeDeletions": 220
        },
        {
            "number": 3,
            "revision": "9f43755c7872fddc6a8505579fc74fa0828c37e6",
            "parents": [
                "3e2cc9d4978cf8f8bab4384dfd2b4996d95040fe"
            ],
            "ref": "refs/changes/76/49576/3",
            "uploader": {
                "name": "Lukasz Kazmierczak",
                "email": "lukasz.kazmierczak@intel.com",
                "username": "kazmierczak-lukasz"
            },
            "createdOn": 1639748608,
            "author": {
                "name": "Szymon Dompke",
                "email": "szymon.dompke@intel.com",
                "username": "sdompke"
            },
            "kind": "NO_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "src/discrete_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -23
                },
                {
                    "file": "src/discrete_threshold.hpp",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": -6
                },
                {
                    "file": "src/interfaces/sensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "src/interfaces/threshold.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "src/interfaces/trigger_factory.hpp",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "src/metric.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -2
                },
                {
                    "file": "src/numeric_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 35,
                    "deletions": -29
                },
                {
                    "file": "src/numeric_threshold.hpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -8
                },
                {
                    "file": "src/on_change_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 41,
                    "deletions": -7
                },
                {
                    "file": "src/on_change_threshold.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -3
                },
                {
                    "file": "src/report_factory.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "src/report_factory.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                },
                {
                    "file": "src/sensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "src/sensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "src/trigger.cpp",
                    "type": "MODIFIED",
                    "insertions": 64,
                    "deletions": -20
                },
                {
                    "file": "src/trigger.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -8
                },
                {
                    "file": "src/trigger_factory.cpp",
                    "type": "MODIFIED",
                    "insertions": 151,
                    "deletions": -51
                },
                {
                    "file": "src/trigger_factory.hpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -2
                },
                {
                    "file": "src/types/report_types.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "src/types/report_types.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -6
                },
                {
                    "file": "src/types/sensor_types.hpp",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "src/types/trigger_types.hpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -8
                },
                {
                    "file": "src/utils/conversion_trigger.cpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": -1
                },
                {
                    "file": "src/utils/conversion_trigger.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "src/utils/dbus_mapper.hpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -3
                },
                {
                    "file": "src/utils/threshold_mixin.hpp",
                    "type": "ADDED",
                    "insertions": 69,
                    "deletions": 0
                },
                {
                    "file": "tests/src/mocks/report_factory_mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "tests/src/mocks/sensor_mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "tests/src/mocks/threshold_mock.hpp",
                    "type": "ADDED",
                    "insertions": 64,
                    "deletions": 0
                },
                {
                    "file": "tests/src/mocks/trigger_factory_mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -1
                },
                {
                    "file": "tests/src/params/report_params.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -6
                },
                {
                    "file": "tests/src/params/trigger_params.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "tests/src/test_discrete_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -5
                },
                {
                    "file": "tests/src/test_metric.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "tests/src/test_numeric_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -4
                },
                {
                    "file": "tests/src/test_on_change_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -1
                },
                {
                    "file": "tests/src/test_report_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "tests/src/test_sensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 25,
                    "deletions": 0
                },
                {
                    "file": "tests/src/test_trigger.cpp",
                    "type": "MODIFIED",
                    "insertions": 50,
                    "deletions": -8
                },
                {
                    "file": "tests/src/test_trigger_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 900,
            "sizeDeletions": 220
        },
        {
            "number": 4,
            "revision": "7aaed15e6957822b02f070d8477f31828d73cfad",
            "parents": [
                "3e2cc9d4978cf8f8bab4384dfd2b4996d95040fe"
            ],
            "ref": "refs/changes/76/49576/4",
            "uploader": {
                "name": "Szymon Dompke",
                "email": "szymon.dompke@intel.com",
                "username": "sdompke"
            },
            "createdOn": 1639987139,
            "author": {
                "name": "Szymon Dompke",
                "email": "szymon.dompke@intel.com",
                "username": "sdompke"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "src/discrete_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -23
                },
                {
                    "file": "src/discrete_threshold.hpp",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": -6
                },
                {
                    "file": "src/interfaces/sensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "src/interfaces/threshold.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "src/interfaces/trigger_factory.hpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "src/metric.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -2
                },
                {
                    "file": "src/numeric_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 35,
                    "deletions": -29
                },
                {
                    "file": "src/numeric_threshold.hpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -8
                },
                {
                    "file": "src/on_change_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 41,
                    "deletions": -7
                },
                {
                    "file": "src/on_change_threshold.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -3
                },
                {
                    "file": "src/report_factory.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "src/report_factory.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                },
                {
                    "file": "src/sensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "src/sensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "src/trigger.cpp",
                    "type": "MODIFIED",
                    "insertions": 77,
                    "deletions": -26
                },
                {
                    "file": "src/trigger.hpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -10
                },
                {
                    "file": "src/trigger_actions.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "src/trigger_actions.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -5
                },
                {
                    "file": "src/trigger_factory.cpp",
                    "type": "MODIFIED",
                    "insertions": 155,
                    "deletions": -51
                },
                {
                    "file": "src/trigger_factory.hpp",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -2
                },
                {
                    "file": "src/types/report_types.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "src/types/report_types.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -6
                },
                {
                    "file": "src/types/sensor_types.hpp",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "src/types/trigger_types.hpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -8
                },
                {
                    "file": "src/utils/conversion_trigger.cpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": -1
                },
                {
                    "file": "src/utils/conversion_trigger.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "src/utils/dbus_mapper.hpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -3
                },
                {
                    "file": "src/utils/threshold_mixin.hpp",
                    "type": "ADDED",
                    "insertions": 69,
                    "deletions": 0
                },
                {
                    "file": "tests/src/mocks/report_factory_mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "tests/src/mocks/sensor_mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "tests/src/mocks/threshold_mock.hpp",
                    "type": "ADDED",
                    "insertions": 64,
                    "deletions": 0
                },
                {
                    "file": "tests/src/mocks/trigger_factory_mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -1
                },
                {
                    "file": "tests/src/params/report_params.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -6
                },
                {
                    "file": "tests/src/params/trigger_params.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "tests/src/test_discrete_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -5
                },
                {
                    "file": "tests/src/test_metric.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "tests/src/test_numeric_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -4
                },
                {
                    "file": "tests/src/test_on_change_threshold.cpp",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -1
                },
                {
                    "file": "tests/src/test_report_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "tests/src/test_sensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 25,
                    "deletions": 0
                },
                {
                    "file": "tests/src/test_trigger.cpp",
                    "type": "MODIFIED",
                    "insertions": 61,
                    "deletions": -8
                },
                {
                    "file": "tests/src/test_trigger_actions.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "tests/src/test_trigger_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 944,
            "sizeDeletions": 238
        }
    ]
}