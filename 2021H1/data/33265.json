{
    "project": "openbmc/meta-phosphor",
    "branch": "master",
    "id": "I4bb6bd2e693060526d10358934e1cdeeeaea9e52",
    "number": 33265,
    "subject": "sdbus++: Dependency cleanup",
    "owner": {
        "name": "William A. Kennington III",
        "email": "wak@google.com",
        "username": "wak-google"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/meta-phosphor/+/33265",
    "commitMessage": "sdbus++: Dependency cleanup\n\nWe don't depend on any packages anymore at build time and explicitly\ndepends on the python3 versions of libraries when packaged.\n\nChange-Id: I4bb6bd2e693060526d10358934e1cdeeeaea9e52\nSigned-off-by: William A. Kennington III <wak@google.com>\n",
    "createdOn": 1591315536,
    "lastUpdated": 1618608928,
    "open": false,
    "status": "ABANDONED",
    "comments": [
        {
            "timestamp": 1591315536,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1591315588,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1591317906,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 1:\n\nBuild Started https://openpower.xyz/job/run-meta-ci/6922/"
        },
        {
            "timestamp": 1591318029,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://openpower.xyz/job/run-meta-ci/6922/ : FAILURE"
        },
        {
            "timestamp": 1591321484,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Uploaded patch set 2: Patch Set 1 was rebased."
        },
        {
            "timestamp": 1591321531,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1591324113,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 2:\n\nBuild Started https://openpower.xyz/job/run-meta-ci/6926/"
        },
        {
            "timestamp": 1591326360,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://openpower.xyz/job/run-meta-ci/6926/ : SUCCESS"
        },
        {
            "timestamp": 1591327577,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1591329565,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1591428583,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1591428669,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1594817636,
            "reviewer": {
                "name": "Brad Bishop",
                "email": "bradleyb@fuzziesquirrel.com",
                "username": "bradbishop"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1618608928,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Abandoned"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "53256e8625a093978ae82abf249cccd4b02bf431",
            "parents": [
                "dd7cfbd4e010871da8adffceeeb4f01dcf4fd94b"
            ],
            "ref": "refs/changes/65/33265/1",
            "uploader": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "createdOn": 1591315536,
            "author": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "recipes-extended/sdbusplus/sdbus++_git.bb",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -12
                }
            ],
            "sizeInsertions": 3,
            "sizeDeletions": 12
        },
        {
            "number": 2,
            "revision": "a1474ae308c17e0351d442ad19765b1b606dc05e",
            "parents": [
                "4821ef90bc87100f4b929ecdb9fbe58676f7a8eb"
            ],
            "ref": "refs/changes/65/33265/2",
            "uploader": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "createdOn": 1591321484,
            "author": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "recipes-extended/sdbusplus/sdbus++_git.bb",
                    "line": 29,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Totally agree on removing autoconf-archive-native.\n\nI _think_ this causes issues for the SDK.  The SDK doesn't have any such thing as RDEPENDS and so dependencies only get installed if they are DEPENDS.\n\nI looked at the version of sdbusplus_git.bb that was in the 2.6 tag and it has this wording:\n\n# sdbus++ has a handful of runtime dependencies on other python packages.\n# Bitbake doesn't do anything with RDEPENDS in native context because\n# native context doesn't have packages.\n#\n# While technically sdbus++ doesn't require its runtime dependencies to be\n# installed to build, work around the above native context behavior\n# by adding a build dependency so that clients don't have to DEPEND\n# on sdbus++ runtime dependencies manually.\n\nDEPENDS_append_class-native = \" \\\n        python-inflection-native \\\n        python-mako-native \\\n        python-pyyaml-native \\\n        \""
                },
                {
                    "file": "recipes-extended/sdbusplus/sdbus++_git.bb",
                    "line": 29,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I thought about this a little more. Removing these DEPENDS here is the right thing to do as long as they are in python3-sdbus++.  It should be that recipes responsibility to ensure its SDK needs are installed and not this ones."
                },
                {
                    "file": "recipes-extended/sdbusplus/sdbus++_git.bb",
                    "line": 29,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Scratch that... this is python3-sdbus++ but with the now abandoned move."
                },
                {
                    "file": "recipes-extended/sdbusplus/sdbus++_git.bb",
                    "line": 26,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Why the switch from single += format to multiple?  I've been tending to convert them in the other direction so I'm wondering if we have rationale on which way is which.  I don't want to keep fighting back and forth on it.\n\nMy reasons for doing it the other way:\n    - Reduces typing.\n    - Very minor performance improvement by less interpreter operations by bitbake."
                },
                {
                    "file": "recipes-extended/sdbusplus/sdbus++_git.bb",
                    "line": 26,
                    "reviewer": {
                        "name": "Brad Bishop",
                        "email": "bradleyb@fuzziesquirrel.com",
                        "username": "bradbishop"
                    },
                    "message": "I like this guideline as well.  I've added it to my todo list of things to document in the CONTRIBUTING file."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "recipes-extended/sdbusplus/sdbus++_git.bb",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -12
                }
            ],
            "sizeInsertions": 3,
            "sizeDeletions": 12
        }
    ]
}