{
    "project": "openbmc/phosphor-health-monitor",
    "branch": "master",
    "id": "I1b5b9e9c97b37ecdef916712cb9f345858eb1ada",
    "number": 42144,
    "subject": "Associate BMC health sensors with chassis",
    "owner": {
        "name": "Sui Chen",
        "email": "suichen@google.com",
        "username": "quadpixels"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-health-monitor/+/42144",
    "commitMessage": "Associate BMC health sensors with chassis\n\nThis change adds association between the sensors and the bmc, such\nthat the BMC health sensors are ready to be picked up by bmcweb.\n\nTested: Added a BMC in phosphor-inventory, made a few temporary\nchanges to bmcweb so it treats BMCs as a chassis and populates\n/redfish/v1/Chassis/bmc/Sensor entries, set up webui-vue, saw\nthe sensor readings in browser.\n\nChange-Id: I1b5b9e9c97b37ecdef916712cb9f345858eb1ada\nSigned-off-by: Sui Chen <suichen6@gmail.com>\n",
    "createdOn": 1618335419,
    "lastUpdated": 1624995920,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1618335419,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1618335430,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618335541,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Set Ready For Review"
        },
        {
            "timestamp": 1618335621,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/15305/ : SUCCESS"
        },
        {
            "timestamp": 1618336678,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 2: Commit message was updated."
        },
        {
            "timestamp": 1618338851,
            "reviewer": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1618338992,
            "reviewer": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "message": "Patch Set 2:\n\nCan we add association without asio, I had purposefully kept this out of asio call. @patrick, please provide your comment"
        },
        {
            "timestamp": 1618339207,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 3: Commit message was updated."
        },
        {
            "timestamp": 1618341672,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3:\n\n> Patch Set 2:\n> \n> Can we add association without asio, I had purposefully kept this out of asio call. @patrick, please provide your comment\n\nYes, I agree.  There is no need to change this to ASIO just to add an association."
        },
        {
            "timestamp": 1618360933,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Patch Set 3:\n\n(1 comment)\n\n> Patch Set 3:\n> \n> > Patch Set 2:\n> > \n> > Can we add association without asio, I had purposefully kept this out of asio call. @patrick, please provide your comment\n> \n> Yes, I agree.  There is no need to change this to ASIO just to add an association.\n\nI see, and I understand the concern here: adding an io_context appears to add complexity to the main loop.\n\nThe reason I added io_context is to be able to use an sdbusplus::asio::object_server to create the association, and the object_server expects an io_context.\n\nI guess I need to find a way to add the association interfaces without using object_server to avoid adding an io_context and the threads dependency, perhaps by replicating the DBus operations done by the object_server. Is this understanding correct?"
        },
        {
            "timestamp": 1618362598,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3:\n\n> The reason I added io_context is to be able to use an sdbusplus::asio::object_server to create the association, and the object_server expects an io_context.\n> \n> I guess I need to find a way to add the association interfaces without using object_server to avoid adding an io_context and the threads dependency, perhaps by replicating the DBus operations done by the object_server. Is this understanding correct?\n\nThis repository uses phosphor-dbus-interfaces.  Making any object, including an association, is as simple as instantiating an instance of the appropriate C++ class.  There is no need to replicate all the function in object_server."
        },
        {
            "timestamp": 1618363024,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1618443522,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1618443533,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618443677,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1618443688,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618443691,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/15448/ : ABORTED"
        },
        {
            "timestamp": 1618443808,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/15449/ : SUCCESS"
        },
        {
            "timestamp": 1618444458,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1618444473,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618444539,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/15450/ : FAILURE"
        },
        {
            "timestamp": 1618445671,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1618445684,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618445755,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/15452/ : FAILURE"
        },
        {
            "timestamp": 1618445924,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 8."
        },
        {
            "timestamp": 1618445943,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618446041,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/15453/ : SUCCESS"
        },
        {
            "timestamp": 1618447005,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1619798832,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 8:\n\n(2 comments)"
        },
        {
            "timestamp": 1623746263,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 9."
        },
        {
            "timestamp": 1623746275,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1623746318,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/19724/ : SUCCESS"
        },
        {
            "timestamp": 1623746362,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Patch Set 8:\n\n(2 comments)\n\nChanged the association so the sensors are associated with Inventory.Item.Bmc objects rather than Inventory.Item.Chassis objects.\n\nTested with the following temporary changes in BMCWeb (not sure if it's the right way to test but it mostly matches what I think the BMC health sensors would work end-to-end):\n\n1) Added \"xyz.openbmc_project.Inventory.Item.Bmc\" to the interface list to call to collection_util::getCollectionMembers\n2) Added \"xyz.openbmc_project.Inventory.Item.Bmc\" to the GetSubTree DBus method call in the Chassis node's GET method handler\n3) Added \"xyz.openbmc_project.Inventory.Item.Bmc\" to the GetSubTreePaths DBus method call in the getChassis method\n\nThe above essentially tells bmcweb to treat the BMC inventory as a Chassis and populate a Sensor child node. I used the chassis class for testing because if I understand correctly, sensors can only be Chassis' leaf nodes as of current.\n\nAlso, a YAML snippet describing a BMC inventory is added to phosphor-inventory-manager/events.d/:\n\n    - name: Creating BMC at startup\n      description: >\n          Create /system/bmc at startup\n      type: startup\n      actions:\n          - name: createObjects\n            objs:\n             /system/bmc:\n                xyz.openbmc_project.Inventory.Item.Bmc:\n                  Type:\n                    value: \"BMC\"\n                    type: string\n\n\nWith the above changes, BMC health sensors show up in the Health -> Sensors page in WebUI."
        },
        {
            "timestamp": 1623746519,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 10."
        },
        {
            "timestamp": 1623746530,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1623746581,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/19728/ : SUCCESS"
        },
        {
            "timestamp": 1623780039,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 10:\n\n(7 comments)"
        },
        {
            "timestamp": 1623869471,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Patch Set 10:\n\n(7 comments)"
        },
        {
            "timestamp": 1623869475,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 11."
        },
        {
            "timestamp": 1623869486,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1623869542,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/19909/ : SUCCESS"
        },
        {
            "timestamp": 1623869583,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 12."
        },
        {
            "timestamp": 1623869611,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1623869665,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/19910/ : SUCCESS"
        },
        {
            "timestamp": 1623920881,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 13."
        },
        {
            "timestamp": 1623920904,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1623921049,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/19987/ : SUCCESS"
        },
        {
            "timestamp": 1623922295,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Patch Set 13:\n\n(2 comments)\n\nSome updates on the usage of phosphor::logging"
        },
        {
            "timestamp": 1624562214,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 14."
        },
        {
            "timestamp": 1624562217,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Patch Set 13:\n\n(2 comments)"
        },
        {
            "timestamp": 1624562229,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 14: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1624562427,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 14: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/20645/ : FAILURE"
        },
        {
            "timestamp": 1624893592,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 14: -Ok-To-Test"
        },
        {
            "timestamp": 1624893596,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 14: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1624893667,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 14: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/20927/ : SUCCESS"
        },
        {
            "timestamp": 1624995916,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 14: Code-Review+2"
        },
        {
            "timestamp": 1624995920,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Change has been successfully merged by Patrick Williams"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "eb6cd3495b7c8ae8c6f016413507e6f53741129a",
            "parents": [
                "2b231e8aa91a76a7c36f1c70c7e4058a38d0a5f1"
            ],
            "ref": "refs/changes/44/42144/1",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1618335419,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "healthMonitor.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -14
                },
                {
                    "file": "healthMonitor.hpp",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -4
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 49,
            "sizeDeletions": 18
        },
        {
            "number": 2,
            "revision": "7062aace48852be338c288146cbe5b945f32e4f7",
            "parents": [
                "2b231e8aa91a76a7c36f1c70c7e4058a38d0a5f1"
            ],
            "ref": "refs/changes/44/42144/2",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1618336678,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "healthMonitor.cpp",
                    "line": 6,
                    "reviewer": {
                        "name": "Vijay Khemka",
                        "email": "vijaykhemkalinux@gmail.com",
                        "username": "vijaykhemka"
                    },
                    "message": "this has already in .hpp file so not required here"
                },
                {
                    "file": "healthMonitor.cpp",
                    "line": 531,
                    "reviewer": {
                        "name": "Vijay Khemka",
                        "email": "vijaykhemkalinux@gmail.com",
                        "username": "vijaykhemka"
                    },
                    "message": "Is this really required? Is old event call not working?"
                },
                {
                    "file": "healthMonitor.cpp",
                    "line": 531,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "The old event call is working fine, it's because the dependency brought in by the object_server.\n\nThe dependency is as follows:\n1. I added association using an object_server.\n2. object_server requires an sdbusplus::asio::connection.\n3. sdbusplus::asio::connection needs an io_context.\n4. I replaced the original main loop with an io_context event loop.\n\nI feel there should be a better way too and if there is a way to add association without using an object_server, the io_context can be removed."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "healthMonitor.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -14
                },
                {
                    "file": "healthMonitor.hpp",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -4
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 49,
            "sizeDeletions": 18
        },
        {
            "number": 3,
            "revision": "31a4789a2e08e40273482f2a0c15326cc2290fdf",
            "parents": [
                "2b231e8aa91a76a7c36f1c70c7e4058a38d0a5f1"
            ],
            "ref": "refs/changes/44/42144/3",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1618339207,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "healthMonitor.hpp",
                    "line": 29,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "You can add the sdbusplus::xyz::openbmc_project::server::Association type to this template list, just like how ValueIface and the other two interfaces.  Then this object will also become a Association::server::Definitions with an 'associations' method that you can use to set the property."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "healthMonitor.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -14
                },
                {
                    "file": "healthMonitor.hpp",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -4
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 49,
            "sizeDeletions": 18
        },
        {
            "number": 4,
            "revision": "ebb4e6be6d711f1af8a8f644e7697418231c3aa2",
            "parents": [
                "2b231e8aa91a76a7c36f1c70c7e4058a38d0a5f1"
            ],
            "ref": "refs/changes/44/42144/4",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1618443522,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "healthMonitor.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -6
                },
                {
                    "file": "healthMonitor.hpp",
                    "type": "MODIFIED",
                    "insertions": 69,
                    "deletions": -11
                }
            ],
            "sizeInsertions": 81,
            "sizeDeletions": 17
        },
        {
            "number": 5,
            "revision": "ca59c35eed2d027001fb007cc6fd346025644313",
            "parents": [
                "2b231e8aa91a76a7c36f1c70c7e4058a38d0a5f1"
            ],
            "ref": "refs/changes/44/42144/5",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1618443677,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "healthMonitor.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -6
                },
                {
                    "file": "healthMonitor.hpp",
                    "type": "MODIFIED",
                    "insertions": 62,
                    "deletions": -11
                }
            ],
            "sizeInsertions": 74,
            "sizeDeletions": 17
        },
        {
            "number": 6,
            "revision": "9d4605a1dfcc05fc70b3edc728feeda9a3899631",
            "parents": [
                "2b231e8aa91a76a7c36f1c70c7e4058a38d0a5f1"
            ],
            "ref": "refs/changes/44/42144/6",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1618444458,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "healthMonitor.hpp",
                    "line": 132,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "Some notes, when a user loads WebUI-Vue's Sensors page:\n\n1) WebUI sends request GET /redfish/v1/Chassis/ to get the list of chassis\n2) BMCWeb enters collection_util::getCollectionMembers\n3) BMCWeb sends a DBus method call that is equivalent to\n\n  dbus-send --system --print-reply --dest=xyz.openbmc_project.ObjectMapper /xyz/openbmc_project/object_mapper xyz.openbmc_project.ObjectMapper.GetSubTreePaths string:\"/xyz/openbmc_project/inventory\" int32:0 array:string:\"xyz.openbmc_project.Inventory.Item.Board\",\"xyz.openbmc_project.Inventory.Item.Chassis\"\n\nOn my test QEMU setup that's configured with one chassis named \"chassis\", the response will be a string array of size 1:\n\n  [\"/xyz/openbmc_project/inventory/system/chassis\"]\n\n4) WebUI checks the response and sends GET /redfish/v1/Chassis/<ChassisID>/Sensors for each of the chassis\n\n5) For each URI above, BMCWeb enters Chassis::doGet\n6) BMCWeb sends a DBus method call that is equivalent to\n  dbus-send --system --print-reply --dest=xyz.openbmc_project.ObjectMapper /xyz/openbmc_project/inventory/system/chassis/all_sensors org.freedesktop.DBus.Properties.Get string:\"xyz.openbmc_project.Association\" string:\"endpoints\"\n\nThe DBus response on my test setup is:\n\n  variant array [\n    string \"/xyz/openbmc_project/sensors/utilization/CPU\"\n    string \"/xyz/openbmc_project/sensors/utilization/Storage_RW\"\n    string \"/xyz/openbmc_project/sensors/utilization/Memory\"\n  ]\n\n7) WebUI-Vue sees these sensors.\n\nThe association phase largely follows what dbus-sensors is doing (https://github.com/openbmc/dbus-sensors/blob/master/src/Utils.cpp#L437), but I'm not quite sure what the value of invSysPaths is and will continue to look into it."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "healthMonitor.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -6
                },
                {
                    "file": "healthMonitor.hpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": -11
                }
            ],
            "sizeInsertions": 70,
            "sizeDeletions": 17
        },
        {
            "number": 7,
            "revision": "8cfc84ce704c5be8d8730e259c52a608666e106c",
            "parents": [
                "2b231e8aa91a76a7c36f1c70c7e4058a38d0a5f1"
            ],
            "ref": "refs/changes/44/42144/7",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1618445671,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "healthMonitor.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -6
                },
                {
                    "file": "healthMonitor.hpp",
                    "type": "MODIFIED",
                    "insertions": 60,
                    "deletions": -11
                }
            ],
            "sizeInsertions": 72,
            "sizeDeletions": 17
        },
        {
            "number": 8,
            "revision": "63b607aef20d008ab0a80f84c1d75004bb78f8e5",
            "parents": [
                "2b231e8aa91a76a7c36f1c70c7e4058a38d0a5f1"
            ],
            "ref": "refs/changes/44/42144/8",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1618445924,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "healthMonitor.hpp",
                    "line": 123,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I think there is libmapper that you could use also, isn't there?"
                },
                {
                    "file": "healthMonitor.hpp",
                    "line": 123,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "I assume libmapper refers to openbmc/phosphor-objmgr, if my understanding is correct, it seems I need to do the following in order to make use of libmapper:\n\n1) It looks for my purpose, the closest match in libmapper is \"mapper_subtree_async\".\n2) \"mapper_subtree_async\" accepts an \"op\" parameter that controls its operation. So far there is only one op available: \"Wait until all objects that has some interface to disappear from the namespace\". This is not what I need as I only need to look up the SubTreePaths for objects that has the Inventory.Item.Bmc interface.\n3) It appears \"async_subtree_getpaths\" (used by mapper_subtree_async) is able to fetch the subtree paths, however this function is defined static in mapper.c and therefore not easily accessible to the outside.\n4) It turns out \"async_subtree_getpaths\" is just calling \"sd_bus_call_method_async\". This means if I bridge all the gaps to make use of libmapper by calling async_subtree_getpaths, I would be doing extra work just to end up with the same thing as what I'm already doing: make a method call to the ObjectMapper to retrieve the subtree paths.\n5) On top of this, I need to find a way to convert an sdbusplus::bus::bus& to a sd_bus* since libmapper uses the latter. It appears the sdbusplus::bus::bus::get() method is protected so this usage is not supported/encouraged?"
                },
                {
                    "file": "healthMonitor.hpp",
                    "line": 136,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I think we need to do something here to be more specific about the Chassis we're looking for being the one representing the BMC itself.  Should this be the Inventory.Item.BMC?\n\nWe have a multi-host system we are supporting which will have 5 Chassis objects.  These sensors are only associated with the full system chassis / BMC, so we shouldn't make associations into the compute card chassis element."
                },
                {
                    "file": "healthMonitor.hpp",
                    "line": 136,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "Changed the criteria for subtree search to \"xyz.openbmc_project.Inventory.Item.Bmc\". This means some logic in BMCWeb needs to be updated accordingly to read these sensors, I guess this could go to some separate discussion?"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "healthMonitor.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -6
                },
                {
                    "file": "healthMonitor.hpp",
                    "type": "MODIFIED",
                    "insertions": 60,
                    "deletions": -11
                }
            ],
            "sizeInsertions": 72,
            "sizeDeletions": 17
        },
        {
            "number": 9,
            "revision": "3597515cb38adfe237b3fc0e060f98af2a1bc080",
            "parents": [
                "2b231e8aa91a76a7c36f1c70c7e4058a38d0a5f1"
            ],
            "ref": "refs/changes/44/42144/9",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1623746263,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "healthMonitor.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -6
                },
                {
                    "file": "healthMonitor.hpp",
                    "type": "MODIFIED",
                    "insertions": 59,
                    "deletions": -11
                }
            ],
            "sizeInsertions": 71,
            "sizeDeletions": 17
        },
        {
            "number": 10,
            "revision": "9f26a69fd0a39936e1b7b5b519bab263aebb9aed",
            "parents": [
                "2b231e8aa91a76a7c36f1c70c7e4058a38d0a5f1"
            ],
            "ref": "refs/changes/44/42144/10",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1623746519,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "healthMonitor.cpp",
                    "line": 271,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Why are you forcing a conversion to string_view here?  Isn't 'auto&' sufficient?"
                },
                {
                    "file": "healthMonitor.cpp",
                    "line": 271,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "Switched to auto&."
                },
                {
                    "file": "healthMonitor.cpp",
                    "line": 273,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I'm not sure if this is really doing an emplace since none of the elements here are std::move'd, so you should probably use 'push_back' to avoid confusion that you're actually doing something that performs better than push_back does."
                },
                {
                    "file": "healthMonitor.cpp",
                    "line": 273,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "Switched to push_back."
                },
                {
                    "file": "healthMonitor.hpp",
                    "line": 136,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Can you forward declare this at the top (and ensure initialization with {})?  It was hard to see with no whitespace to separate it.  The definition seems separate from the rest of the sequence from 124-137."
                },
                {
                    "file": "healthMonitor.hpp",
                    "line": 136,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "Moved to the top."
                },
                {
                    "file": "healthMonitor.hpp",
                    "line": 137,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Please use C++ == operator on a string for clarity."
                },
                {
                    "file": "healthMonitor.hpp",
                    "line": 137,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "Done."
                },
                {
                    "file": "healthMonitor.hpp",
                    "line": 143,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Any reason to not use container foreach?"
                },
                {
                    "file": "healthMonitor.hpp",
                    "line": 143,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "I wanted to print the index of the IDs.\nSwitched to container foreach."
                },
                {
                    "file": "healthMonitor.hpp",
                    "line": 146,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This cast doesn't seem necessary since the operator+ will return a string anyhow, right?"
                },
                {
                    "file": "healthMonitor.hpp",
                    "line": 146,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "Removed the cast."
                },
                {
                    "file": "healthMonitor.hpp",
                    "line": 147,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Needed?  If it is, it seems like an obvious thing for us to get fixed in phosphor-logging."
                },
                {
                    "file": "healthMonitor.hpp",
                    "line": 147,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "Yes this is correct, the first argument passed to phosphor::logging::log must be a C-string (https://github.com/openbmc/phosphor-logging/blob/master/phosphor-logging/log.hpp#L159).\n\nThe entry() function doesn't seem to produce any contents in the system log for some reason, so `log(\"...\", entry(\"...\"))` does not work, that's why I ended up with concatenating a std::string.\n\nI guess this is not the best way to format a log and would like to know what I can help in testing phosphor-logging changes."
                },
                {
                    "file": "healthMonitor.hpp",
                    "line": 147,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "Some findings regarding phosphor-logging:\n\n1) The log function expects a const char* or char* as the first parameter, I guess to make it accept std::string as the first parameter one could specialize the template in log.hpp:\n\n    template<level L, typename... Entry>\n    void log(const std::string& msg, Entry... e) {\n      log<L>(msg.c_str(), std::forward<Entry>(e)...);\n    }\n\n2) Some ways of sending a log message appear to be supported by using sd_journal_send but are not easy with phosphor::logging::log, one example is as follows:\n\n    sd_journal_send(\"MESSAGE=%d+%d=%d(%s)\", 1, 2, 3, \"hello\");\n\n    (should send \"1+2=3(hello)\" to the system journal)\n\nThis appears to be hard to achieve using phosphor::logging because a) phosphor::logging expects all parameters in an entry to be const char* or char*, so the user has to call std::to_string on the numbers; b) it expects Msg to be a C-string, and puts the transaction tuple immediately after msg_tuple, so the user won't have an opportunity to add parameters to msg_tuple.\n\nIt appears it's possible to \"abuse\" the phosphor::logging::log function to achieve the effect in the example by a) overwriting the MESSAGE variable with a new entry, and b) use std::tuple instead of entry to circumvent the requirement that all entry elements must be C-strings (added in patchset 13.)"
                },
                {
                    "file": "healthMonitor.hpp",
                    "line": 147,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "Removed the variables in the latest change."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "healthMonitor.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -6
                },
                {
                    "file": "healthMonitor.hpp",
                    "type": "MODIFIED",
                    "insertions": 57,
                    "deletions": -11
                }
            ],
            "sizeInsertions": 69,
            "sizeDeletions": 17
        },
        {
            "number": 11,
            "revision": "38dc4d866f73b6e98d17360a9847d1869723b65b",
            "parents": [
                "2b231e8aa91a76a7c36f1c70c7e4058a38d0a5f1"
            ],
            "ref": "refs/changes/44/42144/11",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1623869475,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "healthMonitor.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -6
                },
                {
                    "file": "healthMonitor.hpp",
                    "type": "MODIFIED",
                    "insertions": 66,
                    "deletions": -11
                }
            ],
            "sizeInsertions": 78,
            "sizeDeletions": 17
        },
        {
            "number": 12,
            "revision": "f8feed1cbcfbd06e6e887400b2fe9dead1d40742",
            "parents": [
                "2b231e8aa91a76a7c36f1c70c7e4058a38d0a5f1"
            ],
            "ref": "refs/changes/44/42144/12",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1623869583,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "healthMonitor.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -6
                },
                {
                    "file": "healthMonitor.hpp",
                    "type": "MODIFIED",
                    "insertions": 67,
                    "deletions": -11
                }
            ],
            "sizeInsertions": 79,
            "sizeDeletions": 17
        },
        {
            "number": 13,
            "revision": "a7f61e569b43c35412f36f739af748de8476ffc9",
            "parents": [
                "2b231e8aa91a76a7c36f1c70c7e4058a38d0a5f1"
            ],
            "ref": "refs/changes/44/42144/13",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1623920881,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "healthMonitor.hpp",
                    "line": 153,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "Not sure if this is a good usage of phosphor::logging::log but it achieves the desired effect, same for the call on line 160."
                },
                {
                    "file": "healthMonitor.hpp",
                    "line": 153,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "Removed the variables in the latest change."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "healthMonitor.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -6
                },
                {
                    "file": "healthMonitor.hpp",
                    "type": "MODIFIED",
                    "insertions": 72,
                    "deletions": -11
                }
            ],
            "sizeInsertions": 84,
            "sizeDeletions": 17
        },
        {
            "number": 14,
            "revision": "670cc1300531286ee5a3948460266fffd69f50d9",
            "parents": [
                "2b231e8aa91a76a7c36f1c70c7e4058a38d0a5f1"
            ],
            "ref": "refs/changes/44/42144/14",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1624562214,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "healthMonitor.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -6
                },
                {
                    "file": "healthMonitor.hpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": -11
                }
            ],
            "sizeInsertions": 70,
            "sizeDeletions": 17
        }
    ]
}