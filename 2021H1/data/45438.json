{
    "project": "openbmc/phosphor-sel-logger",
    "branch": "master",
    "id": "I9037aba409eaf99fa06fd8ea84ef888669966eea",
    "number": 45438,
    "subject": "Add Clear method",
    "owner": {
        "name": "Charles Boyer",
        "email": "Charles.Boyer@fii-usa.com",
        "username": "boyercee"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-sel-logger/+/45438",
    "commitMessage": "Add Clear method\n\nThere was an issue where the first SEL records share Record ID 1 if\nthey are generated around the same time. The cause was determined to\nbe that several records get assigned Record ID 1 because the\n/var/log/ipmi_sel was checked and missing. The file was removed by\nthe IPMI handlers that use this file to store the SEL. This does not\napply to IPMI handlers that use phosphor-logging to store SEL entries.\nAlthough, a future iteration could add support for removing SEL\nentries in phosphor-logging.\n\nThis change adds a method to clear the IPMI SEL that removes the\n/var/log/ipmi_sel and refreshes rsyslog. The IPMI handlers that use\nthis file would no longer be responsible for directly clearing SEL.\nNow that phosphor-sel-logger can handle the clear of SEL, the logic\nfor Record ID is simplified.\n\nThe Clear method is put behind an optional flag for systems\nexperiencing the issue with Record ID 1 and use ipmi_sel. This\nimplementation is alternative to the efforts in\nhttps://gerrit.openbmc-project.xyz/c/openbmc/phosphor-sel-logger/+/44533\nmaking it obsolete.\n\nNote:\n - https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-dbus-interfaces\n   /+/45402 is required.\n - Do not use send-to-logger option with clears-sel\n\nTested with clears-sel:\n - The Clear method will remove the /var/log/ipmi_sel files and refresh\n   rsyslog and Record ID count.\n - Each record has its own unique Record ID.\n - New records added after restarting xyz.openbmc_project.Logging.IPMI\n   will continue Record ID count where it left off.\n\nSigned-off-by: Charles Boyer <Charles.Boyer@fii-usa.com>\nChange-Id: I9037aba409eaf99fa06fd8ea84ef888669966eea\n",
    "createdOn": 1627668230,
    "lastUpdated": 1629122440,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1627668230,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1627668250,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1627668369,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1627668380,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1627668383,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/23370/ : ABORTED"
        },
        {
            "timestamp": 1627668443,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/23371/ : SUCCESS"
        },
        {
            "timestamp": 1627668847,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Patch Set 3: Commit message was updated."
        },
        {
            "timestamp": 1627683594,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1627919963,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1627919974,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1627920069,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/23564/ : SUCCESS"
        },
        {
            "timestamp": 1627920361,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1628028383,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 4: Code-Review+1\n\n(2 comments)\n\nIt's looking good.  It may be good to get another +1 before I give +2.  Thanks!"
        },
        {
            "timestamp": 1628029275,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Patch Set 5: Published edit on patch set 4."
        },
        {
            "timestamp": 1628029289,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1628029362,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/23718/ : SUCCESS"
        },
        {
            "timestamp": 1628029427,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1628105110,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 5: Code-Review+1\n\nLeaving this for a bit to get other feedback and preferably another +1 before giving +2."
        },
        {
            "timestamp": 1628289020,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1628289031,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1628289099,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/24013/ : FAILURE"
        },
        {
            "timestamp": 1628519476,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1628519490,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1628519521,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/24055/ : FAILURE"
        },
        {
            "timestamp": 1628521067,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Uploaded patch set 8."
        },
        {
            "timestamp": 1628521080,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1628521113,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/24059/ : FAILURE"
        },
        {
            "timestamp": 1628524267,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Patch Set 8:\n\nWhy would CI complain as if the clearSelLogFiles function is not declared before it is used in main when it is indeed declared and defined before its usage in main? It is similar structure to the example in https://github.com/openbmc/sdbusplus/blob/533218b426ce2b393248591c234e2bb734fd0c43/example/asio-example.cpp#L247.\n\nIn Patchset 5, CI did not complain about the issue, but in Patchset 6, it complains. The latter Patchsets 7 and 8 have been my attempts to rectify for CI, and I improved the name of the clearSel function to clearSelLogFiles, which is more precise to its purpose."
        },
        {
            "timestamp": 1628538741,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 8:\n\n> Patch Set 8:\n> \n> Why would CI complain as if the clearSelLogFiles function is not declared before it is used in main when it is indeed declared and defined before its usage in main? It is similar structure to the example in https://github.com/openbmc/sdbusplus/blob/533218b426ce2b393248591c234e2bb734fd0c43/example/asio-example.cpp#L247.\n> \n> In Patchset 5, CI did not complain about the issue, but in Patchset 6, it complains. The latter Patchsets 7 and 8 have been my attempts to rectify for CI, and I improved the name of the clearSel function to clearSelLogFiles, which is more precise to its purpose.\n\nIt might be because clearSelLogFiles() is marked as static, so it can't be passed as the handler?\n\nYou could try making it non-static. Or, I think what I have done in other places is passed it in as a lambda:\nifaceAddSel->register_method(\"Clear\", [](){clearSelLogFiles();});"
        },
        {
            "timestamp": 1628540249,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Uploaded patch set 9."
        },
        {
            "timestamp": 1628540261,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1628540283,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/24081/ : FAILURE"
        },
        {
            "timestamp": 1628540373,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Uploaded patch set 10."
        },
        {
            "timestamp": 1628540386,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1628540414,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/24082/ : FAILURE"
        },
        {
            "timestamp": 1628540877,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 10:\n\nHmm..."
        },
        {
            "timestamp": 1628540997,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Uploaded patch set 11."
        },
        {
            "timestamp": 1628541011,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1628541040,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/24083/ : FAILURE"
        },
        {
            "timestamp": 1628547948,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 11:\n\n(1 comment)\n\nOkay, I think I found it.  It looks like the meson CI job may set all the build flags to true.  There is a SEL_LOGGER_SEND_TO_LOGGING_SERVICE build flag that wraps the clearSelLogFiles() function and your new flag in a \"#ifndef\", so it is getting excluded from the build.\n\nI guess you could move your function outside of the \"#ifndef SEL_LOGGER_SEND_TO_LOGGING_SERVICE\" on line 65 or add a check for SEL_LOGGER_SEND_TO_LOGGING_SERVICE where you register the \"Clear\" method.  There may be a better option that I don't see."
        },
        {
            "timestamp": 1628548867,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Patch Set 11:\n\n> Patch Set 11:\n> \n> (1 comment)\n> \n> Okay, I think I found it.  It looks like the meson CI job may set all the build flags to true.  There is a SEL_LOGGER_SEND_TO_LOGGING_SERVICE build flag that wraps the clearSelLogFiles() function and your new flag in a \"#ifndef\", so it is getting excluded from the build.\n> \n> I guess you could move your function outside of the \"#ifndef SEL_LOGGER_SEND_TO_LOGGING_SERVICE\" on line 65 or add a check for SEL_LOGGER_SEND_TO_LOGGING_SERVICE where you register the \"Clear\" method.  There may be a better option that I don't see.\n\nI think you are right because I have issue if I enable 'send-to-logger', which enables SEL_LOGGER_SEND_TO_LOGGING_SERVICE.\n\nThe reason I made it so that clears-sel is exclusive from send-to-logger was awareness that the implementation of Clear method will not clear phosphor-logging SEL entries. Though the ability to clear both phosphor-logging and ipmi_sel could be added later, but not in this commit. Therefore, I will separate the implementation from the SEL_LOGGER_SEND_TO_LOGGING_SERVICE wrap because that should not break the code."
        },
        {
            "timestamp": 1628607666,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Uploaded patch set 12."
        },
        {
            "timestamp": 1628607680,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1628607767,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/24152/ : SUCCESS"
        },
        {
            "timestamp": 1628607978,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Patch Set 12:\n\n> Patch Set 11:\n> \n> > Patch Set 11:\n> > \n> > (1 comment)\n> > \n> > Okay, I think I found it.  It looks like the meson CI job may set all the build flags to true.  There is a SEL_LOGGER_SEND_TO_LOGGING_SERVICE build flag that wraps the clearSelLogFiles() function and your new flag in a \"#ifndef\", so it is getting excluded from the build.\n> > \n> > I guess you could move your function outside of the \"#ifndef SEL_LOGGER_SEND_TO_LOGGING_SERVICE\" on line 65 or add a check for SEL_LOGGER_SEND_TO_LOGGING_SERVICE where you register the \"Clear\" method.  There may be a better option that I don't see.\n> \n> I think you are right because I have issue if I enable 'send-to-logger', which enables SEL_LOGGER_SEND_TO_LOGGING_SERVICE.\n> \n> The reason I made it so that clears-sel is exclusive from send-to-logger was awareness that the implementation of Clear method will not clear phosphor-logging SEL entries. Though the ability to clear both phosphor-logging and ipmi_sel could be added later, but not in this commit. Therefore, I will separate the implementation from the SEL_LOGGER_SEND_TO_LOGGING_SERVICE wrap because that should not break the code.\n\nI ended up checking for SEL_LOGGER_SEND_TO_LOGGING_SERVICE before registering \"Clear\" method because, alternatively, there would be duplicate or similar function definitions defined under different wrappings. Added a note in the description advising that send-to-logging is not used with clears-sel."
        },
        {
            "timestamp": 1628617615,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Patch Set 12:\n\n(1 comment)"
        },
        {
            "timestamp": 1628626667,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 12: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1628626701,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 12:\n\nLooks good.  It looks like it doesn't need the forward declaration anymore.  Does it build without it?"
        },
        {
            "timestamp": 1628631379,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Uploaded patch set 13."
        },
        {
            "timestamp": 1628631392,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1628631461,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/24168/ : SUCCESS"
        },
        {
            "timestamp": 1628631565,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Patch Set 13:\n\n(1 comment)"
        },
        {
            "timestamp": 1628631842,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 13: Code-Review+2"
        },
        {
            "timestamp": 1629122440,
            "reviewer": {
                "name": "Mohaimen Alsamarai",
                "email": "mohaimen.alsamarai@fii-na.com",
                "username": "MohaimenAlsamarai"
            },
            "message": "Change has been successfully rebased and submitted as 9f476e82f72e78d2be6cdeb95f7d5552c19d97a7 by Mohaimen Alsamarai"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "874323995806257a5dc80ab32114c808252bd5a1",
            "parents": [
                "e9da2599f10f1b696f61c97f8c8036acfde05e18"
            ],
            "ref": "refs/changes/38/45438/1",
            "uploader": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "createdOn": 1627668230,
            "author": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 37,
                    "deletions": 0
                },
                {
                    "file": "CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "src/sel_logger.cpp",
                    "type": "MODIFIED",
                    "insertions": 45,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 52,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "a763b3391550eeb7794a1f07ad797b06b9600950",
            "parents": [
                "e9da2599f10f1b696f61c97f8c8036acfde05e18"
            ],
            "ref": "refs/changes/38/45438/2",
            "uploader": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "createdOn": 1627668369,
            "author": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 37,
                    "deletions": 0
                },
                {
                    "file": "CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "src/sel_logger.cpp",
                    "type": "MODIFIED",
                    "insertions": 43,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 50,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "fb1b854fe513473a56883f91c27a74439cf03979",
            "parents": [
                "e9da2599f10f1b696f61c97f8c8036acfde05e18"
            ],
            "ref": "refs/changes/38/45438/3",
            "uploader": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "createdOn": 1627668847,
            "author": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "src/sel_logger.cpp",
                    "line": 148,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "I have been told that we prefer \"\\n\" over std::endl as it avoids extra buffer flushes."
                },
                {
                    "file": "src/sel_logger.cpp",
                    "line": 148,
                    "reviewer": {
                        "name": "Charles Boyer",
                        "email": "Charles.Boyer@fii-usa.com",
                        "username": "boyercee"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/sel_logger.cpp",
                    "line": 156,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "I think you still need initializeRecordId().  Without this, each time the BMC or phosphor-sel-logger application restarts, won't the record IDs reset to 0 instead of starting where they left off?"
                },
                {
                    "file": "src/sel_logger.cpp",
                    "line": 156,
                    "reviewer": {
                        "name": "Charles Boyer",
                        "email": "Charles.Boyer@fii-usa.com",
                        "username": "boyercee"
                    },
                    "message": "Acknowledged and changed, but I do not want getNewRecordId to use initializeRecordId because I sourced this as the issue with multiple entries sharing Record Id 1 in my system. Therefore, clearing the SEL or restarting service will execute initializeRecordId once in Patchset 4."
                },
                {
                    "file": "src/sel_logger.cpp",
                    "line": 156,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "That's fair.  initializeRecordId() was only called to set a static, so it should only have executed once on startup.  I think the check below on line 158 is where it saw that there were no log files present and set the ID to 1 each time, but that check is also removed, so it looks good to me."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": "CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "src/sel_logger.cpp",
                    "type": "MODIFIED",
                    "insertions": 43,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 50,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "fa21ce90d2e83e420d8f824677802f5d6db0748a",
            "parents": [
                "e9da2599f10f1b696f61c97f8c8036acfde05e18"
            ],
            "ref": "refs/changes/38/45438/4",
            "uploader": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "createdOn": 1627919963,
            "author": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/sel_logger.cpp",
                    "line": 133,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "It looks like it ends up the same, but I think you can just set to selInvalidRecID here to avoid looking for the files that were just deleted?"
                },
                {
                    "file": "src/sel_logger.cpp",
                    "line": 133,
                    "reviewer": {
                        "name": "Charles Boyer",
                        "email": "Charles.Boyer@fii-usa.com",
                        "username": "boyercee"
                    },
                    "message": "Good point because initializeRecordId() will return selInvalidRecID here."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 42,
                    "deletions": 0
                },
                {
                    "file": "CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "src/sel_logger.cpp",
                    "type": "MODIFIED",
                    "insertions": 43,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 50,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "f714e10a7b5f6b8972f2bb57ca9ea15a72e282f0",
            "parents": [
                "e9da2599f10f1b696f61c97f8c8036acfde05e18"
            ],
            "ref": "refs/changes/38/45438/5",
            "uploader": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "createdOn": 1628029275,
            "author": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 42,
                    "deletions": 0
                },
                {
                    "file": "CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "src/sel_logger.cpp",
                    "type": "MODIFIED",
                    "insertions": 43,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 50,
            "sizeDeletions": 0
        },
        {
            "number": 6,
            "revision": "4afa7bf4126bd12f52134861e93eed970a422034",
            "parents": [
                "e295fd9d6f7572b49b2c6b72e715a01eb68807d0"
            ],
            "ref": "refs/changes/38/45438/6",
            "uploader": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "createdOn": 1628289020,
            "author": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 42,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "src/sel_logger.cpp",
                    "type": "MODIFIED",
                    "insertions": 43,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 48,
            "sizeDeletions": 0
        },
        {
            "number": 7,
            "revision": "4de90cf97a803de98622c9ca90a634d8c91ca5ab",
            "parents": [
                "e295fd9d6f7572b49b2c6b72e715a01eb68807d0"
            ],
            "ref": "refs/changes/38/45438/7",
            "uploader": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "createdOn": 1628519476,
            "author": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 42,
                    "deletions": 0
                },
                {
                    "file": "include/sel_logger.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "src/sel_logger.cpp",
                    "type": "MODIFIED",
                    "insertions": 43,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 51,
            "sizeDeletions": 0
        },
        {
            "number": 8,
            "revision": "d7db5e8b5577e047e929d294826cdcf1e2c18c83",
            "parents": [
                "e295fd9d6f7572b49b2c6b72e715a01eb68807d0"
            ],
            "ref": "refs/changes/38/45438/8",
            "uploader": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "createdOn": 1628521067,
            "author": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 42,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "src/sel_logger.cpp",
                    "type": "MODIFIED",
                    "insertions": 45,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 50,
            "sizeDeletions": 0
        },
        {
            "number": 9,
            "revision": "958cb4a153a7f5a1d0026703aede9291e005bc36",
            "parents": [
                "e295fd9d6f7572b49b2c6b72e715a01eb68807d0"
            ],
            "ref": "refs/changes/38/45438/9",
            "uploader": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "createdOn": 1628540249,
            "author": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 42,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "src/sel_logger.cpp",
                    "type": "MODIFIED",
                    "insertions": 45,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 50,
            "sizeDeletions": 0
        },
        {
            "number": 10,
            "revision": "3e1296bfdea49d59b86a9316b77601c8a333b1a4",
            "parents": [
                "e295fd9d6f7572b49b2c6b72e715a01eb68807d0"
            ],
            "ref": "refs/changes/38/45438/10",
            "uploader": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "createdOn": 1628540373,
            "author": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 42,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "src/sel_logger.cpp",
                    "type": "MODIFIED",
                    "insertions": 45,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 50,
            "sizeDeletions": 0
        },
        {
            "number": 11,
            "revision": "94534602430c3842e185469f4eba71965d371f5c",
            "parents": [
                "e295fd9d6f7572b49b2c6b72e715a01eb68807d0"
            ],
            "ref": "refs/changes/38/45438/11",
            "uploader": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "createdOn": 1628540997,
            "author": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/sel_logger.cpp",
                    "line": 65,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "It looks like clearSelLogFiles() is wrapped in this ifndef that is also set as part of the meson CI job, so it is removing the function during the build."
                },
                {
                    "file": "src/sel_logger.cpp",
                    "line": 65,
                    "reviewer": {
                        "name": "Charles Boyer",
                        "email": "Charles.Boyer@fii-usa.com",
                        "username": "boyercee"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 42,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "src/sel_logger.cpp",
                    "type": "MODIFIED",
                    "insertions": 45,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 50,
            "sizeDeletions": 0
        },
        {
            "number": 12,
            "revision": "8d2753e5bb56dfcb186bacf674942bef16c38bf5",
            "parents": [
                "e295fd9d6f7572b49b2c6b72e715a01eb68807d0"
            ],
            "ref": "refs/changes/38/45438/12",
            "uploader": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "createdOn": 1628607666,
            "author": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/sel_logger.cpp",
                    "line": 118,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "I don't think you need this forward declaration anymore."
                },
                {
                    "file": "src/sel_logger.cpp",
                    "line": 118,
                    "reviewer": {
                        "name": "Charles Boyer",
                        "email": "Charles.Boyer@fii-usa.com",
                        "username": "boyercee"
                    },
                    "message": "Agreed, and it can build without this."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 43,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "src/sel_logger.cpp",
                    "type": "MODIFIED",
                    "insertions": 47,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 52,
            "sizeDeletions": 0
        },
        {
            "number": 13,
            "revision": "09a7c6aeea6b50f4d81c57a9068750420440ef2c",
            "parents": [
                "e295fd9d6f7572b49b2c6b72e715a01eb68807d0"
            ],
            "ref": "refs/changes/38/45438/13",
            "uploader": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "createdOn": 1628631379,
            "author": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 43,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "src/sel_logger.cpp",
                    "type": "MODIFIED",
                    "insertions": 45,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 50,
            "sizeDeletions": 0
        },
        {
            "number": 14,
            "revision": "9f476e82f72e78d2be6cdeb95f7d5552c19d97a7",
            "parents": [
                "f0243dc62fc4979d46e42276cd98fb41d2c3e2a1"
            ],
            "ref": "refs/changes/38/45438/14",
            "uploader": {
                "name": "Mohaimen Alsamarai",
                "email": "mohaimen.alsamarai@fii-na.com",
                "username": "MohaimenAlsamarai"
            },
            "createdOn": 1629122440,
            "author": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 43,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "src/sel_logger.cpp",
                    "type": "MODIFIED",
                    "insertions": 45,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 50,
            "sizeDeletions": 0
        }
    ]
}