{
    "project": "openbmc/x86-power-control",
    "branch": "master",
    "id": "I8ac2c260280cf4edec8800e8e2ee12159748f24e",
    "number": 40108,
    "subject": "Add option to use PLT_RST for warm reset detection",
    "owner": {
        "name": "Jason Bills",
        "email": "jason.m.bills@linux.intel.com",
        "username": "jmbills"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/x86-power-control/+/40108",
    "commitMessage": "Add option to use PLT_RST for warm reset detection\n\nTo support platforms that provide a PLT_RST eSPI signal,\nthis change adds an option to detect warm resets from the\neSPI PLT_RST signal instead of POST Complete.\n\nThe eSPI PLT_RST signal is provided by the\nxyz.openbmc_project.Host.Misc.Manager service.\n\nTested:\nConfirmed that warm reset can be detected based on PLT_RST\nchanges.\n\nChange-Id: I8ac2c260280cf4edec8800e8e2ee12159748f24e\nSigned-off-by: Jason M. Bills <jason.m.bills@linux.intel.com>\n",
    "createdOn": 1611872678,
    "lastUpdated": 1615252771,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1611872678,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1611872691,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1611872734,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/11540/ : SUCCESS"
        },
        {
            "timestamp": 1611872747,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Set Work In Progress"
        },
        {
            "timestamp": 1611966070,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1611966088,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1611966127,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/11652/ : SUCCESS"
        },
        {
            "timestamp": 1611966693,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 2:\n\nThis change is ready for review."
        },
        {
            "timestamp": 1612115623,
            "reviewer": {
                "name": "Saravanan Palanisamy",
                "email": "saravanan.palanisamy@linux.intel.com",
                "username": "saravanan-palanisamy"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1612301327,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1612628519,
            "reviewer": {
                "name": "Saravanan Palanisamy",
                "email": "saravanan.palanisamy@linux.intel.com",
                "username": "saravanan-palanisamy"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1612900035,
            "reviewer": {
                "name": "Vijay Khemka",
                "email": "vijaykhemkalinux@gmail.com",
                "username": "vijaykhemka"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1612909716,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1612909727,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1612909772,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/12205/ : SUCCESS"
        },
        {
            "timestamp": 1612909776,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 3:\n\n(2 comments)\n\nAdded a note to the README.md for this option.  Thanks!"
        },
        {
            "timestamp": 1613376566,
            "reviewer": {
                "name": "Richard Marian Thomaiyar",
                "email": "richard.marian.thomaiyar@linux.intel.com",
                "username": "rthomaiy"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1613621304,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1613792337,
            "reviewer": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1614365940,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1614365964,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1614365998,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/13106/ : SUCCESS"
        },
        {
            "timestamp": 1614366089,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 4:\n\n(3 comments)"
        },
        {
            "timestamp": 1614389719,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1614886287,
            "reviewer": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "message": "Patch Set 4:\n\n(3 comments)"
        },
        {
            "timestamp": 1614886456,
            "reviewer": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1614891298,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1614896324,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1614896336,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1614896371,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/13349/ : SUCCESS"
        },
        {
            "timestamp": 1614896440,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 5:\n\n(2 comments)"
        },
        {
            "timestamp": 1614976479,
            "reviewer": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "message": "Patch Set 5: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1615134160,
            "reviewer": {
                "name": "Saravanan Palanisamy",
                "email": "saravanan.palanisamy@linux.intel.com",
                "username": "saravanan-palanisamy"
            },
            "message": "Patch Set 5: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1615183321,
            "reviewer": {
                "name": "Kuiying Wang",
                "email": "wangkuiying.wky@alibaba-inc.com",
                "username": "kuiyingw"
            },
            "message": "Patch Set 5:\n\n(4 comments)"
        },
        {
            "timestamp": 1615235460,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1615235472,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1615235508,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 6:\n\n(4 comments)"
        },
        {
            "timestamp": 1615235518,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/13488/ : SUCCESS"
        },
        {
            "timestamp": 1615252702,
            "reviewer": {
                "name": "Kuiying Wang",
                "email": "wangkuiying.wky@alibaba-inc.com",
                "username": "kuiyingw"
            },
            "message": "Patch Set 6: Code-Review+2"
        },
        {
            "timestamp": 1615252771,
            "reviewer": {
                "name": "Kuiying Wang",
                "email": "wangkuiying.wky@alibaba-inc.com",
                "username": "kuiyingw"
            },
            "message": "Change has been successfully merged by Kuiying Wang"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "c0393b6747079b43b29d9ab9698602872786438a",
            "parents": [
                "b27cf3cd04118b030be45f95cb8f12f073e001dc"
            ],
            "ref": "refs/changes/08/40108/1",
            "uploader": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "createdOn": 1611872678,
            "author": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "power-control-x86/CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": 0
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "type": "MODIFIED",
                    "insertions": 120,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 128,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "4a015de7411d6769fd5af09daa254757f207bf08",
            "parents": [
                "7c8d19cbcd2f444f112c4a78ac4ea7c64d000ee6"
            ],
            "ref": "refs/changes/08/40108/2",
            "uploader": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "createdOn": 1611966070,
            "author": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "power-control-x86/CMakeLists.txt",
                    "line": 13,
                    "reviewer": {
                        "name": "Vijay Khemka",
                        "email": "vijaykhemkalinux@gmail.com",
                        "username": "vijaykhemka"
                    },
                    "message": "As it is off by default so please provide this option details in readme or any other documentation."
                },
                {
                    "file": "power-control-x86/CMakeLists.txt",
                    "line": 13,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "Done"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 221,
                    "reviewer": {
                        "name": "Saravanan Palanisamy",
                        "email": "saravanan.palanisamy@linux.intel.com",
                        "username": "saravanan-palanisamy"
                    },
                    "message": "Do we need extend the \n#ifdef REMOVE_POST_COMPLETE \n\nto all applicable places in which postComplete Line is replaced ?"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 221,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "We could, if needed.  I have the #ifdef check when the signals are loaded which should cause the unused handlers to not be used, and hopefully the optimizer cleans them up.\n\nI'd like to avoid adding lots of build flags throughout the file, if possible."
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 221,
                    "reviewer": {
                        "name": "Saravanan Palanisamy",
                        "email": "saravanan.palanisamy@linux.intel.com",
                        "username": "saravanan-palanisamy"
                    },
                    "message": "Done"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2417,
                    "reviewer": {
                        "name": "Vijay Khemka",
                        "email": "vijaykhemkalinux@gmail.com",
                        "username": "vijaykhemka"
                    },
                    "message": "Can you please document this option as user should know about such option and should have a complete idea about when to use this."
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2417,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "power-control-x86/CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": 0
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "type": "MODIFIED",
                    "insertions": 153,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 161,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "d4f44c670e542415613128e499488b35c6248366",
            "parents": [
                "7c8d19cbcd2f444f112c4a78ac4ea7c64d000ee6"
            ],
            "ref": "refs/changes/08/40108/3",
            "uploader": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "createdOn": 1612909716,
            "author": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "power-control-x86/CMakeLists.txt",
                    "line": 13,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "Make this ENABLE_POST_COMPLETE? At least for me, \"negative\" flag names are harder to reason about."
                },
                {
                    "file": "power-control-x86/CMakeLists.txt",
                    "line": 13,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "Done"
                },
                {
                    "file": "power-control-x86/CMakeLists.txt",
                    "line": 15,
                    "reviewer": {
                        "name": "Richard Marian Thomaiyar",
                        "email": "richard.marian.thomaiyar@linux.intel.com",
                        "username": "rthomaiy"
                    },
                    "message": "I am not sure, how POST complete can be determined, with PLT_RST / CoreBIOSDone. \n\nNote: CoreBIOSDone will be signaled once DXE core is completed, and before external OpROM are loaded, after this signal we can be in BIOS Setup option  etc, which is still in POST and can't be treated as POST complete"
                },
                {
                    "file": "power-control-x86/CMakeLists.txt",
                    "line": 15,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "I confirmed that POST Complete is not being removed as I had thought.  Keeping POST Complete for OS State detection."
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2052,
                    "reviewer": {
                        "name": "Richard Marian Thomaiyar",
                        "email": "richard.marian.thomaiyar@linux.intel.com",
                        "username": "rthomaiy"
                    },
                    "message": "In this case, BIOS is still booting, like external OpROM, setup etc. and hence OS state must still be Inactive in this case."
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2052,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "We don't really use this property to represent the OS Status though, right? Both Inactive and Standby mean the OS is not booted, and in fact the OSStatus enumeration values are quite vague and incomplete."
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2052,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "README.md",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -2
                },
                {
                    "file": "power-control-x86/CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": 0
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "type": "MODIFIED",
                    "insertions": 153,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 181,
            "sizeDeletions": 2
        },
        {
            "number": 4,
            "revision": "e73d75031b3f44b1c719b170312edbc9be722e91",
            "parents": [
                "7c8d19cbcd2f444f112c4a78ac4ea7c64d000ee6"
            ],
            "ref": "refs/changes/08/40108/4",
            "uploader": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "createdOn": 1614365940,
            "author": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 1428,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "If the BMC reboots (or Host.Misc.Manager restarts), Host.Misc.Manager will by default say PLTRST# is asserted. Is that a problem or will this program's match rule not pick up the initial value?"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 1428,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "Oops, it's OK if Host.Misc.Manager restarts - the state is preserved in the driver level. But BMC reboot will still lose the state. I guess the worst case is that it looks like a warm reset for 500ms, right?"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 1428,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "Host.Misc.Manager should be configured to not send a PropertiesChanged event when PLTRST# is initialized, so we should only get the events when the signal changes and not when it's initialized."
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 1428,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "Ack"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2085,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "This logic assumes that no other property in the interface can change at the same time as ESpiPlatformReset (i.e. it will be at propertiesChanged.begin()). Is there a reason that's guaranteed? If not, you should search the dict for a match."
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2085,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "My understanding is our implementation of ProperitesChanged will only signal one property at a time.  There are lots of places that use this logic, but it probably doesn't hurt to prepare for the future where it may be different.  I'll update with a search."
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2085,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "Done"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2341,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "nit: fine as is, but I think you could remove the assignment:\n  sdbusplus::bus::match::match pltRstMatch(*power_control::con, ..."
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2341,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 21,
                    "deletions": 0
                },
                {
                    "file": "README.md",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -2
                },
                {
                    "file": "power-control-x86/CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": 0
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "type": "MODIFIED",
                    "insertions": 71,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 92,
            "sizeDeletions": 2
        },
        {
            "number": 5,
            "revision": "f5f899bafbbe1da816cbf067b6d4d47a0cf5e4cc",
            "parents": [
                "7c8d19cbcd2f444f112c4a78ac4ea7c64d000ee6"
            ],
            "ref": "refs/changes/08/40108/5",
            "uploader": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "createdOn": 1614896324,
            "author": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 1435,
                    "reviewer": {
                        "name": "Saravanan Palanisamy",
                        "email": "saravanan.palanisamy@linux.intel.com",
                        "username": "saravanan-palanisamy"
                    },
                    "message": "nit: As post_complete event is abstracted, and x86-power-control operations for both events are same, will it look nice if we put like this:\n\n#if USE_PLT_RST\n        case Event::pltRstAssert:\n#else\n        case Event::postCompleteDeAssert:\n#endif\n            setPowerState(PowerState::checkForWarmReset);\n            addRestartCause(RestartCause::softReset);\n            warmResetCheckTimerStart();\n            break;"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 1435,
                    "reviewer": {
                        "name": "Kuiying Wang",
                        "email": "wangkuiying.wky@alibaba-inc.com",
                        "username": "kuiyingw"
                    },
                    "message": "+1"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 1435,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "Done"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2075,
                    "reviewer": {
                        "name": "Kuiying Wang",
                        "email": "wangkuiying.wky@alibaba-inc.com",
                        "username": "kuiyingw"
                    },
                    "message": "Already switch to phosphor log right?"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2075,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "The switch to phosphor log is after this commit and includes these messages."
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2080,
                    "reviewer": {
                        "name": "Kuiying Wang",
                        "email": "wangkuiying.wky@alibaba-inc.com",
                        "username": "kuiyingw"
                    },
                    "message": "Already switch to phosphor log right?"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2080,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "The switch to phosphor log is after this commit and includes these messages."
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2092,
                    "reviewer": {
                        "name": "Kuiying Wang",
                        "email": "wangkuiying.wky@alibaba-inc.com",
                        "username": "kuiyingw"
                    },
                    "message": "Already switch to phosphor log right?"
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "line": 2092,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "The switch to phosphor log is after this commit and includes these messages."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 21,
                    "deletions": 0
                },
                {
                    "file": "README.md",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -2
                },
                {
                    "file": "power-control-x86/CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": 0
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "type": "MODIFIED",
                    "insertions": 73,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 94,
            "sizeDeletions": 2
        },
        {
            "number": 6,
            "revision": "fb957331e6a162047be6b75695ea8c1fc174cf63",
            "parents": [
                "7c8d19cbcd2f444f112c4a78ac4ea7c64d000ee6"
            ],
            "ref": "refs/changes/08/40108/6",
            "uploader": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "createdOn": 1615235460,
            "author": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 21,
                    "deletions": 0
                },
                {
                    "file": "README.md",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -2
                },
                {
                    "file": "power-control-x86/CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": 0
                },
                {
                    "file": "power-control-x86/src/power_control.cpp",
                    "type": "MODIFIED",
                    "insertions": 69,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 90,
            "sizeDeletions": 2
        }
    ]
}