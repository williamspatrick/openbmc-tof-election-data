{
    "project": "openbmc/peci-pcie",
    "branch": "master",
    "topic": "PcieType",
    "id": "I2273b9529a16ca0229c5d0ad17befcd3f764a188",
    "number": 46438,
    "subject": "Support \"GenerationInUse\" PCIe device property",
    "owner": {
        "name": "Spencer Ku",
        "email": "Spencer.Ku@quantatw.com",
        "username": "SpencerKu"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/peci-pcie/+/46438",
    "commitMessage": "Support \"GenerationInUse\" PCIe device property\n\nThis commit adds support for PCIe device property \"GenerationInUse\",\nand let management APIs like redfish can expose the information.\n\nNew property:\nGenerationInUse   : The PCIe interface generation in use by the device.\n\nTested:\nEnsure DBus is created and the value is correct of new property.\n\nDbus Sample output:\nNAME                                TYPE      SIGNATURE RESULT/VALUE     FLAGS\n[...]\nxyz.openbmc_project.PCIe.Device     interface -         -                -\n.DeviceType                         property  s         \"SingleFunction\" emits-change\n.Function0ClassCode                 property  s         \"0x060400\"       emits-change\n[...]\n.GenerationInUse                    property  s         \"xyz.openbmc_project.Inventory.Item.PCIeSlot.Generations.Gen2\" emits-change\n\nSigned-off-by: Spencer Ku <Spencer.Ku@quantatw.com>\nChange-Id: I2273b9529a16ca0229c5d0ad17befcd3f764a188\n",
    "createdOn": 1630570443,
    "lastUpdated": 1639985532,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1630570443,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1630570476,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1630570515,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/25508/ : SUCCESS"
        },
        {
            "timestamp": 1630570904,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Topic set to PcieType"
        },
        {
            "timestamp": 1630667608,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\nPlease ensure the dbus interface is merged before this code change."
        },
        {
            "timestamp": 1631561033,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 1:\n\n(4 comments)"
        },
        {
            "timestamp": 1631602121,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1631602141,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1631602178,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/26278/ : SUCCESS"
        },
        {
            "timestamp": 1631603103,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Patch Set 2:\n\n(4 comments)"
        },
        {
            "timestamp": 1631617485,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2: Code-Review-1\n\n(1 comment)"
        },
        {
            "timestamp": 1631690280,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1631690292,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1631690323,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/26341/ : SUCCESS"
        },
        {
            "timestamp": 1631691395,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1631713405,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1631777819,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1634542599,
            "reviewer": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1634631052,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1637569602,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1637569616,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1637569654,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/30640/ : SUCCESS"
        },
        {
            "timestamp": 1637569877,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1637654320,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1637654351,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1637654541,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/30721/ : SUCCESS"
        },
        {
            "timestamp": 1637790437,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 5: Code-Review+1\n\n(3 comments)"
        },
        {
            "timestamp": 1638344617,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1638344632,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638344672,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/30967/ : SUCCESS"
        },
        {
            "timestamp": 1638345916,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Patch Set 6:\n\n(3 comments)"
        },
        {
            "timestamp": 1639166395,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 6:\n\n(6 comments)"
        },
        {
            "timestamp": 1639556267,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1639556281,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639556324,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/32084/ : SUCCESS"
        },
        {
            "timestamp": 1639557224,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Patch Set 7:\n\n(6 comments)"
        },
        {
            "timestamp": 1639557415,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Uploaded patch set 8."
        },
        {
            "timestamp": 1639557426,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639557461,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/32085/ : SUCCESS"
        },
        {
            "timestamp": 1639572732,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 8: Code-Review+1"
        },
        {
            "timestamp": 1639600959,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 8:\n\n(2 comments)"
        },
        {
            "timestamp": 1639642620,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Uploaded patch set 9."
        },
        {
            "timestamp": 1639642632,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639642667,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/32135/ : SUCCESS"
        },
        {
            "timestamp": 1639643375,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Patch Set 9:\n\n(2 comments)"
        },
        {
            "timestamp": 1639676344,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 9: Code-Review+2"
        },
        {
            "timestamp": 1639985532,
            "reviewer": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "message": "Change has been successfully merged by Spencer Ku"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "c38739b3551920d8b3b8bb2613bc5926010937ee",
            "parents": [
                "6f55203b70316baec228073abcd581b64985af93"
            ],
            "ref": "refs/changes/38/46438/1",
            "uploader": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "createdOn": 1630570443,
            "author": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "typo: management"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Spencer Ku",
                        "email": "Spencer.Ku@quantatw.com",
                        "username": "SpencerKu"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 279,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "Instead of converting to a string here, can you keep it as data?  I think that will make comparisons below easier and will prevent having to convert it back to data with strtoul()."
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 279,
                    "reviewer": {
                        "name": "Spencer Ku",
                        "email": "Spencer.Ku@quantatw.com",
                        "username": "SpencerKu"
                    },
                    "message": "Thanks for your suggestions! Keeping the response value as data makes the code more clearly."
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 301,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "If you waited to convert it to string, this comparison could be done with data values."
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 301,
                    "reviewer": {
                        "name": "Spencer Ku",
                        "email": "Spencer.Ku@quantatw.com",
                        "username": "SpencerKu"
                    },
                    "message": "Replace comparing string to int."
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 304,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "Then, I think you could avoid having to convert the string back to data here."
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 304,
                    "reviewer": {
                        "name": "Spencer Ku",
                        "email": "Spencer.Ku@quantatw.com",
                        "username": "SpencerKu"
                    },
                    "message": "Remove unnecessary conversion here."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                },
                {
                    "file": "include/peci_pcie.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "type": "MODIFIED",
                    "insertions": 131,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 154,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "4cf5bffdb80c18e1b5abf9a655b5c5cacdd927b4",
            "parents": [
                "6f55203b70316baec228073abcd581b64985af93"
            ],
            "ref": "refs/changes/38/46438/2",
            "uploader": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "createdOn": 1631602121,
            "author": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 25,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This is wrong test results."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 25,
                    "reviewer": {
                        "name": "Spencer Ku",
                        "email": "Spencer.Ku@quantatw.com",
                        "username": "SpencerKu"
                    },
                    "message": "Modify the input value of \"PcieType\" property. \nI use \"xyz.openbmc_project.Inventory.Item.PCIeSlot.Generations.GenX\" as the input because we reference to the PCIeSlot enumerations in D-Bus interface. But should I modify to \"xyz.openbmc_project.Inventory.Item.PCIeDevice.Generations.GenX\" because we are setting the generation of PCIe Device? \n\nPlease correct me if I am wrong, thank you."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 25,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Since the property is an enumeration it should be a fully qualified string value (\"xyz.openbmc_project...Gen2\") and not just the last part (\"Gen2\").\n\nI believe we still have disagreement on the property name in the dbus interface as well."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 25,
                    "reviewer": {
                        "name": "Spencer Ku",
                        "email": "Spencer.Ku@quantatw.com",
                        "username": "SpencerKu"
                    },
                    "message": "Thank you for the information, I modify the string value and test result in patch 3, please take a look. I will update the property name when we have a conclusion."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                },
                {
                    "file": "include/peci_pcie.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "type": "MODIFIED",
                    "insertions": 109,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 132,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "be465d079e05c2e03382e2946a5f3570295223d2",
            "parents": [
                "6f55203b70316baec228073abcd581b64985af93"
            ],
            "ref": "refs/changes/38/46438/3",
            "uploader": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "createdOn": 1631690280,
            "author": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 284,
                    "reviewer": {
                        "name": "Andrei Kartashev",
                        "email": "a.kartashev@yadro.com",
                        "username": "alatarum"
                    },
                    "message": "Please, invert conditions here and below, to get rid of stairs.\nAlso did you think about to move capability reading to some generic function?"
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 284,
                    "reviewer": {
                        "name": "Spencer Ku",
                        "email": "Spencer.Ku@quantatw.com",
                        "username": "SpencerKu"
                    },
                    "message": "Agreed, I think making capability reading as a generic function is a good idea.\nI will update in next patch."
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 284,
                    "reviewer": {
                        "name": "Spencer Ku",
                        "email": "Spencer.Ku@quantatw.com",
                        "username": "SpencerKu"
                    },
                    "message": "Add a new generic function \"getCapReading\" to get the capability reading."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                },
                {
                    "file": "include/peci_pcie.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "type": "MODIFIED",
                    "insertions": 115,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 138,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "a31cb9cac71485ae28a5ca84f1d1035cf6d701f3",
            "parents": [
                "de624395a587be555463a14a3db90500b4e0521c"
            ],
            "ref": "refs/changes/38/46438/4",
            "uploader": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "createdOn": 1637569602,
            "author": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                },
                {
                    "file": "include/peci_pcie.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "type": "MODIFIED",
                    "insertions": 142,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 165,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "fd17681325ff9caf8dd9dc6a7f165e0032c6b4ce",
            "parents": [
                "de624395a587be555463a14a3db90500b4e0521c"
            ],
            "ref": "refs/changes/38/46438/5",
            "uploader": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "createdOn": 1637654320,
            "author": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 263,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "nit: usually we don't use const reference for integers. Copying integers are fairly fast. Passing pointers introducing overhead of addressing."
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 263,
                    "reviewer": {
                        "name": "Spencer Ku",
                        "email": "Spencer.Ku@quantatw.com",
                        "username": "SpencerKu"
                    },
                    "message": "Done. Since \"clientAddr\", \"bus\", and \"dev\" also define as const reference in other functions, keep these three parameters as the same style here."
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 324,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "ditto"
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 324,
                    "reviewer": {
                        "name": "Spencer Ku",
                        "email": "Spencer.Ku@quantatw.com",
                        "username": "SpencerKu"
                    },
                    "message": "Please refer to previous comment."
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 340,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "should these two branches be combined to \"if not ok, return error\"?"
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 340,
                    "reviewer": {
                        "name": "Spencer Ku",
                        "email": "Spencer.Ku@quantatw.com",
                        "username": "SpencerKu"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                },
                {
                    "file": "include/peci_pcie.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "type": "MODIFIED",
                    "insertions": 145,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 168,
            "sizeDeletions": 0
        },
        {
            "number": 6,
            "revision": "9f2f867d132cab2d4ebf50f90dc814a11d12f8c5",
            "parents": [
                "de624395a587be555463a14a3db90500b4e0521c"
            ],
            "ref": "refs/changes/38/46438/6",
            "uploader": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "createdOn": 1638344617,
            "author": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 267,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "nthStair is an int, so it can be negative.  If it must be larger than 0, you can either change it to unsigned or make this comparison 'nthStair <= 0'."
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 267,
                    "reviewer": {
                        "name": "Spencer Ku",
                        "email": "Spencer.Ku@quantatw.com",
                        "username": "SpencerKu"
                    },
                    "message": "Refer to below comment, remove \"nthStair\" here."
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 271,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "Instead of std::endl, please use a '\\n' at the end of the string on line 270."
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 271,
                    "reviewer": {
                        "name": "Spencer Ku",
                        "email": "Spencer.Ku@quantatw.com",
                        "username": "SpencerKu"
                    },
                    "message": "Ack"
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 278,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "nit: size_t can be used here which will be unsigned."
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 278,
                    "reviewer": {
                        "name": "Spencer Ku",
                        "email": "Spencer.Ku@quantatw.com",
                        "username": "SpencerKu"
                    },
                    "message": "Ack"
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 293,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "nit: Since it returns on 291 if capAddress is 0, you don't need this if which will reduce the indentation of line 295."
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 293,
                    "reviewer": {
                        "name": "Spencer Ku",
                        "email": "Spencer.Ku@quantatw.com",
                        "username": "SpencerKu"
                    },
                    "message": "Remove the if conditional."
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 320,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "nit: Similar to above, if you move this above line 306, you could remove the if on line 306 and reduce the indentation of lines 308 to 315."
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 320,
                    "reviewer": {
                        "name": "Spencer Ku",
                        "email": "Spencer.Ku@quantatw.com",
                        "username": "SpencerKu"
                    },
                    "message": "Remove the if conditional."
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 334,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "Is this always true?  I thought we could search based only on the Capability ID without specifying the number of steps to get there?\n\nFor example, I have a PCI device in my CPU that has the PCIe Capability ID (0x10) in the first (and only) capability struct.  If I tried to go to step 3, I would get an error."
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 334,
                    "reviewer": {
                        "name": "Spencer Ku",
                        "email": "Spencer.Ku@quantatw.com",
                        "username": "SpencerKu"
                    },
                    "message": "Thank for your explanation. I think I misunderstand the structure of capability before, there should not have the order or steps. I rewrite the \"getCapReading\" function which only based on the Capability ID to get the reading. Please take a look, thanks!"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                },
                {
                    "file": "include/peci_pcie.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "type": "MODIFIED",
                    "insertions": 141,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 164,
            "sizeDeletions": 0
        },
        {
            "number": 7,
            "revision": "aedee606200a55710854e44898b8b82eecbddff9",
            "parents": [
                "de624395a587be555463a14a3db90500b4e0521c"
            ],
            "ref": "refs/changes/38/46438/7",
            "uploader": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "createdOn": 1639556267,
            "author": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                },
                {
                    "file": "include/peci_pcie.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "type": "MODIFIED",
                    "insertions": 129,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 152,
            "sizeDeletions": 0
        },
        {
            "number": 8,
            "revision": "60daf82dd5d32819800f8ac2bd3392ac85b70174",
            "parents": [
                "de624395a587be555463a14a3db90500b4e0521c"
            ],
            "ref": "refs/changes/38/46438/8",
            "uploader": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "createdOn": 1639557415,
            "author": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 272,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "It's looking a lot better, just a couple more issues to resolve.\n\nIn this check, capabilityID hasn't been initialized, so there is a remote chance that it could be a match.\n\nIf I understand correctly, this while loop is attempting to find the correct capability struct by ID.  If you change this to a do-while, then you won't check the capabilityID uninitialized here.\n\nInstead, set a do here and the while at line 297 in place of the if().  That way, the first loop will get and check the first capability ID, then continue looping until it finds the capAddress with the correct capabilityID where it will exit the loop and get the reading on line 305.  Would that work?"
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 272,
                    "reviewer": {
                        "name": "Spencer Ku",
                        "email": "Spencer.Ku@quantatw.com",
                        "username": "SpencerKu"
                    },
                    "message": "Using do-while to replace original while loop seems more reasonable and clearly, done."
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 338,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "Do you need this check?  Won't it correctly handle the zero value in the switch on line 342?"
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "line": 338,
                    "reviewer": {
                        "name": "Spencer Ku",
                        "email": "Spencer.Ku@quantatw.com",
                        "username": "SpencerKu"
                    },
                    "message": "Yes, it should be handle by the switch. Remove the checker."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                },
                {
                    "file": "include/peci_pcie.hpp",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": 0
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "type": "MODIFIED",
                    "insertions": 129,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 150,
            "sizeDeletions": 0
        },
        {
            "number": 9,
            "revision": "bb5efe7b3ecfd56584cef10739b3395ef3017dd4",
            "parents": [
                "de624395a587be555463a14a3db90500b4e0521c"
            ],
            "ref": "refs/changes/38/46438/9",
            "uploader": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "createdOn": 1639642620,
            "author": {
                "name": "Spencer Ku",
                "email": "Spencer.Ku@quantatw.com",
                "username": "SpencerKu"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                },
                {
                    "file": "include/peci_pcie.hpp",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": 0
                },
                {
                    "file": "src/peci_pcie.cpp",
                    "type": "MODIFIED",
                    "insertions": 122,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 143,
            "sizeDeletions": 0
        }
    ]
}