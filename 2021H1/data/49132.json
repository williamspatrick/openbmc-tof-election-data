{
    "project": "openbmc/phosphor-certificate-manager",
    "branch": "master",
    "id": "Idc6b7721fc84b6b9022467e6b0c9e1984f682912",
    "number": 49132,
    "subject": "remove year 2038 check",
    "owner": {
        "name": "Nan Zhou",
        "email": "nanzhoumails@gmail.com",
        "username": "FighterNan"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-certificate-manager/+/49132",
    "commitMessage": "remove year 2038 check\n\nhttps://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/49188 resolves\nthe year 2038 problem in BMCWeb. There's no need to check it in\ncert-manager anymore. However, the current Cert interface can't take\ncertificate whose NotBefore is before the Unix Epoch given the\ntimestamp is uint64_t. So this change adds the check to return\nerrors in this case.\n\nThis change also fixed the existing issue of setting unix epoch.\n\nTESTED: unit tests + QEMU\n1. added a cert that's valid from 1970/01/01 to 9999/12/31 into\n unit tests\n2. tested the dbus properties in QEMU after installing the above\n cert;\n\n```\n.ValidNotAfter                        property  t         253402300799                             emits-change writable\n.ValidNotBefore                       property  t         0                                        emits-change writable\n```\nThis is expected.\n\nSigned-off-by: Nan Zhou <nanzhoumails@gmail.com>\nChange-Id: Idc6b7721fc84b6b9022467e6b0c9e1984f682912\n",
    "createdOn": 1638208502,
    "lastUpdated": 1639774097,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1638208502,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1638208520,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638208549,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/30857/ : FAILURE"
        },
        {
            "timestamp": 1638208639,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 2: Patch Set 1 was rebased."
        },
        {
            "timestamp": 1638208650,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638208679,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/30858/ : FAILURE"
        },
        {
            "timestamp": 1638208740,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1638208750,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638208922,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/30860/ : SUCCESS"
        },
        {
            "timestamp": 1638209254,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1638211871,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1638224758,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1638224840,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1638485902,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1638485914,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638485982,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1638486030,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/31116/ : FAILURE"
        },
        {
            "timestamp": 1638486137,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1638486160,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638486280,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/31117/ : FAILURE"
        },
        {
            "timestamp": 1638487040,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1638487055,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638487235,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31118/ : SUCCESS"
        },
        {
            "timestamp": 1638494152,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1638494257,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1638515776,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1638565205,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1638565207,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6: Code-Review+1"
        },
        {
            "timestamp": 1638816417,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1638817535,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1638835801,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1638835813,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638835884,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 7:\n\n(3 comments)"
        },
        {
            "timestamp": 1638835992,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31326/ : SUCCESS"
        },
        {
            "timestamp": 1638897163,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 7:\n\nPTAL"
        },
        {
            "timestamp": 1638898351,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 7:\n\n(3 comments)"
        },
        {
            "timestamp": 1638908368,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 8."
        },
        {
            "timestamp": 1638908379,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638908555,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31461/ : SUCCESS"
        },
        {
            "timestamp": 1638908823,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 9."
        },
        {
            "timestamp": 1638908837,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 9:\n\n(3 comments)"
        },
        {
            "timestamp": 1638908844,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638909019,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31464/ : SUCCESS"
        },
        {
            "timestamp": 1638910054,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 9:\n\n(1 comment)"
        },
        {
            "timestamp": 1638914844,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 9:\n\n(1 comment)"
        },
        {
            "timestamp": 1638925482,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 9:\n\n(1 comment)"
        },
        {
            "timestamp": 1639003728,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 10."
        },
        {
            "timestamp": 1639003740,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639003852,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1639003882,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 10:\n\nPTAL"
        },
        {
            "timestamp": 1639003916,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 11: Patch Set 10 was rebased"
        },
        {
            "timestamp": 1639003918,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31592/ : SUCCESS"
        },
        {
            "timestamp": 1639003931,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639004109,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31594/ : SUCCESS"
        },
        {
            "timestamp": 1639043604,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 11:\n\n(1 comment)"
        },
        {
            "timestamp": 1639044740,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 11:\n\n(2 comments)"
        },
        {
            "timestamp": 1639044821,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 11: Code-Review-1"
        },
        {
            "timestamp": 1639044987,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 11:\n\n(1 comment)"
        },
        {
            "timestamp": 1639063119,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 12."
        },
        {
            "timestamp": 1639063135,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639063187,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/31674/ : FAILURE"
        },
        {
            "timestamp": 1639063213,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 11:\n\n(3 comments)"
        },
        {
            "timestamp": 1639063360,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 13."
        },
        {
            "timestamp": 1639063371,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639063549,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31676/ : SUCCESS"
        },
        {
            "timestamp": 1639070409,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 13:\n\n(1 comment)"
        },
        {
            "timestamp": 1639082589,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 13:\n\n(1 comment)"
        },
        {
            "timestamp": 1639087166,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 13:\n\n(1 comment)"
        },
        {
            "timestamp": 1639087653,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 13:\n\n(1 comment)"
        },
        {
            "timestamp": 1639113467,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 13:\n\n(1 comment)"
        },
        {
            "timestamp": 1639119203,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 13:\n\n(1 comment)"
        },
        {
            "timestamp": 1639175458,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 13:\n\n(1 comment)"
        },
        {
            "timestamp": 1639192960,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 13:\n\n(1 comment)"
        },
        {
            "timestamp": 1639196328,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 13:\n\n(1 comment)"
        },
        {
            "timestamp": 1639247033,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 13:\n\n(1 comment)"
        },
        {
            "timestamp": 1639251120,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 13:\n\n(1 comment)"
        },
        {
            "timestamp": 1639372506,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 13: Code-Review+1"
        },
        {
            "timestamp": 1639378307,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 13:\n\n(1 comment)"
        },
        {
            "timestamp": 1639378339,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 13:\n\n(1 comment)"
        },
        {
            "timestamp": 1639413981,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 13: Code-Review+1"
        },
        {
            "timestamp": 1639420442,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 13:\n\n(2 comments)"
        },
        {
            "timestamp": 1639499131,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 13:\n\n(1 comment)"
        },
        {
            "timestamp": 1639499149,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 13:\n\nI would let jayanth or ed to give +2"
        },
        {
            "timestamp": 1639562602,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 13: -Code-Review\n\ndoing some testing after that will give +1"
        },
        {
            "timestamp": 1639573988,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 13:\n\nvalidate server ceriticate by loading certificate expiry > 2038 from GUI and it is working fine. the overflow was occuring in the bmcweb certificate service which was fixed in another commit.\n\nneed to check ldap validation"
        },
        {
            "timestamp": 1639597182,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 13:\n\n> Patch Set 13:\n> \n> I would let jayanth or ed to give +2\n\nJayanth seemed to have the most concerns, so I was waiting to see if he was satisfied with Nans response."
        },
        {
            "timestamp": 1639602374,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 13:\n\n> Patch Set 13:\n> \n> validate server ceriticate by loading certificate expiry > 2038 from GUI and it is working fine. the overflow was occuring in the bmcweb certificate service which was fixed in another commit.\n> \n> need to check ldap validation\n\nYeah, BMCWeb won't have the overflow if you bump the SRCREV of BMCWeb to the latest."
        },
        {
            "timestamp": 1639602401,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 13:\n\n> Patch Set 13:\n> \n> > Patch Set 13:\n> > \n> > I would let jayanth or ed to give +2\n> \n> Jayanth seemed to have the most concerns, so I was waiting to see if he was satisfied with Nans response.\n\nHello Jayanth, any more concerns?"
        },
        {
            "timestamp": 1639645960,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 13: Verified+1\n\n(1 comment)"
        },
        {
            "timestamp": 1639695114,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 14."
        },
        {
            "timestamp": 1639695135,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 14: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639695174,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 14:\n\n(1 comment)"
        },
        {
            "timestamp": 1639695544,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 14: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/32163/ : SUCCESS"
        },
        {
            "timestamp": 1639721250,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 14: Code-Review+1"
        },
        {
            "timestamp": 1639774095,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 14: Code-Review+2\n\n(1 comment)\n\nI guess it's up to me to +2 then?  LGTM.  Merging."
        },
        {
            "timestamp": 1639774097,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully merged by Ed Tanous"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "a2664de9ec3cd1fdb32a21aa107560ad473c9852",
            "parents": [
                "96860586bc6c940b310d0fb7a181f8cb8ccb0c3f"
            ],
            "ref": "refs/changes/32/49132/1",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1638208502,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "certificate.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                },
                {
                    "file": "certificate.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -2
                },
                {
                    "file": "configure.ac",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 15,
            "sizeDeletions": 4
        },
        {
            "number": 2,
            "revision": "9ab9875c58efa8579a10eb48ea5524b47a5bc4d7",
            "parents": [
                "7f7b47bea7bbd518d1ff5a306ecf3806cf8d0834"
            ],
            "ref": "refs/changes/32/49132/2",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1638208639,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "certificate.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                },
                {
                    "file": "certificate.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -2
                },
                {
                    "file": "configure.ac",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 15,
            "sizeDeletions": 4
        },
        {
            "number": 3,
            "revision": "aefd100e81cd25e013da7a7f55eb7c52345d2161",
            "parents": [
                "7f7b47bea7bbd518d1ff5a306ecf3806cf8d0834"
            ],
            "ref": "refs/changes/32/49132/3",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1638208740,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "What do the certificates actually respond with for X509_get_notAfter?  Considering we're on a 32 bit system, we're not going to function after int32 rollover, (ie 2038), and that's why the check exists.  If there's a \"forever\" ASN1_TIME, I suspect we can just add a check in validateCertificateExpiryDate, and not require the configure option?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Read some openssl codes: it responds to a valid ASN1_TIME (which internally is a string-like struct). I didn't found a built-in maximum time (like INT_MAX for int). But it should be similar to https://github.com/openssl/openssl/blob/8c5bff2220c4f39b48660afda40005871f53250d/crypto/asn1/a_time.c#L79. \n\nDo you want to check whether the the return value of X509_get_notAfter is equal to the maximum ASN1_TIME? If so, we don't throw exceptions? But that still won't fix the issue in https://github.com/openbmc/phosphor-certificate-manager/blob/ebd1d8a8294659c788e2822ddee1ca923791c531/certificate.cpp#L559, right? \n\nI guess a potential solution is change the interface to a string instead of uint64 (https://github.com/openbmc/phosphor-dbus-interfaces/blob/master/yaml/xyz/openbmc_project/Certs/Certificate.interface.yaml#L86). `ASN1_TIME_print` shall work in both 32 and 64 bit systems."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> Read some openssl codes: it responds to a valid ASN1_TIME (which internally is a string-like struct). I didn't found a built-in maximum time (like INT_MAX for int). But it should be similar to https://github.com/openssl/openssl/blob/8c5bff2220c4f39b48660afda40005871f53250d/crypto/asn1/a_time.c#L79. \n> \n> Do you want to check whether the the return value of X509_get_notAfter is equal to the maximum ASN1_TIME? \n\nAs a high level goal, I'd like this to not be a configure item, given that this problem of non-expiring certificates isn't specific to google (others might upload non-expiring certificates as well).\n\n> If so, we don't throw exceptions?\n\nBasically, I'd like the check to be \n\nif (bmc can't handle this certificate){\n    return error code\n}\n\nCertificate expiration > 2038 was used as a bad analog for \"BMC can't can't handle this certificate\", as you've clearly found.\n\nConsidering that the BMC CAN handle these certs, it seems like we can come up with a non-configure option.\n\n> But that still won't fix the issue in https://github.com/openbmc/phosphor-certificate-manager/blob/ebd1d8a8294659c788e2822ddee1ca923791c531/certificate.cpp#L559, right? \n\nIdeally both of those would've been calling the same \"is this valid\" code, but I guess they're not, so yes, we'd need to have a similar fix there, or deduplicate the code and fix it in one spot.\n\n> \n> I guess a potential solution is change the interface to a string instead of uint64 (https://github.com/openbmc/phosphor-dbus-interfaces/blob/master/yaml/xyz/openbmc_project/Certs/Certificate.interface.yaml#L86). `ASN1_TIME_print` shall work in both 32 and 64 bit systems.\n\nThe above seems a little more overkill than I was thinking.  What if we just specified in that interface that max(uint64_t) meant \"forever\".  Ideally it would match whatever openssl calls \"forever\".\n\nAlternatively, we could also use 0, but I think max(uint64_t) is better.  I think converting this to a string would be unfortunate, and lead to propagation of time epoch parsing code."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> > Read some openssl codes: it responds to a valid ASN1_TIME \n\nWhat time is it though?  did we just pick something further out in the future as \"forever\", or is it an actual forever value in ASN1?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Removed the year 2038 check completely. PTAL."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "certificate.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                },
                {
                    "file": "certificate.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                },
                {
                    "file": "configure.ac",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 16,
            "sizeDeletions": 4
        },
        {
            "number": 4,
            "revision": "5e052943193447a6cad98313fa009d26267b3176",
            "parents": [
                "7f7b47bea7bbd518d1ff5a306ecf3806cf8d0834"
            ],
            "ref": "refs/changes/32/49132/4",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1638485902,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "certificate.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -30
                },
                {
                    "file": "certificate.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 12,
            "sizeDeletions": 34
        },
        {
            "number": 5,
            "revision": "6c893bbcf2087d6def0b59001b7a1d509b12c783",
            "parents": [
                "7f7b47bea7bbd518d1ff5a306ecf3806cf8d0834"
            ],
            "ref": "refs/changes/32/49132/5",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1638486137,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "certificate.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -30
                },
                {
                    "file": "certificate.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 12,
            "sizeDeletions": 34
        },
        {
            "number": 6,
            "revision": "2db5c20a1f6dd4803076435cf85e7e92f11c9231",
            "parents": [
                "7f7b47bea7bbd518d1ff5a306ecf3806cf8d0834"
            ],
            "ref": "refs/changes/32/49132/6",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1638487040,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I think some of these got fixed in patricks patchsets.  In the future, please try to break these out into separate patches.  They make rebasing much easier when this occurs."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Yes, I find another existing bug when doing testing.\n\nWill remove the two compilation warnings and send a new patchset."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Done"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 17,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Needs some kind of functional test.  Uploading a certificate with a >2038 expiration and validating that the bmc hosts it would be fine."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 17,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Tested in both unit tests and QEMU. The dbus property is populated correctly. PTAL."
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "line": 68,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Does this need to change?  Doesn't this change the expiration date of the default cert?  That doesn't seem like something we want, we just want to support user certs >2038"
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "line": 68,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "This is test code. What do you mean it changes the default cert? \n\nI change the duration in test to make sure this change works. All the types of cert previously have the 2038 check: if a cert expires after 2038, the installation will gets rejected.\n\nI modified the duration also to verify that after this change, the uint64_t validNotAfter and validNotBefore are correctly populated (previously it overflows if numbers are very large)."
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "line": 68,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> This is test code.\n\nI was reviewing fast and missed that subtlety.....  I thought this was something else.  Ignore the above.\n\n> What do you mean it changes the default cert? \n> \n> I change the duration in test to make sure this change works. All the types of cert previously have the 2038 check: if a cert expires after 2038, the installation will gets rejected.\n> \n> I modified the duration also to verify that after this change, the uint64_t validNotAfter and validNotBefore are correctly populated (previously it overflows if numbers are very large)."
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "line": 68,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "certificate.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -30
                },
                {
                    "file": "certificate.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 12,
            "sizeDeletions": 34
        },
        {
            "number": 7,
            "revision": "289b70a8fdeebdbf944a4af5ccb632e9b1dfa8d7",
            "parents": [
                "7e2797ee0a595cb0f3d044c1b58b8ed4f3f56f99"
            ],
            "ref": "refs/changes/32/49132/7",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1638835801,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "certificate.cpp",
                    "line": 431,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit: typo"
                },
                {
                    "file": "certificate.cpp",
                    "line": 431,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Done"
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "line": 102,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "any reason this one is hardcoded, and the previous one isn't?  Can openssl not create a forever certificate?"
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "line": 102,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "I didn't find the correspond config commands to set NotBefore and NotAfter to arbitrary dates in openssl CLI. We could write codes to do it but given these are unit tests, it might be too much. There are also dirty workarounds like setting current date to 1970 but I don't believe that's something we want to do.\n\nReference: \nhttps://security.stackexchange.com/questions/31607/how-to-set-not-before-value-to-past-when-creating-certificate-request\nhttps://www.openssl.org/docs/manmaster/man1/openssl-x509.html\nhttps://www.openssl.org/docs/manmaster/man1/openssl-req.html"
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "line": 102,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "NotBefore and NotAfter are set when the certificate is signed.\n\n\nsomething like openssl ca -startdate <date> -enddate <date end>\n\n?"
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "line": 102,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Yes, AFAIK, openssl-req doesn't provide an option to set arbitrary expiration dates for the CSR. openssl-x509 doesn't either (though it has a command \"preserve_dates\"). \n\nI did a quick look and test on my workstation for openssl-ca. It does provide commands to set date. But it need dedicated set up and configurations (needs to set up required folder structure and corresponding files). Do we really want to do that in this unit test?\n\nReference:\nhttps://www.misterpki.com/openssl-ca/\nhttps://www.openssl.org/docs/manmaster/man1/openssl-ca.html"
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "line": 102,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "As opposed to hardcoding a certificate that security researchers will find and ding us for, yeah, unfortunately that's probably worth it.  That's why we didn't hardcode a certificate in the first place."
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "line": 102,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Done. Added codes to set up the dedicated testing environment for the OpenSSL CA application."
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "line": 106,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Why not just open the file and write the contents?  Calling this through std::system is wasteful, and while I realize this is a unit test, we should be using the right API for this kind of thing, which is iostreams probably"
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "line": 106,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "certificate.cpp",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -16
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 77,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 90,
            "sizeDeletions": 18
        },
        {
            "number": 8,
            "revision": "c8eb4539f27095fe400d3022aa34619fc1ba0ddf",
            "parents": [
                "7e2797ee0a595cb0f3d044c1b58b8ed4f3f56f99"
            ],
            "ref": "refs/changes/32/49132/8",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1638908368,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "certificate.cpp",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -16
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 78,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 91,
            "sizeDeletions": 18
        },
        {
            "number": 9,
            "revision": "ee4df172185775a7b3abfaea6f819d891e40b222",
            "parents": [
                "7e2797ee0a595cb0f3d044c1b58b8ed4f3f56f99"
            ],
            "ref": "refs/changes/32/49132/9",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1638908823,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "certificate.cpp",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -16
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 78,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 91,
            "sizeDeletions": 18
        },
        {
            "number": 10,
            "revision": "78c9f71e1b7f591bb4ea752581925f066e72d67a",
            "parents": [
                "7e2797ee0a595cb0f3d044c1b58b8ed4f3f56f99"
            ],
            "ref": "refs/changes/32/49132/10",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1639003728,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": ".gitignore",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "certificate.cpp",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -16
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 82,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 99,
            "sizeDeletions": 19
        },
        {
            "number": 11,
            "revision": "e8065915ebacdf8390162d30fbe1c364c2f30957",
            "parents": [
                "83e6eab0f088f742528e0860e8105340eb9dfb46"
            ],
            "ref": "refs/changes/32/49132/11",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1639003916,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "BMCweb is the only one consumer for certificate manger . There are other application like lda/user mangers also consumed the certificate uploaded using cert intreface."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "I assume with the new glibc patch which changes time_t from uint32_t to uint64_t we should be able to support certificates beyong 2038? so are we using the new glibc in the build already?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Hello Jayanth, are lda/user mangers public codes? If so, I can potentially fix them as well.\n\nAnd yeah, glibc 2.32 + kernel 5.10 should have 64 bit time_t already, could we turn it on and unblock this change?\n\nHello MARRI, is there anything I can do to get the \"-1\" removed?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> I assume with the new glibc patch which changes time_t from uint32_t to uint64_t we should be able to support certificates beyong 2038?\n\nWith Nans patch to bmcweb, it can support times beyond 2038 as-is.  The internal time_t can't yet, but that will come in glibc, but that's outside the scope of this patch.  In dbus, we already define all times as 64 bit, so this patch should be able to go in as-is."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> lda/user mangers also consumed the certificate\n\nI'm assuming lda is ldap, which I don't think Nan has a way to test.  Is this something you could help test with this patch?  FWIW, the only handling in BMCweb was to just fix a bug with casting dbus interfaces to time_t.  Given that those other applications don't do that, and just push directly to openssl, I would expect this change to just work.\n\n\nIf nan limited this change to only allow >2038 for webserver certificates, would that be a good stepping stone?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Hello Ed, we (Google) need to allow >2038 for both root and webserver certs."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Yep, I asked the question  poorly.  In my head, I was also counting the root certificates as \"webserver\" because we use them for mtls.   rephrased:\n\nIf nan limited this change to only allow >2038 for webserver and authority certificates (both of which don't have a 2038 limitation), would that be a good stepping stone?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "@Nan Zhou, Certificate manager upload is the entry point for all certificate uploads. prefer to keep validity check in certificate manager."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Jayanth, can you explain more why?  If the limit is not required anymore for webserver or authority certificates, there's no reason to have it, right?  If there are reasons to have it, we could make it build-time configurable?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Hello Jayanth, are you saying we should move the check to \"certificate_manager.cc\"? But all X509 properties extraction is in \"certificate.cc\". The existing 2038 check is also in \"certificate.cc\". Given that, I prefer to keep validity check still in \"certificate.cc\". Does that make sense to you?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "Ed/Nan, Main concern here after making this change any side effect with other BMC applications, which is consumed by the certificates uploaded via this certificate manager. Good part is that Nan already fixed BMCweb related issues.\n\nAm good if  the community agrees  This direction.  Also need  to make sure we should display \"ValidNotAfter\" atytribute corectly to avoid confusion in the users.\n \nNan Can you confirm \" - name: ValidNotAfter\" property is printing correct year? Based on test results  shared here \"253402300799\" is related to 9999/12/31?\n\nusing some web based tool \n253402300799 --> \n{\"Supports Unix timestamps in seconds, milliseconds, microseconds and nanoseconds.\nAssuming that this timestamp is in milliseconds:\nGMT: Wednesday, January 11, 1978 9:31:40.799 PM\nYour time zone: Thursday, January 12, 1978 3:01:40.799 AM GMT+05:30\nRelative: 44 years ago\"\nCan you confirm this."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Hello Jayanth, thanks for your feedback.\n\nI can confirm \"ValidNotBefore\" and \"ValidNotAfter\" are \"seconds since the unix epoch\" which is aligned with existing implementation if both Cert Manager and BMCWeb.\n\nI can also confirm \"253402300799\" should lead to \"9999-12-31T23:59:59Z\". The online tools you found might have some bugs (January 11, 1978 is obviously wrong; I suspect it is something like overflow). To verify our implementation is correct, you can check the unit tests: \n\n1. In the unit test of this patch, I created a certificate whose \"ValidNotAfter\" is \"9999-12-31T23:59:59Z\" using the OpenSSL CA tool\n2. I then verified it generates an cert object whose validNotAfter is equal to 253402300799\n3. in the unit test of [corresponding BMCWeb patch](https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/49188/13/http/ut/utility_test.cpp), I verified the parsed string from \"253402300799\" is \"9999-12-31T23:59:59Z\". The underlying implementation uses Boost.\n\nI also did the same testing in QEMU. Results are all good."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> Main concern here after making this change any side effect with other BMC applications, which is consumed by the certificates uploaded via this certificate manager\n\nfor the HTTPS certificate, the only consumer should be bmcweb, which functions properly.  The only fix in bmcweb was around time_t from the dbus interface (which is already uint64_t), which was arguably a bug, and not something a normal application does.  openssl seems to handle certs with >2038 times just fine, so it doesn't seem all that likely that other applications will need patching, considering most just load the file and push it directly to openssl.\n\nCan you elaborate a little more about your concerns given the above?  Which applications are you worried about?  A quick look at the code shows ldap should function just fine, which is the only other user of the authority certificate at this moment.\n\n>Assuming that this timestamp is in milliseconds:\n\nThis timestamp is in seconds, so the calculator you used assumed was milliseconds incorrectly.  If you use a calculator that doesn't do the \"assuming\" bit, you get the correct result."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": ">> Assuming that this timestamp is in milliseconds:\n\n> This timestamp is in seconds, so the calculator you used assumed was milliseconds incorrectly.  If you use a calculator that doesn't do the \"assuming\" bit, you get the correct result.\n\nOh, thank you Ed! Yeah, Jayanth, I missed that you thought it's milliseconds. If you look at the existing implementation in both BMCWeb and Cert Manager, it's all \"seconds\" (see https://github.com/openbmc/phosphor-certificate-manager/blob/master/certificate.cpp#L569). I will fix the PDI next week (https://github.com/openbmc/phosphor-dbus-interfaces/blob/master/yaml/xyz/openbmc_project/Certs/Certificate.interface.yaml#L89) if that introduces confusion."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "Looks like certificate manager is handled the time stamp in second also devender verified webui , also handling corectly. Good to update d-bus interface to change the documentation menyioned above."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-dbus-interfaces/+/49773\n\nPTAL"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "agreed, we should update those, but considering that's what they already did prior to this patch, that shouldn't hold this patch up, right?"
                },
                {
                    "file": "certificate.cpp",
                    "line": 430,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "should the method be now called validateCertificateStartDate?"
                },
                {
                    "file": "certificate.cpp",
                    "line": 430,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Done"
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "line": 994,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "formating issue>"
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "line": 994,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Good catch!"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": ".gitignore",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "certificate.cpp",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -16
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 82,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 99,
            "sizeDeletions": 19
        },
        {
            "number": 12,
            "revision": "2e315962664193c3ff49f72a753a92276e9066b3",
            "parents": [
                "7e2797ee0a595cb0f3d044c1b58b8ed4f3f56f99"
            ],
            "ref": "refs/changes/32/49132/12",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1639063119,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": ".gitignore",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "certificate.cpp",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -18
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 80,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 99,
            "sizeDeletions": 20
        },
        {
            "number": 13,
            "revision": "52b47e0f0c1ef6fcfa12256e74a1edba1e5ab93a",
            "parents": [
                "7e2797ee0a595cb0f3d044c1b58b8ed4f3f56f99"
            ],
            "ref": "refs/changes/32/49132/13",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1639063360,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "test/certs_manager_test.cpp",
                    "line": 113,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "nicely done."
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "line": 113,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Thanks!"
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "line": 269,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "ideally we should have the test case for server certificate \n1) user installs server certificate\n2) certificate manager validates and installs at specific location\n3) restarts bmcweb service\n4) bmcweb validates the certificate, if it is invalid it creates default certificate.\n\nso any validation failed in bmcweb we might have caught here, that way we could hava validated bmcweb code too.\n\nbut as sufficient testing is done on bmcweb side we are good here."
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "line": 269,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "ACK. That sounds like an integration tests. I have verified certs installation in QEMU against Cert Manager with this patch, but without BMCWeb. Things work well. \n\nI didn't change any code in BMCWeb regarding installation though."
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "line": 269,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "agree, we cannot replicate it as part of unit test, yes integration test. thank you"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": ".gitignore",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "certificate.cpp",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -18
                },
                {
                    "file": "certificate.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 80,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 103,
            "sizeDeletions": 24
        },
        {
            "number": 14,
            "revision": "cf811c4309adbf164f6e040ea0216dbca7cf367f",
            "parents": [
                "e0e2cce95a5fad8431d4c40f81519447af8e701f"
            ],
            "ref": "refs/changes/32/49132/14",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1639695114,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "certificate.cpp",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -18
                },
                {
                    "file": "certificate.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "test/certs_manager_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 80,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 99,
            "sizeDeletions": 24
        }
    ]
}