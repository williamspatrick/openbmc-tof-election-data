{
    "project": "openbmc/phosphor-dbus-interfaces",
    "branch": "master",
    "topic": "intel-ppin",
    "id": "I9b754015c5977371dfe3b161d0f47850891cd672",
    "number": 41050,
    "subject": "Add UniqueIdentifier interface",
    "owner": {
        "name": "Jonathan Doman",
        "email": "jonathan.doman@intel.com",
        "username": "jonathan-doman"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-dbus-interfaces/+/41050",
    "commitMessage": "Add UniqueIdentifier interface\n\nSome Assets, like Intel CPUs, distinguish between a serial number and a\nglobally unique identifier (aka Protected Identification Number, which\ncan be masked by the user to mitigate tracking/privacy concerns).\nThis identifier is meant to be totally freeform, where the constraints\nand formatting may be different for each product. Since relatively few\nassets are likely to use this, we'll put the new property in its own\ninterface rather than cluttering the generic Asset decorator.\n\nSigned-off-by: Jonathan Doman <jonathan.doman@intel.com>\nChange-Id: I9b754015c5977371dfe3b161d0f47850891cd672\n",
    "createdOn": 1614812307,
    "lastUpdated": 1619797647,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1614812307,
            "reviewer": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1614812318,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1614812742,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/13283/ : SUCCESS"
        },
        {
            "timestamp": 1614826732,
            "reviewer": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "message": "Topic set to intel-ppin"
        },
        {
            "timestamp": 1614827404,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1614829817,
            "reviewer": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1614950570,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1614977987,
            "reviewer": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1615813751,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1615860213,
            "reviewer": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1615860231,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1615860958,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/13811/ : SUCCESS"
        },
        {
            "timestamp": 1615861253,
            "reviewer": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1619197172,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1619202299,
            "reviewer": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1619208328,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1619797643,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2: Code-Review+2"
        },
        {
            "timestamp": 1619797647,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Change has been successfully rebased and submitted as 45123f9741f039249fb5b7ac74586d120d5c9612 by Patrick Williams"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "09288fba7df7cf79b78a32bb792ce87c29f99794",
            "parents": [
                "43341f5846e769b760a53ad6502b61e3782523b8"
            ],
            "ref": "refs/changes/50/41050/1",
            "uploader": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "createdOn": 1614812307,
            "author": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "xyz/openbmc_project/Inventory/Decorator/Asset.interface.yaml",
                    "line": 12,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Is \u2018xyz.openbmc_project.Common.UUID\u2019 useful here instead?\n\nSince this sounds like a fairly rare value on an inventory entity, I\u2019d prefer a separate Decorator if Common.UUID cannot work for some reason."
                },
                {
                    "file": "xyz/openbmc_project/Inventory/Decorator/Asset.interface.yaml",
                    "line": 12,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "Yeah, that could work except it's documented as using the canonical UUID format, whereas this is more a freeform string. Do you know of anything that might break if I don't follow the UUID format?"
                },
                {
                    "file": "xyz/openbmc_project/Inventory/Decorator/Asset.interface.yaml",
                    "line": 12,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I looked at the code using UUID and there are certainly some aspects that are parsing out the canonical format.\n\nAre these Intel identifiers all hex digits?  Are they a specific length?  I'm wondering if they are effectively UUIDs but just with separators in a different spot."
                },
                {
                    "file": "xyz/openbmc_project/Inventory/Decorator/Asset.interface.yaml",
                    "line": 12,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "The Intel PPIN is basically a plain 64-bit number, which is usually formatted in hex. I think it would look weird to put it into a UUID: e.g. 00000000-0000-0000-1234-5678ABCDEF01? And this ignores the special meaning of certain fields in the UUID, so I don't think it's good. \n\nSo there are a couple other options then?\n1. New interface like xyz.openbmc_project.Inventory.Decorator.UniqueIdentifier\n2. Add UniqueIdentifier to xyz.openbmc_project.Inventory.Item.Cpu"
                },
                {
                    "file": "xyz/openbmc_project/Inventory/Decorator/Asset.interface.yaml",
                    "line": 12,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "> 1. New interface like xyz.openbmc_project.Inventory.Decorator.UniqueIdentifier\n\nLets go with this one.  Make sure you use similar language as Decorator.LocationCode to indicate that the string is free-form and \"should not be used for programmatic interrogation\"."
                },
                {
                    "file": "xyz/openbmc_project/Inventory/Decorator/Asset.interface.yaml",
                    "line": 12,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "xyz/openbmc_project/Inventory/Decorator/Asset.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 4,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "2003a9cdd9b1dc072f9eec84eb7785bb4a91a1c2",
            "parents": [
                "43341f5846e769b760a53ad6502b61e3782523b8"
            ],
            "ref": "refs/changes/50/41050/2",
            "uploader": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "createdOn": 1615860213,
            "author": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "What does this map to in Redfish?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "Please see the associated bmcweb change: https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/41054\n\nIt would map to Processor.ProcessorId.ProtectedIdentificationNumber"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "gen/xyz/openbmc_project/Inventory/Decorator/UniqueIdentifier/meson.build",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "gen/xyz/openbmc_project/Inventory/Decorator/meson.build",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "xyz/openbmc_project/Inventory/Decorator/UniqueIdentifier.interface.yaml",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 39,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "45123f9741f039249fb5b7ac74586d120d5c9612",
            "parents": [
                "5d0b767aeb11d10a91a8dd519cf1ad0b22fc76c5"
            ],
            "ref": "refs/changes/50/41050/3",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1619797647,
            "author": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "gen/xyz/openbmc_project/Inventory/Decorator/UniqueIdentifier/meson.build",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "gen/xyz/openbmc_project/Inventory/Decorator/meson.build",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "xyz/openbmc_project/Inventory/Decorator/UniqueIdentifier.interface.yaml",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 39,
            "sizeDeletions": 0
        }
    ]
}