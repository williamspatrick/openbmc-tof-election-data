{
    "project": "openbmc/openbmc",
    "branch": "master",
    "id": "I3cf3f9519033db240c0db2eec35a5b09b8fefdf2",
    "number": 46651,
    "subject": "mmc-init: Enable factory reset from gpio change",
    "owner": {
        "name": "Isaac Kurth",
        "email": "isaac.kurth@ibm.com",
        "username": "IsaacPK"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/openbmc/+/46651",
    "commitMessage": "mmc-init: Enable factory reset from gpio change\n\nThe factory-reset-toggle GPIO can have its state changed by physically\ntoggling SWITCH_RESET_N. If this GPIO is in a different state than it\nwas during the last boot, it triggers a BMC factory reset.\n\nTested: Added extra files to /var. Verified that a reset from a\nphysical toggle caused these files to be removed. Verified that resets\nfrom the REST API and from setting rwreset to true still function\nproperly. Verified that repeated rebooting without calling for a reset\ndoes not inadvertently trigger a reset.\n\nSigned-off-by: Isaac Kurth <isaac.kurth@ibm.com>\nChange-Id: I3cf3f9519033db240c0db2eec35a5b09b8fefdf2\n",
    "createdOn": 1631054864,
    "lastUpdated": 1633459859,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1631054864,
            "reviewer": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1631054896,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1631054902,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/6537/"
        },
        {
            "timestamp": 1631055572,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/6537/ : SUCCESS"
        },
        {
            "timestamp": 1631056955,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 1:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1631076660,
            "reviewer": {
                "name": "Milton D. Miller II",
                "email": "miltonm@us.ibm.com",
                "username": "mdmillerii"
            },
            "message": "Patch Set 1: Code-Review-1\n\n(3 comments)"
        },
        {
            "timestamp": 1631115895,
            "reviewer": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "message": "Patch Set 1:\n\n(3 comments)"
        },
        {
            "timestamp": 1631121377,
            "reviewer": {
                "name": "Milton D. Miller II",
                "email": "miltonm@us.ibm.com",
                "username": "mdmillerii"
            },
            "message": "Patch Set 1:\n\n(4 comments)"
        },
        {
            "timestamp": 1631127245,
            "reviewer": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1631134072,
            "reviewer": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1631134106,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1631134112,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/6564/"
        },
        {
            "timestamp": 1631135885,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/6564/ : SUCCESS"
        },
        {
            "timestamp": 1631137083,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1631203483,
            "reviewer": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "message": "Patch Set 2:\n\n(4 comments)"
        },
        {
            "timestamp": 1631218538,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1631219274,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1631293577,
            "reviewer": {
                "name": "Milton D. Miller II",
                "email": "miltonm@us.ibm.com",
                "username": "mdmillerii"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1632534823,
            "reviewer": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1632534863,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1632534873,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/6859/"
        },
        {
            "timestamp": 1632537251,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/6859/ : FAILURE"
        },
        {
            "timestamp": 1632578579,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Patch Set 3:\n\nThis change needs a rebase to pass CI. Some changes went into master which are now required in CI (repotest)."
        },
        {
            "timestamp": 1632621374,
            "reviewer": {
                "name": "Milton D. Miller II",
                "email": "miltonm@us.ibm.com",
                "username": "mdmillerii"
            },
            "message": "Patch Set 3:\n\n(4 comments)"
        },
        {
            "timestamp": 1632857057,
            "reviewer": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "message": "Uploaded patch set 4: Patch Set 3 was rebased."
        },
        {
            "timestamp": 1632857118,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1632857123,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/6891/"
        },
        {
            "timestamp": 1632858012,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/6891/ : SUCCESS"
        },
        {
            "timestamp": 1632859255,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 4:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1633060258,
            "reviewer": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1633060294,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633060305,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/6933/"
        },
        {
            "timestamp": 1633061050,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/6933/ : SUCCESS"
        },
        {
            "timestamp": 1633061074,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 5:\n\nBuild Failed \n\nIBM Hardware CI : witherspoon hardware test failed"
        },
        {
            "timestamp": 1633110629,
            "reviewer": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "message": "Patch Set 5:\n\n(4 comments)"
        },
        {
            "timestamp": 1633113877,
            "reviewer": {
                "name": "Milton D. Miller II",
                "email": "miltonm@us.ibm.com",
                "username": "mdmillerii"
            },
            "message": "Patch Set 5:\n\n(3 comments)"
        },
        {
            "timestamp": 1633121678,
            "reviewer": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "message": "Patch Set 5:\n\n(3 comments)"
        },
        {
            "timestamp": 1633124630,
            "reviewer": {
                "name": "Milton D. Miller II",
                "email": "miltonm@us.ibm.com",
                "username": "mdmillerii"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1633381170,
            "reviewer": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1633381205,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633381215,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/6968/"
        },
        {
            "timestamp": 1633381917,
            "reviewer": {
                "name": "Milton D. Miller II",
                "email": "miltonm@us.ibm.com",
                "username": "mdmillerii"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1633382460,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/6968/ : SUCCESS"
        },
        {
            "timestamp": 1633384672,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 6:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1633450558,
            "reviewer": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "message": "Uploaded patch set 7: New patch set was added with same tree, parent, and commit message as Patch Set 6."
        },
        {
            "timestamp": 1633450596,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7:\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633450637,
            "reviewer": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "message": "Uploaded patch set 8."
        },
        {
            "timestamp": 1633450670,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633450679,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/6988/"
        },
        {
            "timestamp": 1633450688,
            "reviewer": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1633451316,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/6988/ : SUCCESS"
        },
        {
            "timestamp": 1633452807,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 8:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1633453056,
            "reviewer": {
                "name": "Milton D. Miller II",
                "email": "miltonm@us.ibm.com",
                "username": "mdmillerii"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1633454313,
            "reviewer": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "message": "Uploaded patch set 9."
        },
        {
            "timestamp": 1633454348,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1633454355,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/6989/"
        },
        {
            "timestamp": 1633454385,
            "reviewer": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "message": "Patch Set 9:\n\n(1 comment)"
        },
        {
            "timestamp": 1633455074,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/6989/ : SUCCESS"
        },
        {
            "timestamp": 1633456425,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 9:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1633456463,
            "reviewer": {
                "name": "Milton D. Miller II",
                "email": "miltonm@us.ibm.com",
                "username": "mdmillerii"
            },
            "message": "Patch Set 9: Code-Review+1"
        },
        {
            "timestamp": 1633459855,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 9: Code-Review+2"
        },
        {
            "timestamp": 1633459859,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Change has been successfully rebased and submitted as 5003195bc9939995fd9be199aa752e9ba5f4cbb6 by Patrick Williams"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "56ab6ae9e7441d89e3be3ed2eab4ad9cbea69170",
            "parents": [
                "9a0b339ad3f8dfe3cc66ef17b7eac47978e8f4b5"
            ],
            "ref": "refs/changes/51/46651/1",
            "uploader": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "createdOn": 1631054864,
            "author": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 53,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "It was pointed out in another forum that this is noisy when the environment variable is unset,\nwhich can be addressed by adding `2>/dev/null` to the command."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 53,
                    "reviewer": {
                        "name": "Isaac Kurth",
                        "email": "isaac.kurth@ibm.com",
                        "username": "IsaacPK"
                    },
                    "message": "sounds good, will implement"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 53,
                    "reviewer": {
                        "name": "Isaac Kurth",
                        "email": "isaac.kurth@ibm.com",
                        "username": "IsaacPK"
                    },
                    "message": "addressed in patchset 2"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 55,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "What's the purpose of this variable?"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 55,
                    "reviewer": {
                        "name": "Isaac Kurth",
                        "email": "isaac.kurth@ibm.com",
                        "username": "IsaacPK"
                    },
                    "message": "This tracks whether the factory-reset-toggle gpio has changed since the last reboot. 1 for false, it hasn't changed, 0 for true, it has changed.\n\nI could see getting rid of this variable if rwreset was set to 0 or 1 to indicate the state of the gpio, or anything else to indicate that a reset should take place no matter what. That way it would be simple to do a compare and say, do a reset if the value of rwreset does not equal the value of gpioget.\n\nThe disadvantage of that would be that the user setting rwreset to anything other than 0 or 1 would trigger a reset. Whereas before only setting rwreset to \"true\" could trigger a reset, so it's less likely to happen inadvertently, but it takes more lines of code in this file to check it.\n\nI could see the advantages to both methods. Do y'all think the tradeoff is worth it if we have rwreset be set to 0 / 1 / anything else to force a reset?"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 55,
                    "reviewer": {
                        "name": "Isaac Kurth",
                        "email": "isaac.kurth@ibm.com",
                        "username": "IsaacPK"
                    },
                    "message": "Addressed in patchset 2, I made the switch to 0 or 1 instead of low or high. This took out maybe 15 lines of code."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 61,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "This code has too many \"if fn(a) = fn(b)\" cases.\n\nThe design review described storing the output of the gpio probe in the reset request variable.\n\nThis code has at least 3 additional variable names and about 20 lines more than anticipated."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 61,
                    "reviewer": {
                        "name": "Isaac Kurth",
                        "email": "isaac.kurth@ibm.com",
                        "username": "IsaacPK"
                    },
                    "message": "The output of the GPIO probe will be either \"1\" or \"0\". I suppose I could change resetval to be 1 or 0 instead of high or low, but the design review described using a 3 state variable of high, low, or force.\n\nI'm not sure what changes I could make to reduce the number of variables and lines of code that much, without altering the logic. I'm open to suggestions. What I can think of now is removing the check in line 66 because it might be redundant, and moving the bios reset code elsewhere, as discussed in another comment."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 61,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "The three no four would be unknown/gpio doesn't exist, 0, 1, and any other string.   \n\nAlso it was pointed out the command output needs to be in double quotes everywhere it's used.  The current code gets an error from the test comparing."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 61,
                    "reviewer": {
                        "name": "Isaac Kurth",
                        "email": "isaac.kurth@ibm.com",
                        "username": "IsaacPK"
                    },
                    "message": "sounds good, will add quotes"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 61,
                    "reviewer": {
                        "name": "Isaac Kurth",
                        "email": "isaac.kurth@ibm.com",
                        "username": "IsaacPK"
                    },
                    "message": "Addressed in patchset 2"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 75,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "This bios reset sequence is too involved for this init script that is common to all OpenBMC systems."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 75,
                    "reviewer": {
                        "name": "Isaac Kurth",
                        "email": "isaac.kurth@ibm.com",
                        "username": "IsaacPK"
                    },
                    "message": "The alternative would be to leave some kind of crumb to indicate that a factory reset triggered from a GPIO change happened, so that the code can pick that up and do a bios reset later. Adriana suggested that we leave a file in /var that the openpower item updater can pick up on when it first runs, and do a bios reset if that file is found. Does that seem like a good way to handle it?"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 75,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "Since the factory reset wipes back to default I'd suggest leaving a matker file at the end of the reset and if it's missing perform any reset as it appears you are copying reference content to var.  \nSo close but invert the meaning.\nIt should be easy to have a service file kick off the script and the logic to skip is condition file exists to skip it.  \nMake it a want by the service that uses the file content."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 105,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "This block should execute fw_setenv rwreset $gpiostate whenever it mismatches and doesn't need a if ladder."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 105,
                    "reviewer": {
                        "name": "Isaac Kurth",
                        "email": "isaac.kurth@ibm.com",
                        "username": "IsaacPK"
                    },
                    "message": "Addressed in patchset 2"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 21,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init.bb",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "type": "MODIFIED",
                    "insertions": 51,
                    "deletions": -9
                }
            ],
            "sizeInsertions": 52,
            "sizeDeletions": 9
        },
        {
            "number": 2,
            "revision": "4bb6ec9415521e516de196350156171f68541ecb",
            "parents": [
                "9a0b339ad3f8dfe3cc66ef17b7eac47978e8f4b5"
            ],
            "ref": "refs/changes/51/46651/2",
            "uploader": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "createdOn": 1631134072,
            "author": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 56,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Seems we're requiring that the gpio is supported and we're loosing the ability to do a factory reset through REST api if the system doesn't have it defined? I'd think we want to be able to do factory reset on any system even if it doesn't have the gpio defined. Even if we don't check for the value 'true' anymore, we can still check that the rwreset variable is set even gpio is not present and do the rest of the logic to trigger a factory reset."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 57,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "I was envisioning if -n present ; then val = gpioget ; else val = undefined ; fi\nthen storing the value undefined in the env.  undefined != true so it still resets\n\nHowever setting the value to empty and deleting the variable vs replacing it also matches.\n\nEither way, the condition to write back is resetval !- gpioval, and the reset is also qualified resetval != empty (for transition to this scheme).\n\nIf we do use the empty value and unset variable, then we need to triple check all variables from these commands are properly quoted (generally in double quotes)."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 63,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "where is the requirement for different behaviour for gpio vs api reset described?"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 88,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "This runs always, we don't want to wear down the environment device by always writing it, it should only be cleared if factory reset ran."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 89,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Also seems by moving putting the if block outside the factory reset check we lost the logic that the variable was only set if factory reset was successful, otherwise the variable was left intact to reattempt it on the next reboot."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 89,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "you got half the ladder deleted, but half remains.\nplease review the quoting.  \nFor deleting on gpio unset might need to do something like \"${var+${var}}\""
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 21,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init.bb",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -9
                }
            ],
            "sizeInsertions": 37,
            "sizeDeletions": 9
        },
        {
            "number": 3,
            "revision": "6886bc1846f26ecfeee82b43462b680983ea2e9e",
            "parents": [
                "9a0b339ad3f8dfe3cc66ef17b7eac47978e8f4b5"
            ],
            "ref": "refs/changes/51/46651/3",
            "uploader": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "createdOn": 1632534823,
            "author": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 55,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "Don't call gpioget without the find being successful.\nDoes gpiofind return success or failure?  Yes it does (EXIT_SUCCESS or EXIT_FAILURE).\n(gpioget does too.)"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 55,
                    "reviewer": {
                        "name": "Isaac Kurth",
                        "email": "isaac.kurth@ibm.com",
                        "username": "IsaacPK"
                    },
                    "message": "Agree with all four of these comments, they're addressed in patchset 5."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 61,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "This value is hiding in the middle of logic.\n\nSince this is a hardcoded string it should go to the top probably just under rodev.  \nWe should move mtddev up too, and add a blank line before the non-assignments statements."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 61,
                    "reviewer": {
                        "name": "Isaac Kurth",
                        "email": "isaac.kurth@ibm.com",
                        "username": "IsaacPK"
                    },
                    "message": "Agree, addressed in patchset 5"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 63,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "each ( and ) pair represent a fork wait exit.  It is much more efficient to use -a and -o in a single instance of test / [ ] command.  Nicely -a has higher precidence than -o so you don't need any additional grouping."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 63,
                    "reviewer": {
                        "name": "Isaac Kurth",
                        "email": "isaac.kurth@ibm.com",
                        "username": "IsaacPK"
                    },
                    "message": "I wouldn't have known about this, neat. Addressed in patchset 5."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 72,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "if gpioval is an empty string this line matches the one above it after shell parsing and we can eliminate the if."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 72,
                    "reviewer": {
                        "name": "Isaac Kurth",
                        "email": "isaac.kurth@ibm.com",
                        "username": "IsaacPK"
                    },
                    "message": "I wouldn't have thought of this either. Addressed in patchset 5."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init.bb",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 18,
            "sizeDeletions": 3
        },
        {
            "number": 4,
            "revision": "4dbc5ef5dcb0d4d2335caed36824c89aad48bb96",
            "parents": [
                "9457cdd4e0c6f8294124f9a8c733e031cc2119cc"
            ],
            "ref": "refs/changes/51/46651/4",
            "uploader": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "createdOn": 1632857057,
            "author": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init.bb",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 18,
            "sizeDeletions": 3
        },
        {
            "number": 5,
            "revision": "546804215333c1e03f4a1a617a31cdcdedfab80a",
            "parents": [
                "9457cdd4e0c6f8294124f9a8c733e031cc2119cc"
            ],
            "ref": "refs/changes/51/46651/5",
            "uploader": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "createdOn": 1633060258,
            "author": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 63,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "Hmm, to avoid unset variable later we should put an assignment to empty just above,\nor in an else since there is only one if leg."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 63,
                    "reviewer": {
                        "name": "Isaac Kurth",
                        "email": "isaac.kurth@ibm.com",
                        "username": "IsaacPK"
                    },
                    "message": "But resetval does already get set in line 55. Or did you mean gpioval? Because that does only get set within an if clause.\n\nIn testing it looked like any variable not previously defined registered as an empty string. The code as it stands hasn't caused any problems but I can add an assignment to the empty string for gpioval just in case."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 63,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "Yes on the name.  And yes on the value unless the environment has a variable, and there is an option to make it an error which is not currently active for this script.  It's still cleaner.  And it prevents mischief with the changes below."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 66,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "If resetval is true it doesn't matter what gpiopresent is, so we can drop the\n -z \"$gpiopresent\" -a\n\nAlso it for some reason the find works and the get failed I don't think we want to reset so instead of gpiopresent check\n -n $gpioval"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 66,
                    "reviewer": {
                        "name": "Isaac Kurth",
                        "email": "isaac.kurth@ibm.com",
                        "username": "IsaacPK"
                    },
                    "message": "Sounds fine, agree"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 74,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "Nit.  Since we didn't announce the start of the format (should we?). Either do that or just say rwfs formatted (the past tense vs the active is complete)."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 74,
                    "reviewer": {
                        "name": "Isaac Kurth",
                        "email": "isaac.kurth@ibm.com",
                        "username": "IsaacPK"
                    },
                    "message": "I'll change to formatted."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init.bb",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 19,
            "sizeDeletions": 4
        },
        {
            "number": 6,
            "revision": "6143db96ddd54b0710033f4843dd4547d3857eae",
            "parents": [
                "9457cdd4e0c6f8294124f9a8c733e031cc2119cc"
            ],
            "ref": "refs/changes/51/46651/6",
            "uploader": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "createdOn": 1633381170,
            "author": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 63,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "Looks like this compare was missed in present name to value, but it wouldbe an error path that tries to repeatedly set the rwreset variable to empty"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 63,
                    "reviewer": {
                        "name": "Isaac Kurth",
                        "email": "isaac.kurth@ibm.com",
                        "username": "IsaacPK"
                    },
                    "message": "Okay, so I should change -n \"$gpiopresent\" to -n \"$gpioval\"\n\nBecause if due to some error, $gpioval doesn't get set when it should, then it wouldn't reset rwreset every time the code is run."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init.bb",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 21,
            "sizeDeletions": 5
        },
        {
            "number": 7,
            "revision": "9f7acd7e368bb609251b55be48e6077bfad77c9a",
            "parents": [
                "9457cdd4e0c6f8294124f9a8c733e031cc2119cc"
            ],
            "ref": "refs/changes/51/46651/7",
            "uploader": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "createdOn": 1633450558,
            "author": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "kind": "NO_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init.bb",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 21,
            "sizeDeletions": 5
        },
        {
            "number": 8,
            "revision": "29df06500e0f6f3cf106b83483e5306bac11a4c4",
            "parents": [
                "9457cdd4e0c6f8294124f9a8c733e031cc2119cc"
            ],
            "ref": "refs/changes/51/46651/8",
            "uploader": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "createdOn": 1633450637,
            "author": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 63,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "I thought I had read everything but now see this also missed the change to test -a from &&\n\nAnd since it's the same line it means I stopped on first error."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "line": 63,
                    "reviewer": {
                        "name": "Isaac Kurth",
                        "email": "isaac.kurth@ibm.com",
                        "username": "IsaacPK"
                    },
                    "message": "Fair enough, I missed it too"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init.bb",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 21,
            "sizeDeletions": 5
        },
        {
            "number": 9,
            "revision": "30008a736c62767700a611bb1bb9ee65305221ac",
            "parents": [
                "9457cdd4e0c6f8294124f9a8c733e031cc2119cc"
            ],
            "ref": "refs/changes/51/46651/9",
            "uploader": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "createdOn": 1633454313,
            "author": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init.bb",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 21,
            "sizeDeletions": 5
        },
        {
            "number": 10,
            "revision": "5003195bc9939995fd9be199aa752e9ba5f4cbb6",
            "parents": [
                "14d29c2fdfacccdba4622faf159c573466bd0b7c"
            ],
            "ref": "refs/changes/51/46651/10",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1633459859,
            "author": {
                "name": "Isaac Kurth",
                "email": "isaac.kurth@ibm.com",
                "username": "IsaacPK"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init.bb",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/initrdscripts/phosphor-mmc-init/mmc-init.sh",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 21,
            "sizeDeletions": 5
        }
    ]
}