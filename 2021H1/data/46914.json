{
    "project": "openbmc/docs",
    "branch": "master",
    "id": "I9d14b869765df0755262f6e5f14c0fed03736640",
    "number": 46914,
    "subject": "device-tree-gpio-naming: Add power-config-full-load",
    "owner": {
        "name": "Adriana Kobylak",
        "email": "anoo@linux.ibm.com",
        "username": "anoo1"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/docs/+/46914",
    "commitMessage": "device-tree-gpio-naming: Add power-config-full-load\n\nThe power-config-full-load GPIO is intended to communicate to the HW the\nexpected number of working power supplies for this system model, so that\nif the number of power supplies present are less than the expected one,\nperformance may need to be reduced so the system can maintain its\npowered on state.\n\nChange-Id: I9d14b869765df0755262f6e5f14c0fed03736640\nSigned-off-by: Adriana Kobylak <anoo@us.ibm.com>\n",
    "createdOn": 1631732289,
    "lastUpdated": 1633384295,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1631732289,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1631732580,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1631800724,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1631903106,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1631903162,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1632153690,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1632155368,
            "reviewer": {
                "name": "Derek Howard",
                "email": "derekh@us.ibm.com",
                "username": "derekhoward55"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1632174375,
            "reviewer": {
                "name": "Milton D. Miller II",
                "email": "miltonm@us.ibm.com",
                "username": "mdmillerii"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1632190012,
            "reviewer": {
                "name": "Joel Stanley",
                "email": "joel@jms.id.au",
                "username": "shenki"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1632202713,
            "reviewer": {
                "name": "Milton D. Miller II",
                "email": "miltonm@us.ibm.com",
                "username": "mdmillerii"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1632409541,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1632409643,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1632412399,
            "reviewer": {
                "name": "Derek Howard",
                "email": "derekh@us.ibm.com",
                "username": "derekhoward55"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1632420657,
            "reviewer": {
                "name": "Milton D. Miller II",
                "email": "miltonm@us.ibm.com",
                "username": "mdmillerii"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1632775752,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1632775812,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1632776064,
            "reviewer": {
                "name": "Milton D. Miller II",
                "email": "miltonm@us.ibm.com",
                "username": "mdmillerii"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1632841029,
            "reviewer": {
                "name": "Derek Howard",
                "email": "derekh@us.ibm.com",
                "username": "derekhoward55"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1633376900,
            "reviewer": {
                "name": "B. J. Wyman",
                "email": "bjwyman@gmail.com",
                "username": "bjwyman"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1633384264,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1633384281,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1633384291,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 5: Verified+1 Code-Review+2"
        },
        {
            "timestamp": 1633384295,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Change has been successfully merged by Patrick Williams"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "3468ab953b0a2aa0d1b816296c645cb2045c0c8a",
            "parents": [
                "b685fd0469d59172df50ade7b4658673ba6d5312"
            ],
            "ref": "refs/changes/14/46914/1",
            "uploader": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "createdOn": 1631732289,
            "author": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 14,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Kernel device tree discussion: https://lore.kernel.org/openbmc/20210910195417.2838841-1-anoo@linux.ibm.com/"
                },
                {
                    "file": "designs/device-tree-gpio-naming.md",
                    "line": 127,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I don't understand the connection between this GPIO name and the intended function.  Can we make this non-Power(arch) and related to power supply redundancy in some way?\n\nWe should probably name it in a way to indicate if the intention is 'active-high' (such as 'power-supply-redundancy-lost') or 'active-low' (such as 'power-supply-redundancy-active')."
                },
                {
                    "file": "designs/device-tree-gpio-naming.md",
                    "line": 127,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Done. Agree, changed it to 'power-supply-redundancy-active' and added it to the general power-* section."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "designs/device-tree-gpio-naming.md",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 10,
            "sizeDeletions": 1
        },
        {
            "number": 2,
            "revision": "5862289b1a115dffcb4cb575986a6db3cb79cd09",
            "parents": [
                "a021c6c0ea017656b2849a56f7c18df1f270003e"
            ],
            "ref": "refs/changes/14/46914/2",
            "uploader": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "createdOn": 1631903106,
            "author": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/device-tree-gpio-naming.md",
                    "line": 77,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "I'm not sure this is needed? Some systems may not default to having power supply redundancy (i.e. it's possibly a feature upgrade)?"
                },
                {
                    "file": "designs/device-tree-gpio-naming.md",
                    "line": 77,
                    "reviewer": {
                        "name": "Derek Howard",
                        "email": "derekh@us.ibm.com",
                        "username": "derekhoward55"
                    },
                    "message": "This gpio doesn't imply if the system has redundancy though.  It tells hw logic how many ps are expected to be present&working for this type of system.  In IBMs case they happen to support redundant ps in all types of these systems, so in either state, we have redundancy.  A subtle difference...and I'm not sure if other companies support oversubscription so would even use this gpio.  I don't have a strong opinion on what it's called, just want to make sure the usage is understood correctly before suggesting a name."
                },
                {
                    "file": "designs/device-tree-gpio-naming.md",
                    "line": 77,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "Thank you Derek.\n\nSince this GPIO is consumed by a hardware specific circuit and not directly part of the the over-subscription concept, but instead gives information to a platform circut I think this is further evidence that this gpio is not expected to be reused beyond derivatives of this system, and any reuse would require configuration rendering it beyond the purpose of this document."
                },
                {
                    "file": "designs/device-tree-gpio-naming.md",
                    "line": 77,
                    "reviewer": {
                        "name": "Joel Stanley",
                        "email": "joel@jms.id.au",
                        "username": "shenki"
                    },
                    "message": "There's no genuine review of the names when adding them to the kernel tree, so by adding them here we have the opportunity to be consistent with the naming, and have some review from peers who care about GPIO naming.\n\nTo that end, I would like to see all GPIOs that are named for the purposes of userspace applications (so they don't have a description in the kernel bindings), to be added to this document."
                },
                {
                    "file": "designs/device-tree-gpio-naming.md",
                    "line": 77,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "If that's what you want please submit an edit to the Proposed Design and Requirements above.\n\nPersonally I don't agree it's needed (a discussion on why its not likely to lead to reuse should be sufficient) but we should have the discussion with your proposal."
                },
                {
                    "file": "designs/device-tree-gpio-naming.md",
                    "line": 77,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Changed the name to power-supply-count so that it better addresses the review comments."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/device-tree-gpio-naming.md",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 6,
            "sizeDeletions": 1
        },
        {
            "number": 3,
            "revision": "ea1c55684443b672ab57023cdcbad679a736db3e",
            "parents": [
                "a021c6c0ea017656b2849a56f7c18df1f270003e"
            ],
            "ref": "refs/changes/14/46914/3",
            "uploader": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "createdOn": 1632409541,
            "author": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/device-tree-gpio-naming.md",
                    "line": 83,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "This description talks about a count, but later talks about the number \"expected of the two models\".   My understanding is 2 vs 4 required.  A single bit can be one of 2 states, so cout 0-1 might be a bit low.  \n\nAlso might need to clarify this is an output from the code?\n\nMaybe \"power-config-full-load\", \"power-supplies-max\"  or similar, as its telling a hardware circuit that gives a warning to other hardware what the threshold should , and the state says if its all or a subset of supplies (as I presently understand)."
                },
                {
                    "file": "designs/device-tree-gpio-naming.md",
                    "line": 83,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Changed to \"power-config-full-load\" and added it's an output gpio set by the code."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "designs/device-tree-gpio-naming.md",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 10,
            "sizeDeletions": 1
        },
        {
            "number": 4,
            "revision": "c37ba1f598a1866c10a51bf61d8bd79da617bd13",
            "parents": [
                "ae4104dd1b510d2edbeb39d792a2935e453c1917"
            ],
            "ref": "refs/changes/14/46914/4",
            "uploader": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "createdOn": 1632775752,
            "author": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/device-tree-gpio-naming.md",
                    "line": 80,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Did a minor reflow here."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "designs/device-tree-gpio-naming.md",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 11,
            "sizeDeletions": 1
        },
        {
            "number": 5,
            "revision": "2cbf57a8a0bb8d95b0e19b7fc27c4f95cbd8609a",
            "parents": [
                "d55349e10ec2432886b26b00322ef0eaff2b919a"
            ],
            "ref": "refs/changes/14/46914/5",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1633384264,
            "author": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "designs/device-tree-gpio-naming.md",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 11,
            "sizeDeletions": 1
        }
    ]
}