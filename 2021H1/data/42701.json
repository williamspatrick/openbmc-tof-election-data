{
    "project": "openbmc/openbmc",
    "branch": "master",
    "id": "I28c72dfabf32d22f917ca1e244f5b700ae941667",
    "number": 42701,
    "subject": "meta-quanta: gbs: fix yaml file and override config were not used",
    "owner": {
        "name": "George Hung",
        "email": "george.hung@quantatw.com",
        "username": "georgehung1210"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/openbmc/+/42701",
    "commitMessage": "meta-quanta: gbs: fix yaml file and override config were not used\n\n- meson.build doesn't parse the led.yaml you provide,\n  so replace the yaml file of source before compiling\n\n- install service-override.conf directly intead of\n  using SYSTEMD_OVERRIDE to avoid package name\n  changing\n\n- remove unused json config\n\nSigned-off-by: George Hung <george.hung@quantatw.com>\nChange-Id: I28c72dfabf32d22f917ca1e244f5b700ae941667\n",
    "createdOn": 1619591904,
    "lastUpdated": 1619672190,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1619591904,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1619591939,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1619591947,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/3495/"
        },
        {
            "timestamp": 1619592637,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/3495/ : SUCCESS"
        },
        {
            "timestamp": 1619593919,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 1:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1619658998,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 1:\n\n(4 comments)"
        },
        {
            "timestamp": 1619664623,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1619664657,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1619664665,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/3539/"
        },
        {
            "timestamp": 1619666928,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/3539/ : SUCCESS"
        },
        {
            "timestamp": 1619669531,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Patch Set 2:\n\n(4 comments)"
        },
        {
            "timestamp": 1619670685,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1619671069,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1619671096,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1619671213,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Patch Set 3: Commit message was updated."
        },
        {
            "timestamp": 1619671240,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1619672107,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 3: Code-Review+2"
        },
        {
            "timestamp": 1619672190,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Change has been successfully rebased and submitted as b4af56f7f44ff7e2f565c548aa65489f151d36f2 by George Hung"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "d8623b2c8852588c3d36d57704108360af3e087b",
            "parents": [
                "4cce1d9310ca7d57d11801916131f11abf8457cd"
            ],
            "ref": "refs/changes/01/42701/1",
            "uploader": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "createdOn": 1619591904,
            "author": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "clarification: I don't quite get what you mean - I guess you mean the led.yaml at run time? gbs doesn't provide a custom led.yaml though, so what led.yaml is this? If this is the default led.yaml, does that mean all phosphor-led-manager.bbappends have to do this?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "George Hung",
                        "email": "george.hung@quantatw.com",
                        "username": "georgehung1210"
                    },
                    "message": "gbs has the custom led.yaml, but for current meson.build, it doesn't include the custom yaml path (I think only specify the json config, not the yaml) and just parse the default led.yaml, so we have to replace the default yaml before building. And for now, I think if you use the custom yaml, you have to do this."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Ah right. I missed the virtual provide in gbs-led-manager-config.\n\nJust for nit wording, could you change \"set\" to \"provide\" ?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "George Hung",
                        "email": "george.hung@quantatw.com",
                        "username": "georgehung1210"
                    },
                    "message": "Done"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 13,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "nit package"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 13,
                    "reviewer": {
                        "name": "George Hung",
                        "email": "george.hung@quantatw.com",
                        "username": "georgehung1210"
                    },
                    "message": "Done"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 16,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "nit remove"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 16,
                    "reviewer": {
                        "name": "George Hung",
                        "email": "george.hung@quantatw.com",
                        "username": "georgehung1210"
                    },
                    "message": "Done"
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/leds/phosphor-led-manager_%.bbappend",
                    "line": 6,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "nit: I think it's fine to go over char limits for paths like this, I think it's more readable as 1 line"
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/leds/phosphor-led-manager_%.bbappend",
                    "line": 6,
                    "reviewer": {
                        "name": "George Hung",
                        "email": "george.hung@quantatw.com",
                        "username": "georgehung1210"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/leds/phosphor-led-manager_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 16,
            "sizeDeletions": 2
        },
        {
            "number": 2,
            "revision": "d5e220c82b70118a7a4b2fb3bd52d9947d86a859",
            "parents": [
                "4cce1d9310ca7d57d11801916131f11abf8457cd"
            ],
            "ref": "refs/changes/01/42701/2",
            "uploader": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "createdOn": 1619664623,
            "author": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/leds/phosphor-led-manager_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 13,
            "sizeDeletions": 2
        },
        {
            "number": 3,
            "revision": "231ac119fe23eb1993f7d8ff341366d6f9e59a54",
            "parents": [
                "4cce1d9310ca7d57d11801916131f11abf8457cd"
            ],
            "ref": "refs/changes/01/42701/3",
            "uploader": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "createdOn": 1619671213,
            "author": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/leds/phosphor-led-manager_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 13,
            "sizeDeletions": 2
        },
        {
            "number": 4,
            "revision": "b4af56f7f44ff7e2f565c548aa65489f151d36f2",
            "parents": [
                "b588235e34a679c45ca41848473da3f59613acd7"
            ],
            "ref": "refs/changes/01/42701/4",
            "uploader": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "createdOn": 1619672190,
            "author": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/leds/phosphor-led-manager_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 13,
            "sizeDeletions": 2
        }
    ]
}