{
    "project": "openbmc/phosphor-logging",
    "branch": "master",
    "id": "Ieebb09ba002843cf863359a09aba26540356aa91",
    "number": 42024,
    "subject": "PEL: Change method of asserting a fault LED",
    "owner": {
        "name": "Matt Spinler",
        "email": "spinler@us.ibm.com",
        "username": "spinler"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-logging/+/42024",
    "commitMessage": "PEL: Change method of asserting a fault LED\n\nThere was a recent change in direction on how PELs should request that\nfault LEDs be turned on.  Previously, the code would talk to the LED\ngroup objects directly.  The new direction is to set the Functional\nproperty on the OperationalStatus interface on the inventory objects in\nquestion to false, and the LED manager code will watch that to know when\nto turn on the LEDs.\n\nSigned-off-by: Matt Spinler <spinler@us.ibm.com>\nChange-Id: Ieebb09ba002843cf863359a09aba26540356aa91\n",
    "createdOn": 1617829773,
    "lastUpdated": 1618416436,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1617829773,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1617829783,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1617830410,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/15000/ : SUCCESS"
        },
        {
            "timestamp": 1617878567,
            "reviewer": {
                "name": "Vishwanatha Subbanna",
                "email": "vishwa@linux.vnet.ibm.com",
                "username": "vishwabmc"
            },
            "message": "Patch Set 1:\n\n(4 comments)\n\nThank you for a quick one.."
        },
        {
            "timestamp": 1617919241,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 1:\n\n(4 comments)"
        },
        {
            "timestamp": 1617945112,
            "reviewer": {
                "name": "Vishwanatha Subbanna",
                "email": "vishwa@linux.vnet.ibm.com",
                "username": "vishwabmc"
            },
            "message": "Patch Set 1: Code-Review+1\n\n(3 comments)"
        },
        {
            "timestamp": 1617991350,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1617991367,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1617991368,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1617992034,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/15199/ : SUCCESS"
        },
        {
            "timestamp": 1617993597,
            "reviewer": {
                "name": "Vishwanatha Subbanna",
                "email": "vishwa@linux.vnet.ibm.com",
                "username": "vishwabmc"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1618344234,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1618345312,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1618345312,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1618345333,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1618345919,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/15318/ : SUCCESS"
        },
        {
            "timestamp": 1618347438,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1618378073,
            "reviewer": {
                "name": "Vishwanatha Subbanna",
                "email": "vishwa@linux.vnet.ibm.com",
                "username": "vishwabmc"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1618416433,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 3: Code-Review+2"
        },
        {
            "timestamp": 1618416436,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Change has been successfully rebased and submitted as 993168de4791dc83ea787c2180187654a9f37e89 by Matt Spinler"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "6e80900be2f441572cfa9e5bf89b9067a31aa320",
            "parents": [
                "54ff54e9055dbd9da763b07d6a2bd14c176c4beb"
            ],
            "ref": "refs/changes/24/42024/1",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1617829773,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "extensions/openpower-pels/service_indicators.cpp",
                    "line": 82,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "should this take boolean value just in case needed tomorrow ?"
                },
                {
                    "file": "extensions/openpower-pels/service_indicators.cpp",
                    "line": 82,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "I don't really see a use case for that, so I'll probably just leave it how it is for now."
                },
                {
                    "file": "extensions/openpower-pels/service_indicators.cpp",
                    "line": 82,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "Sure.. and you saying when/IF there is a need, we can go make that change ?.. I am fine with that."
                },
                {
                    "file": "extensions/openpower-pels/service_indicators.cpp",
                    "line": 207,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "hmm.. for a given location code, can there be more than 1 Inventory D-Bus paths ?"
                },
                {
                    "file": "extensions/openpower-pels/service_indicators.cpp",
                    "line": 207,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "I wasn't planning on this having to support setting all child objects to not functional as well, just the main one that has the LocationCode interface on it in the inventory."
                },
                {
                    "file": "extensions/openpower-pels/service_indicators.cpp",
                    "line": 207,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "right.. the reason I asked the question is because of the for loop on locationCodes and then pushing the Inventory to vector."
                },
                {
                    "file": "extensions/openpower-pels/service_indicators.cpp",
                    "line": 232,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "Also: I believe the code that sets the led/groups/platform_system_attention is left un-changed .. correct ?"
                },
                {
                    "file": "extensions/openpower-pels/service_indicators.cpp",
                    "line": 232,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Yea, that's on line 92 in this file."
                },
                {
                    "file": "extensions/openpower-pels/service_indicators.cpp",
                    "line": 232,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "Ack"
                },
                {
                    "file": "extensions/openpower-pels/service_indicators.hpp",
                    "line": 145,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "is \"assertLEDs\", a misnomer since it's not asserting the LEDs ?.."
                },
                {
                    "file": "extensions/openpower-pels/service_indicators.hpp",
                    "line": 145,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "I had left it because assertLEDs() sounded more appropriate to call in a LightPath::activate() function than setNotFunctional()\n\nThat being said, I went back and forth on this originally so since someone else has an opinion I can change it."
                },
                {
                    "file": "extensions/openpower-pels/service_indicators.hpp",
                    "line": 145,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/data_interface.cpp",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -18
                },
                {
                    "file": "extensions/openpower-pels/data_interface.hpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -22
                },
                {
                    "file": "extensions/openpower-pels/service_indicators.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -31
                },
                {
                    "file": "extensions/openpower-pels/service_indicators.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -7
                },
                {
                    "file": "test/openpower-pels/mocks.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -4
                },
                {
                    "file": "test/openpower-pels/pel_manager_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -8
                },
                {
                    "file": "test/openpower-pels/service_indicators_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -32
                }
            ],
            "sizeInsertions": 75,
            "sizeDeletions": 122
        },
        {
            "number": 2,
            "revision": "b149ead285f312e09e7d00d0e92c827bc1a8d2f4",
            "parents": [
                "54ff54e9055dbd9da763b07d6a2bd14c176c4beb"
            ],
            "ref": "refs/changes/24/42024/2",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1617991350,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "extensions/openpower-pels/data_interface.cpp",
                    "line": 70,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "nit: 'association' is not needed anymore."
                },
                {
                    "file": "extensions/openpower-pels/data_interface.cpp",
                    "line": 70,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/data_interface.cpp",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -18
                },
                {
                    "file": "extensions/openpower-pels/data_interface.hpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -22
                },
                {
                    "file": "extensions/openpower-pels/service_indicators.cpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -31
                },
                {
                    "file": "extensions/openpower-pels/service_indicators.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -7
                },
                {
                    "file": "test/openpower-pels/mocks.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -4
                },
                {
                    "file": "test/openpower-pels/pel_manager_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -8
                },
                {
                    "file": "test/openpower-pels/service_indicators_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -32
                }
            ],
            "sizeInsertions": 76,
            "sizeDeletions": 122
        },
        {
            "number": 3,
            "revision": "4a27896be96391fae2bf33ea75788b490b56f976",
            "parents": [
                "54ff54e9055dbd9da763b07d6a2bd14c176c4beb"
            ],
            "ref": "refs/changes/24/42024/3",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1618345312,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/data_interface.cpp",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -19
                },
                {
                    "file": "extensions/openpower-pels/data_interface.hpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -22
                },
                {
                    "file": "extensions/openpower-pels/service_indicators.cpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -31
                },
                {
                    "file": "extensions/openpower-pels/service_indicators.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -7
                },
                {
                    "file": "test/openpower-pels/mocks.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -4
                },
                {
                    "file": "test/openpower-pels/pel_manager_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -8
                },
                {
                    "file": "test/openpower-pels/service_indicators_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -32
                }
            ],
            "sizeInsertions": 76,
            "sizeDeletions": 123
        },
        {
            "number": 4,
            "revision": "993168de4791dc83ea787c2180187654a9f37e89",
            "parents": [
                "f3702bb353a5006feedbd7c809859b19f6286c77"
            ],
            "ref": "refs/changes/24/42024/4",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1618416436,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/data_interface.cpp",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -19
                },
                {
                    "file": "extensions/openpower-pels/data_interface.hpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -22
                },
                {
                    "file": "extensions/openpower-pels/service_indicators.cpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -31
                },
                {
                    "file": "extensions/openpower-pels/service_indicators.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -7
                },
                {
                    "file": "test/openpower-pels/mocks.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -4
                },
                {
                    "file": "test/openpower-pels/pel_manager_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -8
                },
                {
                    "file": "test/openpower-pels/service_indicators_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -32
                }
            ],
            "sizeInsertions": 76,
            "sizeDeletions": 123
        }
    ]
}