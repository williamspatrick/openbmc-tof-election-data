{
    "project": "openbmc/meta-evb",
    "branch": "master",
    "topic": "Build OpenBMC image for AST2600 EVB",
    "id": "I7a3d90c8fb15a2ca8ea046b92f9cd06eb3cacd54",
    "number": 38720,
    "subject": "meta-evb-ast2600: Add an new convenience layer for OpenBMC AST2600 EVB",
    "owner": {
        "name": "Troy Lee",
        "email": "troy_lee@aspeedtech.com",
        "username": "LeeTroy"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/meta-evb/+/38720",
    "commitMessage": "meta-evb-ast2600: Add an new convenience layer for OpenBMC AST2600 EVB\n\nThis commit has been verified with AST2600A1 EVB with the image created\nby the following command:\n\nTEMPLATECONF=meta-evb/meta-evb-aspeed/meta-evb-ast2600/conf . openbmc-env\nbitbake obmc-phosphor-image\n\nSigned-off-by: Troy Lee <troy_lee@aspeedtech.com>\nChange-Id: I7a3d90c8fb15a2ca8ea046b92f9cd06eb3cacd54\n",
    "createdOn": 1606878312,
    "lastUpdated": 1610484219,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1606878312,
            "reviewer": {
                "name": "Troy Lee",
                "email": "troy_lee@aspeedtech.com",
                "username": "LeeTroy"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1606878324,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1606878624,
            "reviewer": {
                "name": "Troy Lee",
                "email": "troy_lee@aspeedtech.com",
                "username": "LeeTroy"
            },
            "message": "Patch Set 1:\n\nHi Brad,\n\nI'd like to add a meta-layer for building AST2600-EVB image, so could you help to review the change?\n\nThanks,\nTroy Lee"
        },
        {
            "timestamp": 1606878754,
            "reviewer": {
                "name": "Troy Lee",
                "email": "troy_lee@aspeedtech.com",
                "username": "LeeTroy"
            },
            "message": "Patch Set 2: Commit message was updated."
        },
        {
            "timestamp": 1606880794,
            "reviewer": {
                "name": "Troy Lee",
                "email": "troy_lee@aspeedtech.com",
                "username": "LeeTroy"
            },
            "message": "Patch Set 3: Commit message was updated."
        },
        {
            "timestamp": 1608226554,
            "reviewer": {
                "name": "Brad Bishop",
                "email": "bradleyb@fuzziesquirrel.com",
                "username": "bradbishop"
            },
            "message": "Patch Set 3:\n\n(5 comments)\n\nSorry about the poor responsiveness here Troy."
        },
        {
            "timestamp": 1608254817,
            "reviewer": {
                "name": "Troy Lee",
                "email": "troy_lee@aspeedtech.com",
                "username": "LeeTroy"
            },
            "message": "Patch Set 3:\n\n(1 comment)\n\nI'll submit my changes to meta-aspeed and drop this pull request.\nThanks for you review!"
        },
        {
            "timestamp": 1608255014,
            "reviewer": {
                "name": "Troy Lee",
                "email": "troy_lee@aspeedtech.com",
                "username": "LeeTroy"
            },
            "message": "Abandoned\n\nI will submit the changes to meta-aspeed."
        },
        {
            "timestamp": 1609832175,
            "reviewer": {
                "name": "Troy Lee",
                "email": "troy_lee@aspeedtech.com",
                "username": "LeeTroy"
            },
            "message": "Restored"
        },
        {
            "timestamp": 1609832615,
            "reviewer": {
                "name": "Troy Lee",
                "email": "troy_lee@aspeedtech.com",
                "username": "LeeTroy"
            },
            "message": "Patch Set 3:\n\nI might misunderstood Brad comment earlier, so I reopen this PR. \n\nI'll submit machine/evb-ast2600.conf changes to meta-aspeed layer and keeping this a convenience layer for building OpenBMC image."
        },
        {
            "timestamp": 1609842196,
            "reviewer": {
                "name": "Troy Lee",
                "email": "troy_lee@aspeedtech.com",
                "username": "LeeTroy"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1609842207,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1609842340,
            "reviewer": {
                "name": "Troy Lee",
                "email": "troy_lee@aspeedtech.com",
                "username": "LeeTroy"
            },
            "message": "Patch Set 4:\n\n(5 comments)\n\nThis pull-request has updated per comment and submitted the machine config into meta-aspeed and meta-phosphor layers."
        },
        {
            "timestamp": 1609842668,
            "reviewer": {
                "name": "Troy Lee",
                "email": "troy_lee@aspeedtech.com",
                "username": "LeeTroy"
            },
            "message": "Topic set to Build OpenBMC image for AST2600 EVB"
        },
        {
            "timestamp": 1610484213,
            "reviewer": {
                "name": "Brad Bishop",
                "email": "bradleyb@fuzziesquirrel.com",
                "username": "bradbishop"
            },
            "message": "Patch Set 4: Verified+1 Code-Review+2\n\n(1 comment)"
        },
        {
            "timestamp": 1610484219,
            "reviewer": {
                "name": "Brad Bishop",
                "email": "bradleyb@fuzziesquirrel.com",
                "username": "bradbishop"
            },
            "message": "Change has been successfully merged by Brad Bishop"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "c43fe3c935d7514a7c599be54e988f3c090dbf7d",
            "parents": [
                "4d356d1b1afe5b7050220a649b894b1309973495"
            ],
            "ref": "refs/changes/20/38720/1",
            "uploader": {
                "name": "Troy Lee",
                "email": "troy_lee@aspeedtech.com",
                "username": "LeeTroy"
            },
            "createdOn": 1606878312,
            "author": {
                "name": "Troy Lee",
                "email": "troy_lee@aspeedtech.com",
                "username": "LeeTroy"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/README.md",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/bblayers.conf.sample",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/conf-notes.txt",
                    "type": "ADDED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/layer.conf",
                    "type": "ADDED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/local.conf.sample",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/machine/evb-ast2600-a1.conf",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 96,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "7c6c88a14884aeb8a3ed91e65f73195ff1067ceb",
            "parents": [
                "4d356d1b1afe5b7050220a649b894b1309973495"
            ],
            "ref": "refs/changes/20/38720/2",
            "uploader": {
                "name": "Troy Lee",
                "email": "troy_lee@aspeedtech.com",
                "username": "LeeTroy"
            },
            "createdOn": 1606878754,
            "author": {
                "name": "Troy Lee",
                "email": "troy_lee@aspeedtech.com",
                "username": "LeeTroy"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/README.md",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/bblayers.conf.sample",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/conf-notes.txt",
                    "type": "ADDED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/layer.conf",
                    "type": "ADDED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/local.conf.sample",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/machine/evb-ast2600-a1.conf",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 96,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "0b7a837986572553d8dfee20a7c014bf14c50f12",
            "parents": [
                "4d356d1b1afe5b7050220a649b894b1309973495"
            ],
            "ref": "refs/changes/20/38720/3",
            "uploader": {
                "name": "Troy Lee",
                "email": "troy_lee@aspeedtech.com",
                "username": "LeeTroy"
            },
            "createdOn": 1606880794,
            "author": {
                "name": "Troy Lee",
                "email": "troy_lee@aspeedtech.com",
                "username": "LeeTroy"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/README.md",
                    "line": 1,
                    "reviewer": {
                        "name": "Brad Bishop",
                        "email": "bradleyb@fuzziesquirrel.com",
                        "username": "bradbishop"
                    },
                    "message": "The title should have \"OpenBMC\" in it somewhere I think.  How about this:\n\n Convenience layer for building OpenBMC on the AST2600 EVB\n\n This layer allows you to build OpenBMC for the AST2600 EVB in the Aspeed BSP layer without having to manually configure bblayers.conf and local.conf."
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/README.md",
                    "line": 1,
                    "reviewer": {
                        "name": "Troy Lee",
                        "email": "troy_lee@aspeedtech.com",
                        "username": "LeeTroy"
                    },
                    "message": "Thanks for the wording. I'll update accordingly."
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/README.md",
                    "line": 4,
                    "reviewer": {
                        "name": "Brad Bishop",
                        "email": "bradleyb@fuzziesquirrel.com",
                        "username": "bradbishop"
                    },
                    "message": "No, the Aspeed AST2600 EVB layer is here: https://github.com/openbmc/meta-aspeed"
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/README.md",
                    "line": 4,
                    "reviewer": {
                        "name": "Troy Lee",
                        "email": "troy_lee@aspeedtech.com",
                        "username": "LeeTroy"
                    },
                    "message": "Ack"
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/bblayers.conf.sample",
                    "line": 13,
                    "reviewer": {
                        "name": "Brad Bishop",
                        "email": "bradleyb@fuzziesquirrel.com",
                        "username": "bradbishop"
                    },
                    "message": "I don't think python is required to build openbmc anymore.  Can you try building without python?"
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/bblayers.conf.sample",
                    "line": 13,
                    "reviewer": {
                        "name": "Troy Lee",
                        "email": "troy_lee@aspeedtech.com",
                        "username": "LeeTroy"
                    },
                    "message": "Although python is removed from obmc-phosphor-image, meta-python is required for native build environment I think.\n\nRemoving it will produce the following error:\nERROR: Layer 'networking-layer' depends on layer 'meta-python', but this layer is not enabled in your configuration"
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/bblayers.conf.sample",
                    "line": 13,
                    "reviewer": {
                        "name": "Brad Bishop",
                        "email": "bradleyb@fuzziesquirrel.com",
                        "username": "bradbishop"
                    },
                    "message": "Ok, thx for doing the experiment.\n\nFYI - Python itself (used by the native build env) comes with oe-core (e.g. meta).  meta-python has some extra/obscure python packages.  Apparently meta-networking has some dependencies on one of those packages.  To be honest I'm not sure what we are using out of meta-networking..."
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/bblayers.conf.sample",
                    "line": 16,
                    "reviewer": {
                        "name": "Brad Bishop",
                        "email": "bradleyb@fuzziesquirrel.com",
                        "username": "bradbishop"
                    },
                    "message": "I don't think this layer has any content.  Is it needed for some reason?"
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/bblayers.conf.sample",
                    "line": 16,
                    "reviewer": {
                        "name": "Troy Lee",
                        "email": "troy_lee@aspeedtech.com",
                        "username": "LeeTroy"
                    },
                    "message": "No, I'll remove this layer."
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/machine/evb-ast2600-a1.conf",
                    "line": 0,
                    "reviewer": {
                        "name": "Brad Bishop",
                        "email": "bradleyb@fuzziesquirrel.com",
                        "username": "bradbishop"
                    },
                    "message": "We already have a machine configuration for the ast2600 EVB here:\n\nhttps://github.com/openbmc/meta-aspeed/blob/master/conf/machine/evb-ast2600.conf\n\nPlease submit your edits for review there."
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/machine/evb-ast2600-a1.conf",
                    "line": 0,
                    "reviewer": {
                        "name": "Troy Lee",
                        "email": "troy_lee@aspeedtech.com",
                        "username": "LeeTroy"
                    },
                    "message": "That will be nice. Currently, the flash layout need to be updated in meta-aspeed or it will complain the u-boot/rofs is too small."
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/machine/evb-ast2600-a1.conf",
                    "line": 0,
                    "reviewer": {
                        "name": "Troy Lee",
                        "email": "troy_lee@aspeedtech.com",
                        "username": "LeeTroy"
                    },
                    "message": "FLASH_SIZE will submit to meta-aspeed/conf/machine/evb-ast2600.conf, and the layout will submit to meta-phosphor/classes/image_types_phosphor.bbclass."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/README.md",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/bblayers.conf.sample",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/conf-notes.txt",
                    "type": "ADDED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/layer.conf",
                    "type": "ADDED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/local.conf.sample",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/machine/evb-ast2600-a1.conf",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 96,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "9ec0661731103f703660aa65b5806a126a4f69fb",
            "parents": [
                "4d356d1b1afe5b7050220a649b894b1309973495"
            ],
            "ref": "refs/changes/20/38720/4",
            "uploader": {
                "name": "Troy Lee",
                "email": "troy_lee@aspeedtech.com",
                "username": "LeeTroy"
            },
            "createdOn": 1609842196,
            "author": {
                "name": "Troy Lee",
                "email": "troy_lee@aspeedtech.com",
                "username": "LeeTroy"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/README.md",
                    "type": "ADDED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/bblayers.conf.sample",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/conf-notes.txt",
                    "type": "ADDED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/layer.conf",
                    "type": "ADDED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "meta-evb-aspeed/meta-evb-ast2600/conf/local.conf.sample",
                    "type": "ADDED",
                    "insertions": 21,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 70,
            "sizeDeletions": 0
        }
    ]
}