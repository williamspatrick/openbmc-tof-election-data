{
    "project": "openbmc/phosphor-fan-presence",
    "branch": "master",
    "topic": "ibm2982",
    "id": "Ib25fb27ed4a0a23aae667beb1e7708ada7ea7d65",
    "number": 43965,
    "subject": "presence: detect and report GPIO exceptions on startup",
    "owner": {
        "name": "Mike Capps",
        "email": "mikepcapps@gmail.com",
        "username": "mikecgithub"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-fan-presence/+/43965",
    "commitMessage": "presence: detect and report GPIO exceptions on startup\n\nTo address issue ibm2982, we will now catch exceptions when creating the\nGPIO presence sensor and substitute it with a nullary sensor that always\nreports non-present. This will give proper error logging for the basic\nfailure scenario of disconnected hardware. Currently this scenario\ncauses a core dump and subsequent investigation.\n\nAdditionally, an OpenBMC event log has been created using the label\nxyz.openbmc_project.Fan.Presence.Error.GPIODeviceUnavailable\n\nSigned-off-by: Mike Capps <mikepcapps@gmail.com>\nChange-Id: Ib25fb27ed4a0a23aae667beb1e7708ada7ea7d65\n",
    "createdOn": 1623335544,
    "lastUpdated": 1625582232,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1623335544,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1623335556,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1623335640,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/19288/ : SUCCESS"
        },
        {
            "timestamp": 1623335695,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Patch Set 1:\n\nThis is untested code, which normally is a faux-pas for software dev. However since I'm expecting lots of feedback and because this is a hardware-oriented issue, I think this counts as an exceptional circumstance. This way I can get the code out there and gather feedback, while I try to cause the same hw failure on my simics environment to test."
        },
        {
            "timestamp": 1623343657,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1623347123,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1623347370,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1623939337,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1623939351,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1623939536,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/20026/ : SUCCESS"
        },
        {
            "timestamp": 1623940292,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1623942088,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1623944626,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 2:\n\n(4 comments)"
        },
        {
            "timestamp": 1624024887,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1624024902,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1624024956,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Patch Set 3:\n\n(5 comments)"
        },
        {
            "timestamp": 1624025226,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/20120/ : SUCCESS"
        },
        {
            "timestamp": 1624026632,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1624028175,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Uploaded patch set 4: Commit message was updated."
        },
        {
            "timestamp": 1624028193,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1624028207,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1624028469,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/20129/ : SUCCESS"
        },
        {
            "timestamp": 1624030573,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 5: Code-Review+1"
        },
        {
            "timestamp": 1624283108,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Uploaded patch set 6: Commit message was updated."
        },
        {
            "timestamp": 1624286041,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Patch Set 6: Code-Review+1\n\n(2 comments)"
        },
        {
            "timestamp": 1624290600,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Removed Code-Review+1 by Mike Capps <mikepcapps@gmail.com>\n"
        },
        {
            "timestamp": 1624297937,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Patch Set 6:\n\n(2 comments)"
        },
        {
            "timestamp": 1624300354,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1624300364,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1624300406,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Patch Set 7:\n\n(2 comments)"
        },
        {
            "timestamp": 1624300464,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/20270/ : SUCCESS"
        },
        {
            "timestamp": 1624300910,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Patch Set 7: Code-Review+1"
        },
        {
            "timestamp": 1624301953,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 7:\n\n(2 comments)"
        },
        {
            "timestamp": 1624306078,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Uploaded patch set 8: Commit message was updated."
        },
        {
            "timestamp": 1624306123,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Patch Set 8:\n\n(2 comments)"
        },
        {
            "timestamp": 1624308337,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1624308363,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1624548966,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1625160107,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 8: Code-Review+1"
        },
        {
            "timestamp": 1625160773,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "msbarth@linux.ibm.com",
                "username": "msbarth"
            },
            "message": "Patch Set 8: Code-Review+2"
        },
        {
            "timestamp": 1625582232,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Change has been successfully rebased and submitted as a35a890b495b952f5f68855df115270670a8e7c7 by Mike Capps"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "48b2bc3a1c69247149a917cb704e122fbcc32bc6",
            "parents": [
                "fdfcc679e69e4fd289c44e58740a5f2f4011b284"
            ],
            "ref": "refs/changes/65/43965/1",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1623335544,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "presence/json_parser.cpp",
                    "line": 277,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "this would just throw again, which you probably don't want.\n\nWhat is probably needed, Matt can confirm, is that a unique event log would have to be created and committed here."
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 277,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "msbarth@linux.ibm.com",
                        "username": "msbarth"
                    },
                    "message": "Correct, we need this to create an unique event log that the GPIO detection method failed."
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 277,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "msbarth@linux.ibm.com",
                        "username": "msbarth"
                    },
                    "message": "Just out of curiosity, since this wraps the entire creation of the GPIO object with a try/catch would we be catching exceptions that we should instead crash from here or can this try/catch be moved into the GPIO object to isolate more on the evdev function that's throwing it?\n\nAlso, I dont see where it is defaulting this detection method to `not present` due to the exception?... Since we're catching this and staying up, we'd want to log that unique event log and then set this GPIO detection method to `not present`."
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 277,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "presence/json_parser.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 12,
            "sizeDeletions": 2
        },
        {
            "number": 2,
            "revision": "54efd23f9921b35cc998f6aebb5361c5cc294efc",
            "parents": [
                "fdfcc679e69e4fd289c44e58740a5f2f4011b284"
            ],
            "ref": "refs/changes/65/43965/2",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1623939337,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "presence/gpio.hpp",
                    "line": 167,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "typo =)"
                },
                {
                    "file": "presence/gpio.hpp",
                    "line": 167,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Done"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 283,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "this needs to be uppercase (because it gets turned into journal metadata)"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 283,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Done"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 293,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "can you make this all uppercase?  \n\nAll, may as well add the physpath and devpath (or whichever one has the I2C bus/address in it)"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 293,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Done"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 295,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "it's theoretically possible this could throw an exception too, so should probably catch it and just print the e.what() in the journal."
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 295,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Done"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 296,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Since you're not passing in any FFDC files, there's actually just a 'Create' method you can use, and then you don't have to create or pass in the ffdc vector."
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 296,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "presence/gpio.hpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": 0
                },
                {
                    "file": "presence/json_parser.cpp",
                    "type": "MODIFIED",
                    "insertions": 35,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 93,
            "sizeDeletions": 2
        },
        {
            "number": 3,
            "revision": "f45752f0cfc1ace70befcde244910a0803faeed1",
            "parents": [
                "fdfcc679e69e4fd289c44e58740a5f2f4011b284"
            ],
            "ref": "refs/changes/65/43965/3",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1624024887,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "You don't need to mention the PEL here, since that's in some IBM add in code in another repo.  You can just call it an OpenBMC event log."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Done"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 283,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Maybe put this into the main message like you did on lines 303-305 below so that the exception message shows up in the journal without any additional digging."
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 283,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "presence/gpio.hpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": 0
                },
                {
                    "file": "presence/json_parser.cpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 102,
            "sizeDeletions": 2
        },
        {
            "number": 4,
            "revision": "5d7d9489558fe66da4acfa9de0bb3faf9e181a8f",
            "parents": [
                "fdfcc679e69e4fd289c44e58740a5f2f4011b284"
            ],
            "ref": "refs/changes/65/43965/4",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1624028175,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "presence/gpio.hpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": 0
                },
                {
                    "file": "presence/json_parser.cpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 102,
            "sizeDeletions": 2
        },
        {
            "number": 5,
            "revision": "e5fe139d8a6f0d44508103e9172804814b8da679",
            "parents": [
                "fdfcc679e69e4fd289c44e58740a5f2f4011b284"
            ],
            "ref": "refs/changes/65/43965/5",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1624028193,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "presence/gpio.hpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": 0
                },
                {
                    "file": "presence/json_parser.cpp",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 104,
            "sizeDeletions": 2
        },
        {
            "number": 6,
            "revision": "e9b0d8a77b6a569872cdb07c33a2d534cdc9516f",
            "parents": [
                "fdfcc679e69e4fd289c44e58740a5f2f4011b284"
            ],
            "ref": "refs/changes/65/43965/6",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1624283108,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "presence/json_parser.cpp",
                    "line": 291,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "msbarth@linux.ibm.com",
                        "username": "msbarth"
                    },
                    "message": "Why not just use the `physpath` variable?"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 291,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Done"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 292,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "msbarth@linux.ibm.com",
                        "username": "msbarth"
                    },
                    "message": "Why no just use the `devpath` variable?"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 292,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "presence/gpio.hpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": 0
                },
                {
                    "file": "presence/json_parser.cpp",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 104,
            "sizeDeletions": 2
        },
        {
            "number": 7,
            "revision": "630c54a13bb5d11486cb0159d9c0c9328395400e",
            "parents": [
                "fdfcc679e69e4fd289c44e58740a5f2f4011b284"
            ],
            "ref": "refs/changes/65/43965/7",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1624300354,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 19,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "This phosphor-fan isn't supposed to be IBM specific, you can leave out the reference to the IBM PEL.  That's just a bonus add-on used in IBM systems."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 19,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "then wouldn't it crash-and-burn if it gets a GPIO exception? I suppose any hardware vendor would then be able/obligated to provide their own PEL data, but since it contains hw-specific data I suppose thats ok."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 19,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Only IBM uses PELs (IBM made up that format of event log about 15 years ago and has been using it on their systems ever since).\n\nOn non-IBM systems, phosphor-log-manager will still put openbmc event log objects on D-Bus:\n\n# busctl tree xyz.openbmc_project.Logging\n\u2514\u2500/xyz\n  \u2514\u2500/xyz/openbmc_project\n    \u2514\u2500/xyz/openbmc_project/logging\n      \u251c\u2500/xyz/openbmc_project/logging/entry\n      \u2502 \u251c\u2500/xyz/openbmc_project/logging/entry/30\n      \u2502 \u251c\u2500/xyz/openbmc_project/logging/entry/31\n      \u2502 \u251c\u2500/xyz/openbmc_project/logging/entry/32\n      \u2502 \u251c\u2500/xyz/openbmc_project/logging/entry/33\n      \u2502 \u251c\u2500/xyz/openbmc_project/logging/entry/34\n      \u2502 \u251c\u2500/xyz/openbmc_project/logging/entry/35\n      \u2502 \u251c\u2500/xyz/openbmc_project/logging/entry/36\n      \u2502 \u251c\u2500/xyz/openbmc_project/logging/entry/37\n      \u2502 \u251c\u2500/xyz/openbmc_project/logging/entry/38\n      \u2502 \u251c\u2500/xyz/openbmc_project/logging/entry/39\n      \u2502 \u251c\u2500/xyz/openbmc_project/logging/entry/40\n      \u2502 \u2514\u2500/xyz/openbmc_project/logging/entry/41\n\nThe xyz.openbmc_project.Fan.Presence.Error.GPIODeviceUnavailable value would be in the 'Message' property inside these event logs."
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 298,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "If there are N fans, would there be N event logs created, or just 1?"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 298,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "with my stock simics simulator I only got one log event."
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 298,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "good. was worried there"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 298,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "presence/gpio.hpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": 0
                },
                {
                    "file": "presence/json_parser.cpp",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 104,
            "sizeDeletions": 2
        },
        {
            "number": 8,
            "revision": "99a241364f01d85560834d00785e378739e69546",
            "parents": [
                "fdfcc679e69e4fd289c44e58740a5f2f4011b284"
            ],
            "ref": "refs/changes/65/43965/8",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1624306078,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "presence/gpio.hpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": 0
                },
                {
                    "file": "presence/json_parser.cpp",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 104,
            "sizeDeletions": 2
        },
        {
            "number": 9,
            "revision": "a35a890b495b952f5f68855df115270670a8e7c7",
            "parents": [
                "2feab0873d1852157043bc41e4c53ee2eb1e2af4"
            ],
            "ref": "refs/changes/65/43965/9",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1625582232,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "presence/gpio.hpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": 0
                },
                {
                    "file": "presence/json_parser.cpp",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 104,
            "sizeDeletions": 2
        }
    ]
}