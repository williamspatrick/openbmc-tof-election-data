{
    "project": "openbmc/phosphor-logging",
    "branch": "master",
    "id": "Idec00bdbe4864c703bb5a874d12144c44dae7d5e",
    "number": 40686,
    "subject": "peltool to delete PEL files permanently",
    "owner": {
        "name": "Miguel Gomez",
        "email": "mgomez@mx1.ibm.com",
        "username": "mgomezmx1"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-logging/+/40686",
    "commitMessage": "peltool to delete PEL files permanently\n\nInstead of calling xyz.openbmc_project.Logging.Entry to delete PELs\nst::filesystem remove is used to permanently delete the corresponding\nfiles. In the future deleting a D-Bus event log will not delete\nthe corresponding PEL, so the only way to delete a PEL is to delete the file.\n\nSigned-off-by: Miguel Gomez <mgomez@mx1.ibm.com>\nChange-Id: Idec00bdbe4864c703bb5a874d12144c44dae7d5e\n",
    "createdOn": 1613594383,
    "lastUpdated": 1615322649,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1613594383,
            "reviewer": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1613594397,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1613594571,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/12569/ : SUCCESS"
        },
        {
            "timestamp": 1613595962,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1614103617,
            "reviewer": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1614103649,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1614103852,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/12895/ : FAILURE"
        },
        {
            "timestamp": 1614105898,
            "reviewer": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1614105909,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1614106233,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/12897/ : SUCCESS"
        },
        {
            "timestamp": 1614116140,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 3:\n\n(4 comments)"
        },
        {
            "timestamp": 1614116497,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 3:\n\n(3 comments)"
        },
        {
            "timestamp": 1614361821,
            "reviewer": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1614361844,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1614362178,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/13103/ : SUCCESS"
        },
        {
            "timestamp": 1614363644,
            "reviewer": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "message": "Uploaded patch set 5: Commit message was updated."
        },
        {
            "timestamp": 1614368397,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 5: Code-Review+1"
        },
        {
            "timestamp": 1614372886,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 5:\n\n(1 comment)\n\njust the one minor commit message comment."
        },
        {
            "timestamp": 1614449546,
            "reviewer": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "message": "Patch Set 5:\n\n(7 comments)\n\n> Patch Set 5:\n> \n> (1 comment)\n> \n> just the one minor commit message comment."
        },
        {
            "timestamp": 1614701841,
            "reviewer": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "message": "Uploaded patch set 6: Commit message was updated."
        },
        {
            "timestamp": 1614701964,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 6: Code-Review+2"
        },
        {
            "timestamp": 1614711577,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 6: -Code-Review"
        },
        {
            "timestamp": 1614711951,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1614815038,
            "reviewer": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1614815049,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1614815268,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/13285/ : FAILURE"
        },
        {
            "timestamp": 1614817018,
            "reviewer": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "message": "Uploaded patch set 8."
        },
        {
            "timestamp": 1614817044,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1614817263,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/13286/ : FAILURE"
        },
        {
            "timestamp": 1614867363,
            "reviewer": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "message": "Uploaded patch set 9."
        },
        {
            "timestamp": 1614867397,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1614867523,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 9:\n\n(1 comment)"
        },
        {
            "timestamp": 1614867618,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/13322/ : FAILURE"
        },
        {
            "timestamp": 1614868164,
            "reviewer": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "message": "Uploaded patch set 10."
        },
        {
            "timestamp": 1614868188,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1614868405,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/13324/ : FAILURE"
        },
        {
            "timestamp": 1614979369,
            "reviewer": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "message": "Uploaded patch set 11."
        },
        {
            "timestamp": 1614979384,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1614979603,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/13437/ : FAILURE"
        },
        {
            "timestamp": 1615217714,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 11:\n\n(2 comments)\n\njust these last changes here should be good.  I tested it on a BMC and it works well."
        },
        {
            "timestamp": 1615232988,
            "reviewer": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "message": "Uploaded patch set 12."
        },
        {
            "timestamp": 1615233001,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1615233205,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 12:\n\n(1 comment)"
        },
        {
            "timestamp": 1615233335,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/13486/ : SUCCESS"
        },
        {
            "timestamp": 1615237539,
            "reviewer": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "message": "Uploaded patch set 13."
        },
        {
            "timestamp": 1615237553,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1615237775,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/13491/ : FAILURE"
        },
        {
            "timestamp": 1615309479,
            "reviewer": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "message": "Uploaded patch set 14."
        },
        {
            "timestamp": 1615309494,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 14: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1615309831,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 14: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/13553/ : SUCCESS"
        },
        {
            "timestamp": 1615322314,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 14: Code-Review+2"
        },
        {
            "timestamp": 1615322327,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Change has been successfully merged by Matt Spinler"
        },
        {
            "timestamp": 1615322649,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 14: Code-Review+1"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "844722265b06c83028cda4466be1f35fa7d6f4bd",
            "parents": [
                "bc0c6190c2ddf840201722b7b0b12b305c479ee4"
            ],
            "ref": "refs/changes/86/40686/1",
            "uploader": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "createdOn": 1613594383,
            "author": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "maybe something like: permanently delete the corresponding files."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Miguel Gomez",
                        "email": "mgomez@mx1.ibm.com",
                        "username": "mgomezmx1"
                    },
                    "message": "Done"
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "line": 591,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "I think removing the logs directory will break other code that expects it to be there after startup.\n\nHow about use the fs::directory_iterator code, like in printPELs(), to delete one at a time."
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "line": 591,
                    "reviewer": {
                        "name": "Miguel Gomez",
                        "email": "mgomez@mx1.ibm.com",
                        "username": "mgomezmx1"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -31
                }
            ],
            "sizeInsertions": 2,
            "sizeDeletions": 31
        },
        {
            "number": 2,
            "revision": "cc5da61903e68c7a575b98d9cdb670903845080d",
            "parents": [
                "bc0c6190c2ddf840201722b7b0b12b305c479ee4"
            ],
            "ref": "refs/changes/86/40686/2",
            "uploader": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "createdOn": 1614103617,
            "author": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -34
                }
            ],
            "sizeInsertions": 6,
            "sizeDeletions": 34
        },
        {
            "number": 3,
            "revision": "9c7ec85fb9504dea2ee43b034a9eb43a84f76eed",
            "parents": [
                "bc0c6190c2ddf840201722b7b0b12b305c479ee4"
            ],
            "ref": "refs/changes/86/40686/3",
            "uploader": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "createdOn": 1614105898,
            "author": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Why is this change being made to not call the d-bus api?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Miguel, you could mention that in the future deleting a D-Bus event log will not delete the corresponding PEL, so the only way to delete a PEL is to delete the file."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Miguel Gomez",
                        "email": "mgomez@mx1.ibm.com",
                        "username": "mgomezmx1"
                    },
                    "message": "Done"
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "line": 588,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "The Delete method does additional checking, like checking if logs are prohibited from being deleted. Do we need to do any checking in addition to just removing the file?"
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "line": 588,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "No, peltool will be able to delete anything."
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "line": 588,
                    "reviewer": {
                        "name": "Miguel Gomez",
                        "email": "mgomez@mx1.ibm.com",
                        "username": "mgomezmx1"
                    },
                    "message": "Ack"
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "line": 607,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "We should probably keep this journal log since the comment says it might be used for auditing."
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "line": 607,
                    "reviewer": {
                        "name": "Miguel Gomez",
                        "email": "mgomez@mx1.ibm.com",
                        "username": "mgomezmx1"
                    },
                    "message": "Done"
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "line": 593,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "should this call just remove since we're expecting it to be a file? otherwise it'll remove directories."
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "line": 593,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "also, please add { }:\nfor ...\n{\n   fs::remove(entry.path());\n}"
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "line": 593,
                    "reviewer": {
                        "name": "Miguel Gomez",
                        "email": "mgomez@mx1.ibm.com",
                        "username": "mgomezmx1"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -33
                }
            ],
            "sizeInsertions": 6,
            "sizeDeletions": 33
        },
        {
            "number": 4,
            "revision": "bade7cf604e356b0d4e0f22e1efeeaabd127b3d8",
            "parents": [
                "bc0c6190c2ddf840201722b7b0b12b305c479ee4"
            ],
            "ref": "refs/changes/86/40686/4",
            "uploader": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "createdOn": 1614361821,
            "author": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -30
                }
            ],
            "sizeInsertions": 7,
            "sizeDeletions": 30
        },
        {
            "number": 5,
            "revision": "1b18de854a9ffd84f7983753bee660e3788e6900",
            "parents": [
                "bc0c6190c2ddf840201722b7b0b12b305c479ee4"
            ],
            "ref": "refs/changes/86/40686/5",
            "uploader": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "createdOn": 1614363644,
            "author": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "technicall this is just remove now, not remove_all"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Miguel Gomez",
                        "email": "mgomez@mx1.ibm.com",
                        "username": "mgomezmx1"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -30
                }
            ],
            "sizeInsertions": 7,
            "sizeDeletions": 30
        },
        {
            "number": 6,
            "revision": "dadbe7793554ab0c6cef5ea42022ec5fda3ea171",
            "parents": [
                "bc0c6190c2ddf840201722b7b0b12b305c479ee4"
            ],
            "ref": "refs/changes/86/40686/6",
            "uploader": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "createdOn": 1614701841,
            "author": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "line": 583,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "somehow I totally missed this before,  but what needs to be deleted here is a PEL file, not the D-Bus path which is what this was doing since it was making a D-Bus call.\n\nPEL files are named <timestamp>_<pel ID>, such as 2021030218575048_50000005, so the code needs to find a file that ends  with the PEL ID value.\n\nCheck out the function that starts on line 508 to see how to do it.\n\nit would need:\n        // convert to upper case to match the case of the file name\n        std::transform(pelID.begin(), pelID.end(), pelID.begin(), toupper);\n\n        // remove the OX prefix from argument if present since  the filename doesn't use it\n        if (pelID.find(\"0X\") == 0)\n        {\n            pelID.erase(0, 2);\n        }\n\nand \n        //look for the file that ends with that value\n        if ((ends_with((*it).path(), pelID)"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -30
                }
            ],
            "sizeInsertions": 7,
            "sizeDeletions": 30
        },
        {
            "number": 7,
            "revision": "e8ff95adce8c32229035a621879ebd43a875157e",
            "parents": [
                "bc0c6190c2ddf840201722b7b0b12b305c479ee4"
            ],
            "ref": "refs/changes/86/40686/7",
            "uploader": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "createdOn": 1614815038,
            "author": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -27
                }
            ],
            "sizeInsertions": 19,
            "sizeDeletions": 27
        },
        {
            "number": 8,
            "revision": "07a6ea1040d04c4cb1e5147af796b6ffb6e931f1",
            "parents": [
                "bc0c6190c2ddf840201722b7b0b12b305c479ee4"
            ],
            "ref": "refs/changes/86/40686/8",
            "uploader": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "createdOn": 1614817018,
            "author": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "line": 581,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Sorry, I steered you wrong.  This deletePEL function is getting called from line 866 by getting passed into callFunctionOnPEL(), which handled finding and loading the PEL file into the PEL object.\n\nWe no longer need that helper function to find and load the PEL object.\n\nSo on line 866, you can call deletePEL(idToDelete) directly, where the passed in ID is a string. so you can call the transform on it below."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -27
                }
            ],
            "sizeInsertions": 19,
            "sizeDeletions": 27
        },
        {
            "number": 9,
            "revision": "7325d2f9ef58d6785f1cf3f8e1235463fae71534",
            "parents": [
                "bc0c6190c2ddf840201722b7b0b12b305c479ee4"
            ],
            "ref": "refs/changes/86/40686/9",
            "uploader": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "createdOn": 1614867363,
            "author": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -27
                }
            ],
            "sizeInsertions": 19,
            "sizeDeletions": 27
        },
        {
            "number": 10,
            "revision": "31a19f96bf2c242ef1fd4e57aa2af572b9b0dbf8",
            "parents": [
                "bc0c6190c2ddf840201722b7b0b12b305c479ee4"
            ],
            "ref": "refs/changes/86/40686/10",
            "uploader": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "createdOn": 1614868164,
            "author": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -28
                }
            ],
            "sizeInsertions": 20,
            "sizeDeletions": 28
        },
        {
            "number": 11,
            "revision": "00d48e2bc793ce44cb6a14e19278e32b72f462fd",
            "parents": [
                "bc0c6190c2ddf840201722b7b0b12b305c479ee4"
            ],
            "ref": "refs/changes/86/40686/11",
            "uploader": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "createdOn": 1614979369,
            "author": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "line": 592,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "you just need to remove this ("
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "line": 593,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "you can delete this blank line"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -31
                }
            ],
            "sizeInsertions": 22,
            "sizeDeletions": 31
        },
        {
            "number": 12,
            "revision": "718cfc656ecd7271a723f7323a96a5f5264fe602",
            "parents": [
                "d0ab1cf6fcf11aae0c02042881b6cc085781ae4a"
            ],
            "ref": "refs/changes/86/40686/12",
            "uploader": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "createdOn": 1615232988,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 0,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "I'm not sure how this file got in this commit?  Let me know if you need help removing it."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "type": "MODIFIED",
                    "insertions": 237,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -31
                }
            ],
            "sizeInsertions": 258,
            "sizeDeletions": 31
        },
        {
            "number": 13,
            "revision": "2908d6b6cc9de291cd9a71db9304bb8548119a1a",
            "parents": [
                "82e31d8175e7850e86ecf581b2ce74079741f8e9"
            ],
            "ref": "refs/changes/86/40686/13",
            "uploader": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "createdOn": 1615237539,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/manager.cpp",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -632
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -1822
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -31
                }
            ],
            "sizeInsertions": 21,
            "sizeDeletions": 2485
        },
        {
            "number": 14,
            "revision": "25d986c1e7d749d3f78da5a5e507d1f2bcbc7874",
            "parents": [
                "86e40ddf5faef4673fdbd9a9bf9ba570d7ea19aa"
            ],
            "ref": "refs/changes/86/40686/14",
            "uploader": {
                "name": "Miguel Gomez",
                "email": "mgomez@mx1.ibm.com",
                "username": "mgomezmx1"
            },
            "createdOn": 1615309479,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/tools/peltool.cpp",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -31
                }
            ],
            "sizeInsertions": 21,
            "sizeDeletions": 31
        }
    ]
}