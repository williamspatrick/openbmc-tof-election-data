{
    "project": "openbmc/phosphor-pid-control",
    "branch": "master",
    "id": "Ib198aecf512a3a107793319014f6c0b531cc6211",
    "number": 40666,
    "subject": "sensors: host: Implement getFailed function to HostSensor",
    "owner": {
        "name": "Harvey Wu",
        "email": "Harvey.Wu@quantatw.com",
        "username": "harveyquta"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-pid-control/+/40666",
    "commitMessage": "sensors: host: Implement getFailed function to HostSensor\n\n1. Add getFailed function to check the dbus value in HostSensor\n   is finite or not, if not, pid control will into failsafe mode.\n\nSigned-off-by: Harvey Wu <Harvey.Wu@quantatw.com>\nChange-Id: Ib198aecf512a3a107793319014f6c0b531cc6211\n",
    "createdOn": 1613543862,
    "lastUpdated": 1616554470,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1613543862,
            "reviewer": {
                "name": "Harvey Wu",
                "email": "Harvey.Wu@quantatw.com",
                "username": "harveyquta"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1613543891,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1613544096,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/12530/ : FAILURE"
        },
        {
            "timestamp": 1613551670,
            "reviewer": {
                "name": "Harvey Wu",
                "email": "Harvey.Wu@quantatw.com",
                "username": "harveyquta"
            },
            "message": "Abandoned"
        },
        {
            "timestamp": 1613551785,
            "reviewer": {
                "name": "Harvey Wu",
                "email": "Harvey.Wu@quantatw.com",
                "username": "harveyquta"
            },
            "message": "Restored"
        },
        {
            "timestamp": 1614132545,
            "reviewer": {
                "name": "Josh Lehan",
                "email": "krellan@google.com",
                "username": "Krellan"
            },
            "message": "Patch Set 1: Ok-To-Test+1 Code-Review+1\n\nLGTM - This is a good change to host sensors, and treats the floating-point value similarly to how it is treated when reading from D-Bus sensors."
        },
        {
            "timestamp": 1614132756,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/12942/ : FAILURE"
        },
        {
            "timestamp": 1614446641,
            "reviewer": {
                "name": "Patrick Venture",
                "email": "venture@google.com",
                "username": "pstrinkle"
            },
            "message": "Removed reviewer Patrick Venture."
        },
        {
            "timestamp": 1614906338,
            "reviewer": {
                "name": "Josh Lehan",
                "email": "krellan@google.com",
                "username": "Krellan"
            },
            "message": "Patch Set 1:\n\nPlease try rebasing this patch on top of the latest master. The OpenBMC CI should now be working again."
        },
        {
            "timestamp": 1614906423,
            "reviewer": {
                "name": "Harvey Wu",
                "email": "Harvey.Wu@quantatw.com",
                "username": "harveyquta"
            },
            "message": "Patch Set 2: Patch Set 1 was rebased"
        },
        {
            "timestamp": 1614906438,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1614906692,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/13360/ : SUCCESS"
        },
        {
            "timestamp": 1614906845,
            "reviewer": {
                "name": "Harvey Wu",
                "email": "Harvey.Wu@quantatw.com",
                "username": "harveyquta"
            },
            "message": "Patch Set 2:\n\n> Patch Set 1:\n> \n> Please try rebasing this patch on top of the latest master. The OpenBMC CI should now be working again.\n\nThanks for reminding."
        },
        {
            "timestamp": 1615249533,
            "reviewer": {
                "name": "Josh Lehan",
                "email": "krellan@google.com",
                "username": "Krellan"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1615279885,
            "reviewer": {
                "name": "Harvey Wu",
                "email": "Harvey.Wu@quantatw.com",
                "username": "harveyquta"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1615279900,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1615280115,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/13527/ : FAILURE"
        },
        {
            "timestamp": 1615280188,
            "reviewer": {
                "name": "Harvey Wu",
                "email": "Harvey.Wu@quantatw.com",
                "username": "harveyquta"
            },
            "message": "Patch Set 4: Patch Set 3 was rebased"
        },
        {
            "timestamp": 1615280200,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1615280455,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/13528/ : SUCCESS"
        },
        {
            "timestamp": 1615280676,
            "reviewer": {
                "name": "Harvey Wu",
                "email": "Harvey.Wu@quantatw.com",
                "username": "harveyquta"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1616540617,
            "reviewer": {
                "name": "Josh Lehan",
                "email": "krellan@google.com",
                "username": "Krellan"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1616540666,
            "reviewer": {
                "name": "Josh Lehan",
                "email": "krellan@google.com",
                "username": "Krellan"
            },
            "message": "Patch Set 4: Ok-To-Test+1 Code-Review+1\n\nLGTM - Please rebase to the latest master."
        },
        {
            "timestamp": 1616541100,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/14254/ : SUCCESS"
        },
        {
            "timestamp": 1616546114,
            "reviewer": {
                "name": "Harvey Wu",
                "email": "Harvey.Wu@quantatw.com",
                "username": "harveyquta"
            },
            "message": "Patch Set 5: Patch Set 4 was rebased"
        },
        {
            "timestamp": 1616546125,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1616546413,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/14269/ : SUCCESS"
        },
        {
            "timestamp": 1616554167,
            "reviewer": {
                "name": "Josh Lehan",
                "email": "krellan@google.com",
                "username": "Krellan"
            },
            "message": "Patch Set 5: Code-Review+2\n\nLGTM - looks good now, thanks"
        },
        {
            "timestamp": 1616554470,
            "reviewer": {
                "name": "Harvey Wu",
                "email": "Harvey.Wu@quantatw.com",
                "username": "harveyquta"
            },
            "message": "Change has been successfully merged by Harvey Wu"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "e6589db3061b0169c5a9f5f8fa0cf6533026b65a",
            "parents": [
                "258530af96c8e729383e94716c0c4d275ab065f4"
            ],
            "ref": "refs/changes/66/40666/1",
            "uploader": {
                "name": "Harvey Wu",
                "email": "Harvey.Wu@quantatw.com",
                "username": "harveyquta"
            },
            "createdOn": 1613543862,
            "author": {
                "name": "Harvey Wu",
                "email": "Harvey.Wu@quantatw.com",
                "username": "harveyquta"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "sensors/host.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "sensors/host.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 13,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "999e9a4d4c1ca0b9438e9ab67c0fe9958ab8d308",
            "parents": [
                "b6a0b89e4419aeef4a2cdfde1a9119ae6b9be25f"
            ],
            "ref": "refs/changes/66/40666/2",
            "uploader": {
                "name": "Harvey Wu",
                "email": "Harvey.Wu@quantatw.com",
                "username": "harveyquta"
            },
            "createdOn": 1614906423,
            "author": {
                "name": "Harvey Wu",
                "email": "Harvey.Wu@quantatw.com",
                "username": "harveyquta"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "sensors/host.cpp",
                    "line": 101,
                    "reviewer": {
                        "name": "Josh Lehan",
                        "email": "krellan@google.com",
                        "username": "Krellan"
                    },
                    "message": "Could simplify to if (std::isfinite(_value)) return false"
                },
                {
                    "file": "sensors/host.cpp",
                    "line": 101,
                    "reviewer": {
                        "name": "Harvey Wu",
                        "email": "Harvey.Wu@quantatw.com",
                        "username": "harveyquta"
                    },
                    "message": "Thanks for suggestion. Already modified to if (std::isfinite(_value))"
                },
                {
                    "file": "sensors/host.cpp",
                    "line": 101,
                    "reviewer": {
                        "name": "Josh Lehan",
                        "email": "krellan@google.com",
                        "username": "Krellan"
                    },
                    "message": "Good (you can also click the \"Resolved\" box in this comment, to mark something as resolved, or just hit \"Ack\" to auto-generate a Resolved reply)."
                },
                {
                    "file": "sensors/host.cpp",
                    "line": 105,
                    "reviewer": {
                        "name": "Josh Lehan",
                        "email": "krellan@google.com",
                        "username": "Krellan"
                    },
                    "message": "No need for else-clause since it would have already returned by now if true"
                },
                {
                    "file": "sensors/host.cpp",
                    "line": 105,
                    "reviewer": {
                        "name": "Harvey Wu",
                        "email": "Harvey.Wu@quantatw.com",
                        "username": "harveyquta"
                    },
                    "message": "Already remove else-clause, and default to return true if host sensor value is NaN or INF"
                },
                {
                    "file": "sensors/host.cpp",
                    "line": 105,
                    "reviewer": {
                        "name": "Josh Lehan",
                        "email": "krellan@google.com",
                        "username": "Krellan"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "sensors/host.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "sensors/host.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 13,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "304de22d1095aced71d36015ebd2720db0b53057",
            "parents": [
                "258530af96c8e729383e94716c0c4d275ab065f4"
            ],
            "ref": "refs/changes/66/40666/3",
            "uploader": {
                "name": "Harvey Wu",
                "email": "Harvey.Wu@quantatw.com",
                "username": "harveyquta"
            },
            "createdOn": 1615279885,
            "author": {
                "name": "Harvey Wu",
                "email": "Harvey.Wu@quantatw.com",
                "username": "harveyquta"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "sensors/host.cpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "sensors/host.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 11,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "d2b9caf9229633a04a3f25eb308f526b46634025",
            "parents": [
                "b6a0b89e4419aeef4a2cdfde1a9119ae6b9be25f"
            ],
            "ref": "refs/changes/66/40666/4",
            "uploader": {
                "name": "Harvey Wu",
                "email": "Harvey.Wu@quantatw.com",
                "username": "harveyquta"
            },
            "createdOn": 1615280188,
            "author": {
                "name": "Harvey Wu",
                "email": "Harvey.Wu@quantatw.com",
                "username": "harveyquta"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "sensors/host.cpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "sensors/host.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 11,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "17971efddc5e44b5a7926d9b3c71def03b739a75",
            "parents": [
                "7a8d5a170004c9256e00ab4a605ebba5437921dd"
            ],
            "ref": "refs/changes/66/40666/5",
            "uploader": {
                "name": "Harvey Wu",
                "email": "Harvey.Wu@quantatw.com",
                "username": "harveyquta"
            },
            "createdOn": 1616546114,
            "author": {
                "name": "Harvey Wu",
                "email": "Harvey.Wu@quantatw.com",
                "username": "harveyquta"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "sensors/host.cpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "sensors/host.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 11,
            "sizeDeletions": 0
        }
    ]
}