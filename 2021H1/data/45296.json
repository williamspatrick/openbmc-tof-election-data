{
    "project": "openbmc/foxconn-ipmi-oem",
    "branch": "master",
    "id": "Ic2745e988e8cb87a6c93d2428b0fe8a78e98ba67",
    "number": 45296,
    "subject": "Modify PCIe bifurcation command internals",
    "owner": {
        "name": "Ashwin Murali",
        "email": "ashwin.murali@fii-na.com",
        "username": "ashwin-fii"
    },
    "url": "https://gerrit.openbmc-project.xyz/c/openbmc/foxconn-ipmi-oem/+/45296",
    "commitMessage": "Modify PCIe bifurcation command internals\n\nModify PCIe bifurcation and PCIe count to use fii-cpld driver instead\nof reading using i2cget directly\n\nSigned-off-by: Ashwin Murali <ashwin.murali@fii-na.com>\nChange-Id: Ic2745e988e8cb87a6c93d2428b0fe8a78e98ba67\n",
    "createdOn": 1627403198,
    "lastUpdated": 1641499341,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1627403198,
            "reviewer": {
                "name": "Ashwin Murali",
                "email": "ashwin.murali@fii-na.com",
                "username": "ashwin-fii"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1627403308,
            "reviewer": {
                "name": "Mohaimen Alsamarai",
                "email": "mohaimen.alsamarai@fii-na.com",
                "username": "MohaimenAlsamarai"
            },
            "message": "Patch Set 2: Commit message was updated."
        },
        {
            "timestamp": 1627403538,
            "reviewer": {
                "name": "Mohaimen Alsamarai",
                "email": "mohaimen.alsamarai@fii-na.com",
                "username": "MohaimenAlsamarai"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1627404098,
            "reviewer": {
                "name": "Mohaimen Alsamarai",
                "email": "mohaimen.alsamarai@fii-na.com",
                "username": "MohaimenAlsamarai"
            },
            "message": "Removed Code-Review+1 by Mohaimen Alsamarai <mohaimen.alsamarai@fii-na.com>\n"
        },
        {
            "timestamp": 1627413863,
            "reviewer": {
                "name": "Ashwin Murali",
                "username": "Ashwin-Murali-Fii"
            },
            "message": "Patch Set 3: Published edit on patch set 2."
        },
        {
            "timestamp": 1629227751,
            "reviewer": {
                "name": "Ashwin Murali",
                "email": "ashwin.murali@fii-na.com",
                "username": "ashwin-fii"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1629933540,
            "reviewer": {
                "name": "XP Chen",
                "email": "xiao-peng.chen@fii-na.com",
                "username": "xp-chen"
            },
            "message": "Patch Set 4: Verified+1 Code-Review+1"
        },
        {
            "timestamp": 1630512658,
            "reviewer": {
                "name": "Ashwin Murali",
                "username": "Ashwin-Murali-Fii"
            },
            "message": "Patch Set 5: Published edit on patch set 4."
        },
        {
            "timestamp": 1634083332,
            "reviewer": {
                "name": "Vivekanand Veeracholan",
                "email": "vveerach@google.com",
                "username": "viarand"
            },
            "message": "Patch Set 5:\n\n(2 comments)"
        },
        {
            "timestamp": 1634083465,
            "reviewer": {
                "name": "Vivekanand Veeracholan",
                "email": "vveerach@google.com",
                "username": "viarand"
            },
            "message": "Patch Set 5:\n\n(2 comments)"
        },
        {
            "timestamp": 1636037522,
            "reviewer": {
                "name": "Ashwin Murali",
                "username": "ashroom1"
            },
            "message": "Patch Set 6: Published edit on patch set 5."
        },
        {
            "timestamp": 1636569958,
            "reviewer": {
                "name": "Vivekanand Veeracholan",
                "email": "vveerach@google.com",
                "username": "viarand"
            },
            "message": "Patch Set 6:\n\n(4 comments)"
        },
        {
            "timestamp": 1636644370,
            "reviewer": {
                "name": "Ashwin Murali",
                "username": "Ashwin-Murali-Fii"
            },
            "message": "Patch Set 7: Commit message was updated."
        },
        {
            "timestamp": 1637082755,
            "reviewer": {
                "name": "Ashwin Murali",
                "username": "Ashwin-Murali-Fii"
            },
            "message": "Patch Set 8: Published edit on patch set 7."
        },
        {
            "timestamp": 1637086836,
            "reviewer": {
                "name": "Vivekanand Veeracholan",
                "email": "vveerach@google.com",
                "username": "viarand"
            },
            "message": "Patch Set 8:\n\n(4 comments)"
        },
        {
            "timestamp": 1637342865,
            "reviewer": {
                "name": "Ashwin Murali",
                "username": "ashroom1"
            },
            "message": "Patch Set 9: Published edit on patch set 8."
        },
        {
            "timestamp": 1639418259,
            "reviewer": {
                "name": "Mustafa Shehabi",
                "email": "mustafa.shehabi@fii-na.com",
                "username": "mustafa20192"
            },
            "message": "Uploaded patch set 10."
        },
        {
            "timestamp": 1641499341,
            "reviewer": {
                "name": "Ashwin Murali",
                "username": "AshwinMurali171"
            },
            "message": "Patch Set 10:\n\n(12 comments)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "a1aae06eea92cd741c6ffd64c3db5eda1109b3db",
            "parents": [
                "35c1ac40e476caa19c84a546d4f85ba96cb5dbbd"
            ],
            "ref": "refs/changes/96/45296/1",
            "uploader": {
                "name": "Ashwin Murali",
                "email": "ashwin.murali@fii-na.com",
                "username": "ashwin-fii"
            },
            "createdOn": 1627403198,
            "author": {
                "name": "Ashwin Murali",
                "email": "ashwin.murali@fii-na.com",
                "username": "ashwin-fii"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "include/systemcommands.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "src/systemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 31,
            "sizeDeletions": 4
        },
        {
            "number": 2,
            "revision": "5c4a84c97bd3e2582892d10af56c6e594d9ce826",
            "parents": [
                "35c1ac40e476caa19c84a546d4f85ba96cb5dbbd"
            ],
            "ref": "refs/changes/96/45296/2",
            "uploader": {
                "name": "Mohaimen Alsamarai",
                "email": "mohaimen.alsamarai@fii-na.com",
                "username": "MohaimenAlsamarai"
            },
            "createdOn": 1627403308,
            "author": {
                "name": "Ashwin Murali",
                "email": "ashwin.murali@fii-na.com",
                "username": "ashwin-fii"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "include/systemcommands.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "src/systemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 31,
            "sizeDeletions": 4
        },
        {
            "number": 3,
            "revision": "af88cb4164e91cce56aaf2003378efcee3210aa4",
            "parents": [
                "35c1ac40e476caa19c84a546d4f85ba96cb5dbbd"
            ],
            "ref": "refs/changes/96/45296/3",
            "uploader": {
                "name": "Ashwin Murali",
                "username": "Ashwin-Murali-Fii"
            },
            "createdOn": 1627413863,
            "author": {
                "name": "Ashwin Murali",
                "email": "ashwin.murali@fii-na.com",
                "username": "ashwin-fii"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "include/systemcommands.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "src/systemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 29,
            "sizeDeletions": 3
        },
        {
            "number": 4,
            "revision": "6c5178d10c6488707a3879abeb5f4e38bc51fc44",
            "parents": [
                "35c1ac40e476caa19c84a546d4f85ba96cb5dbbd"
            ],
            "ref": "refs/changes/96/45296/4",
            "uploader": {
                "name": "Ashwin Murali",
                "email": "ashwin.murali@fii-na.com",
                "username": "ashwin-fii"
            },
            "createdOn": 1629227751,
            "author": {
                "name": "Ashwin Murali",
                "email": "ashwin.murali@fii-na.com",
                "username": "ashwin-fii"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "include/systemcommands.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "src/systemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 43,
                    "deletions": -12
                }
            ],
            "sizeInsertions": 44,
            "sizeDeletions": 13
        },
        {
            "number": 5,
            "revision": "670f373f28ef93168d4c2e14271d1911cb3259ae",
            "parents": [
                "35c1ac40e476caa19c84a546d4f85ba96cb5dbbd"
            ],
            "ref": "refs/changes/96/45296/5",
            "uploader": {
                "name": "Ashwin Murali",
                "username": "Ashwin-Murali-Fii"
            },
            "createdOn": 1630512658,
            "author": {
                "name": "Ashwin Murali",
                "email": "ashwin.murali@fii-na.com",
                "username": "ashwin-fii"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/systemcommands.cpp",
                    "line": 24,
                    "reviewer": {
                        "name": "Vivekanand Veeracholan",
                        "email": "vveerach@google.com",
                        "username": "viarand"
                    },
                    "message": "Openbmc does not intend the namespace scopes. so need to align all the lines within the namespace has to be fixed."
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 24,
                    "reviewer": {
                        "name": "Ashwin Murali",
                        "username": "AshwinMurali171"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 27,
                    "reviewer": {
                        "name": "Vivekanand Veeracholan",
                        "email": "vveerach@google.com",
                        "username": "viarand"
                    },
                    "message": "This does not need to be vector. This is always going to be 2 bytes. \n1st byte for presence and 2nd byte for bifurcation. \nChange it to ipmi::RspType<uint8_t, uint8_t>"
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 27,
                    "reviewer": {
                        "name": "Ashwin Murali",
                        "username": "AshwinMurali171"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 71,
                    "reviewer": {
                        "name": "Vivekanand Veeracholan",
                        "email": "vveerach@google.com",
                        "username": "viarand"
                    },
                    "message": "The whole logic can be rewritten to \nifstream file open\nuse std::getline \nuse sscanf and extract the bifurcation and presence info"
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 71,
                    "reviewer": {
                        "name": "Ashwin Murali",
                        "username": "AshwinMurali171"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 79,
                    "reviewer": {
                        "name": "Vivekanand Veeracholan",
                        "email": "vveerach@google.com",
                        "username": "viarand"
                    },
                    "message": "Rewrite these lines to limit to 100 chars"
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 79,
                    "reviewer": {
                        "name": "Ashwin Murali",
                        "username": "AshwinMurali171"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "include/systemcommands.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "src/systemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 25,
                    "deletions": -12
                }
            ],
            "sizeInsertions": 26,
            "sizeDeletions": 13
        },
        {
            "number": 6,
            "revision": "42befdadac200e39aae94f3172171b8465e84958",
            "parents": [
                "35c1ac40e476caa19c84a546d4f85ba96cb5dbbd"
            ],
            "ref": "refs/changes/96/45296/6",
            "uploader": {
                "name": "Ashwin Murali",
                "username": "ashroom1"
            },
            "createdOn": 1636037522,
            "author": {
                "name": "Ashwin Murali",
                "email": "ashwin.murali@fii-na.com",
                "username": "ashwin-fii"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Vivekanand Veeracholan",
                        "email": "vveerach@google.com",
                        "username": "viarand"
                    },
                    "message": "No need for this prefix since the repo is foxconn-ipmi-oem"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Ashwin Murali",
                        "username": "AshwinMurali171"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 29,
                    "reviewer": {
                        "name": "Vivekanand Veeracholan",
                        "email": "vveerach@google.com",
                        "username": "viarand"
                    },
                    "message": "Name this to bifurcation and presence so it is clear in what is being read and sent as response to this command"
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 29,
                    "reviewer": {
                        "name": "Ashwin Murali",
                        "username": "AshwinMurali171"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 43,
                    "reviewer": {
                        "name": "Vivekanand Veeracholan",
                        "email": "vveerach@google.com",
                        "username": "viarand"
                    },
                    "message": "Extra spaces."
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 43,
                    "reviewer": {
                        "name": "Ashwin Murali",
                        "username": "AshwinMurali171"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 52,
                    "reviewer": {
                        "name": "Vivekanand Veeracholan",
                        "email": "vveerach@google.com",
                        "username": "viarand"
                    },
                    "message": "is this validated with the file's output format?"
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 52,
                    "reviewer": {
                        "name": "Ashwin Murali",
                        "username": "AshwinMurali171"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "include/systemcommands.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "src/systemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 60,
                    "deletions": -42
                }
            ],
            "sizeInsertions": 61,
            "sizeDeletions": 43
        },
        {
            "number": 7,
            "revision": "4f25d8b4292999a538b93307f7c5a61feb5fadb8",
            "parents": [
                "35c1ac40e476caa19c84a546d4f85ba96cb5dbbd"
            ],
            "ref": "refs/changes/96/45296/7",
            "uploader": {
                "name": "Ashwin Murali",
                "username": "Ashwin-Murali-Fii"
            },
            "createdOn": 1636644370,
            "author": {
                "name": "Ashwin Murali",
                "email": "ashwin.murali@fii-na.com",
                "username": "ashwin-fii"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "include/systemcommands.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "src/systemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 60,
                    "deletions": -42
                }
            ],
            "sizeInsertions": 61,
            "sizeDeletions": 43
        },
        {
            "number": 8,
            "revision": "b3dd7b015b5bc58bfe633deac7f03d6a21100af3",
            "parents": [
                "35c1ac40e476caa19c84a546d4f85ba96cb5dbbd"
            ],
            "ref": "refs/changes/96/45296/8",
            "uploader": {
                "name": "Ashwin Murali",
                "username": "Ashwin-Murali-Fii"
            },
            "createdOn": 1637082755,
            "author": {
                "name": "Ashwin Murali",
                "email": "ashwin.murali@fii-na.com",
                "username": "ashwin-fii"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/systemcommands.cpp",
                    "line": 29,
                    "reviewer": {
                        "name": "Vivekanand Veeracholan",
                        "email": "vveerach@google.com",
                        "username": "viarand"
                    },
                    "message": "it is not clear now too. What I meant is \n\nuint8_t bifurcation, presence;\n.\n.\n.\n<--- Just make sure the order is correct. first byte is bifurcation? --> \nstd::sscanf(str.c_str(), \"%x %x\", &bifurcation, &presence);  \n\n\nreturn ipmi::responseSuccess(bifurcation, presence);"
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 29,
                    "reviewer": {
                        "name": "Ashwin Murali",
                        "username": "AshwinMurali171"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 30,
                    "reviewer": {
                        "name": "Vivekanand Veeracholan",
                        "email": "vveerach@google.com",
                        "username": "viarand"
                    },
                    "message": "unused variable"
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 30,
                    "reviewer": {
                        "name": "Ashwin Murali",
                        "username": "AshwinMurali171"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 58,
                    "reviewer": {
                        "name": "Vivekanand Veeracholan",
                        "email": "vveerach@google.com",
                        "username": "viarand"
                    },
                    "message": "follow same style. \n\nipmi::RspType<uint8_t, uint8_t, uint8_t, uint8_t> ipmiAppGetSystemIfCapabilities(uint8_t iface)"
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 58,
                    "reviewer": {
                        "name": "Ashwin Murali",
                        "username": "AshwinMurali171"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 84,
                    "reviewer": {
                        "name": "Vivekanand Veeracholan",
                        "email": "vveerach@google.com",
                        "username": "viarand"
                    },
                    "message": "not needed."
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 84,
                    "reviewer": {
                        "name": "Ashwin Murali",
                        "username": "AshwinMurali171"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "include/systemcommands.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "src/systemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 59,
                    "deletions": -43
                }
            ],
            "sizeInsertions": 60,
            "sizeDeletions": 44
        },
        {
            "number": 9,
            "revision": "37969e431cccc5a3de716eae9b5ec34d59039c10",
            "parents": [
                "35c1ac40e476caa19c84a546d4f85ba96cb5dbbd"
            ],
            "ref": "refs/changes/96/45296/9",
            "uploader": {
                "name": "Ashwin Murali",
                "username": "ashroom1"
            },
            "createdOn": 1637342865,
            "author": {
                "name": "Ashwin Murali",
                "email": "ashwin.murali@fii-na.com",
                "username": "ashwin-fii"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "include/systemcommands.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "src/systemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 55,
                    "deletions": -43
                }
            ],
            "sizeInsertions": 56,
            "sizeDeletions": 44
        },
        {
            "number": 10,
            "revision": "5dfcb4dc21ddb9358ff3aec5afa6dca191e2ed73",
            "parents": [
                "da2cf0d2b0f4cd56bc93575a435a5ee1c848f7b0"
            ],
            "ref": "refs/changes/96/45296/10",
            "uploader": {
                "name": "Mustafa Shehabi",
                "email": "mustafa.shehabi@fii-na.com",
                "username": "mustafa20192"
            },
            "createdOn": 1639418259,
            "author": {
                "name": "Ashwin Murali",
                "email": "ashwin.murali@fii-na.com",
                "username": "ashwin-fii"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "include/systemcommands.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "src/systemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 52,
                    "deletions": -41
                }
            ],
            "sizeInsertions": 53,
            "sizeDeletions": 42
        }
    ]
}