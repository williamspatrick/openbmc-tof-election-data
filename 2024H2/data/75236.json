{
    "project": "openbmc/phosphor-dbus-interfaces",
    "branch": "master",
    "topic": "usermgr-createuser2",
    "id": "I0a33e343ec9369b42a66ff6ff0217fcba5d05b2c",
    "number": 75236,
    "subject": "User.Manager: add CreateUser2 method to create user",
    "owner": {
        "name": "Ivan Moiseev",
        "email": "moiseev.ivan4w@yandex.com",
        "username": "rainar4w"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-dbus-interfaces/+/75236",
    "hashtags": [],
    "createdOn": 1728647961,
    "lastUpdated": 1733833564,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1728647961,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1728648004,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1728648004,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1728648400,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/93087/ : SUCCESS"
        },
        {
            "timestamp": 1729872457,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1729872511,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1729872511,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1729872675,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/93759/ : FAILURE"
        },
        {
            "timestamp": 1729873530,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Uploaded patch set 3: Commit message was updated.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1729873572,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1729873572,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1729873741,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/93761/ : FAILURE"
        },
        {
            "timestamp": 1729874427,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1729874441,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1729874441,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1729874613,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/93762/ : FAILURE"
        },
        {
            "timestamp": 1729875620,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Uploaded patch set 5.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1729875636,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1729875636,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1729876028,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/93763/ : SUCCESS"
        },
        {
            "timestamp": 1731705296,
            "reviewer": {
                "name": "Ivan Mikhaylov",
                "email": "fr0st61te@gmail.com",
                "username": "fr0st61te"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1732115008,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Patch Set 6: Patch Set 5 was rebased on behalf of Ivan Moiseev <moiseev.ivan4w@yandex.com>\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1732115047,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Topic set to usermgr-createuser2"
        },
        {
            "timestamp": 1732115068,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1732115068,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1732116008,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/94832/ : SUCCESS"
        },
        {
            "timestamp": 1732119397,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 6:\n\n(3 comments)"
        },
        {
            "timestamp": 1732615068,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Patch Set 6:\n\n(2 comments)"
        },
        {
            "timestamp": 1732623459,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1732627430,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Uploaded patch set 7.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1732627460,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1732627461,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1732627864,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/95319/ : SUCCESS"
        },
        {
            "timestamp": 1732636712,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 7:\n\n(2 comments)"
        },
        {
            "timestamp": 1732721989,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Patch Set 7:\n\n(2 comments)"
        },
        {
            "timestamp": 1733833113,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Uploaded patch set 8.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1733833154,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1733833155,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: -Ok-To-Test"
        },
        {
            "timestamp": 1733833564,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/96195/ : SUCCESS"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "241d623cb82ec3445384e2ca563270ece1091ee1",
            "parents": [
                "73c931fb942daa714bfff17e950b9d5622a25842"
            ],
            "ref": "refs/changes/36/75236/1",
            "uploader": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "createdOn": 1728647961,
            "author": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Attributes.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 20,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "96e913c2ebb30af40110cedfa1234c54cad633d1",
            "parents": [
                "73c931fb942daa714bfff17e950b9d5622a25842"
            ],
            "ref": "refs/changes/36/75236/2",
            "uploader": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "createdOn": 1729872457,
            "author": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 32,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Manager.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -1
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Attributes.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -2
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/README.md",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 81,
            "sizeDeletions": 3
        },
        {
            "number": 3,
            "revision": "65ee64866654e61901d3302c0e66f88380d22bfb",
            "parents": [
                "73c931fb942daa714bfff17e950b9d5622a25842"
            ],
            "ref": "refs/changes/36/75236/3",
            "uploader": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "createdOn": 1729873530,
            "author": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 32,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Manager.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -1
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Attributes.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -2
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/README.md",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 81,
            "sizeDeletions": 3
        },
        {
            "number": 4,
            "revision": "61b2f700eeb1ad61063f943cedb9aabd6a102059",
            "parents": [
                "73c931fb942daa714bfff17e950b9d5622a25842"
            ],
            "ref": "refs/changes/36/75236/4",
            "uploader": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "createdOn": 1729874427,
            "author": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 32,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Manager.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 41,
                    "deletions": -1
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Attributes.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -2
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/README.md",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 82,
            "sizeDeletions": 3
        },
        {
            "number": 5,
            "revision": "3692a687469939444bde866513cf494b1820cfcf",
            "parents": [
                "73c931fb942daa714bfff17e950b9d5622a25842"
            ],
            "ref": "refs/changes/36/75236/5",
            "uploader": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "createdOn": 1729875620,
            "author": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ivan Mikhaylov",
                        "email": "fr0st61te@gmail.com",
                        "username": "fr0st61te"
                    },
                    "message": "gentle reminder"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 32,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Manager.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 41,
                    "deletions": -2
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Attributes.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -2
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/README.md",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 82,
            "sizeDeletions": 4
        },
        {
            "number": 6,
            "revision": "d865733846bbd63a67cff8ca5bf7c0e8f9d5d661",
            "parents": [
                "ad26251b29cc7eff15be621a50ae1b2450d0dd41"
            ],
            "ref": "refs/changes/36/75236/6",
            "uploader": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "createdOn": 1732115008,
            "author": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "yaml/xyz/openbmc_project/User/Attributes.interface.yaml",
                    "line": 69,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Please do not add new InternalFailure"
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Attributes.interface.yaml",
                    "line": 69,
                    "reviewer": {
                        "name": "Ivan Moiseev",
                        "email": "moiseev.ivan4w@yandex.com",
                        "username": "rainar4w"
                    },
                    "message": "Could you please explain what do you mean by new InternalFailure? From what I see processing of all attributes can throw this exception. Work with PasswordExpiration can do the same for when ,f.e. chage call fails."
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Attributes.interface.yaml",
                    "line": 69,
                    "reviewer": {
                        "name": "Ivan Moiseev",
                        "email": "moiseev.ivan4w@yandex.com",
                        "username": "rainar4w"
                    },
                    "message": "As present moment InternalFailure is used if either execution of \"/usr/bin/chage\" fails or getspnam_r() call fails. Should I use another exceptions for these fails or even create new onec?"
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Attributes.interface.yaml",
                    "line": 69,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "We have been trying to eliminate all InternalFailure results.  Some are still left in place because the code hasn't been fixed.\n\nWhat is the caller going to do about those situations?  If there is nothing your caller can do except hope for better results in the future, then we're better off crashing the daemon than silently telling them \"sorry, this didn't work and I don't know why\".  At least with a crash we get debug data."
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Attributes.interface.yaml",
                    "line": 69,
                    "reviewer": {
                        "name": "Ivan Moiseev",
                        "email": "moiseev.ivan4w@yandex.com",
                        "username": "rainar4w"
                    },
                    "message": "Actually, it is no silent, because there is an error in the logs. Though I'm new to openbmc so I do not know where it is better to crash or not in situation like this. Thank you for the explanation."
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Attributes.interface.yaml",
                    "line": 70,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "In what cases can you get \"InvalidArgument\"?"
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Attributes.interface.yaml",
                    "line": 70,
                    "reviewer": {
                        "name": "Ivan Moiseev",
                        "email": "moiseev.ivan4w@yandex.com",
                        "username": "rainar4w"
                    },
                    "message": "I thought it was not correct to set user password expiration time to the time point before the time point of the last password change. So, I've added appropriate check  into https://gerrit.openbmc.org/c/openbmc/phosphor-user-manager/+/75237. From my point of view such configuration would not make any sense.\nMoreover, right now functionality is implemented via chage usage utility, in such situation maximum password age would be negative and chage treated negative maximum days between password changes as never expired password. It seems like a flaw for me, what do you think?"
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Attributes.interface.yaml",
                    "line": 70,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I have heard of systems explicitly setting password expire time to a point in the pass to force a password change.  I don't think we should go out of our way to protect the callers from this situation."
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Attributes.interface.yaml",
                    "line": 70,
                    "reviewer": {
                        "name": "Ivan Moiseev",
                        "email": "moiseev.ivan4w@yandex.com",
                        "username": "rainar4w"
                    },
                    "message": "I do realize that an administrator would want to out-date a password in order to make user change password.\nProblem here is the implementation in https://gerrit.openbmc.org/c/openbmc/phosphor-user-manager/+/75237 which uses 'chage' system tool for a user password management. 'Chage' does not operates on time, instead in operates on last password change date and password age (maximum number of days between password changes). So when password expiration is set actually it is converted in number of days in which next password change must happen and set via 'chage' tool.\nWhile it is ok to set password expiration to set time point in the past there is a caveat. If some tries to set password expiration time to happen before last password change date, then this will lead to negative number of days between password changes, which in turn lead to password never to expire.\nHence, password will become unexpirying. Just an example:\n\nchage -l tmp1\nLast password change\t\t\t\t\t: Nov 27, 2024\nPassword expires\t\t\t\t\t: never\nPassword inactive\t\t\t\t\t: never\nAccount expires\t\t\t\t\t\t: never\nMinimum number of days between password change\t\t: 0\nMaximum number of days between password change\t\t: -1\nNumber of days of warning before password expires\t: 7\n\nSo I've implemented a check here to avoid such a situation https://gerrit.openbmc.org/plugins/gitiles/openbmc/phosphor-user-manager/+/refs/changes/37/75237/5/user_mgr.cpp#1703."
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Attributes.interface.yaml",
                    "line": 71,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "How is this possible?  We have a dbus object for the user."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 32,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Manager.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 41,
                    "deletions": -2
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Attributes.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -2
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/README.md",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 82,
            "sizeDeletions": 4
        },
        {
            "number": 7,
            "revision": "ef76790f1cfe9462a5750b5d668efbfc61ad271a",
            "parents": [
                "199c6c3dd27df14c9884086c025c767ff2efc3b1"
            ],
            "ref": "refs/changes/36/75236/7",
            "uploader": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "createdOn": 1732627430,
            "author": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 33,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Manager.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 41,
                    "deletions": -2
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Attributes.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -2
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/README.md",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 82,
            "sizeDeletions": 4
        },
        {
            "number": 8,
            "revision": "086da91ae4ca07ce64de7cbbf7e84a5f630c39d4",
            "parents": [
                "18b5dd4757b8c96e028e80efc5843d635ef095da"
            ],
            "ref": "refs/changes/36/75236/8",
            "uploader": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "createdOn": 1733833113,
            "author": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 59,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Manager.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 42,
                    "deletions": -2
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/Attributes.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -2
                },
                {
                    "file": "yaml/xyz/openbmc_project/User/README.md",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 109,
            "sizeDeletions": 4
        }
    ]
}