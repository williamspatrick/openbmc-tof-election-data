{
    "project": "openbmc/phosphor-power",
    "branch": "master",
    "id": "I1e8e594f088e7d66d8fc5b1723c4bd33b08bd3f8",
    "number": 75856,
    "subject": "psutils: Partial AEI Updater class",
    "owner": {
        "name": "Faisal Awada",
        "email": "faisal@us.ibm.com",
        "username": "faisal-awada"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-power/+/75856",
    "hashtags": [],
    "createdOn": 1731709427,
    "lastUpdated": 1732221610,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1731709427,
            "reviewer": {
                "name": "Faisal Awada",
                "email": "faisal@us.ibm.com",
                "username": "faisal-awada"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1731709491,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1731709491,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1731709514,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/94544/ : FAILURE"
        },
        {
            "timestamp": 1731710690,
            "reviewer": {
                "name": "Faisal Awada",
                "email": "faisal@us.ibm.com",
                "username": "faisal-awada"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1731710750,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1731710750,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1731711168,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/94545/ : SUCCESS"
        },
        {
            "timestamp": 1731944109,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Patch Set 2:\n\n(17 comments)"
        },
        {
            "timestamp": 1732049821,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 2:\n\n(4 comments)"
        },
        {
            "timestamp": 1732121301,
            "reviewer": {
                "name": "Faisal Awada",
                "email": "faisal@us.ibm.com",
                "username": "faisal-awada"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1732121324,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1732121324,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1732121347,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/94852/ : FAILURE"
        },
        {
            "timestamp": 1732121911,
            "reviewer": {
                "name": "Faisal Awada",
                "email": "faisal@us.ibm.com",
                "username": "faisal-awada"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1732121943,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1732121943,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1732122349,
            "reviewer": {
                "name": "Faisal Awada",
                "email": "faisal@us.ibm.com",
                "username": "faisal-awada"
            },
            "message": "Patch Set 4:\n\n(21 comments)"
        },
        {
            "timestamp": 1732122353,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/94855/ : SUCCESS"
        },
        {
            "timestamp": 1732132449,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1732133451,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1732133491,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1732140266,
            "reviewer": {
                "name": "Faisal Awada",
                "email": "faisal@us.ibm.com",
                "username": "faisal-awada"
            },
            "message": "Uploaded patch set 5.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1732140310,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1732140310,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1732140719,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/94894/ : SUCCESS"
        },
        {
            "timestamp": 1732140776,
            "reviewer": {
                "name": "Faisal Awada",
                "email": "faisal@us.ibm.com",
                "username": "faisal-awada"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1732141485,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1732141667,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1732142405,
            "reviewer": {
                "name": "Derek Howard",
                "email": "derekh@us.ibm.com",
                "username": "derekhoward55"
            },
            "message": "Patch Set 5:\n\n(3 comments)"
        },
        {
            "timestamp": 1732143406,
            "reviewer": {
                "name": "Faisal Awada",
                "email": "faisal@us.ibm.com",
                "username": "faisal-awada"
            },
            "message": "Uploaded patch set 6.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1732143426,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1732143426,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1732143844,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/94897/ : SUCCESS"
        },
        {
            "timestamp": 1732198972,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 6: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1732207510,
            "reviewer": {
                "name": "Faisal Awada",
                "email": "faisal@us.ibm.com",
                "username": "faisal-awada"
            },
            "message": "Patch Set 6:\n\n(4 comments)"
        },
        {
            "timestamp": 1732221341,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Patch Set 6: Code-Review+1"
        },
        {
            "timestamp": 1732221607,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Patch Set 6: Code-Review+2"
        },
        {
            "timestamp": 1732221610,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Change has been successfully merged"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "e79fb485da1538c3f1f6f0354e59f8c94ee9cb1e",
            "parents": [
                "23dee383ca3a45889fbb4f7bbae65fe3325c5805"
            ],
            "ref": "refs/changes/56/75856/1",
            "uploader": {
                "name": "Faisal Awada",
                "email": "faisal@us.ibm.com",
                "username": "faisal-awada"
            },
            "createdOn": 1731709427,
            "author": {
                "name": "Faisal Awada",
                "email": "faisal@us.ibm.com",
                "username": "faisal-awada"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 46,
                    "deletions": 0
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "type": "ADDED",
                    "insertions": 198,
                    "deletions": 0
                },
                {
                    "file": "tools/power-utils/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "tools/power-utils/aeiUpdater.hpp",
                    "type": "ADDED",
                    "insertions": 91,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 336,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "84305a32524baa51bec7702844994c67b5fb541e",
            "parents": [
                "23dee383ca3a45889fbb4f7bbae65fe3325c5805"
            ],
            "ref": "refs/changes/56/75856/2",
            "uploader": {
                "name": "Faisal Awada",
                "email": "faisal@us.ibm.com",
                "username": "faisal-awada"
            },
            "createdOn": 1731710690,
            "author": {
                "name": "Faisal Awada",
                "email": "faisal@us.ibm.com",
                "username": "faisal-awada"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 43,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "Nit: bit"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 43,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "Done"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "Looks good.  Some minor comments."
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 26,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "What is this needed for?  We try to use the C++ filesystem classes/functions rather than the lower level Unix C APIs if possible."
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 26,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "Done"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 34,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "is this used?  in fact, are all of these?"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 34,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "Removed unnecessary inlcudes"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 38,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "Good job defining your constants with really good comments.\n\nShould they be within the aeiUpdater namespace so they do not conflict with some global constants/variables from another header?  e.g. if someone else like pmbus.hpp defines STATUS_REGISTER in the future."
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 38,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "Done"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 74,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "Nit: Address"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 74,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "Done"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 93,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "When you add more of your code, does this variable get used more?\n\nIf not, it seems like it would be simpler to remove it, do `return 1;` within your if statement, and then `return 0;` at the end of the method."
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 93,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "delete `//` if no comment"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 93,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "Yes, this will be used to restore the PSU and prevent download"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 93,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "Added comments"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 109,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "Since there is doxygen in the header that describes this method, you don't need to put a summary comment about it here.  If someone wants to know what it does they should look at the doxygen.  Same comment for other methods in this file."
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 109,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "Done"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 118,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "Why do the other 2 methods have retries but this one does not?"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 118,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "There is an optional fourth parameter to this overload of write().  It specifies whether to do an SMBus block write or an I2C block write.  The default is SMBus.\n\nThe SMBus block write has the byte count that precedes the data.  The byte count will automatically be prepended before the data buffer by this method (you don't have to do it).\n\nThe I2C block write does not add the byte count byte; it just writes the buffer as is.\n\nIn looking at the AEI download documentation, it looks like they want the SMBus block write, so your code here is correct.  I just wanted to explain the purpose of that parameter in case it was not clear from the doxygen."
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 118,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 118,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "In AEI update documentation the key have no retry."
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 124,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "On new code you may as well just use lg2, since it's easier when there are args:\n\nlg2::error(\"I2C write failed: {ERROR}\", \"ERROR\", e);\n\nyou'd just include phosphor-logging/lg2.hpp instead"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 124,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "Changed log to use lg2"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 133,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "Nit: variable name not very descriptive.  ispStatus maybe?  Same comment in next method too."
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 133,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "Renamed to ispStatus"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 175,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "I notice that you check if equal to B_ISP_MODE here (no other bits set), and in the previous method you check if the B_ISP_MODE bit is on (uses &).\n\nIs that difference intentional?  Could other bits be set here?"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "line": 175,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "This is intentional as per AEI instruction."
                },
                {
                    "file": "tools/power-utils/aeiUpdater.hpp",
                    "line": 20,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "this namespace probably isn't necessary as it just matches the class name."
                },
                {
                    "file": "tools/power-utils/aeiUpdater.hpp",
                    "line": 20,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "keeping namespace to stay consistence"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.hpp",
                    "line": 20,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "i even meant to delete this comment but then forgot."
                },
                {
                    "file": "tools/power-utils/aeiUpdater.hpp",
                    "line": 25,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "Should probably mention AEI in here somewhere, such as \"firmware updates for AEI PSUs\""
                },
                {
                    "file": "tools/power-utils/aeiUpdater.hpp",
                    "line": 25,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "Done"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.hpp",
                    "line": 35,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "The BMC convention is to specify delete or default for six methods that the compiler will normally automatically generate:\n```\n    AeiUpdater() = delete;\n    AeiUpdater(const AeiUpdater&) = delete;\n    AeiUpdater(AeiUpdater&&) = delete;\n    AeiUpdater& operator=(const AeiUpdater&) = delete;\n    AeiUpdater& operator=(AeiUpdater&&) = delete;\n    ~AeiUpdater() = default;\n```\n\nYou are missing the second (copy constructor), third (move constructor), fourth (assignment operator), and fifth (move assignment operator).\n\nGenerally those methods are deleted if the class has a data member that should not be copied, such as a pointer, unique_ptr, file handle, etc.  In your case, due to the i2c::I2CInterface*, I think you should delete those four methods."
                },
                {
                    "file": "tools/power-utils/aeiUpdater.hpp",
                    "line": 35,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "Added the missing methods\n    AeiUpdater(const AeiUpdater&) = delete;\n    AeiUpdater(AeiUpdater&&) = delete;\n    AeiUpdater& operator=(const AeiUpdater&) = delete;\n    AeiUpdater& operator=(AeiUpdater&&) = delete;"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.hpp",
                    "line": 55,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "You should specify what status code values indicate success or failure, such as 0 means success and non-zero means failure.  The idea with doxygen is it should give the caller all the information they need to use the method/function without going to the .cpp file and looking at the implementation."
                },
                {
                    "file": "tools/power-utils/aeiUpdater.hpp",
                    "line": 55,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "Done"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.hpp",
                    "line": 80,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "Missing blank divider line"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.hpp",
                    "line": 80,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "Done"
                },
                {
                    "file": "tools/power-utils/aeiUpdater.hpp",
                    "line": 83,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "This is a little confusing.\n\nMy understanding is the parent class owns the I2CInterface data member, and it is private, so it is accessed with the protected getI2C() method.\n\nSo is this pointer just caching the return value from getI2C()?\n\nIf so, it would be good to mention that in the doxygen.  Specify when it is set so people know if they have to check for nullptr.  Also specify that this class does *NOT* own the pointed to object and should *NOT* delete it."
                },
                {
                    "file": "tools/power-utils/aeiUpdater.hpp",
                    "line": 83,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "Added note the caller responsible to check for null and ensure valid  interface."
                },
                {
                    "file": "tools/power-utils/meson.build",
                    "line": 5,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "other files in this repo are all snake_case"
                },
                {
                    "file": "tools/power-utils/meson.build",
                    "line": 5,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "Replaced file names to aei_updater.cpp"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 46,
                    "deletions": 0
                },
                {
                    "file": "tools/power-utils/aeiUpdater.cpp",
                    "type": "ADDED",
                    "insertions": 195,
                    "deletions": 0
                },
                {
                    "file": "tools/power-utils/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "tools/power-utils/aeiUpdater.hpp",
                    "type": "ADDED",
                    "insertions": 91,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 333,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "eeee35a5e906c7784c7771d257cd08a5e4b18c64",
            "parents": [
                "23dee383ca3a45889fbb4f7bbae65fe3325c5805"
            ],
            "ref": "refs/changes/56/75856/3",
            "uploader": {
                "name": "Faisal Awada",
                "email": "faisal@us.ibm.com",
                "username": "faisal-awada"
            },
            "createdOn": 1732121301,
            "author": {
                "name": "Faisal Awada",
                "email": "faisal@us.ibm.com",
                "username": "faisal-awada"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 46,
                    "deletions": 0
                },
                {
                    "file": "tools/power-utils/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "tools/power-utils/aei_updater.cpp",
                    "type": "ADDED",
                    "insertions": 183,
                    "deletions": 0
                },
                {
                    "file": "tools/power-utils/aei_updater.hpp",
                    "type": "ADDED",
                    "insertions": 96,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 326,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "e5d7c2c142d9ccd1e6b7980960b5a23dea46cccf",
            "parents": [
                "23dee383ca3a45889fbb4f7bbae65fe3325c5805"
            ],
            "ref": "refs/changes/56/75856/4",
            "uploader": {
                "name": "Faisal Awada",
                "email": "faisal@us.ibm.com",
                "username": "faisal-awada"
            },
            "createdOn": 1732121911,
            "author": {
                "name": "Faisal Awada",
                "email": "faisal@us.ibm.com",
                "username": "faisal-awada"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "Please review again, thanks"
                },
                {
                    "file": "tools/power-utils/aei_updater.cpp",
                    "line": 115,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "lg2 needs a name to match on inside the {} (like in my example).  See https://github.com/openbmc/phosphor-logging/blob/master/docs/structured-logging.md#lg2"
                },
                {
                    "file": "tools/power-utils/aei_updater.cpp",
                    "line": 115,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "oh, I see it's std::format.  You don't need that anymore."
                },
                {
                    "file": "tools/power-utils/aei_updater.cpp",
                    "line": 115,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "Removed braces"
                },
                {
                    "file": "tools/power-utils/aei_updater.cpp",
                    "line": 115,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "I think you misunderstood what Matt was suggesting.\n\nThe old way of writing journal messages is\n```\nlog<level::ERR>(\"Hardcoded C-string message\")\n```\n\nIf the message to log has variable data in it, we needed to use std::format to do the variable replacement and then return the C-string equivalent\n\n```\nlog<level::ERR(std::format(\"Exception: {}\", e.what()).c_str()));\n```\n\nThe new journal logging API, lg2, directly supports variable replacement.  So you don't need to use std::format.\n\n```\nlg2::error(\"Exception: {ERROR}\", \"ERROR\", e.what());\n```\n\nThe link Matt sent has the details.  It is similar to std::format, but rather than plain braces `{}` you have a key name surrounded by braces `{ERROR}`.  Then after the format string you have a parameter with the key name and another parameter with the key value."
                },
                {
                    "file": "tools/power-utils/aei_updater.cpp",
                    "line": 115,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "lg2 is also smart enough to know it's an exception, so it can be simplified to just:\n\nlg2::error(\"Exception: {ERROR}\", \"ERROR\", e);"
                },
                {
                    "file": "tools/power-utils/aei_updater.cpp",
                    "line": 115,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "fixed"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 46,
                    "deletions": 0
                },
                {
                    "file": "tools/power-utils/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "tools/power-utils/aei_updater.cpp",
                    "type": "ADDED",
                    "insertions": 184,
                    "deletions": 0
                },
                {
                    "file": "tools/power-utils/aei_updater.hpp",
                    "type": "ADDED",
                    "insertions": 96,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 327,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "477325886ac9f27509458975594a9271d8aff433",
            "parents": [
                "23dee383ca3a45889fbb4f7bbae65fe3325c5805"
            ],
            "ref": "refs/changes/56/75856/5",
            "uploader": {
                "name": "Faisal Awada",
                "email": "faisal@us.ibm.com",
                "username": "faisal-awada"
            },
            "createdOn": 1732140266,
            "author": {
                "name": "Faisal Awada",
                "email": "faisal@us.ibm.com",
                "username": "faisal-awada"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Derek Howard",
                        "email": "derekh@us.ibm.com",
                        "username": "derekhoward55"
                    },
                    "message": "just a couple questions i'm curious about"
                },
                {
                    "file": "tools/power-utils/aei_updater.cpp",
                    "line": 88,
                    "reviewer": {
                        "name": "Derek Howard",
                        "email": "derekh@us.ibm.com",
                        "username": "derekhoward55"
                    },
                    "message": "will the compiler always execute these functions in left-to-right order?  ie it won't do any optimizations?"
                },
                {
                    "file": "tools/power-utils/aei_updater.cpp",
                    "line": 88,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "Compiler will execute in the order listed."
                },
                {
                    "file": "tools/power-utils/aei_updater.cpp",
                    "line": 116,
                    "reviewer": {
                        "name": "Derek Howard",
                        "email": "derekh@us.ibm.com",
                        "username": "derekhoward55"
                    },
                    "message": "what does the error() call do in regards to creating a PEL? or does it just create a journal entry and/or other bmc error?"
                },
                {
                    "file": "tools/power-utils/aei_updater.cpp",
                    "line": 116,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "Log error doesn't create any PELs"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 46,
                    "deletions": 0
                },
                {
                    "file": "tools/power-utils/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "tools/power-utils/aei_updater.cpp",
                    "type": "ADDED",
                    "insertions": 183,
                    "deletions": 0
                },
                {
                    "file": "tools/power-utils/aei_updater.hpp",
                    "type": "ADDED",
                    "insertions": 96,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 326,
            "sizeDeletions": 0
        },
        {
            "number": 6,
            "revision": "5a582d3c7a6865eaa0d80f0dc6aeb85b2f72c2a8",
            "parents": [
                "23dee383ca3a45889fbb4f7bbae65fe3325c5805"
            ],
            "ref": "refs/changes/56/75856/6",
            "uploader": {
                "name": "Faisal Awada",
                "email": "faisal@us.ibm.com",
                "username": "faisal-awada"
            },
            "createdOn": 1732143406,
            "author": {
                "name": "Faisal Awada",
                "email": "faisal@us.ibm.com",
                "username": "faisal-awada"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "tools/power-utils/aei_updater.cpp",
                    "line": 115,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "this works, those lg2 knows about exception types, so you can just pass in 'e' if you want and don't need the e.what()."
                },
                {
                    "file": "tools/power-utils/aei_updater.cpp",
                    "line": 115,
                    "reviewer": {
                        "name": "Faisal Awada",
                        "email": "faisal@us.ibm.com",
                        "username": "faisal-awada"
                    },
                    "message": "will modify on next push"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 46,
                    "deletions": 0
                },
                {
                    "file": "tools/power-utils/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "tools/power-utils/aei_updater.cpp",
                    "type": "ADDED",
                    "insertions": 181,
                    "deletions": 0
                },
                {
                    "file": "tools/power-utils/aei_updater.hpp",
                    "type": "ADDED",
                    "insertions": 96,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 324,
            "sizeDeletions": 0
        }
    ]
}