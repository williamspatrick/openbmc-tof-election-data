{
    "project": "openbmc/pldm",
    "branch": "master",
    "id": "I29c768ccc00c9252242103fb016ccdd22d4fff1b",
    "number": 75474,
    "subject": "platform-mc: Update processNumericSensorEvent",
    "owner": {
        "name": "JunYe1993",
        "email": "Daniel-Hsu@quantatw.com",
        "username": "JunYe1993"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/pldm/+/75474",
    "hashtags": [],
    "createdOn": 1729766575,
    "lastUpdated": 1730823739,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1729766575,
            "reviewer": {
                "name": "JunYe1993",
                "email": "Daniel-Hsu@quantatw.com",
                "username": "JunYe1993"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1729766610,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1729766610,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1729766632,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/93680/ : FAILURE"
        },
        {
            "timestamp": 1729822039,
            "reviewer": {
                "name": "JunYe1993",
                "email": "Daniel-Hsu@quantatw.com",
                "username": "JunYe1993"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1729822108,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1729822108,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1729822801,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/93707/ : SUCCESS"
        },
        {
            "timestamp": 1729831495,
            "reviewer": {
                "name": "Thu Nguyen",
                "email": "thu@os.amperecomputing.com",
                "username": "ThuBaNguyen"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1729831690,
            "reviewer": {
                "name": "Thu Nguyen",
                "email": "thu@os.amperecomputing.com",
                "username": "ThuBaNguyen"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1729836665,
            "reviewer": {
                "name": "JunYe1993",
                "email": "Daniel-Hsu@quantatw.com",
                "username": "JunYe1993"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1730415424,
            "reviewer": {
                "name": "Thu Nguyen",
                "email": "thu@os.amperecomputing.com",
                "username": "ThuBaNguyen"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1730473184,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2: Code-Review-1\n\n(2 comments)"
        },
        {
            "timestamp": 1730794431,
            "reviewer": {
                "name": "JunYe1993",
                "email": "Daniel-Hsu@quantatw.com",
                "username": "JunYe1993"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Code-Review-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1730794473,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1730794473,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1730794499,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/94070/ : FAILURE"
        },
        {
            "timestamp": 1730794593,
            "reviewer": {
                "name": "JunYe1993",
                "email": "Daniel-Hsu@quantatw.com",
                "username": "JunYe1993"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1730794629,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1730794629,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1730795368,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/94071/ : SUCCESS"
        },
        {
            "timestamp": 1730795913,
            "reviewer": {
                "name": "JunYe1993",
                "email": "Daniel-Hsu@quantatw.com",
                "username": "JunYe1993"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1730823739,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "9502e4897e44c64f28ab6c28d898b38e784682dc",
            "parents": [
                "f48015b39f945c2f9534e674819bdfef7b6c7054"
            ],
            "ref": "refs/changes/74/75474/1",
            "uploader": {
                "name": "JunYe1993",
                "email": "Daniel-Hsu@quantatw.com",
                "username": "JunYe1993"
            },
            "createdOn": 1729766575,
            "author": {
                "name": "JunYe1993",
                "email": "Daniel-Hsu@quantatw.com",
                "username": "JunYe1993"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "platform-mc/event_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "common/utils.hpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "common/utils.cpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 51,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "e503e0feaead17ee0a374fcc1d055cc63f72f86f",
            "parents": [
                "f48015b39f945c2f9534e674819bdfef7b6c7054"
            ],
            "ref": "refs/changes/74/75474/2",
            "uploader": {
                "name": "JunYe1993",
                "email": "Daniel-Hsu@quantatw.com",
                "username": "JunYe1993"
            },
            "createdOn": 1729822039,
            "author": {
                "name": "JunYe1993",
                "email": "Daniel-Hsu@quantatw.com",
                "username": "JunYe1993"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Thu Nguyen",
                        "email": "thu@os.amperecomputing.com",
                        "username": "ThuBaNguyen"
                    },
                    "message": "In which condition the operation state of the sensor is changed from Normal to Critical?\nWhat is different between Threshold High/Low critical event and Critical sensor?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Thu Nguyen",
                        "email": "thu@os.amperecomputing.com",
                        "username": "ThuBaNguyen"
                    },
                    "message": "My concern is \"Is the behavior and format of Redfish message common for the PLDM sensors?\""
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "JunYe1993",
                        "email": "Daniel-Hsu@quantatw.com",
                        "username": "JunYe1993"
                    },
                    "message": "My idea was to have a sensor event represent the failure status of a sensor, such as the PMBus status word (16-bit). I believe that the Numeric Sensor is the most appropriate choice.\n\nSo the failure status does not involve thresholds, it only has a Severity level, which the device sending the event will determine. If the device considers the issue critical, it can log it as such in the SEL, rather than in the \n journal, ensuring efficient documentation of significant events."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Thu Nguyen",
                        "email": "thu@os.amperecomputing.com",
                        "username": "ThuBaNguyen"
                    },
                    "message": "I think it is better to discuss with community about the behavior of platform-mc for this case in `pmci` discord group."
                },
                {
                    "file": "common/utils.cpp",
                    "line": 742,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Just use std::format"
                },
                {
                    "file": "common/utils.cpp",
                    "line": 742,
                    "reviewer": {
                        "name": "JunYe1993",
                        "email": "Daniel-Hsu@quantatw.com",
                        "username": "JunYe1993"
                    },
                    "message": "Done"
                },
                {
                    "file": "platform-mc/event_manager.cpp",
                    "line": 152,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This is not a valid event name."
                },
                {
                    "file": "platform-mc/event_manager.cpp",
                    "line": 152,
                    "reviewer": {
                        "name": "JunYe1993",
                        "email": "Daniel-Hsu@quantatw.com",
                        "username": "JunYe1993"
                    },
                    "message": "change \"data\" to \"presentReading\""
                },
                {
                    "file": "platform-mc/event_manager.cpp",
                    "line": 152,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This still isn't a valid event; I'm not really sure what you are trying to accomplish here.  New-style events need to have a YAML file in phosphor-dbus-interfaces.  https://github.com/openbmc/docs/blob/master/designs/event-logging.md\n\nSending arbitrary strings to phosphor-logging is no longer desired."
                },
                {
                    "file": "platform-mc/event_manager.cpp",
                    "line": 162,
                    "reviewer": {
                        "name": "Thu Nguyen",
                        "email": "thu@os.amperecomputing.com",
                        "username": "ThuBaNguyen"
                    },
                    "message": "Does sensor cross warning operation state before cross critical state?\nThere is no asserted/de-asserted for this kind of event?"
                },
                {
                    "file": "platform-mc/event_manager.cpp",
                    "line": 162,
                    "reviewer": {
                        "name": "JunYe1993",
                        "email": "Daniel-Hsu@quantatw.com",
                        "username": "JunYe1993"
                    },
                    "message": "The Event Receiver only needs to accurately record the failure status, without any assert or deassert conditions."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "platform-mc/event_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": 0
                },
                {
                    "file": "common/utils.hpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "common/utils.cpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 52,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "7f6ac3078ad2dbc22e6aedea87ef53c41f7cbe92",
            "parents": [
                "f48015b39f945c2f9534e674819bdfef7b6c7054"
            ],
            "ref": "refs/changes/74/75474/3",
            "uploader": {
                "name": "JunYe1993",
                "email": "Daniel-Hsu@quantatw.com",
                "username": "JunYe1993"
            },
            "createdOn": 1730794431,
            "author": {
                "name": "JunYe1993",
                "email": "Daniel-Hsu@quantatw.com",
                "username": "JunYe1993"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "platform-mc/event_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": 0
                },
                {
                    "file": "common/utils.hpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "common/utils.cpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 48,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "2ac545d3d35bcecbbd861344af4caaaa1d4f3d9e",
            "parents": [
                "f48015b39f945c2f9534e674819bdfef7b6c7054"
            ],
            "ref": "refs/changes/74/75474/4",
            "uploader": {
                "name": "JunYe1993",
                "email": "Daniel-Hsu@quantatw.com",
                "username": "JunYe1993"
            },
            "createdOn": 1730794593,
            "author": {
                "name": "JunYe1993",
                "email": "Daniel-Hsu@quantatw.com",
                "username": "JunYe1993"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "platform-mc/event_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": 0
                },
                {
                    "file": "common/utils.hpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "common/utils.cpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 48,
            "sizeDeletions": 0
        }
    ]
}