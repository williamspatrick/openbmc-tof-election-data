{
    "project": "openbmc/phosphor-fan-presence",
    "branch": "master",
    "id": "I14b849a2bff65402508ef92e293f3237729721e5",
    "number": 76550,
    "subject": "control: Load only 1 pcie_cards.json",
    "owner": {
        "name": "Matt Spinler",
        "email": "spinler@us.ibm.com",
        "username": "spinler"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-fan-presence/+/76550",
    "hashtags": [],
    "createdOn": 1734030898,
    "lastUpdated": 1734358635,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1734030898,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1734030936,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1734030936,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1734030957,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/96520/ : FAILURE"
        },
        {
            "timestamp": 1734030976,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 2: Patch Set 1 was rebased.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1734031003,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1734031003,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1734031024,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/96522/ : FAILURE"
        },
        {
            "timestamp": 1734031307,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 3: Patch Set 2 was rebased.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1734031338,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1734031338,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1734031492,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/96523/ : SUCCESS"
        },
        {
            "timestamp": 1734032026,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1734034024,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1734035137,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1734035137,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1734035154,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1734035154,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1734035535,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/96527/ : SUCCESS"
        },
        {
            "timestamp": 1734037579,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Patch Set 4: Code-Review+1\n\n(2 comments)"
        },
        {
            "timestamp": 1734038570,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 5.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1734038570,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 5:\n\n(2 comments)"
        },
        {
            "timestamp": 1734038619,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1734038619,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1734038774,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/96528/ : SUCCESS"
        },
        {
            "timestamp": 1734098879,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Patch Set 5: Code-Review+1"
        },
        {
            "timestamp": 1734358620,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 5: Code-Review+2"
        },
        {
            "timestamp": 1734358635,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Change has been successfully merged"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "d58089438e4978bd31f07d9b011d59e54c60cd1c",
            "parents": [
                "7497fb63bd9a30b07f65bcb553f6b53b40f82e54"
            ],
            "ref": "refs/changes/50/76550/1",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1734030898,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": "control/json/utils/pcie_card_metadata.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -8
                },
                {
                    "file": "control/json/utils/pcie_card_metadata.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -6
                }
            ],
            "sizeInsertions": 49,
            "sizeDeletions": 14
        },
        {
            "number": 2,
            "revision": "a68ba93155c6cdc4c3f314482fb3bf0b3882a76b",
            "parents": [
                "8dab554bdea48ba57ec056c2352a58e55260af5a"
            ],
            "ref": "refs/changes/50/76550/2",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1734030976,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "control/json/utils/pcie_card_metadata.cpp",
                    "line": 40,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "Do you need to check the default path last?\n\nIn the previous implementation, it searched for files from most generic to most specific.  This enabled the most specific one to override the more generic ones.\n\nNow that you are only loading one file, I assume you need to go from most specific to most generic right?  Given that, should the default path be searched last?"
                },
                {
                    "file": "control/json/utils/pcie_card_metadata.cpp",
                    "line": 40,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Yea, you're right, good catch."
                },
                {
                    "file": "control/json/utils/pcie_card_metadata.cpp",
                    "line": 40,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": "control/json/utils/pcie_card_metadata.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -8
                },
                {
                    "file": "control/json/utils/pcie_card_metadata.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -6
                }
            ],
            "sizeInsertions": 49,
            "sizeDeletions": 14
        },
        {
            "number": 3,
            "revision": "9d8d0bcacf17a82ca47f25f324b7db4f67267b7e",
            "parents": [
                "10d4542dbed95736ccd2fcea6c66ab0bf185b144"
            ],
            "ref": "refs/changes/50/76550/3",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1734031307,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": "control/json/utils/pcie_card_metadata.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -8
                },
                {
                    "file": "control/json/utils/pcie_card_metadata.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -6
                }
            ],
            "sizeInsertions": 49,
            "sizeDeletions": 14
        },
        {
            "number": 4,
            "revision": "1e068e46294dd282981a2cd1a6980be6c80d7364",
            "parents": [
                "10d4542dbed95736ccd2fcea6c66ab0bf185b144"
            ],
            "ref": "refs/changes/50/76550/4",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1734035137,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "control/json/utils/pcie_card_metadata.cpp",
                    "line": 42,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "I'm surprised that\n\n  /etc/phosphor-fan-presence/control/\n\nsupersedes\n\n  /etc/phosphor-fan-presence/control/<system>/\n\nbut maybe the likelihood of a patch in both is pretty small."
                },
                {
                    "file": "control/json/utils/pcie_card_metadata.cpp",
                    "line": 42,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "i was thinking about that when I was making these latest changes, and decided to leave it how it is because\na) there's no reason to have more than 1 file in /etc at a time, since they have to be manually placed there, and\nb) the code is more simple this way"
                },
                {
                    "file": "control/json/utils/pcie_card_metadata.cpp",
                    "line": 86,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "Nit: Don't really need this now."
                },
                {
                    "file": "control/json/utils/pcie_card_metadata.cpp",
                    "line": 86,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": "control/json/utils/pcie_card_metadata.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -8
                },
                {
                    "file": "control/json/utils/pcie_card_metadata.cpp",
                    "type": "MODIFIED",
                    "insertions": 26,
                    "deletions": -32
                }
            ],
            "sizeInsertions": 70,
            "sizeDeletions": 40
        },
        {
            "number": 5,
            "revision": "3d0c36967c7bdbf695f4765045274c01cd2e3c93",
            "parents": [
                "10d4542dbed95736ccd2fcea6c66ab0bf185b144"
            ],
            "ref": "refs/changes/50/76550/5",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1734038570,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": "control/json/utils/pcie_card_metadata.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -8
                },
                {
                    "file": "control/json/utils/pcie_card_metadata.cpp",
                    "type": "MODIFIED",
                    "insertions": 25,
                    "deletions": -32
                }
            ],
            "sizeInsertions": 69,
            "sizeDeletions": 40
        }
    ]
}