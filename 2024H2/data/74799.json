{
    "project": "openbmc/docs",
    "branch": "master",
    "topic": "CableMonitor",
    "id": "I011ba0113b4d0dc76610745a39e15f56564485d3",
    "number": 74799,
    "subject": "design doc for cable monitor",
    "owner": {
        "name": "Jagpal S Gill",
        "email": "paligill@gmail.com",
        "username": "jagpalgill"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/docs/+/74799",
    "hashtags": [],
    "createdOn": 1726988346,
    "lastUpdated": 1731106942,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1726988346,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1726988381,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1726988381,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1726988407,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/92082/ : SUCCESS"
        },
        {
            "timestamp": 1726988753,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1726988815,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1726988815,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1726988839,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/92083/ : SUCCESS"
        },
        {
            "timestamp": 1727141235,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Uploaded patch set 3: Patch Set 2 was rebased.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1727141279,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1727141280,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1727141302,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/92184/ : SUCCESS"
        },
        {
            "timestamp": 1727300541,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1727388005,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1727588923,
            "reviewer": {
                "name": "Arun Lal K M",
                "email": "arun.lal@intel.com",
                "username": "arunlalkm-intel"
            },
            "message": "Patch Set 3: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1727601405,
            "reviewer": {
                "name": "Smriti-Ayushi",
                "email": "smriti.ayushi@linux.intel.com",
                "username": "Smriti-Ayushi"
            },
            "message": "Patch Set 3: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1729229890,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1729837197,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1730077481,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1730098017,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1730141253,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1730141283,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1730141283,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1730141306,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/93832/ : SUCCESS"
        },
        {
            "timestamp": 1730152260,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Topic set to CableMonitor"
        },
        {
            "timestamp": 1730248577,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1730268788,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1730333643,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1730398078,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Uploaded patch set 5: Patch Set 4 was rebased.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1730398114,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1730398114,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1730398257,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1730398292,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/93948/ : SUCCESS"
        },
        {
            "timestamp": 1730418813,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1730480534,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 5:\n\n(4 comments)"
        },
        {
            "timestamp": 1730707996,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1730768451,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1730823590,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1731055538,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Uploaded patch set 6: Patch Set 5 was rebased.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1731055570,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1731055570,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1731055594,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/94224/ : SUCCESS"
        },
        {
            "timestamp": 1731089782,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Patch Set 6:\n\n(5 comments)"
        },
        {
            "timestamp": 1731106234,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1731106448,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Uploaded patch set 7.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1731106488,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1731106489,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1731106652,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/94266/ : SUCCESS"
        },
        {
            "timestamp": 1731106758,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Uploaded patch set 8: Patch Set 7 was rebased.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1731106778,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1731106778,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: -Ok-To-Test"
        },
        {
            "timestamp": 1731106942,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/94268/ : SUCCESS"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "06b181caa9ccb07ffb95da773e6300db9ed279b3",
            "parents": [
                "c7c3a9bca9e18c296f2f9f510bf0a2b50b7e5cfc"
            ],
            "ref": "refs/changes/99/74799/1",
            "uploader": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "createdOn": 1726988346,
            "author": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/cable-monitor.md",
                    "type": "ADDED",
                    "insertions": 122,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 136,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "45a17ac5f591f676e749cfebbf603f50fc10e949",
            "parents": [
                "c7c3a9bca9e18c296f2f9f510bf0a2b50b7e5cfc"
            ],
            "ref": "refs/changes/99/74799/2",
            "uploader": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "createdOn": 1726988753,
            "author": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/cable-monitor.md",
                    "type": "ADDED",
                    "insertions": 122,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 136,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "50a3b39fa197a9f1bf515af87c4cc4a443bc2aa1",
            "parents": [
                "9a761776716115717dc67ef2eebf274f369cc249"
            ],
            "ref": "refs/changes/99/74799/3",
            "uploader": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "createdOn": 1727141235,
            "author": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "could this fit into the new daemon in https://gerrit.openbmc.org/c/openbmc/docs/+/74022/8/designs/inventory/gpio-based-hardware-inventory.md?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "My understanding is the other daemon u mentioned is very generic daemon to handle creation and deletion of GPIO based fru entries, so it cannot generate the very specific events for cable usecase. Moreover, the requirement for runtime cable configuration doesn't seem to be good charter for that daemon."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Arun Lal K M",
                        "email": "arun.lal@intel.com",
                        "username": "arunlalkm-intel"
                    },
                    "message": "Looks good to me."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Smriti-Ayushi",
                        "email": "smriti.ayushi@linux.intel.com",
                        "username": "Smriti-Ayushi"
                    },
                    "message": "Design doc looks good to me."
                },
                {
                    "file": "designs/cable-monitor.md",
                    "line": 57,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Can you please rather describe the file in jsonschema, and then use this as a concrete example? That way we have a proper specification for the code to implement, and aren't left at the whime of \"whatever the code does\"\n\nHowever, the proposal is that this lives in dbus-sensors, which are reactors to entity-manager configs. None (that I'm aware) of consume a configuration file; all the configuration comes from EM. Why is this different?\n\nCan you unpack why the necessary cable config can't be described via EM?"
                },
                {
                    "file": "designs/cable-monitor.md",
                    "line": 57,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "> Can you please rather describe the file in jsonschema, and then use this as a concrete example? That way we have a proper specification for the code to implement, and aren't left at the whime of \"whatever the code does\"\n\nSure i can define a json schema.\n\n> \n> However, the proposal is that this lives in dbus-sensors, which are reactors to entity-manager configs. None (that I'm aware) of consume a configuration file; all the configuration comes from EM. Why is this different?\n\nIf you believe that another repository or a new one would be more appropriate for this, we can add it there.\n\n> \n> Can you unpack why the necessary cable config can't be described via EM?\n\nThis configuration file will be stored in a writable filesystem section that is added at runtime. It specifies the cables that are expected to be connected during runtime, which is why it cannot be described via EM config."
                },
                {
                    "file": "designs/cable-monitor.md",
                    "line": 57,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "> If you believe that another repository or a new one would be more appropriate for this, we can add it there.\n\nWoah, hold up. I feel you're replying from an established position there. Let's unwind things a little bit. I'm trying to understand what you're proposing. Please don't assume that I have a complete understanding of what you're doing and am requiring you to do something different.\n\nMaybe the config file is necessary, but it sure is unique for dbus-sensors, and I want to establish it's something that's actually required.\n\n> This configuration file will be stored in a writable filesystem section that is added at runtime\n\nWhere does it come from? When does it get created or updated? How is this coordinated with the daemon process?"
                },
                {
                    "file": "designs/cable-monitor.md",
                    "line": 57,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "> > If you believe that another repository or a new one would be more appropriate for this, we can add it there.\n> \n> Woah, hold up. I feel you're replying from an established position there. Let's unwind things a little bit. I'm trying to understand what you're proposing. Please don't assume that I have a complete understanding of what you're doing and am requiring you to do something different.\n> \n> Maybe the config file is necessary, but it sure is unique for dbus-sensors, and I want to establish it's something that's actually required.\n\nSure.\n\n> \n> > This configuration file will be stored in a writable filesystem section that is added at runtime\n> \n> Where does it come from? \n\nIt can be hosted at runtime by the user or it can be part of image itself, but mostly it handles the use-case where it will be hosted by the user.\n\n> When does it get created or updated? \n\nIt can be created at runtime into a writable filesystem path such as /var/lib.\n\n\n> How is this coordinated with the daemon process?\n\nThe daemon process will perform inotify watch on the config file path and watch for its presense/update."
                },
                {
                    "file": "designs/cable-monitor.md",
                    "line": 57,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "> It can be hosted at runtime by the user or it can be part of image itself, but mostly it handles the use-case where it will be hosted by the user.\n\n> It can be created at runtime into a writable filesystem path such as /var/lib.\n\nRight, but how does it get there? Does the user ssh in and drop it onto the system manually? Or something else?\n\n> The daemon process will perform inotify watch on the config file path and watch for its presense/update.\n\nSure, I guess that's fine, though I'd be interested in exploring whether we could use the usual D-Bus mechanisms (signals) for the same?"
                },
                {
                    "file": "designs/cable-monitor.md",
                    "line": 57,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "> > It can be hosted at runtime by the user or it can be part of image itself, but mostly it handles the use-case where it will be hosted by the user.\n> \n> > It can be created at runtime into a writable filesystem path such as /var/lib.\n> \n> Right, but how does it get there? Does the user ssh in and drop it onto the system manually? Or something else?\n\nFor runtime config, yes, user will ssh and drop the config file into the system.\n\n> \n> > The daemon process will perform inotify watch on the config file path and watch for its presense/update.\n> \n> Sure, I guess that's fine, \n\nSure, i am in process of finishing a prototype implementation using inotify.\n\n> though I'd be interested in exploring whether we could use the usual D-Bus mechanisms (signals) for the same?\n\nIs there any existing service in openBMC which can watch for filesystem updates/changes, for example, when a new file gets added to some dir?"
                },
                {
                    "file": "designs/cable-monitor.md",
                    "line": 57,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "> Is there any existing service in openBMC which can watch for filesystem updates/changes, for example, when a new file gets added to some dir?\n\nI was rather thinking of having the config represented in DBus rather than having a DBus signal relay an inotify event (if I've interpreted your question right). I don't think that indirection is necessary, use inotify directly if that's what's necessary."
                },
                {
                    "file": "designs/cable-monitor.md",
                    "line": 57,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "> > Is there any existing service in openBMC which can watch for filesystem updates/changes, for example, when a new file gets added to some dir?\n> \n> I was rather thinking of having the config represented in DBus rather than having a DBus signal relay an inotify event (if I've interpreted your question right). I don't think that indirection is necessary, use inotify directly if that's what's necessary.\n\nSure, will use inotify then.\n\nDo you have any suggestions on repo - dbus-sensors or something new or i shall open a TOF issue for that discussion?"
                },
                {
                    "file": "designs/cable-monitor.md",
                    "line": 57,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "I'd like other dbus-sensors maintainers to chime in on this. I'll add them on review."
                },
                {
                    "file": "designs/cable-monitor.md",
                    "line": 57,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Coming in late here, but yes, EM reactors should not have a config file.  By definition, their \"config file\" lives in entity manager as an exposes record of a physical component."
                },
                {
                    "file": "designs/cable-monitor.md",
                    "line": 57,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "EM can represent information which is true for a particular hardware design but it cannot represent information which is dynamic for a particular configuration (hence the proposal to use a config file).\n\nThe device has 24 leak detector ports.  Depending on which rack it is installed it (and how many devices are in that rack), anywhere between 0 and 24 can be \"expected\" to be connected.  This is not information EM can ever know."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/cable-monitor.md",
                    "type": "ADDED",
                    "insertions": 122,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 136,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "9efb2f30130ab969e0e795d8e4c34ad770cac9b2",
            "parents": [
                "9a761776716115717dc67ef2eebf274f369cc249"
            ],
            "ref": "refs/changes/99/74799/4",
            "uploader": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "createdOn": 1730141253,
            "author": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/cable-monitor.md",
                    "type": "ADDED",
                    "insertions": 140,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 154,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "1612d0f096582a8533a5f28ffa168626d96a5db3",
            "parents": [
                "d45763072069e4b297060b9befc8a88abdef26b4"
            ],
            "ref": "refs/changes/99/74799/5",
            "uploader": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "createdOn": 1730398078,
            "author": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "designs/cable-monitor.md",
                    "line": 14,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "This is not entirely true. If the presence of cable is detected through GPIO, one can use configuration files that would be loaded by entity-manager when the cable is connected. Redfish events are logged, please refer: https://github.com/openbmc/dbus-sensors/blob/master/src/PresenceGpio.hpp#L30"
                },
                {
                    "file": "designs/cable-monitor.md",
                    "line": 14,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "> This is not entirely true. If the presence of cable is detected through GPIO, one can use configuration files that would be loaded by entity-manager when the cable is connected. \n\nUpdated the description to better reflect the intent. You can check that again.\n\n> Redfish events are logged, please refer: https://github.com/openbmc/dbus-sensors/blob/master/src/PresenceGpio.hpp#L30\n\nI understand that there is event logging in place, but the goal is to log events by comparing them with expected cables. As for code reuse, we can discuss implementation details on the implementation PR."
                },
                {
                    "file": "designs/cable-monitor.md",
                    "line": 55,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "nit: `draft/2020-12/schema` is the latest."
                },
                {
                    "file": "designs/cable-monitor.md",
                    "line": 55,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/cable-monitor.md",
                    "line": 63,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "What are these strings?  It isn't clear what these names refer to.\n\nIs this some entity-manager (or really xyz/openbmc_project/Inventory/Item`) path segment?  Can we be clearer in the description."
                },
                {
                    "file": "designs/cable-monitor.md",
                    "line": 63,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "The items is an array of cables names with type string. I have added a description to this property."
                },
                {
                    "file": "designs/cable-monitor.md",
                    "line": 72,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I would suggest a `cable.d` (for lack of better word) where any config file can be parsed."
                },
                {
                    "file": "designs/cable-monitor.md",
                    "line": 72,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "Are you suggesting this for the daemon name or an alternative name for cable.conf json file?"
                },
                {
                    "file": "designs/cable-monitor.md",
                    "line": 72,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/cable-monitor.md",
                    "line": 127,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "nit: spelling"
                },
                {
                    "file": "designs/cable-monitor.md",
                    "line": 127,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/cable-monitor.md",
                    "type": "ADDED",
                    "insertions": 140,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 154,
            "sizeDeletions": 0
        },
        {
            "number": 6,
            "revision": "d5ed55df42b1e2c9ed8350759d60cf95da2c3c87",
            "parents": [
                "ccd5218d27e774b7d5bc795a91ad86fb1442fbc4"
            ],
            "ref": "refs/changes/99/74799/6",
            "uploader": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "createdOn": 1731055538,
            "author": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/cable-monitor.md",
                    "type": "ADDED",
                    "insertions": 140,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 154,
            "sizeDeletions": 0
        },
        {
            "number": 7,
            "revision": "93e1006546dfa69162afea0f2a3172a373bb5281",
            "parents": [
                "ccd5218d27e774b7d5bc795a91ad86fb1442fbc4"
            ],
            "ref": "refs/changes/99/74799/7",
            "uploader": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "createdOn": 1731106448,
            "author": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/cable-monitor.md",
                    "type": "ADDED",
                    "insertions": 148,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 162,
            "sizeDeletions": 0
        },
        {
            "number": 8,
            "revision": "92dcd47380b27305219a415507af151d21ce9e4e",
            "parents": [
                "52324d8ca7b3b0388fe99a98c34f00483d82bf09"
            ],
            "ref": "refs/changes/99/74799/8",
            "uploader": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "createdOn": 1731106758,
            "author": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/cable-monitor.md",
                    "type": "ADDED",
                    "insertions": 148,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 162,
            "sizeDeletions": 0
        }
    ]
}