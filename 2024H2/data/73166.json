{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "Ia6c0d9f7f3d9e8cf0c75ce961662bfd25eb2cc75",
    "number": 73166,
    "subject": "Validate group name before creating/updating it",
    "owner": {
        "name": "Farah Rasheed",
        "email": "Farah.Rasheed1@dell.com",
        "username": "FarahRasheed1"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/73166",
    "hashtags": [],
    "createdOn": 1722280857,
    "lastUpdated": 1722282983,
    "open": false,
    "status": "ABANDONED",
    "comments": [
        {
            "timestamp": 1722280857,
            "reviewer": {
                "name": "Farah Rasheed",
                "email": "Farah.Rasheed1@dell.com",
                "username": "FarahRasheed1"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1722280897,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1722280897,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1722280926,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/88786/ : FAILURE"
        },
        {
            "timestamp": 1722280957,
            "reviewer": {
                "name": "Farah Rasheed",
                "email": "Farah.Rasheed1@dell.com",
                "username": "FarahRasheed1"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1722281012,
            "reviewer": {
                "name": "Farah Rasheed",
                "email": "Farah.Rasheed1@dell.com",
                "username": "FarahRasheed1"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1722281057,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1722281057,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1722281251,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2: Code-Review-2\n\n(1 comment)"
        },
        {
            "timestamp": 1722281474,
            "reviewer": {
                "name": "Farah Rasheed",
                "email": "Farah.Rasheed1@dell.com",
                "username": "FarahRasheed1"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1722281862,
            "reviewer": {
                "name": "Farah Rasheed",
                "email": "Farah.Rasheed1@dell.com",
                "username": "FarahRasheed1"
            },
            "message": "Abandoned\n\nDoing the validation in the backend service"
        },
        {
            "timestamp": 1722281923,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1722282733,
            "reviewer": {
                "name": "Farah Rasheed",
                "email": "Farah.Rasheed1@dell.com",
                "username": "FarahRasheed1"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1722282983,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "02519f66d9c2dd6e2701b1671db70f85cf3c1c79",
            "parents": [
                "2d57219665f47c7fd9c2cdbc31a588f1da51ea72"
            ],
            "ref": "refs/changes/66/73166/1",
            "uploader": {
                "name": "Farah Rasheed",
                "email": "Farah.Rasheed1@dell.com",
                "username": "FarahRasheed1"
            },
            "createdOn": 1722280857,
            "author": {
                "name": "Farah Rasheed",
                "email": "Farah.Rasheed1@dell.com",
                "username": "FarahRasheed1"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "line": 89,
                    "reviewer": {
                        "name": "Farah Rasheed",
                        "email": "Farah.Rasheed1@dell.com",
                        "username": "FarahRasheed1"
                    },
                    "message": "This is a result of conversation from a review in webui-vue to do the validation in bmcweb: https://gerrit.openbmc.org/c/openbmc/webui-vue/+/72463"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "test/redfish-core/lib/account_service_test.cpp",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 62,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "5f7d8e09f2e63ab3d7e05956a8ee4e691be8fa07",
            "parents": [
                "2d57219665f47c7fd9c2cdbc31a588f1da51ea72"
            ],
            "ref": "refs/changes/66/73166/2",
            "uploader": {
                "name": "Farah Rasheed",
                "email": "Farah.Rasheed1@dell.com",
                "username": "FarahRasheed1"
            },
            "createdOn": 1722281012,
            "author": {
                "name": "Farah Rasheed",
                "email": "Farah.Rasheed1@dell.com",
                "username": "FarahRasheed1"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Similar to your other commit, bmcweb is not the correct place to put validation logic like this.\n\n\" \" is a valid string on dbus, therefore phosphor-user-manager needs to be verifying correctness and returning the appropriate error code when a user provides \nsomething that's malformed."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Farah Rasheed",
                        "email": "Farah.Rasheed1@dell.com",
                        "username": "FarahRasheed1"
                    },
                    "message": "I actually thought about that, and was in two minds \ud83d\ude0a\n\nOne reason was that reviewers on my webui-vue PR seemed to think bmcweb was where it should be, and another reason was that I see that quite a lot of validation was happening in bmcweb for such things, as an example: \n\nhttps://github.com/openbmc/bmcweb/blob/master/redfish-core/lib/ethernet.hpp#L1267\n\nOf course, it can be true that those places might be old before we learned better practices. I'll keep it mind for the future."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> One reason was that reviewers on my webui-vue PR seemed to think bmcweb was where it should be\n\nWhat I suspect they were saying was \"bmcweb is giving the wrong response here, you should debug and get the bmc (as a whole) to return the correct response\", not direct advice that it should go in bmcweb.\n\n> https://github.com/openbmc/bmcweb/blob/master/redfish-core/lib/ethernet.hpp#L1267\n\nYes, you have found one of the few remaining examples where we do this kind of validation.  That pattern is not widespread, and that file is one of the few remaining places where we verify things outside of the daemon itself.\n\nIt arguably should be fixed, but \"Perfect is the enemy of good;  Good is the enemy of better.\"\n\nFWIW, https://github.com/openbmc/bmcweb/issues/176#issuecomment-1485586513"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Farah Rasheed",
                        "email": "Farah.Rasheed1@dell.com",
                        "username": "FarahRasheed1"
                    },
                    "message": "Thank you for the link :)"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> I actually thought about that, and was in two minds \ud83d\ude0a\n\nAsking on discord or the mailing list will save you time in these subjective cases rather than spending time implementing something that can't merge and pushing it to review."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "test/redfish-core/lib/account_service_test.cpp",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 63,
            "sizeDeletions": 0
        }
    ]
}