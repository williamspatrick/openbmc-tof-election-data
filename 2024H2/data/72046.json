{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "If0e652c72866356ba09985b4ad2cfe76bf6a1142",
    "number": 72046,
    "subject": "update service: updateable firmware logic change",
    "owner": {
        "name": "Jagpal S Gill",
        "email": "paligill@gmail.com",
        "username": "jagpalgill"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/72046",
    "hashtags": [
        "redfish-updateservice-use-dbus"
    ],
    "createdOn": 1718389376,
    "lastUpdated": 1734115857,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1718389376,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1718389404,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1718389404,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1718390552,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/86106/ : SUCCESS"
        },
        {
            "timestamp": 1718390795,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1718390903,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(3 comments)"
        },
        {
            "timestamp": 1718390907,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1: Code-Review-1"
        },
        {
            "timestamp": 1718659960,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Code-Review-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1718659995,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1718659995,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1718660021,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Patch Set 2:\n\n(5 comments)"
        },
        {
            "timestamp": 1718661146,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/86276/ : SUCCESS"
        },
        {
            "timestamp": 1719093589,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1719115460,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1719115476,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1719115505,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1719115506,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1719117120,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/86606/ : SUCCESS"
        },
        {
            "timestamp": 1719384290,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1719461171,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Patch Set 3:\n\n(3 comments)"
        },
        {
            "timestamp": 1719505896,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1719506894,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1719508598,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1719511484,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1719512015,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1719517130,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1719519006,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1719954600,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1721258764,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1721258791,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1721258791,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1721259153,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Patch Set 4:\n\n(3 comments)"
        },
        {
            "timestamp": 1721259313,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/88198/ : FAILURE"
        },
        {
            "timestamp": 1721340247,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Uploaded patch set 5: Patch Set 4 was rebased.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1721340274,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1721340274,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1721341665,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/88288/ : SUCCESS"
        },
        {
            "timestamp": 1721944460,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Uploaded patch set 6: Commit message was updated.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1721944496,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1721944496,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1721945754,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/88657/ : SUCCESS"
        },
        {
            "timestamp": 1722309803,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6: Code-Review+1"
        },
        {
            "timestamp": 1722362209,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6: Code-Review+2"
        },
        {
            "timestamp": 1722362227,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully rebased and submitted as c018f7052e9b3468e558e2bd755e071a0f3fe378"
        },
        {
            "timestamp": 1734115857,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Hashtag added: redfish-updateservice-use-dbus"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "66c4782d637bce6b48ffb0acb875ff5fd3420958",
            "parents": [
                "00a0fe4e361efcdeb600f3a2e88b746fa18b9715"
            ],
            "ref": "refs/changes/46/72046/1",
            "uploader": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "createdOn": 1718389376,
            "author": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 14,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "tested?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 14,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 362,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Looks like this is the right code, but it's commented out?"
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 362,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 389,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "non trivial lambda."
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 389,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 411,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "non trivial lambda."
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 411,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "type": "MODIFIED",
                    "insertions": 55,
                    "deletions": -18
                }
            ],
            "sizeInsertions": 71,
            "sizeDeletions": 18
        },
        {
            "number": 2,
            "revision": "b2e96c59d69efefe91ff3c1f911ae9572421931e",
            "parents": [
                "8f5df132a70b47c2f299cb216812ec83d4fc1197"
            ],
            "ref": "refs/changes/46/72046/2",
            "uploader": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "createdOn": 1718659960,
            "author": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "Addressed comment and replied. Thanks"
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 356,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please use the dbus path object for combining these.   swId comes from a user api, so we need to escape it."
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 356,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "Used object_path."
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 404,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please use the operator/ on sdbusplus::message::object_path for doing dbus path appending."
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 404,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "?\n\nsoftware_version seems like it shouldn't be a sub-path on the software?"
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 404,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 404,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "This is an existing association to updatable software."
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 404,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Right, but you're accessing it as a subpath."
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 404,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "Replied here https://gerrit.openbmc.org/c/openbmc/bmcweb/+/72046/comment/02144c38_6d2ed4d3/. Please let me know if it answers your question."
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 404,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "type": "MODIFIED",
                    "insertions": 62,
                    "deletions": -20
                }
            ],
            "sizeInsertions": 103,
            "sizeDeletions": 20
        },
        {
            "number": 3,
            "revision": "491d874456d03f64fef2c3aa7e764592a378e742",
            "parents": [
                "3cb42ba0107b297b7c3c4b877e9518a95368a4b0"
            ],
            "ref": "refs/changes/46/72046/3",
            "uploader": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "createdOn": 1719115476,
            "author": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "Replied to your comments. Thanks"
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 414,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I'm a little confused here, you're doing an association lookup to look up the software version interfaces?  Isn't the software version attached directly to the software path?\n\nsomething like\n\nGetObject(\"/xyz/openbmc_project/software/<swId>, {\"xyz.openbmc_project.Software.Update\"})\n\nWould be simpler, right?"
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 414,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "xyz.openbmc_project.Software.Update --is-on--> /xyz/openbmc_project/software/bmc object_path (for BMC).\nxyz.openbmc_project.Software.Version --is-on--> /xyz/openbmc_project/software/<swId> object_path.\n\n/xyz/openbmc_project/software/bmc (updatable) --associated-with--> (software_version) /xyz/openbmc_project/software/<swId>\n\nSo, here i am trying to get the associated subtree for /xyz/openbmc_project/software/<swId>/software_version with xyz.openbmc_project.Software.Update interface on the object_path /xyz/openbmc_project/software."
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 414,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> xyz.openbmc_project.Software.Update --is-on--> /xyz/openbmc_project/software/bmc object_path (for BMC).\n> xyz.openbmc_project.Software.Version --is-on--> /xyz/openbmc_project/software/<swId> object_path.\n> \n> /xyz/openbmc_project/software/bmc (updatable) --associated-with--> (software_version) /xyz/openbmc_project/software/<swId>\n\n\n/xyz/openbmc_project/software/bmc\n/xyz/openbmc_project/software/<swId>\n/xyz/openbmc_project/software/<swId>\n\n\nThese are all 3 the same path (two with wildcards, and one with a swid of \"bmc\")\n\nWhat am I missing here?\n\n> \n> So, here i am trying to get the associated subtree for /xyz/openbmc_project/software/<swId>/software_version with xyz.openbmc_project.Software.Update interface on the object_path /xyz/openbmc_project/software.\n\nRight, but if they're all the same path, why do we need to look up an association?"
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 414,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "/xyz/openbmc_project/software/bmc\n/xyz/openbmc_project/software/<swId>\n/xyz/openbmc_project/software/<swId>\n\n\nAll 3 things you listed are the same path.  Why are we splitting interfaces across paths in the same namespace?"
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 414,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "Basically, i am trying to keep a singleton update interface for the BMC at fixed path which is /xyz/openbmc_project/software/bmc. The BMC versions will continue to be at /xyz/openbmc_project/software/<swId>.\nIf its creating confusion in terms of object_path, probably i can use the /xyz/openbmc_project/software/update/bmc for hosting the update interface?"
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 414,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> Basically, i am trying to keep a singleton update interface for the BMC at fixed path which is /xyz/openbmc_project/software/bmc. The BMC versions will continue to be at /xyz/openbmc_project/software/<swId>.\n> If its creating confusion in terms of object_path, probably i can use the /xyz/openbmc_project/software/update/bmc for hosting the update interface?\n\nThis is making it pretty complicated if we split responsibility across dbus interfaces.   What I was expecting was\n/xyz/openbmc_project/software/bmc\nHosts update and version interfaces for the bmc\n\n/xyz/openbmc_project/software/<swId>\nhosts update and version interfaces for other components.  Once of these components might also be a \"copy\" of the bmc."
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 414,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> /xyz/openbmc_project/software/update/bmc for hosting the update interface?\n\nI'm not sure what this would accomplish, aside from putting it at a different namespace path.  The complexity is that the code has split up the dbus object paths for things that represent the same thing.  We can have multiple interfaces on the same dbus path, and that's generally how we represent \"this object can do multiple things\".  We fall back to associations when we're operating in different path namespaces, relating two distinct objects to one another, but by in large we will have the same path host multiple interfaces if that path just has multiple capabilities."
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 414,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "> This is making it pretty complicated if we split responsibility across dbus interfaces. What I was expecting was\n/xyz/openbmc_project/software/bmc\nHosts update and version interfaces for the bmc\n> /xyz/openbmc_project/software/<swId>\nhosts update and version interfaces for other components. \n\nWhy we have to treat BMC as a special case and use a fixed path for it and use <swId> for all others?\n\nMoreover, there can be more than one version for the BMC, for example, active, activating, staged so i don't think we can put all of them at the same DBus path. As per design, the idea was to keep Version and Update interfaces at same path /xyz/openbmc_project/software/<swId>. While doing proto-typing i felt that duplicating the Update interface doesn't make sense since nothing is changing for that interface from one BMC version to another, its just a way to deliver the update command to the component. So i kept it separate from the Version interface but used an association to link the Version and Update interfaces. I was going to float those design changes for discussion but its good we are discussing now.\n\n\n> Once of these components might also be a \"copy\" of the bmc.\n\nI am not sure what you mean by copy of bmc?\n\n\n> > /xyz/openbmc_project/software/update/bmc for hosting the update interface?\n> \n> I'm not sure what this would accomplish, aside from putting it at a different namespace path.  The complexity is that the code has split up the dbus object paths for things that represent the same thing. \n\nVersion interface is representing the particular version of a component software and there can be n version interfaces for that component depending upon what state (running, staged, activating etc) that version is in. Contrary, Update interface provides a way to trigger/deliver an update action to a component daemon, which shouldn't change from one version to another.\n\n> We can have multiple interfaces on the same dbus path, and that's generally how we represent \"this object can do multiple things\". We fall back to associations when we're operating in different path namespaces, relating two distinct objects to one another, but by in large we will have the same path host multiple interfaces if that path just has multiple capabilities.\n\nI agree that we could have kept both Update and Version as one object but I have explained above the reasoning for keeping them separate. Please let me know if it makes sense?"
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 414,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> > This is making it pretty complicated if we split responsibility across dbus interfaces. What I was expecting was\n> /xyz/openbmc_project/software/bmc\n> Hosts update and version interfaces for the bmc\n> > /xyz/openbmc_project/software/<swId>\n> hosts update and version interfaces for other components. \n> \n> Why we have to treat BMC as a special case and use a fixed path for it and use <swId> for all others?\n\nThe actual requirement is that for non-multipart updates, we need to be able to target an update at \"this\" bmc.  Having a known path for that seemed like the easiest, and it's what we did in the past, but if there's a simpler way, great.\n\n> \n> Moreover, there can be more than one version for the BMC, for example, active, activating, staged so i don't think we can put all of them at the same DBus path. \n\nI would expect active to go in the bmc path, because that's what the bmc is running NOW.  The others are other inventory items, that yes, I would agree should go in other objects.\n\n\n> As per design, the idea was to keep Version and Update interfaces at same path /xyz/openbmc_project/software/<swId>. While doing proto-typing i felt that duplicating the Update interface doesn't make sense since nothing is changing for that interface from one BMC version to another, its just a way to deliver the update command to the component. So i kept it separate from the Version interface but used an association to link the Version and Update interfaces. I was going to float those design changes for discussion but its good we are discussing now.\n\n\nI personally think that design change makes code complicated;  We're accessing two objects instead of one, and having to map an association between two things that are effectively the same thing.\n\nI wouldn't really expect that the \"staging\" path have an update interface.  You're updating the active version, not updating the \"staged\" version (at least for Redfish).  Or if you are updating the staged version, that's a different operation.\n\n> \n> \n> > Once of these components might also be a \"copy\" of the bmc.\n> \n> I am not sure what you mean by copy of bmc?\n\n\n/xyz/openbmc_project/software/ABC\n\nMight represent an identical object as\n\n/xyz/openbmc_project/software/bmc\n\nIf you need the ABC name for some internal accounting.\n\n> \n> \n> > > /xyz/openbmc_project/software/update/bmc for hosting the update interface?\n> > \n> > I'm not sure what this would accomplish, aside from putting it at a different namespace path.  The complexity is that the code has split up the dbus object paths for things that represent the same thing. \n> \n> Version interface is representing the particular version of a component software and there can be n version interfaces for that component depending upon what state (running, staged, activating etc) that version is in. Contrary, Update interface provides a way to trigger/deliver an update action to a component daemon, which shouldn't change from one version to another.\n\nSee above about the \"active\" version being special, and should exist on the same object.  At the end of the day, think of it like a device.  We have a physical bmc, it has software on it, as well as an interface to update.  That's physically \"one\" path.\n\n> \n> > We can have multiple interfaces on the same dbus path, and that's generally how we represent \"this object can do multiple things\". We fall back to associations when we're operating in different path namespaces, relating two distinct objects to one another, but by in large we will have the same path host multiple interfaces if that path just has multiple capabilities.\n> \n> I agree that we could have kept both Update and Version as one object but I have explained above the reasoning for keeping them separate. Please let me know if it makes sense?"
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 414,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "In summary, i will go back to where our conversation started and make the change so Version interface and Update Interface can reside on the same D-Bus path, which is /xyz/openbmc_project/Software/{SwId} which would be true for all Components (including BMC) to keep it consistent.\n\nPlease let me know if there are still any questions?"
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "line": 414,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "type": "MODIFIED",
                    "insertions": 65,
                    "deletions": -20
                }
            ],
            "sizeInsertions": 106,
            "sizeDeletions": 20
        },
        {
            "number": 4,
            "revision": "d3b0f4df6a9b25b747ec8ce5c6be9c9fb170f584",
            "parents": [
                "284241cf6c6b10171b3d90e4c3e470c200dfb6e5"
            ],
            "ref": "refs/changes/46/72046/4",
            "uploader": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "createdOn": 1721258764,
            "author": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "Adressed comments. Thanks"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "type": "MODIFIED",
                    "insertions": 63,
                    "deletions": -20
                }
            ],
            "sizeInsertions": 104,
            "sizeDeletions": 20
        },
        {
            "number": 5,
            "revision": "59facb3bde1f68855ed79f2eb841a1ae1ce9a463",
            "parents": [
                "8c84269d61b5f0d015b3f9b8816d0a90a7cd8a5b"
            ],
            "ref": "refs/changes/46/72046/5",
            "uploader": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "createdOn": 1721340247,
            "author": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "type": "MODIFIED",
                    "insertions": 63,
                    "deletions": -20
                }
            ],
            "sizeInsertions": 104,
            "sizeDeletions": 20
        },
        {
            "number": 6,
            "revision": "694dab4e6298a678fb39db5c09759ed3ce5ec8ba",
            "parents": [
                "e8820f1397c238874e5c5a2aeaa2f0dcdd59228d"
            ],
            "ref": "refs/changes/46/72046/6",
            "uploader": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "createdOn": 1721944460,
            "author": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 56,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "type": "MODIFIED",
                    "insertions": 63,
                    "deletions": -20
                }
            ],
            "sizeInsertions": 119,
            "sizeDeletions": 20
        },
        {
            "number": 7,
            "revision": "c018f7052e9b3468e558e2bd755e071a0f3fe378",
            "parents": [
                "08f61d5300b16bc39f43b061e7da065fbe59a1ce"
            ],
            "ref": "refs/changes/46/72046/7",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1722362227,
            "author": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 56,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/utils/sw_utils.hpp",
                    "type": "MODIFIED",
                    "insertions": 63,
                    "deletions": -20
                }
            ],
            "sizeInsertions": 119,
            "sizeDeletions": 20
        }
    ]
}