{
    "project": "openbmc/phosphor-user-manager",
    "branch": "master",
    "topic": "usermgr-createuser2",
    "id": "Iccfb0c91c3b5ec353c59cc4f3abe66e5d9817b5a",
    "number": 75237,
    "subject": "Add CreateUser2 method to create a new local user",
    "owner": {
        "name": "Ivan Moiseev",
        "email": "moiseev.ivan4w@yandex.com",
        "username": "rainar4w"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-user-manager/+/75237",
    "hashtags": [],
    "createdOn": 1728648808,
    "lastUpdated": 1734702306,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1728648808,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1728648833,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1728648833,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1728648852,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/93089/ : FAILURE"
        },
        {
            "timestamp": 1728652870,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1728652904,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1728652904,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1728652973,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/93090/ : FAILURE"
        },
        {
            "timestamp": 1728654267,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1728654293,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1728654293,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1728654495,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/93091/ : SUCCESS"
        },
        {
            "timestamp": 1729862777,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1729864346,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1729877182,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1729877202,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1729877203,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1729877231,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/93766/ : FAILURE"
        },
        {
            "timestamp": 1729878206,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Patch Set 4:\n\n(3 comments)"
        },
        {
            "timestamp": 1731174495,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 4:\n\n(4 comments)"
        },
        {
            "timestamp": 1732115055,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Topic set to usermgr-createuser2"
        },
        {
            "timestamp": 1732115077,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1732115146,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1732115146,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1732115793,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/94833/ : FAILURE"
        },
        {
            "timestamp": 1732630187,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Uploaded patch set 5.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1732630226,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1732630226,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1732630515,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/95325/ : SUCCESS"
        },
        {
            "timestamp": 1733314235,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1733833170,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Uploaded patch set 6.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1733833184,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1733833189,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1733833472,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/96196/ : SUCCESS"
        },
        {
            "timestamp": 1733850518,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1734001318,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1734279867,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 6:\n\n(2 comments)"
        },
        {
            "timestamp": 1734297478,
            "reviewer": {
                "name": "Ivan Mikhaylov",
                "email": "fr0st61te@gmail.com",
                "username": "fr0st61te"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1734333723,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1734510739,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1734698425,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Uploaded patch set 7.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1734698439,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1734698439,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1734698608,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/97352/ : FAILURE"
        },
        {
            "timestamp": 1734701999,
            "reviewer": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "message": "Uploaded patch set 8.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1734702024,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1734702029,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: -Ok-To-Test"
        },
        {
            "timestamp": 1734702306,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/97362/ : SUCCESS"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "c6591810d4ea6c64450cf1d9c7e46b57183ab99c",
            "parents": [
                "34e6ccd405dfe9bd43d10cb8f0053598134688e3"
            ],
            "ref": "refs/changes/37/75237/1",
            "uploader": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "createdOn": 1728648808,
            "author": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 59,
                    "deletions": 0
                },
                {
                    "file": "test/mock_user_mgr.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "users.hpp",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -1
                },
                {
                    "file": "test/user_mgr_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 281,
                    "deletions": -1
                },
                {
                    "file": "user_mgr.hpp",
                    "type": "MODIFIED",
                    "insertions": 45,
                    "deletions": -2
                },
                {
                    "file": "users.cpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -1
                },
                {
                    "file": "user_mgr.cpp",
                    "type": "MODIFIED",
                    "insertions": 170,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 612,
            "sizeDeletions": 8
        },
        {
            "number": 2,
            "revision": "6454275edb22efab488be9de364f755d97261ae1",
            "parents": [
                "34e6ccd405dfe9bd43d10cb8f0053598134688e3"
            ],
            "ref": "refs/changes/37/75237/2",
            "uploader": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "createdOn": 1728652870,
            "author": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 59,
                    "deletions": 0
                },
                {
                    "file": "test/mock_user_mgr.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "users.hpp",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -1
                },
                {
                    "file": "test/user_mgr_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 283,
                    "deletions": -1
                },
                {
                    "file": "user_mgr.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": -2
                },
                {
                    "file": "users.cpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -1
                },
                {
                    "file": "user_mgr.cpp",
                    "type": "MODIFIED",
                    "insertions": 172,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 615,
            "sizeDeletions": 8
        },
        {
            "number": 3,
            "revision": "dba8ab076842a6fe4677a794b12e767f29740db8",
            "parents": [
                "34e6ccd405dfe9bd43d10cb8f0053598134688e3"
            ],
            "ref": "refs/changes/37/75237/3",
            "uploader": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "createdOn": 1728654267,
            "author": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "do we have corresponding bmcweb commit to support redfish configurations?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Ivan Moiseev",
                        "email": "moiseev.ivan4w@yandex.com",
                        "username": "rainar4w"
                    },
                    "message": "There is a change in progress which relies on this one https://gerrit.openbmc.org/c/openbmc/bmcweb/+/75372. Thanks for pointing this out, I've mentioned it in the change message as well."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "Thank you"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 30,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "what happens if date of the system changes after configuring?\nbasically we need to make sure date and time correct before User password expiration configured?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 30,
                    "reviewer": {
                        "name": "Ivan Moiseev",
                        "email": "moiseev.ivan4w@yandex.com",
                        "username": "rainar4w"
                    },
                    "message": "Could you please elaborate more on this? Because I do not understand what can be done or should be done in case if system time changes after password expiration has been set.\nSo far, there is a check in the code verifying that we do not set password expiration to a time point in the past. It is mentioned in steps 5 and 8 in 'Tested' section. Also, it is implemented in unit-tests as well."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 30,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "ok, I mean suppose system has old time while configuring password expiration and then user set correct time."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 30,
                    "reviewer": {
                        "name": "Ivan Moiseev",
                        "email": "moiseev.ivan4w@yandex.com",
                        "username": "rainar4w"
                    },
                    "message": "I still might be not following you. So let me provide an example:\n1. a user is created today (4th of Dec)\n2. password expiration time for the user is set to the 5th of Dec\n3. time inside BMC is switched to the 6th of Dec\n4. now the password is expired \n\nIt seems to be correct. Do you see a problem here?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 30,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "this case is ok. but what if system has old date and time ex: 1971 jan 01\npassword expiration does not work as expected right?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 30,
                    "reviewer": {
                        "name": "Ivan Moiseev",
                        "email": "moiseev.ivan4w@yandex.com",
                        "username": "rainar4w"
                    },
                    "message": "I see your point now. Lets see what I've checked so far:\n1. disable ntp in BMC: ```timedatectl set-ntp 0```\n2. set date-time to the past: ```date -s '1971-01-01 11:30:30'``, ```hwclock --systohc```\n3. create new user with a password expiration set to 'Wednesday, October 7, 2026 10:10:15 AM UTC': ```busctl call xyz.openbmc_project.User.Manager /xyz/openbmc_project/user xyz.openbmc_project.User.Manager CreateUser2 sassbt \"user1\" 1 \"redfish\" \"priv-admin\" true 1791367815```\n4. check user info via ```chage```: ```chage -l user1```\n```Last password change\t\t\t\t\t: Jan 01, 1971\nPassword expires\t\t\t\t\t: never\nPassword inactive\t\t\t\t\t: never\nAccount expires\t\t\t\t\t\t: never\nMinimum number of days between password change\t\t: 0\nMaximum number of days between password change\t\t: 20368\nNumber of days of warning before password expires\t: 7```\n5. verify that user is able to login to BMC via ssh\n6. change date-time to the current time: ```date -s '2024-12-12 11:30:30'``, ```hwclock --systohc```\n7. verify that user is able to login to BMC via ssh\n8. ```chage``` starts to report incorrect information about password expiration here because of its internal code: ```chage -l user1```\n```Last password change\t\t\t\t\t: Jan 01, 1971\nPassword expires\t\t\t\t\t: never\nPassword inactive\t\t\t\t\t: never\nAccount expires\t\t\t\t\t\t: never\nMinimum number of days between password change\t\t: 0\nMaximum number of days between password change\t\t: 20368\nNumber of days of warning before password expires\t: 7```\n9. change date-time to the future: ```date -s '2027-12-12 11:30:30'```, ```hwclock --systohc```\n10. verify that password is expired, user is not able to login via ssh and gets error ```You are required to change your password immediately (password expired).```\n11. ```chage``` still reports wrong information about password expiration: ```chage -l user1```\n```Last password change\t\t\t\t\t: Jan 01, 1971\nPassword expires\t\t\t\t\t: never\nPassword inactive\t\t\t\t\t: never\nAccount expires\t\t\t\t\t\t: never\nMinimum number of days between password change\t\t: 0\nMaximum number of days between password change\t\t: 20368\nNumber of days of warning before password expires\t: 7```\n\nWeak place here is a date of the last password change, if password changes, then it shifts, so password expiration date-time shifts to the future as well, because ```chage``` operates on number of days since the last password change. Unfortunately, password expiration does not work in this case."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 30,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "ok got it"
                },
                {
                    "file": "user_mgr.cpp",
                    "line": 1569,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "linux passwd command also can be used for setting Password Expiration"
                },
                {
                    "file": "user_mgr.cpp",
                    "line": 1569,
                    "reviewer": {
                        "name": "Ivan Moiseev",
                        "email": "moiseev.ivan4w@yandex.com",
                        "username": "rainar4w"
                    },
                    "message": "I do not know if there is any advantage of using passwd over chage. Unfortunately, I do not know it for sure, hence if there is such an advantage, I can switch to passwd. Could you please explain if it is better to use passwd instead of chage?"
                },
                {
                    "file": "user_mgr.cpp",
                    "line": 1569,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "looks like passwd tool has limited, while chage supports password expiration policy"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 59,
                    "deletions": 0
                },
                {
                    "file": "test/mock_user_mgr.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "users.hpp",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -1
                },
                {
                    "file": "test/user_mgr_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 283,
                    "deletions": -1
                },
                {
                    "file": "user_mgr.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": -2
                },
                {
                    "file": "users.cpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -1
                },
                {
                    "file": "user_mgr.cpp",
                    "type": "MODIFIED",
                    "insertions": 172,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 615,
            "sizeDeletions": 8
        },
        {
            "number": 4,
            "revision": "c32af4df70150e3ccdd41d52f267be0db6526c65",
            "parents": [
                "34e6ccd405dfe9bd43d10cb8f0053598134688e3"
            ],
            "ref": "refs/changes/37/75237/4",
            "uploader": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "createdOn": 1729877182,
            "author": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "Please check CI failure"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I added a topic so this will pull in the corresponding PDI changes for CI."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 83,
                    "deletions": 0
                },
                {
                    "file": "test/mock_user_mgr.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "users.hpp",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -2
                },
                {
                    "file": "test/user_mgr_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 519,
                    "deletions": -2
                },
                {
                    "file": "user_mgr.hpp",
                    "type": "MODIFIED",
                    "insertions": 88,
                    "deletions": -3
                },
                {
                    "file": "users.cpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -2
                },
                {
                    "file": "user_mgr.cpp",
                    "type": "MODIFIED",
                    "insertions": 229,
                    "deletions": -17
                }
            ],
            "sizeInsertions": 973,
            "sizeDeletions": 26
        },
        {
            "number": 5,
            "revision": "e7e45cc0c061417a313da40bd084c92312e1841f",
            "parents": [
                "34e6ccd405dfe9bd43d10cb8f0053598134688e3"
            ],
            "ref": "refs/changes/37/75237/5",
            "uploader": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "createdOn": 1732630187,
            "author": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 83,
                    "deletions": 0
                },
                {
                    "file": "test/mock_user_mgr.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "users.hpp",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -2
                },
                {
                    "file": "test/user_mgr_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 510,
                    "deletions": -2
                },
                {
                    "file": "user_mgr.hpp",
                    "type": "MODIFIED",
                    "insertions": 88,
                    "deletions": -3
                },
                {
                    "file": "users.cpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -2
                },
                {
                    "file": "user_mgr.cpp",
                    "type": "MODIFIED",
                    "insertions": 227,
                    "deletions": -17
                }
            ],
            "sizeInsertions": 962,
            "sizeDeletions": 26
        },
        {
            "number": 6,
            "revision": "aa4a907f6d661259f4c1df9e56cc6654d4c525e7",
            "parents": [
                "34e6ccd405dfe9bd43d10cb8f0053598134688e3"
            ],
            "ref": "refs/changes/37/75237/6",
            "uploader": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "createdOn": 1733833170,
            "author": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "user_mgr.cpp",
                    "line": 1737,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "why do we need new crateUser2 interface? having new user attribute which can be set after user created similar to account policy attributes enough right?"
                },
                {
                    "file": "user_mgr.cpp",
                    "line": 1737,
                    "reviewer": {
                        "name": "Ivan Mikhaylov",
                        "email": "fr0st61te@gmail.com",
                        "username": "fr0st61te"
                    },
                    "message": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/75372/comment/d35c832d_e769bf9c/"
                },
                {
                    "file": "user_mgr.cpp",
                    "line": 1737,
                    "reviewer": {
                        "name": "Ivan Moiseev",
                        "email": "moiseev.ivan4w@yandex.com",
                        "username": "rainar4w"
                    },
                    "message": "I did this way initially, though it was suggested to add new parameter to existing CreateUser method or create new method CreateUser2. This is corresponding discussion in bmcweb https://gerrit.openbmc.org/c/openbmc/bmcweb/+/75372/comment/d35c832d_e769bf9c/."
                },
                {
                    "file": "user_mgr.cpp",
                    "line": 1737,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "got it"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 81,
                    "deletions": 0
                },
                {
                    "file": "test/mock_user_mgr.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "users.hpp",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -2
                },
                {
                    "file": "test/user_mgr_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 520,
                    "deletions": -2
                },
                {
                    "file": "user_mgr.hpp",
                    "type": "MODIFIED",
                    "insertions": 97,
                    "deletions": -3
                },
                {
                    "file": "users.cpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -2
                },
                {
                    "file": "user_mgr.cpp",
                    "type": "MODIFIED",
                    "insertions": 237,
                    "deletions": -17
                }
            ],
            "sizeInsertions": 989,
            "sizeDeletions": 26
        },
        {
            "number": 7,
            "revision": "76cbb6c2212ffe56d00b8395fdbf828d6c46ad48",
            "parents": [
                "66addf25485af22d931a743170285c0f511f0cb8"
            ],
            "ref": "refs/changes/37/75237/7",
            "uploader": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "createdOn": 1734698425,
            "author": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 81,
                    "deletions": 0
                },
                {
                    "file": "test/mock_user_mgr.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "users.hpp",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -2
                },
                {
                    "file": "test/user_mgr_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 520,
                    "deletions": -2
                },
                {
                    "file": "user_mgr.hpp",
                    "type": "MODIFIED",
                    "insertions": 95,
                    "deletions": -3
                },
                {
                    "file": "users.cpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -2
                },
                {
                    "file": "user_mgr.cpp",
                    "type": "MODIFIED",
                    "insertions": 237,
                    "deletions": -17
                }
            ],
            "sizeInsertions": 987,
            "sizeDeletions": 26
        },
        {
            "number": 8,
            "revision": "4452e9b70ccf0ef19da3d6247eab827c4c1a9361",
            "parents": [
                "66addf25485af22d931a743170285c0f511f0cb8"
            ],
            "ref": "refs/changes/37/75237/8",
            "uploader": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "createdOn": 1734701999,
            "author": {
                "name": "Ivan Moiseev",
                "email": "moiseev.ivan4w@yandex.com",
                "username": "rainar4w"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 81,
                    "deletions": 0
                },
                {
                    "file": "test/mock_user_mgr.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "users.hpp",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -2
                },
                {
                    "file": "test/user_mgr_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 520,
                    "deletions": -2
                },
                {
                    "file": "user_mgr.hpp",
                    "type": "MODIFIED",
                    "insertions": 95,
                    "deletions": -3
                },
                {
                    "file": "users.cpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -2
                },
                {
                    "file": "user_mgr.cpp",
                    "type": "MODIFIED",
                    "insertions": 235,
                    "deletions": -17
                }
            ],
            "sizeInsertions": 985,
            "sizeDeletions": 26
        }
    ]
}