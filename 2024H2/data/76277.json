{
    "project": "openbmc/dbus-sensors",
    "branch": "master",
    "id": "Ic70a0008d864c8505cb4edcce7156879b6086bdd",
    "number": 76277,
    "subject": "sensors: Add `smbpbisensor read`",
    "owner": {
        "name": "Peter Delevoryas",
        "email": "peter@pjd.dev",
        "username": "peterdelevoryas"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/dbus-sensors/+/76277",
    "hashtags": [],
    "createdOn": 1733390074,
    "lastUpdated": 1734982560,
    "open": false,
    "status": "ABANDONED",
    "comments": [
        {
            "timestamp": 1733390074,
            "reviewer": {
                "name": "Peter Delevoryas",
                "email": "peter@pjd.dev",
                "username": "peterdelevoryas"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1733390127,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1733390127,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1733390149,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/95899/ : FAILURE"
        },
        {
            "timestamp": 1733390297,
            "reviewer": {
                "name": "Peter Delevoryas",
                "email": "peter@pjd.dev",
                "username": "peterdelevoryas"
            },
            "message": "Uploaded patch set 2: Commit message was updated.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1733390336,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1733390336,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1733390354,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/95901/ : FAILURE"
        },
        {
            "timestamp": 1733426172,
            "reviewer": {
                "name": "Peter Delevoryas",
                "email": "peter@pjd.dev",
                "username": "peterdelevoryas"
            },
            "message": "Uploaded patch set 3: Commit message was updated.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1733426223,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1733426223,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1733426245,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/95941/ : FAILURE"
        },
        {
            "timestamp": 1733431116,
            "reviewer": {
                "name": "Peter Delevoryas",
                "email": "peter@pjd.dev",
                "username": "peterdelevoryas"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1733431163,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1733431163,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1733431514,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/95944/ : SUCCESS"
        },
        {
            "timestamp": 1733445356,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1733469806,
            "reviewer": {
                "name": "Peter Delevoryas",
                "email": "peter@pjd.dev",
                "username": "peterdelevoryas"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1734141437,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1734143706,
            "reviewer": {
                "name": "Peter Delevoryas",
                "email": "peter@pjd.dev",
                "username": "peterdelevoryas"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1734982560,
            "reviewer": {
                "name": "Peter Delevoryas",
                "email": "peter@pjd.dev",
                "username": "peterdelevoryas"
            },
            "message": "Abandoned\n\nin favor of https://gerrit.openbmc.org/c/openbmc/dbus-sensors/+/76545"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "4b7cd89d6ed42675690141a13d41574001e5f5ba",
            "parents": [
                "d7be555ee0d885418e9a862b16565a0474c68d14"
            ],
            "ref": "refs/changes/77/76277/1",
            "uploader": {
                "name": "Peter Delevoryas",
                "email": "peter@pjd.dev",
                "username": "peterdelevoryas"
            },
            "createdOn": 1733390074,
            "author": {
                "name": "Peter Delevoryas",
                "email": "peter@pjd.dev",
                "username": "peterdelevoryas"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 141,
                    "deletions": 0
                },
                {
                    "file": ".cargo/config.toml",
                    "type": "ADDED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": ".gitignore",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "Cargo.toml",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "Cargo.lock",
                    "type": "ADDED",
                    "insertions": 352,
                    "deletions": 0
                },
                {
                    "file": "src/smbpbisensor.rs",
                    "type": "ADDED",
                    "insertions": 110,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 630,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "6a7c23e8b01baece6a0c640e4bf918e080371d17",
            "parents": [
                "d7be555ee0d885418e9a862b16565a0474c68d14"
            ],
            "ref": "refs/changes/77/76277/2",
            "uploader": {
                "name": "Peter Delevoryas",
                "email": "peter@pjd.dev",
                "username": "peterdelevoryas"
            },
            "createdOn": 1733390297,
            "author": {
                "name": "Peter Delevoryas",
                "email": "peter@pjd.dev",
                "username": "peterdelevoryas"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 143,
                    "deletions": 0
                },
                {
                    "file": ".cargo/config.toml",
                    "type": "ADDED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": ".gitignore",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "Cargo.toml",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "Cargo.lock",
                    "type": "ADDED",
                    "insertions": 352,
                    "deletions": 0
                },
                {
                    "file": "src/smbpbisensor.rs",
                    "type": "ADDED",
                    "insertions": 110,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 632,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "0f311c119962ee4b2b226dad0218022df09e8205",
            "parents": [
                "d7be555ee0d885418e9a862b16565a0474c68d14"
            ],
            "ref": "refs/changes/77/76277/3",
            "uploader": {
                "name": "Peter Delevoryas",
                "email": "peter@pjd.dev",
                "username": "peterdelevoryas"
            },
            "createdOn": 1733426172,
            "author": {
                "name": "Peter Delevoryas",
                "email": "peter@pjd.dev",
                "username": "peterdelevoryas"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 144,
                    "deletions": 0
                },
                {
                    "file": ".cargo/config.toml",
                    "type": "ADDED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": ".gitignore",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "Cargo.toml",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "Cargo.lock",
                    "type": "ADDED",
                    "insertions": 352,
                    "deletions": 0
                },
                {
                    "file": "src/smbpbisensor.rs",
                    "type": "ADDED",
                    "insertions": 110,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 633,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "0a45aedc9b061b3a69099d3758839451b448750a",
            "parents": [
                "d7be555ee0d885418e9a862b16565a0474c68d14"
            ],
            "ref": "refs/changes/77/76277/4",
            "uploader": {
                "name": "Peter Delevoryas",
                "email": "peter@pjd.dev",
                "username": "peterdelevoryas"
            },
            "createdOn": 1733431116,
            "author": {
                "name": "Peter Delevoryas",
                "email": "peter@pjd.dev",
                "username": "peterdelevoryas"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Nice, though I wonder whether we instead fork omnisensor from Zev and carry on maintaining that?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Peter Delevoryas",
                        "email": "peter@pjd.dev",
                        "username": "peterdelevoryas"
                    },
                    "message": "Sure! Yeah I can go resurrect that: I guess I just wonder, what would be the best place for the code to live. It could be added directly in dbus-sensors, but it might be more appropriate to create an openbmc/omnisensor fork. Idk, not that important, more important that I actually just go try using it for some stuff and extending it, and then incorporate it into a machine image in openbmc/openbmc for demonstration purposes."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "https://gerrit.openbmc.org/c/openbmc/dbus-sensors/+/76545\n\nFYI, I asked Aushim to push our version of this into a review just to have something to compare against.  It's rough, needs some work before merge, but might get us what we need.  Nothing against rust, I just don't know it well enough to review."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Do people use omnisensor?  I don't see a lot of PRs/comments/bugs that would make me think folks are actively working on it or using it.  I really do want to see it succeed, but even Zev seems to have dropped it at this point.  Could really use motivated people to break it out and start using it in a real production capacity."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Peter Delevoryas",
                        "email": "peter@pjd.dev",
                        "username": "peterdelevoryas"
                    },
                    "message": "> Do people use omnisensor?\n\nProbably not: however, at Meta, we\u2019re unlikely to use anything downstream unless it\u2019s unblocking some critical functionality. So there\u2019s a chicken and egg problem, at least for me.\n\nIn other words like, I need a place to write code and work on it. Our team prefers working upstream: it feels like the project doesn\u2019t want to take on code that\u2019s incomplete or unproven. I like doing things incrementally, but probably can\u2019t do that upstream. I\u2019m a little stuck figuring out what development and contribution process everyone is comfortable with.\n\nAlso, bottom-line: I just want to find a path to introducing Rust into OpenBMC. I don\u2019t mind using a separate repository, or doing more legwork on proving it as a viable option, or just marking the whole thing completely unstable and \u201cbeware using in prod\u201d on it, where you guys delete it later if it turns out bad. I just really strongly believe in the productivity benefits of Rust, especially because of its third-party library ecosystem and how easy it is for me to cross-compile pure Rust applications linked statically with musl and test them on a BMC."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Peter Delevoryas",
                        "email": "peter@pjd.dev",
                        "username": "peterdelevoryas"
                    },
                    "message": "Oh, that\u2019s great, that will be very useful to us!"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 144,
                    "deletions": 0
                },
                {
                    "file": ".cargo/config.toml",
                    "type": "ADDED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": ".gitignore",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": ".clang-format-ignore",
                    "type": "ADDED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "Cargo.toml",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "Cargo.lock",
                    "type": "ADDED",
                    "insertions": 352,
                    "deletions": 0
                },
                {
                    "file": "src/smbpbisensor.rs",
                    "type": "ADDED",
                    "insertions": 110,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 635,
            "sizeDeletions": 0
        }
    ]
}