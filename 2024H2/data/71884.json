{
    "project": "openbmc/obmc-console",
    "branch": "master",
    "id": "I93226699618130b175bffbeb4f71c20c91a7083a",
    "number": 71884,
    "subject": "console-server: refactor pollfd management",
    "owner": {
        "name": "Alexander",
        "email": "alexander.hansen@9elements.com",
        "username": "pointbazaar"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/obmc-console/+/71884",
    "hashtags": [],
    "createdOn": 1717774175,
    "lastUpdated": 1721807476,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1717774175,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1717774210,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1717774210,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1717774235,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/85661/ : SUCCESS"
        },
        {
            "timestamp": 1717998821,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1718007712,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1718010646,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1718010658,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1718010658,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1718010690,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/85747/ : SUCCESS"
        },
        {
            "timestamp": 1718011338,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1718065001,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Patch Set 2:\n\n(4 comments)"
        },
        {
            "timestamp": 1718096028,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1718096055,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1718096055,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1718096077,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Patch Set 3:\n\n(3 comments)"
        },
        {
            "timestamp": 1718096082,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/85857/ : SUCCESS"
        },
        {
            "timestamp": 1719412549,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 4: New patch set was added with same tree, parent tree, and commit message as Patch Set 3.\n\nCopied Votes:\n* Verified+1 (copy condition: \"**changekind:NO_CHANGE**\")\n"
        },
        {
            "timestamp": 1719412586,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1719412586,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1719412611,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/86782/ : SUCCESS"
        },
        {
            "timestamp": 1719480057,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 5: Patch Set 4 was rebased.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1719480078,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1719480078,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1719480093,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/86878/ : FAILURE"
        },
        {
            "timestamp": 1719480445,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 6.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1719480473,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1719480473,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1719480497,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/86883/ : SUCCESS"
        },
        {
            "timestamp": 1719503286,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 7.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1719503315,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1719503315,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1719503328,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/86927/ : FAILURE"
        },
        {
            "timestamp": 1719504323,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 8.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1719504345,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1719504345,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: -Ok-To-Test"
        },
        {
            "timestamp": 1719504371,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/86934/ : SUCCESS"
        },
        {
            "timestamp": 1719556392,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 8:\n\n(2 comments)"
        },
        {
            "timestamp": 1719563486,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 9: Patch Set 8 was rebased.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1719563516,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1719563516,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: -Ok-To-Test"
        },
        {
            "timestamp": 1719563540,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/86995/ : SUCCESS"
        },
        {
            "timestamp": 1719565767,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 10.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1719565791,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1719565791,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: -Ok-To-Test"
        },
        {
            "timestamp": 1719565816,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/87007/ : SUCCESS"
        },
        {
            "timestamp": 1719565929,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Patch Set 10:\n\n(2 comments)"
        },
        {
            "timestamp": 1719573012,
            "reviewer": {
                "name": "Arun Lal K M",
                "email": "arun.lal@intel.com",
                "username": "arunlalkm-intel"
            },
            "message": "Patch Set 10: Code-Review+1\n\n(2 comments)"
        },
        {
            "timestamp": 1719891740,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 10:\n\n(4 comments)"
        },
        {
            "timestamp": 1719911258,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 11: New patch set was added with same tree, parent tree, and commit message as Patch Set 10.\n\nCopied Votes:\n* Code-Review+1 (copy condition: \"**changekind:NO_CHANGE** OR **changekind:NO_CODE_CHANGE** OR **changekind:TRIVIAL_REBASE** OR is:MIN\")\n* Verified+1 (copy condition: \"**changekind:NO_CHANGE**\")\n"
        },
        {
            "timestamp": 1719911285,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1719911285,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: -Ok-To-Test"
        },
        {
            "timestamp": 1719911362,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/87147/ : SUCCESS"
        },
        {
            "timestamp": 1719913316,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 12.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1719913345,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1719913345,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: -Ok-To-Test"
        },
        {
            "timestamp": 1719913350,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Patch Set 12:\n\n(3 comments)"
        },
        {
            "timestamp": 1719913381,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/87154/ : SUCCESS"
        },
        {
            "timestamp": 1719914579,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Patch Set 12:\n\n(1 comment)"
        },
        {
            "timestamp": 1720024906,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 13: Patch Set 12 was rebased.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1720024931,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1720024931,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: -Ok-To-Test"
        },
        {
            "timestamp": 1720024973,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/87258/ : SUCCESS"
        },
        {
            "timestamp": 1720107601,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 14: Patch Set 13 was rebased.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1720107614,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 14: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1720107615,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 14: -Ok-To-Test"
        },
        {
            "timestamp": 1720107638,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 14: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/87361/ : SUCCESS"
        },
        {
            "timestamp": 1720171842,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 15: Patch Set 14 was rebased.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1720171858,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 15: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1720171858,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 15: -Ok-To-Test"
        },
        {
            "timestamp": 1720171885,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 15: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/87391/ : SUCCESS"
        },
        {
            "timestamp": 1720528455,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 16.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1720528482,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 16: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1720528482,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 16: -Ok-To-Test"
        },
        {
            "timestamp": 1720528506,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 16: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/87540/ : SUCCESS"
        },
        {
            "timestamp": 1720529301,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 17.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1720529330,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 17: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1720529330,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 17: -Ok-To-Test"
        },
        {
            "timestamp": 1720529356,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 17: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/87550/ : SUCCESS"
        },
        {
            "timestamp": 1720604174,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 18.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1720604200,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 18: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1720604200,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 18: -Ok-To-Test"
        },
        {
            "timestamp": 1720604240,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 18: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/87616/ : SUCCESS"
        },
        {
            "timestamp": 1720670603,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Uploaded patch set 19: Patch Set 18 was rebased.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1720670625,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 19: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1720670625,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 19: -Ok-To-Test"
        },
        {
            "timestamp": 1720670652,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 19: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/87696/ : SUCCESS"
        },
        {
            "timestamp": 1720672486,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 19:\n\n(8 comments)"
        },
        {
            "timestamp": 1720703596,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 20.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1720703618,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 20: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1720703618,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 20: -Ok-To-Test"
        },
        {
            "timestamp": 1720703643,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 20: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/87748/ : SUCCESS"
        },
        {
            "timestamp": 1720703758,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Patch Set 20:\n\n(6 comments)"
        },
        {
            "timestamp": 1720745584,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 20: Code-Review-1\n\n(3 comments)"
        },
        {
            "timestamp": 1720753304,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Uploaded patch set 21.\n\nOutdated Votes:\n* Code-Review-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1720753337,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 21: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1720753337,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 21: -Ok-To-Test"
        },
        {
            "timestamp": 1720753363,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 21: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/87817/ : SUCCESS"
        },
        {
            "timestamp": 1720753469,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 21: Code-Review-1"
        },
        {
            "timestamp": 1720778305,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 22.\n\nOutdated Votes:\n* Code-Review-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1720778328,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 22: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1720778328,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 22: -Ok-To-Test"
        },
        {
            "timestamp": 1720778350,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Patch Set 22:\n\n(1 comment)"
        },
        {
            "timestamp": 1720778353,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 22: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/87837/ : SUCCESS"
        },
        {
            "timestamp": 1720999918,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 22: Code-Review+1"
        },
        {
            "timestamp": 1721806754,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Uploaded patch set 23.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1721806795,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 23: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1721806795,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 23: -Ok-To-Test"
        },
        {
            "timestamp": 1721806824,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 23: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/88567/ : SUCCESS"
        },
        {
            "timestamp": 1721807098,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 23: Code-Review+1"
        },
        {
            "timestamp": 1721807458,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 23: Code-Review+2"
        },
        {
            "timestamp": 1721807476,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Change has been successfully merged"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "b34abfa68a17de8349950c036b424a5e6edcadb0",
            "parents": [
                "8ca78b1657d178aaa34b73f461b1c9ebd595662e"
            ],
            "ref": "refs/changes/84/71884/1",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1717774175,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "Generally looks good, but this does introduce an unbounded allocation of the pollfds array. Do we need to rethink handing out indexes in this array? or provide a limit on it (and then what happens when that limit is reached?)"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "The allocation can be bounded by whichever code is using the\nconsole_server_request_pollfd and console_server_release_pollfd functions.\n\nI'm not aware the allocation was previously bounded, it just used reallocarray.\n\nSo the new code should not be any worse in the next revision (see the other comment)."
                },
                {
                    "file": "console-server.c",
                    "line": 91,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "So you're just invalidating entries in the pollfds array, rather than shrinking the array. I assume this is so that we don't end up potentially invalidating indexes that have previously been returned from `console_server_request_pollfd`.\n\nHowever, now we have an unbounded allocation by repeated request/release. For example, a remote endpoint could exhaust all memory by repeatedly connecting to the console ssh port."
                },
                {
                    "file": "console-server.c",
                    "line": 91,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Yes. It would just grow, that's no bueno. I had not thought about the malicious use-case.\n\nCan push a new version soon that could just recycle the pollfd when pollfd.fd == -1."
                },
                {
                    "file": "console-server.c",
                    "line": 91,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "The new revision specially marks pollfds upon release. So they can be reclaimed later."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 69,
                    "deletions": -39
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 123,
            "sizeDeletions": 50
        },
        {
            "number": 2,
            "revision": "f4ff196f374199bea8e1c96e64571592cbc7069e",
            "parents": [
                "8ca78b1657d178aaa34b73f461b1c9ebd595662e"
            ],
            "ref": "refs/changes/84/71884/2",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1718010646,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "Looks good! Just a couple of queries inline though."
                },
                {
                    "file": "console-server.c",
                    "line": 89,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "I'd suggest just doing the realloc path as part of this conditional, and avoiding the goto."
                },
                {
                    "file": "console-server.c",
                    "line": 89,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Done"
                },
                {
                    "file": "console-server.c",
                    "line": 105,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "Is this needed?"
                },
                {
                    "file": "console-server.c",
                    "line": 105,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Since the label will be gone, it is not needed."
                },
                {
                    "file": "console-server.c",
                    "line": 1036,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "Why create this buffer that we'll discard on the next `request_pollfd` ? Just set to NULL here?"
                },
                {
                    "file": "console-server.c",
                    "line": 1036,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "You are right it is not needed. realloc can allocate the buffer."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 108,
                    "deletions": -39
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 162,
            "sizeDeletions": 50
        },
        {
            "number": 3,
            "revision": "7144509c30ea63953359397839e3d6ce3e0af4e8",
            "parents": [
                "8ca78b1657d178aaa34b73f461b1c9ebd595662e"
            ],
            "ref": "refs/changes/84/71884/3",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1718096028,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 104,
                    "deletions": -39
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 158,
            "sizeDeletions": 50
        },
        {
            "number": 4,
            "revision": "d42a651836071d8f308ba318c2984accf6f7585f",
            "parents": [
                "f284334d828663320b3c7fae2e08fade69e3ddb6"
            ],
            "ref": "refs/changes/84/71884/4",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1719412549,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "NO_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 104,
                    "deletions": -39
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 158,
            "sizeDeletions": 50
        },
        {
            "number": 5,
            "revision": "5ffe629c2fda71a808e4ade343a82e3e40c6b799",
            "parents": [
                "6f8e57bda8b9ef219f053c8a09d51905b8eff6d4"
            ],
            "ref": "refs/changes/84/71884/5",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1719480057,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 104,
                    "deletions": -39
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 158,
            "sizeDeletions": 50
        },
        {
            "number": 6,
            "revision": "7bba0f6d76e021a6a4fc8be9f52bb9f0c5a8b068",
            "parents": [
                "6f8e57bda8b9ef219f053c8a09d51905b8eff6d4"
            ],
            "ref": "refs/changes/84/71884/6",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1719480445,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 104,
                    "deletions": -39
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 158,
            "sizeDeletions": 50
        },
        {
            "number": 7,
            "revision": "9de659409b28dd3a437b697828f962d531dc1924",
            "parents": [
                "f8b7d203be29773c5832248f9d2a1fa5138794ef"
            ],
            "ref": "refs/changes/84/71884/7",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1719503286,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 104,
                    "deletions": -39
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 159,
            "sizeDeletions": 50
        },
        {
            "number": 8,
            "revision": "1ed7e2004b27527cbdba4696ec0dc3db2d42ab27",
            "parents": [
                "f8b7d203be29773c5832248f9d2a1fa5138794ef"
            ],
            "ref": "refs/changes/84/71884/8",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1719504323,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "console-server.c",
                    "line": 125,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "I think we have some confusion about capacity and count here? If the pollfd that's removed isn't the last then we effectively lop an active one off the poll() call? Also, I don't think we'd be able to subsequently release that last pollfd, because we short-circuit above."
                },
                {
                    "file": "console-server.c",
                    "line": 125,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Yes, good you catched that \ud83d\udc4d\n\nMight be better to just store the capacity of the buffer.\n\nDo you think it is worth it to extract the pollfd allocator into it's own\nfile and test it separately? Or should we leave it without tests since it is not too complicated."
                },
                {
                    "file": "console-server.c",
                    "line": 125,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Done"
                },
                {
                    "file": "console-server.c",
                    "line": 363,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "This pattern repeats in a few places. I wonder if it's better to pass a populated pollfd into the `console_server_request_pollfd()` call, or at least `fd` and `events` arguments? Might be worth discussing here (not yet implementing) whether we can encapsulate the behaviour a little more."
                },
                {
                    "file": "console-server.c",
                    "line": 363,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Yes, this can save us a few lines of code.\nSince at every call site the fd and events should already be known.\n\nCan implement this and we can go back later if we find it has any drawbacks."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 104,
                    "deletions": -39
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 158,
            "sizeDeletions": 50
        },
        {
            "number": 9,
            "revision": "96487dafef63a456894d8ae499f3421e15eebc6d",
            "parents": [
                "08ac4cc5a2ea44dcf9a70d3d09fa2b2550bda659"
            ],
            "ref": "refs/changes/84/71884/9",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1719563486,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 104,
                    "deletions": -39
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 158,
            "sizeDeletions": 50
        },
        {
            "number": 10,
            "revision": "edb72b6be7e9b5832a95ea027109f29e40d4bf8d",
            "parents": [
                "08ac4cc5a2ea44dcf9a70d3d09fa2b2550bda659"
            ],
            "ref": "refs/changes/84/71884/10",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1719565767,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 20,
                    "reviewer": {
                        "name": "Arun Lal K M",
                        "email": "arun.lal@intel.com",
                        "username": "arunlalkm-intel"
                    },
                    "message": "Tested section?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 20,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "There's an open comment about having the pollfd 'allocator' be in it's own file.\n\nPart of that could also be adding tests for this allocator. I'm happy for any feedback on that.\n\nhttps://gerrit.openbmc.org/c/openbmc/obmc-console/+/71884/comment/49c0032e_03faa24c/\n\nThe whole series here is tested by the integration tests at the end of the series.\nSince i do not look forward to manually testing ```n commits * m revisions```\n(unreasonable expectation)\n\nAnd this repo does not currently have any integration tests.\n\nSince historically a \"Tested\" section has not been required on this repo,\ni did not want to add it here.\n\nUsually it's just an excuse for a lack of proper CI anyways.\n\nIf we start with manual testing here then we would have to first define\nhow obmc-console should be tested to work (create a test protocol),\nand document that somewhere (e.g. TESTING.md)\n\nAnd then you already have what's essentially an integration test."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Arun Lal K M",
                        "email": "arun.lal@intel.com",
                        "username": "arunlalkm-intel"
                    },
                    "message": "LGTM"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Hi Alexander, I have a couple of queries inline."
                },
                {
                    "file": "console-server.c",
                    "line": 94,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "[reallocarray()](https://www.man7.org/linux/man-pages/man3/reallocarray.3.html)?"
                },
                {
                    "file": "console-server.c",
                    "line": 94,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Done"
                },
                {
                    "file": "console-server.c",
                    "line": 101,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "We could assign `index` before `server->capacity_polfds` and avoid the subtraction."
                },
                {
                    "file": "console-server.c",
                    "line": 101,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Done"
                },
                {
                    "file": "console-server.c",
                    "line": 122,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Can you unpack what you mean by this comment? We don't free anything below?"
                },
                {
                    "file": "console-server.c",
                    "line": 122,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "This was probably leftovers. I removed it, we do not need it here. The values will be the same no matter if we check or not."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 106,
                    "deletions": -40
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 157,
            "sizeDeletions": 51
        },
        {
            "number": 11,
            "revision": "8fc50bc033cf2fee9317fa2d0a1fd1eda229ada8",
            "parents": [
                "7f5951abfc95c78d555942a398caec6a6f827262"
            ],
            "ref": "refs/changes/84/71884/11",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1719911258,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "NO_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 106,
                    "deletions": -40
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 157,
            "sizeDeletions": 51
        },
        {
            "number": 12,
            "revision": "85a8c96fcda5225914935ce10e6310f773f5dd4d",
            "parents": [
                "7f5951abfc95c78d555942a398caec6a6f827262"
            ],
            "ref": "refs/changes/84/71884/12",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1719913316,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 102,
                    "deletions": -40
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 153,
            "sizeDeletions": 51
        },
        {
            "number": 13,
            "revision": "eea0966f77954feacff08739b4036e4aa6dd1e80",
            "parents": [
                "2cb8e74c30a660dfa6afbb3e19928a73b0ae2055"
            ],
            "ref": "refs/changes/84/71884/13",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1720024906,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 102,
                    "deletions": -40
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 153,
            "sizeDeletions": 51
        },
        {
            "number": 14,
            "revision": "833b9e5c3506cadc6d2d37ebc26e154db3a98295",
            "parents": [
                "4ddb66a882a599d04f2de378654c4ee2b9163cb7"
            ],
            "ref": "refs/changes/84/71884/14",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1720107601,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 102,
                    "deletions": -40
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 153,
            "sizeDeletions": 51
        },
        {
            "number": 15,
            "revision": "0c9d829c90763210110c286dbd226847401deed6",
            "parents": [
                "9946aa4258d35d9593c513907e00abb58759c59c"
            ],
            "ref": "refs/changes/84/71884/15",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1720171842,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 102,
                    "deletions": -40
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 153,
            "sizeDeletions": 51
        },
        {
            "number": 16,
            "revision": "d3c327234b2dcb6b5f305212169b414381af254b",
            "parents": [
                "f45045a3cb80ae41f78aafa5a0ed112b0e4c79e2"
            ],
            "ref": "refs/changes/84/71884/16",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1720528455,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 102,
                    "deletions": -40
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 153,
            "sizeDeletions": 51
        },
        {
            "number": 17,
            "revision": "080b9384eda3fabd5b6c64ac628aa105fa028b26",
            "parents": [
                "e5a13962286b7b1d4e592f361f27bff41f071530"
            ],
            "ref": "refs/changes/84/71884/17",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1720529301,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 102,
                    "deletions": -40
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 153,
            "sizeDeletions": 52
        },
        {
            "number": 18,
            "revision": "81ef6a55db1b1432339926c32587fe17a054e4cd",
            "parents": [
                "cbf1aa37db9e2a1e888ec1a5b3433d430df5ff8c"
            ],
            "ref": "refs/changes/84/71884/18",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1720604174,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 101,
                    "deletions": -40
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 152,
            "sizeDeletions": 52
        },
        {
            "number": 19,
            "revision": "b19b758f0faa29ea0674a3943b58f5d45a7fdd13",
            "parents": [
                "66315432fc89aea13d6eb1f615968d49d637fa3c"
            ],
            "ref": "refs/changes/84/71884/19",
            "uploader": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "createdOn": 1720670603,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Again, please let's prefix the patch subject with the affected component:\n\n```\nconsole-server: Refactor pollfd management\n```\n\nBut I think my bigger issue with the subject (and the body) is it doesn't provide any motivation. The commit message should answer questions like \"why are we doing this, and how does it help?\" and \"what was the limitation of the current implementation (what was it not capable of)?\"."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "The existing implementation was plenty capable for 1 console.\n\nBut for example the dbus pollfd index was hardcoded.\n\nSo that would have needed to go anyways. Then only the ```POLLFD_HOSTTTY``` would have remained. \n\nThere is not much use in hardcoding that either, since it's location in the array does not matter. \n\nWhat remains is the requirement to allocate and free pollfds in a buffer \nfor use in the main loop.\n\nSo we can just write a simple allocator which fulfills all those requirements and provides a clean abstraction without any hardcoded indices.\n\nThe pollfd allocator could in theory also be refactored into it's own file and be unit-tested independently of the rest of the code.\n\nThe previous approach was tightly coupled to the hardcoded indices and it's use-case for a single console.\n\nI can extend the commit message to provide more background."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 16,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Nit: Need to re-wrap the text here."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 16,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Done"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Hi Alexander, I have a few minor comments, but broadly it looks fine."
                },
                {
                    "file": "console-server.c",
                    "line": 365,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "If we make `tty_pollfd_index` `ssize_t` then we don't need `index` as a temporary (might apply to the other cases also)."
                },
                {
                    "file": "console-server.c",
                    "line": 365,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Yes but then we have a variable in core data structures which has a type that's used halfway for error handling.\n\nEven when the error handling could have been done in code. If we keep it as ```size_t``` then it is clear that the index is valid and the checks only have to be done during initialization.\n\nOtherwise, some day someone might think \"oh hey this is signed, lets check before accessing the array\"."
                },
                {
                    "file": "console-server.h",
                    "line": 125,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Should this be `ssize_t` so it has a representation that's always invalid (`-1`)?"
                },
                {
                    "file": "console-server.h",
                    "line": 125,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "In the one place where it is assigned, it is checked before that the index be ```>= 0```.\n\nThe program should exit with an error if the tty_pollfd_index cannot be assigned.\n\nIf we were to allow the ```-1``` we would have to do this for every pollfd index and would have to perform a check before every access to the array to avoid segmentation fault. \n\nThat would increase the error handling code. Currently we just check that the index is ```>= 0``` before assignment.\n\nAlso in would increase the amount of code needed to initialize the structs, since they cannot be 0-initialized anymore. \n\nSo every pollfd index should have a valid value before it is used."
                },
                {
                    "file": "console-server.h",
                    "line": 125,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "That's fair. Let's keep it as you have proposed."
                },
                {
                    "file": "console-server.h",
                    "line": 150,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "`ssize_t` again here?"
                },
                {
                    "file": "console-server.h",
                    "line": 150,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "same argument as above"
                },
                {
                    "file": "console-server.h",
                    "line": 165,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "`ssize_t`?"
                },
                {
                    "file": "console-server.h",
                    "line": 165,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "same argument as above"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 101,
                    "deletions": -40
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 152,
            "sizeDeletions": 52
        },
        {
            "number": 20,
            "revision": "f257e191241f5d539b5588b818605e3a944433c8",
            "parents": [
                "d3e97f020925507e9f8576efdbfaf9cb0503e73b"
            ],
            "ref": "refs/changes/84/71884/20",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1720703596,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Hi Alexander, thanks for updating the commit message. I was hoping this was good to go but found what's hopefully the last issue as I worked through it."
                },
                {
                    "file": "console-server.c",
                    "line": 733,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "We should unwind the updates to `console->n_pollers` and `console->pollers` here too, otherwise we have a dangling pointer in `console->pollers[n]` (apologies I hadn't picked up on this earlier).\n\nPerhaps it's best to try to allocate the pollfd first. As it stands now we assume `reallocarray()` never fails, so there's no need to unwind the pollfd request if we re-order the sequence (but please add a comment about that so when we clean up the `reallocarray()` issue we make sure to clean up the pollfd allocation as well)."
                },
                {
                    "file": "console-server.c",
                    "line": 733,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Ok, i allocate the pollfd first and added 2 ```TODO``` comments to add cleanup for the error paths of ```malloc``` and ```reallocarray``` here.\n\nAlso added a commit ```console-server: fix console_poller_register``` later in the series to do that cleanup."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 101,
                    "deletions": -38
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 159,
            "sizeDeletions": 50
        },
        {
            "number": 21,
            "revision": "4419f468588157fdddd50d0bdb1daa2ff1a662ce",
            "parents": [
                "e3a083ebf5a1ed337f3a851a6f6e6ce77a85113a"
            ],
            "ref": "refs/changes/84/71884/21",
            "uploader": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "createdOn": 1720753304,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 101,
                    "deletions": -38
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 159,
            "sizeDeletions": 50
        },
        {
            "number": 22,
            "revision": "8f8fa0fb9da08544bc7e27b2828f35c485354562",
            "parents": [
                "e3a083ebf5a1ed337f3a851a6f6e6ce77a85113a"
            ],
            "ref": "refs/changes/84/71884/22",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1720778305,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 103,
                    "deletions": -39
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 161,
            "sizeDeletions": 51
        },
        {
            "number": 23,
            "revision": "2325d5d5aa0538329d06ec2c4c000089525cbe20",
            "parents": [
                "e3a083ebf5a1ed337f3a851a6f6e6ce77a85113a"
            ],
            "ref": "refs/changes/84/71884/23",
            "uploader": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "createdOn": 1721806754,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 109,
                    "deletions": -39
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -7
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 168,
            "sizeDeletions": 51
        }
    ]
}