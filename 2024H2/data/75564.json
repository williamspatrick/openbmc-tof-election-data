{
    "project": "openbmc/dbus-sensors",
    "branch": "master",
    "id": "Ida4b7bce69b8c6c346533a9381edaed16593408e",
    "number": 75564,
    "subject": "Sensor:Add disable-hysteresis-trigger option to disable hysteresis mechanism.",
    "owner": {
        "name": "Benson Chu",
        "email": "benson.chu.wiwynn@gmail.com",
        "username": "BensonChuWiwynn"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/dbus-sensors/+/75564",
    "hashtags": [],
    "createdOn": 1731630464,
    "lastUpdated": 1732089083,
    "open": false,
    "status": "ABANDONED",
    "comments": [
        {
            "timestamp": 1731630464,
            "reviewer": {
                "name": "Benson Chu",
                "email": "benson.chu.wiwynn@gmail.com",
                "username": "BensonChuWiwynn"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1731630521,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1731894163,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1731977850,
            "reviewer": {
                "name": "Benson Chu",
                "email": "benson.chu.wiwynn@gmail.com",
                "username": "BensonChuWiwynn"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1731977908,
            "reviewer": {
                "name": "Benson Chu",
                "email": "benson.chu.wiwynn@gmail.com",
                "username": "BensonChuWiwynn"
            },
            "message": "Removed reviewer Andrew Jeffery <andrew@codeconstruct.com.au>."
        },
        {
            "timestamp": 1731981054,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1731981263,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(3 comments)"
        },
        {
            "timestamp": 1731986952,
            "reviewer": {
                "name": "Benson Chu",
                "email": "benson.chu.wiwynn@gmail.com",
                "username": "BensonChuWiwynn"
            },
            "message": "Patch Set 1:\n\n(4 comments)"
        },
        {
            "timestamp": 1731994450,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1732019214,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1732061389,
            "reviewer": {
                "name": "Benson Chu",
                "email": "benson.chu.wiwynn@gmail.com",
                "username": "BensonChuWiwynn"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1732089083,
            "reviewer": {
                "name": "Benson Chu",
                "email": "benson.chu.wiwynn@gmail.com",
                "username": "BensonChuWiwynn"
            },
            "message": "Abandoned\n\nResolved the deassert issue through entity-manager configuration instead"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "650bbb62997f11441ee7d64a12c9c9d2a3b89353",
            "parents": [
                "d7be555ee0d885418e9a862b16565a0474c68d14"
            ],
            "ref": "refs/changes/64/75564/1",
            "uploader": {
                "name": "Benson Chu",
                "email": "benson.chu.wiwynn@gmail.com",
                "username": "BensonChuWiwynn"
            },
            "createdOn": 1731630464,
            "author": {
                "name": "Benson Chu",
                "email": "benson.chu.wiwynn@gmail.com",
                "username": "BensonChuWiwynn"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "There is no reference to why you would want to do that?  (Please add it to the commit message)."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Benson Chu",
                        "email": "benson.chu.wiwynn@gmail.com",
                        "username": "BensonChuWiwynn"
                    },
                    "message": "To address the deassert issue we're currently facing, we've found that disabling hysteresis would be the most efficient solution. Hysteresis can prevent deassert from triggering, which is unnecessary for our current sensor configuration. Since we have a large number of sensors, individual configuration would be time-consuming. We'd appreciate it if you could confirm that there are no specific reasons to maintain hysteresis for any of the sensors."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 14,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Can you please provide a link to these discussions?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 14,
                    "reviewer": {
                        "name": "Benson Chu",
                        "email": "benson.chu.wiwynn@gmail.com",
                        "username": "BensonChuWiwynn"
                    },
                    "message": "Since this is an internal decision made by the EE and Thermal teams, there is no link available to provide."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 22,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Please fix your git config."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 22,
                    "reviewer": {
                        "name": "Benson Chu",
                        "email": "benson.chu.wiwynn@gmail.com",
                        "username": "BensonChuWiwynn"
                    },
                    "message": "Is there a problem with the email address I've provided, or is there something else that needs to be fixed? Could you please clarify?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 22,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Your name is not found on any CLA (hence why your code did not get tested in CI automatically).  You need to get it added to WW's CLA.\n\nYour name in the S-O-B appears to be a \"userid\" and not a legal name.  (I assume \"Benson Chu\" is more appropriate and likely to match what ends up in the CLA based on the dot in your email address.)"
                },
                {
                    "file": "meson.build",
                    "line": 35,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Why would this be a compile flag as opposed to a config flag (from entity-manager)?"
                },
                {
                    "file": "meson.build",
                    "line": 35,
                    "reviewer": {
                        "name": "Benson Chu",
                        "email": "benson.chu.wiwynn@gmail.com",
                        "username": "BensonChuWiwynn"
                    },
                    "message": "Using a compile flag ensures that the current implementation remains unchanged for other users."
                },
                {
                    "file": "meson.build",
                    "line": 35,
                    "reviewer": {
                        "name": "Benson Chu",
                        "email": "benson.chu.wiwynn@gmail.com",
                        "username": "BensonChuWiwynn"
                    },
                    "message": "Using a compile flag ensures that the current implementation remains unchanged for other users."
                },
                {
                    "file": "meson.build",
                    "line": 35,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> Using a compile flag ensures that the current implementation remains unchanged for other users.\n\nSo does using an entity-manager config that only probes on your platform.  A hysteresis parameter is already present in some of the sensor configs I believe.  I see no reason to have this as a compile time flag."
                },
                {
                    "file": "meson.build",
                    "line": 35,
                    "reviewer": {
                        "name": "Benson Chu",
                        "email": "benson.chu.wiwynn@gmail.com",
                        "username": "BensonChuWiwynn"
                    },
                    "message": "Got it. Looks like I was approaching this the wrong way. I'll look into using an entity-manager config that only probes on my platform."
                },
                {
                    "file": "src/sensor.hpp",
                    "line": 75,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I can understand that 1% might not be appropriate for all sensors, but it seems to me this should be an optional config just like thresholds."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "meson.options",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "src/sensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "README.md",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 34,
            "sizeDeletions": 0
        }
    ]
}