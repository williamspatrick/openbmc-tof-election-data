{
    "project": "openbmc/obmc-console",
    "branch": "master",
    "id": "I6f350b8efe70c3b424bdadaa3fe1bbf89d310e5d",
    "number": 72687,
    "subject": "console-server: Enable multiple consoles",
    "owner": {
        "name": "Alexander",
        "email": "alexander.hansen@9elements.com",
        "username": "pointbazaar"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/obmc-console/+/72687",
    "hashtags": [],
    "createdOn": 1720620725,
    "lastUpdated": 1721807476,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1720620725,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1720620764,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1720620764,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1720620796,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/87669/ : SUCCESS"
        },
        {
            "timestamp": 1720623139,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1720623172,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1720623172,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1720623196,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/87671/ : SUCCESS"
        },
        {
            "timestamp": 1720662916,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 2:\n\n(6 comments)"
        },
        {
            "timestamp": 1720670603,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1720670631,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1720670631,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1720670650,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/87699/ : FAILURE"
        },
        {
            "timestamp": 1720671017,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1720671030,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1720671030,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1720671053,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/87707/ : SUCCESS"
        },
        {
            "timestamp": 1720672986,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1720703596,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 5.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1720703628,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1720703628,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1720703665,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/87751/ : SUCCESS"
        },
        {
            "timestamp": 1720703793,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Patch Set 5:\n\n(4 comments)"
        },
        {
            "timestamp": 1720748237,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 5:\n\n(8 comments)"
        },
        {
            "timestamp": 1720748468,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1720753304,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Uploaded patch set 6.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1720753336,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1720753336,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1720753365,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/87816/ : SUCCESS"
        },
        {
            "timestamp": 1720778305,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 7.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1720778338,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1720778338,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1720778356,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Patch Set 7:\n\n(4 comments)"
        },
        {
            "timestamp": 1720778362,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/87839/ : SUCCESS"
        },
        {
            "timestamp": 1721000795,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 7:\n\n(2 comments)"
        },
        {
            "timestamp": 1721001369,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 7:\n\n(2 comments)"
        },
        {
            "timestamp": 1721002095,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1721036155,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 8.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1721036178,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1721036178,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: -Ok-To-Test"
        },
        {
            "timestamp": 1721036202,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/87955/ : SUCCESS"
        },
        {
            "timestamp": 1721036317,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Patch Set 8:\n\n(5 comments)"
        },
        {
            "timestamp": 1721183790,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 8: Code-Review-1\n\n(8 comments)"
        },
        {
            "timestamp": 1721218798,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 9.\n\nOutdated Votes:\n* Code-Review-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1721218813,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Patch Set 8:\n\n(7 comments)"
        },
        {
            "timestamp": 1721218817,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1721218817,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: -Ok-To-Test"
        },
        {
            "timestamp": 1721218844,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/88157/ : SUCCESS"
        },
        {
            "timestamp": 1721281120,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Uploaded patch set 10.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1721281156,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1721281156,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: -Ok-To-Test"
        },
        {
            "timestamp": 1721281182,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/88220/ : SUCCESS"
        },
        {
            "timestamp": 1721281627,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1721283644,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Uploaded patch set 11.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1721283656,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1721283656,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: -Ok-To-Test"
        },
        {
            "timestamp": 1721283685,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/88234/ : SUCCESS"
        },
        {
            "timestamp": 1721283908,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 11: Code-Review+1"
        },
        {
            "timestamp": 1721352089,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 11: Code-Review-1\n\n(1 comment)"
        },
        {
            "timestamp": 1721393089,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 12.\n\nOutdated Votes:\n* Code-Review-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1721393126,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1721393126,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: -Ok-To-Test"
        },
        {
            "timestamp": 1721393164,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Patch Set 12:\n\n(1 comment)"
        },
        {
            "timestamp": 1721393284,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/88353/ : SUCCESS"
        },
        {
            "timestamp": 1721785439,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 12: Code-Review-1\n\n(4 comments)"
        },
        {
            "timestamp": 1721789450,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 12:\n\n(1 comment)"
        },
        {
            "timestamp": 1721794170,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 12:\n\n(1 comment)"
        },
        {
            "timestamp": 1721806754,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Uploaded patch set 13.\n\nOutdated Votes:\n* Code-Review-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1721806795,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1721806795,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: -Ok-To-Test"
        },
        {
            "timestamp": 1721806798,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 13:\n\n(1 comment)"
        },
        {
            "timestamp": 1721806822,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/88566/ : SUCCESS"
        },
        {
            "timestamp": 1721807167,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 13: Code-Review+1"
        },
        {
            "timestamp": 1721807452,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 13: Code-Review+2"
        },
        {
            "timestamp": 1721807476,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Change has been successfully merged"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "fa120c6f03cc8716aa245781a70622b11c7d9bf9",
            "parents": [
                "fb2f80954eff4d91777ea70ee3a832a2ba7662d9"
            ],
            "ref": "refs/changes/87/72687/1",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1720620725,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 254,
                    "deletions": -90
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 279,
            "sizeDeletions": 90
        },
        {
            "number": 2,
            "revision": "71f1983146fc8f0d7c871c7c07d16ebfa1e958b6",
            "parents": [
                "fb2f80954eff4d91777ea70ee3a832a2ba7662d9"
            ],
            "ref": "refs/changes/87/72687/2",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1720623139,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Hi Alexander, I think separating this from the mux patch is a decent idea. I feel it helps reduce the review complexity, so thanks \ud83d\ude0a. I have some comments inline."
                },
                {
                    "file": "console-server.c",
                    "line": 1055,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Does this not break existing configuration that don't specify `ringbuffer-size` under a section?"
                },
                {
                    "file": "console-server.c",
                    "line": 1055,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Yes, good you catched it \ud83d\udc4d. I can add a fallback to also check the value without the section. So it can be specified for one console or for all consoles.\n\nMaybe things like that can later be refactored into a more general\n```config_get_fallback_value(config, section, name)``` where we fall back to \n```config_get_value(config, name)``` in case the key is not available in the section.\n\nThat would make it easy to configure things globally but also on a per-console basis."
                },
                {
                    "file": "console-server.c",
                    "line": 1055,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Yeah, a fallback-capable API sounds helpful."
                },
                {
                    "file": "console-server.c",
                    "line": 1122,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "I don't think this makes sense when we only have one console? Can we add this behaviour in the patch that adds the mux support?"
                },
                {
                    "file": "console-server.c",
                    "line": 1122,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "This patch enables multiple consoles.\n\nWhich console is initially active does not have much to do with mux support.\n\nSo i believe it belongs in this patch. It does not break anything for the single console use-case."
                },
                {
                    "file": "console-server.c",
                    "line": 1202,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Honestly I prefer we don't do this; I don't see the separation as helpful. If it's necessary later for some other reason, then lets defer it to then."
                },
                {
                    "file": "console-server.c",
                    "line": 1202,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Done"
                },
                {
                    "file": "console-server.c",
                    "line": 1224,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "This seems like a bit of an unnecessary dance - can we instead return the initial active console from `console_server_add_consoles()`?"
                },
                {
                    "file": "console-server.c",
                    "line": 1224,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Done"
                },
                {
                    "file": "console-server.h",
                    "line": 130,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "If we return the active console from `console_server_add_consoles()` then I think this is unnecessary?"
                },
                {
                    "file": "console-server.h",
                    "line": 130,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 240,
                    "deletions": -84
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 265,
            "sizeDeletions": 84
        },
        {
            "number": 3,
            "revision": "c4839abf211975bddadc1fe96211d647039b7d8e",
            "parents": [
                "5fbd2213dd2c3ec7a578b0aff1833638936952af"
            ],
            "ref": "refs/changes/87/72687/3",
            "uploader": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "createdOn": 1720670603,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 251,
                    "deletions": -93
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 276,
            "sizeDeletions": 93
        },
        {
            "number": 4,
            "revision": "5049b58f87fa5a7cd981ddfec49a55b96fa8b34d",
            "parents": [
                "5fbd2213dd2c3ec7a578b0aff1833638936952af"
            ],
            "ref": "refs/changes/87/72687/4",
            "uploader": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "createdOn": 1720671017,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 250,
                    "deletions": -93
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 275,
            "sizeDeletions": 93
        },
        {
            "number": 5,
            "revision": "f862292b1db5763d9574469b4719b52b97b03525",
            "parents": [
                "fc1ae1dc7a723ea62a40756afdb8c2875ba4476b"
            ],
            "ref": "refs/changes/87/72687/5",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1720703596,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Hi Alexander, thanks for the fixes. On closer inspection there are some resource leaks that should be addressed so we get a clean leak report from valgrind."
                },
                {
                    "file": "console-server.c",
                    "line": 422,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "I'll split this change out. It seems like a bit of an aesthetic concern that's not directly related to multiple consoles, and it doesn't rename any of the other `tty_*()` APIs."
                },
                {
                    "file": "console-server.c",
                    "line": 470,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "This one too"
                },
                {
                    "file": "console-server.c",
                    "line": 1104,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "This all should be reduced to:\n\n```\nconsole_id = config_resolve_config_id(config, opt_console_id);\n```\n\n`console_id` will never be `NULL` after the call to `config_resolve_config_id()`."
                },
                {
                    "file": "console-server.c",
                    "line": 1104,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Done"
                },
                {
                    "file": "console-server.c",
                    "line": 1118,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "This leaks all the resources acquired in `console_init()`. We need a call to `console_fini()` before returning."
                },
                {
                    "file": "console-server.c",
                    "line": 1118,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "I'll reorder that so the ```reallocarray``` happens before console_init."
                },
                {
                    "file": "console-server.c",
                    "line": 1125,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "I'd like Jeremy's input on this config property.\n\nRegarding the function implementation, the `active_console` out-parameter feels a bit awkward. Relating that back to the property, I wonder if this would be better at the global scope where it accepts the console ID to configure as the start-up console. That way we punt it up a level in the initialisation sequence and we don't have the out-parameter issue here.\n\nThere are other trade-offs either way: It's easy to configure a console ID that doesn't exist at the global scope, but it's also easy to specify multiple consoles as `initially-active` if the property is at the section scope. Either way we need to check for consistency. My gut feeling is the global-scope property might create fewer hassles.\n\nThis all seems relatively minor, but exposing support for the property then becomes part of the application ABI, so we do need to be a bit conservative."
                },
                {
                    "file": "console-server.c",
                    "line": 1125,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "Yep, agreed; I think a global `active-console` parameter may be best here.\n\nAt least any errors (ie, referring to a non-existent id) are easily locatable to a single error in the config."
                },
                {
                    "file": "console-server.c",
                    "line": 1125,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Ok, changed it to be a global ```active-console``` property in the config."
                },
                {
                    "file": "console-server.c",
                    "line": 1209,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "This leaks all the consoles we've successfully set up. We should call `console_server_console_fini()` for them."
                },
                {
                    "file": "console-server.c",
                    "line": 1209,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "When ```console_server_add_consoles``` is called in ```main```, the error path takes it to ```out_server_fini``` which calls ```console_server_fini``` which then calls ```console_server_console_fini(...)```  for the existing consoles.\n\nI chose this way of handling the error path since the teardown of all the existing consoles will have to happen anyway when the program exits.\n\nSo we might as well re-use the cleanup code for the error path on initialization."
                },
                {
                    "file": "console-server.c",
                    "line": 1209,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Okay, fair enough. However, because it's not adjacent in the code, do you mind adding a comment here about how that cleanup proceeds? That might help other people resolve the same question without having to each reason through it themselves."
                },
                {
                    "file": "console-server.c",
                    "line": 1209,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Here's an idea of how such a comment may look like\n\n```\n// return NULL here should trigger a cleanup further up\n```\n\nI would prefer to not add a comment since\n\n- i don't see this done anywhere else in the codebase\n- comments get old quickly and may become inconsistent with the code over time\n- memory management and cleanup happens all over the place, \n  if we start commenting this instance we might aswell comment everywhere\n- adding a comment here would introduce an inconsistency with the rest of the codebase\n\n> That might help other people resolve the same question without having to each reason through it themselves.\n\nReasoning through the code is a good way to understand the project.\n\n\nWe can create good abstractions but there will always be a need to read through the code. Comments are good if something unusual is happening where there's no way to get it by just looking at the code (e.g. commenting about some magic value or special algorithm, referencing specifications, ...)."
                },
                {
                    "file": "console-server.c",
                    "line": 1209,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "> Comments are good if something unusual is happening \n\nNon-local cleanup is something unusual.\n\n> comments get old quickly and may become inconsistent with the code over time\n\nIf the comment about cleanup becomes inconsistent with the code then there's probably a bug.\n\n> `// return NULL here should trigger a cleanup further up`\n\nI don't think \"further up\" is particularly helpful, as it's ambiguous (further up in the code layout in the file? Further up in the call stack? which are we talking about?).\n\nHow about:\n\n> As the acquired resources are already recorded in `struct console_server`, let them be cleaned up in the exit path of `main()`"
                },
                {
                    "file": "console-server.c",
                    "line": 1209,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "> As the acquired resources are already recorded in struct console_server, let them be cleaned up in the exit path of main()\n\nMaybe it is the antipattern to comment about things that may or may not happen in other functions. Comments like that are very unlikely to be maintained as someone changes the other function. I would consider commenting if the 2 functions are tightly coupled like constructor/destructor.\n\nI can try to rework the cleanup so the RAII is followed."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 262,
                    "deletions": -92
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 284,
            "sizeDeletions": 92
        },
        {
            "number": 6,
            "revision": "d9feab83f08d5c6a6c7f6f25c8e17156d74cae9c",
            "parents": [
                "4419f468588157fdddd50d0bdb1daa2ff1a662ce"
            ],
            "ref": "refs/changes/87/72687/6",
            "uploader": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "createdOn": 1720753304,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 258,
                    "deletions": -88
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 280,
            "sizeDeletions": 88
        },
        {
            "number": 7,
            "revision": "a3f7cc8ddc37b71df6d15c44b4fc560cd04d2968",
            "parents": [
                "8f8fa0fb9da08544bc7e27b2828f35c485354562"
            ],
            "ref": "refs/changes/87/72687/7",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1720778305,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Please add a prefix here too:\n\n```\nconsole-server: Enable multiple consoles\n```"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Done"
                },
                {
                    "file": "console-server.c",
                    "line": 1073,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "This leaks the ring-buffer and console objects."
                },
                {
                    "file": "console-server.c",
                    "line": 1073,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Done"
                },
                {
                    "file": "console-server.c",
                    "line": 1078,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "This leaks the ring-buffer object.\n\nIt would be best to use the cascading-goto style cleanup, I think."
                },
                {
                    "file": "console-server.c",
                    "line": 1078,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Yes, inserted the cleanup here."
                },
                {
                    "file": "console-server.c",
                    "line": 1269,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "I don't think we should have re-ordered the UART routing initialisation after the TTY initialisation, and I think both of those need to go before the call to `console_server_add_consoles()`. Otherwise there's an opportunity for corruption or unexpected data during start-up."
                },
                {
                    "file": "console-server.c",
                    "line": 1269,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Makes sense. Reordered that."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 252,
                    "deletions": -88
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 274,
            "sizeDeletions": 88
        },
        {
            "number": 8,
            "revision": "2f934a70e84b7be59bf8e10c694f2c3a26b3469f",
            "parents": [
                "8f8fa0fb9da08544bc7e27b2828f35c485354562"
            ],
            "ref": "refs/changes/87/72687/8",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1721036155,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Hi Alexander, I have a few more comments regarding resource cleanup."
                },
                {
                    "file": "console-server.c",
                    "line": 928,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "This should return `-1` for consistency"
                },
                {
                    "file": "console-server.c",
                    "line": 928,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Done"
                },
                {
                    "file": "console-server.c",
                    "line": 933,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Again here."
                },
                {
                    "file": "console-server.c",
                    "line": 933,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Done"
                },
                {
                    "file": "console-server.c",
                    "line": 946,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Again here."
                },
                {
                    "file": "console-server.c",
                    "line": 946,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Done"
                },
                {
                    "file": "console-server.c",
                    "line": 1002,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Is this the behaviour we actually want? If one console fails to run its pollers we don't run the pollers for any subsequent console? Feels to me that `run_console_per_console()` should be a `void` function that logs on error and does any necessary cleanup of broken pollers."
                },
                {
                    "file": "console-server.c",
                    "line": 1002,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "The previous behavior was for ```run_console_iteration``` to call ```call_pollers``` and ```return -1``` on error, which would break from the loop in ```run_console```. \n\nIf we do the same thing now for multiple consoles, we can also break from the loop if an error occurs.\n\nWhy would we need to run the pollers for other consoles if an error occurs? We do not even know what the error was in run_console_per_console.\n\n```run_console_per_console``` has several kinds of errors of which some of them cannot be recovered from."
                },
                {
                    "file": "console-server.c",
                    "line": 1097,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Rather than add this comment perhaps we could add `assert(console_id && \"console_id must not be null\");` on line 1106, after the call to `config_resolve_console_id()`?"
                },
                {
                    "file": "console-server.c",
                    "line": 1097,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "```config_resolve_console_id``` will always return something that is not ```NULL```. The comment about ```opt_console_id``` is valid because it documents something not obvious to any callers of this function. And it is very close to the code so it is likely to be updated in the future.\n\nI like to comment on struct members and occasionally on function arguments that may be ```NULL```."
                },
                {
                    "file": "console-server.c",
                    "line": 1159,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "So the cleanup here doesn't really correspond to the resources acquired in `console_server_init()`. I feel this is a bit of an excursion from the [principle-of-least-surprise](https://en.wikipedia.org/wiki/Principle_of_least_astonishment). Either `console_server_init()` should be acquiring all the resources we're cleaning up here, or we should rework `console_server_fini()` to only cleanup the resources we're currently acquiring in `console_server_init()` (and clean up the remaining resources in another (appropriate) location)."
                },
                {
                    "file": "console-server.c",
                    "line": 1159,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "I can rework the initialization so the ```main``` function will \nhave a call to ```console_server_init```, then ```run_server```, then ```console_server_fini```. \n\nThat way the RAII will be followed and the main function simplified.\n\nThe new ```console_server_init``` should either return successfully or return with error but everything already freed."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 264,
                    "deletions": -90
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 286,
            "sizeDeletions": 90
        },
        {
            "number": 9,
            "revision": "82dd0783fbf6e01ac25050160d512c0c1ffb23ef",
            "parents": [
                "8f8fa0fb9da08544bc7e27b2828f35c485354562"
            ],
            "ref": "refs/changes/87/72687/9",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1721218798,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 285,
                    "deletions": -94
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 307,
            "sizeDeletions": 94
        },
        {
            "number": 10,
            "revision": "249ed05e3e9ecc9675911f3c0283ad4de7d13198",
            "parents": [
                "8f8fa0fb9da08544bc7e27b2828f35c485354562"
            ],
            "ref": "refs/changes/87/72687/10",
            "uploader": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "createdOn": 1721281120,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Hi Alexander; in the process of addressing the disconnection issue on [console-server: Add UART Mux Support](https://gerrit.openbmc.org/c/openbmc/obmc-console/+/71228) I did some (mostly whitespace) cleanups here. I did also simplify the error handling paths in `console_server_init()`. Let me know if you have any concerns."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 265,
                    "deletions": -94
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 287,
            "sizeDeletions": 94
        },
        {
            "number": 11,
            "revision": "11c9a0ade64eab6fb241aba6d88db17852ab88a4",
            "parents": [
                "8f8fa0fb9da08544bc7e27b2828f35c485354562"
            ],
            "ref": "refs/changes/87/72687/11",
            "uploader": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "createdOn": 1721283644,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "console-server.h",
                    "line": 156,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Based on [the discussion on the design doc](https://gerrit.openbmc.org/c/openbmc/docs/+/72125/comment/4f03c908_fa541e52/), this needs to be lifted to `struct console_server`. We will only have the one bus connection (though with multiple bus names, for backwards compatibility - the `struct console` object should have logic in its init method to claim the appropriate bus name for the console ID)."
                },
                {
                    "file": "console-server.h",
                    "line": 156,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 266,
                    "deletions": -96
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 288,
            "sizeDeletions": 96
        },
        {
            "number": 12,
            "revision": "f40c653b706b10f234eebcdd0a2022a0550d0836",
            "parents": [
                "8f8fa0fb9da08544bc7e27b2828f35c485354562"
            ],
            "ref": "refs/changes/87/72687/12",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1721393089,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Hi Alexander, I have a couple of comments regarding race condition hazards inline."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "That said, they are mitigated by the async nature of the server: they aren't problems in practice as it's not multi-threaded. So while the ordering is arbitrary to some extent, it's my preference that avoid using orderings that rely on global reasoning. Given it's a matter of preference I'll fix them up myself, that way I'm hopeful I can submit the series."
                },
                {
                    "file": "console-server.c",
                    "line": 1078,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "We have to set up the DBus objects after the handlers, as the exposed interfaces drive behaviours on the handlers. Setting up the DBus objects before the handlers exposes a race condition (see the interactions for baud rate control between the UART DBus interface and the tty handler)."
                },
                {
                    "file": "console-server.c",
                    "line": 1078,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Ah, it was already in this order previously \ud83d\ude1e Oh well."
                },
                {
                    "file": "console-server.c",
                    "line": 1095,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Ideally we'd tear-down the per-console DBus stuff too, but I think we can defer that to later as a cleanup."
                },
                {
                    "file": "console-server.c",
                    "line": 1243,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Can we please implement a `dbus_server_fini()` in `console-dbus.c` that encapsulates the necessary cleanup?\n\nAlso, can you please maintain the stack-order nature of the clean-up? Specifically, given `console_server_init()` calls `dbus_server_init()` after `tty_init()`, `console_server_fini()` should call `dbus_server_fini()` before `tty_fini()`, otherwise there are yet more strange race-conditions."
                },
                {
                    "file": "console-server.c",
                    "line": 1243,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 273,
                    "deletions": -95
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": -5
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 35,
                    "deletions": -27
                }
            ],
            "sizeInsertions": 338,
            "sizeDeletions": 127
        },
        {
            "number": 13,
            "revision": "312ecdc2b4bab980e7baeba2d3a75cd5266d6061",
            "parents": [
                "2325d5d5aa0538329d06ec2c4c000089525cbe20"
            ],
            "ref": "refs/changes/87/72687/13",
            "uploader": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "createdOn": 1721806754,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "console-server.c",
                    "type": "MODIFIED",
                    "insertions": 271,
                    "deletions": -97
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -5
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -27
                }
            ],
            "sizeInsertions": 349,
            "sizeDeletions": 129
        }
    ]
}