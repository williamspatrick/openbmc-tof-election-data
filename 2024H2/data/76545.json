{
    "project": "openbmc/dbus-sensors",
    "branch": "master",
    "id": "I13a5a82b583a31dd57feb7b3e6929e2a469d4b6d",
    "number": 76545,
    "subject": "Add SMBPBI sensor",
    "owner": {
        "name": "aushimnagarkatti",
        "email": "aush281@gmail.com",
        "username": "aushimnagarkatti"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/dbus-sensors/+/76545",
    "hashtags": [],
    "createdOn": 1734027943,
    "lastUpdated": 1736314605,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1734027943,
            "reviewer": {
                "name": "aushimnagarkatti",
                "email": "aush281@gmail.com",
                "username": "aushimnagarkatti"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1734027994,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1734027994,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1734028551,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/96503/ : SUCCESS"
        },
        {
            "timestamp": 1734068798,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 1: Code-Review-1\n\n(1 comment)"
        },
        {
            "timestamp": 1734108827,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1734109901,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(5 comments)"
        },
        {
            "timestamp": 1734113808,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(4 comments)"
        },
        {
            "timestamp": 1734115702,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(14 comments)"
        },
        {
            "timestamp": 1734547302,
            "reviewer": {
                "name": "aushimnagarkatti",
                "email": "aush281@gmail.com",
                "username": "aushimnagarkatti"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Code-Review-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1734547335,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1734547335,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1734547704,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/97133/ : SUCCESS"
        },
        {
            "timestamp": 1734547792,
            "reviewer": {
                "name": "aushimnagarkatti",
                "email": "aush281@gmail.com",
                "username": "aushimnagarkatti"
            },
            "message": "Patch Set 2:\n\n(11 comments)"
        },
        {
            "timestamp": 1734547954,
            "reviewer": {
                "name": "aushimnagarkatti",
                "email": "aush281@gmail.com",
                "username": "aushimnagarkatti"
            },
            "message": "Patch Set 2:\n\n(8 comments)"
        },
        {
            "timestamp": 1734548168,
            "reviewer": {
                "name": "aushimnagarkatti",
                "email": "aush281@gmail.com",
                "username": "aushimnagarkatti"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1734554318,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1734982506,
            "reviewer": {
                "name": "Peter Delevoryas",
                "email": "peter@pjd.dev",
                "username": "peterdelevoryas"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1735325898,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1735326234,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(4 comments)"
        },
        {
            "timestamp": 1736212991,
            "reviewer": {
                "name": "aushimnagarkatti",
                "email": "aush281@gmail.com",
                "username": "aushimnagarkatti"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1736213023,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1736213023,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1736213058,
            "reviewer": {
                "name": "aushimnagarkatti",
                "email": "aush281@gmail.com",
                "username": "aushimnagarkatti"
            },
            "message": "Patch Set 3:\n\n(5 comments)"
        },
        {
            "timestamp": 1736213425,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/97725/ : SUCCESS"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "75c2672ea9c1f4471a9a46105bbf0202c7fb78f9",
            "parents": [
                "4bbd02dce8fe574ecae5efda089e02940178cac7"
            ],
            "ref": "refs/changes/45/76545/1",
            "uploader": {
                "name": "aushimnagarkatti",
                "email": "aush281@gmail.com",
                "username": "aushimnagarkatti"
            },
            "createdOn": 1734027943,
            "author": {
                "name": "aushimnagarkatti",
                "email": "aush281@gmail.com",
                "username": "aushimnagarkatti"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit, please put a real address in here.  FF isn't a valid 7 bit address."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "done"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "Done"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 17,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "change to \"ReadOffset\"\n\nIs there a way we can not make these required?  I believe SMBPBI has known indexes, we could access by a named enum to simplify?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 17,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "done"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 17,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "Done"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 32,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Need a better type name here.  \"Sattelite\" is already taken by redfish aggregation, which it really shouldn't have been (it's on my list to propose a better name), but here we are.\n\nSMBPBI probably?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 32,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "Changed to Smbpbi"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 32,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 132,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This really shouldn't be a template.  We should have one method that reads in a byte array, then we can have two methods that convert that byte array into the type (double or uint64_t)\n\nAs written this duplicates a bunch of code that's common between the two templates."
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 135,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Is there a reason to be using the raw i2c device rather than an eeprom?  The SMBPBI protocol is effectively a virtual eeprom.  The really nice thing with using the eeprom interface is you can easily write test cases against it (because you can create a fake blob and/or file to test against.)"
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 135,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I don't know of a particular reason why this was chosen, but I know that this works without a driver and without consuming the bus and address.\n\nI suspect you're right, it could use an eeprom in the future.  Not sure we need that in this commit?"
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 137,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Please don't do this.\n\nI don't know why it is necessary for `open`.  If we can only make `ioctl` work with these, I'd suggest we write a small wrapper function so we only need the NOLINT once."
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 137,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I suspect this can be made common in the RAII class proposed below."
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 151,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Can we use a RAII class for this?"
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 151,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "+1"
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 181,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This is doing IO within the main loop, which will result in DBus blocking for some amount of time......  I'm not sure how to solve that with the way this is structured, but this will cause slow sensor APIs."
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 225,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "nit: `readRawEEPROMData`.  EEPROM is an acronym."
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 225,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 245,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I don't think this is safe between architectures, right?"
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 260,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "PLDM?  What is this function doing."
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 260,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "+1.  I really suspect this is just named poorly."
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 260,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 304,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "same as above, this type probably needs a better name."
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 304,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "renamed to `readDoubleEEPROMData`"
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 304,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 328,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This whole lambda needs to be rolled into a method, per the coding standard."
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 328,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "done"
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 328,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 424,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Same here.  This lambda is way too big."
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 424,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 424,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "line": 443,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I think there's a helper function for this now?  Check utils."
                },
                {
                    "file": "src/SmbpbiSensor.hpp",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "This needs to be rebased and reworked on top of master, as the source tree structure has been changed."
                },
                {
                    "file": "src/SmbpbiSensor.hpp",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "+1"
                },
                {
                    "file": "src/SmbpbiSensor.hpp",
                    "line": 0,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "Ack, rebased"
                },
                {
                    "file": "src/SmbpbiSensor.hpp",
                    "line": 0,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/SmbpbiSensor.hpp",
                    "line": 32,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Not sure what this does, and doesn't look like part of the build, remove."
                },
                {
                    "file": "src/SmbpbiSensor.hpp",
                    "line": 32,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "done"
                },
                {
                    "file": "src/SmbpbiSensor.hpp",
                    "line": 32,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/SmbpbiSensor.hpp",
                    "line": 94,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit, can you put this comment on another line."
                },
                {
                    "file": "src/SmbpbiSensor.hpp",
                    "line": 94,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "done"
                },
                {
                    "file": "src/SmbpbiSensor.hpp",
                    "line": 110,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit, just declare on line 114"
                },
                {
                    "file": "src/SmbpbiSensor.hpp",
                    "line": 110,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "done"
                },
                {
                    "file": "src/SmbpbiSensor.hpp",
                    "line": 117,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "These should probably go in the cpp file to be consistent."
                },
                {
                    "file": "src/SmbpbiSensor.hpp",
                    "line": 117,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "done"
                },
                {
                    "file": "src/SmbpbiSensor.hpp",
                    "line": 117,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 36,
                    "deletions": 0
                },
                {
                    "file": "src/meson.build",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meson.options",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "service_files/xyz.openbmc_project.smbpbisensor.service",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "src/SmbpbiSensor.cpp",
                    "type": "ADDED",
                    "insertions": 479,
                    "deletions": 0
                },
                {
                    "file": "service_files/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "src/SmbpbiSensor.hpp",
                    "type": "ADDED",
                    "insertions": 118,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 664,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "c73ef37fcb490a563bbed5fa19e5cde9c2ba701d",
            "parents": [
                "4bbd02dce8fe574ecae5efda089e02940178cac7"
            ],
            "ref": "refs/changes/45/76545/2",
            "uploader": {
                "name": "aushimnagarkatti",
                "email": "aush281@gmail.com",
                "username": "aushimnagarkatti"
            },
            "createdOn": 1734547302,
            "author": {
                "name": "aushimnagarkatti",
                "email": "aush281@gmail.com",
                "username": "aushimnagarkatti"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "There is another set of review for adding support for SmbpbiSensor.\nhttps://gerrit.openbmc.org/q/topic:%22smbpbi%22\nWe would want to be combine or pick one. \nIMO this patch is more consisting with existing dbus-sensor services"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Peter Delevoryas",
                        "email": "peter@pjd.dev",
                        "username": "peterdelevoryas"
                    },
                    "message": "I'll abandon the changes I have out for review, I'm fine with this implementation!"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "\ud83d\udc4d"
                },
                {
                    "file": "src/smbpbi/SmbpbiSensor.cpp",
                    "line": 74,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "there's a utility function for this (look at external sensor for an example).  Just lower casing the type is incorrect for types like fan_tach, and doesn't handle errors properly."
                },
                {
                    "file": "src/smbpbi/SmbpbiSensor.cpp",
                    "line": 74,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "`getPathForUnits` is used in external to convert Units to interface name\nhttps://github.com/openbmc/dbus-sensors/blob/4bbd02dce8fe574ecae5efda089e02940178cac7/src/external/ExternalSensor.cpp#L42\n\nDid you mean some other util?"
                },
                {
                    "file": "src/smbpbi/SmbpbiSensor.cpp",
                    "line": 165,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Lets make this not a template, and separate it into two functions:\n1. a function that reads the i2c value in an array of bytes\n2. two functions that converts to the appropriate types.\n\nas-is, 90% of this function is common, but will be duplicated anyway because this is a template."
                },
                {
                    "file": "src/smbpbi/SmbpbiSensor.hpp",
                    "line": 3,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit, this should go on its own line."
                },
                {
                    "file": "src/smbpbi/SmbpbiSensor.hpp",
                    "line": 3,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/smbpbi/SmbpbiSensor.hpp",
                    "line": 15,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit, you're in a block comment here, there's no need for prefixed \"* \""
                },
                {
                    "file": "src/smbpbi/SmbpbiSensor.hpp",
                    "line": 15,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/smbpbi/meson.build",
                    "line": 4,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "whitespace problems.  just make sure your meson is up to date, and run \"meson format -i <this filename>\" and it'll format for you."
                },
                {
                    "file": "src/smbpbi/meson.build",
                    "line": 4,
                    "reviewer": {
                        "name": "aushimnagarkatti",
                        "email": "aush281@gmail.com",
                        "username": "aushimnagarkatti"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 36,
                    "deletions": 0
                },
                {
                    "file": "src/meson.build",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "meson.options",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "src/smbpbi/meson.build",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "service_files/xyz.openbmc_project.smbpbisensor.service",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "src/smbpbi/SmbpbiSensor.hpp",
                    "type": "ADDED",
                    "insertions": 77,
                    "deletions": 0
                },
                {
                    "file": "src/smbpbi/SmbpbiSensor.cpp",
                    "type": "ADDED",
                    "insertions": 520,
                    "deletions": 0
                },
                {
                    "file": "service_files/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 666,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "f0b21f9a1c57785c38c04c731f203d462c35266e",
            "parents": [
                "4bbd02dce8fe574ecae5efda089e02940178cac7"
            ],
            "ref": "refs/changes/45/76545/3",
            "uploader": {
                "name": "aushimnagarkatti",
                "email": "aush281@gmail.com",
                "username": "aushimnagarkatti"
            },
            "createdOn": 1736212991,
            "author": {
                "name": "aushimnagarkatti",
                "email": "aush281@gmail.com",
                "username": "aushimnagarkatti"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 36,
                    "deletions": 0
                },
                {
                    "file": "src/meson.build",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "meson.options",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "src/smbpbi/meson.build",
                    "type": "ADDED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "service_files/xyz.openbmc_project.smbpbisensor.service",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "src/smbpbi/SmbpbiSensor.hpp",
                    "type": "ADDED",
                    "insertions": 78,
                    "deletions": 0
                },
                {
                    "file": "src/smbpbi/SmbpbiSensor.cpp",
                    "type": "ADDED",
                    "insertions": 520,
                    "deletions": 0
                },
                {
                    "file": "service_files/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 662,
            "sizeDeletions": 0
        }
    ]
}