{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "I02bb5f3c0c49d85dbd1dff911d9f1a8467d6b1db",
    "number": 74160,
    "subject": "Sensors: Add enum for chassis sub nodes",
    "owner": {
        "name": "Janet Adkins",
        "email": "janeta@us.ibm.com",
        "username": "jeaaustx"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/74160",
    "hashtags": [],
    "createdOn": 1724962525,
    "lastUpdated": 1725485326,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1724962525,
            "reviewer": {
                "name": "Janet Adkins",
                "email": "janeta@us.ibm.com",
                "username": "jeaaustx"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1724962580,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1724962580,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1724962934,
            "reviewer": {
                "name": "Janet Adkins",
                "email": "janeta@us.ibm.com",
                "username": "jeaaustx"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1724963940,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/90988/ : SUCCESS"
        },
        {
            "timestamp": 1724966313,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1: Code-Review+1\n\n(5 comments)"
        },
        {
            "timestamp": 1725013932,
            "reviewer": {
                "name": "Janet Adkins",
                "email": "janeta@us.ibm.com",
                "username": "jeaaustx"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1725313725,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1725482819,
            "reviewer": {
                "name": "Janet Adkins",
                "email": "janeta@us.ibm.com",
                "username": "jeaaustx"
            },
            "message": "Patch Set 1:\n\n(3 comments)"
        },
        {
            "timestamp": 1725482854,
            "reviewer": {
                "name": "Janet Adkins",
                "email": "janeta@us.ibm.com",
                "username": "jeaaustx"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1725482935,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1725482940,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1725484337,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/91321/ : SUCCESS"
        },
        {
            "timestamp": 1725484384,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1725485141,
            "reviewer": {
                "name": "Janet Adkins",
                "email": "janeta@us.ibm.com",
                "username": "jeaaustx"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1725485322,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2: Code-Review+2\n\n(1 comment)"
        },
        {
            "timestamp": 1725485326,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully rebased and submitted as 0c728b42ceb9efa2c1a378edf27ab5016a5dbea8"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "4330166d53b911ad304c6fe10186fa38f05b0af4",
            "parents": [
                "c95636082b63d020e0f63545f5d87e2eb6a05c52"
            ],
            "ref": "refs/changes/60/74160/1",
            "uploader": {
                "name": "Janet Adkins",
                "email": "janeta@us.ibm.com",
                "username": "jeaaustx"
            },
            "createdOn": 1724962525,
            "author": {
                "name": "Janet Adkins",
                "email": "janeta@us.ibm.com",
                "username": "jeaaustx"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Bunch of minor things, otherwise looks good."
                },
                {
                    "file": "redfish-core/include/utils/sensor_utils.hpp",
                    "line": 29,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Can we just inline these into the two functions?  Having them in the global namespace means that people might use them."
                },
                {
                    "file": "redfish-core/include/utils/sensor_utils.hpp",
                    "line": 29,
                    "reviewer": {
                        "name": "Janet Adkins",
                        "email": "janeta@us.ibm.com",
                        "username": "jeaaustx"
                    },
                    "message": "Since there are two functions I'd rather not have them in two places. What about if I put them into an \"internal\" namespace instead?\n\nThe compiler wouldn't prevent them being used, but the name would be a red-flag on them being used outside."
                },
                {
                    "file": "redfish-core/include/utils/sensor_utils.hpp",
                    "line": 29,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> Since there are two functions I'd rather not have them in two places.\n\nI would prefer them in two places.\n\nOut of trying to understand your previous comment, why is it a problem if they're in two places?\n\n> What about if I put them into an \"internal\" namespace instead?\n\nNo thank you, please just inline them.  It makes the code more clear, and these fixed strings haven't changed since they were written 6 years ago, and won't change in the future unless there's a Redfish 2.0.  Lets optimize for readability here.\n\n> \n> The compiler wouldn't prevent them being used, but the name would be a red-flag on them being used outside.\n\nAgreed, internal is certainly better.  IMO the ideal is just to not expose them externally at all and put them in the two scopes where they're used."
                },
                {
                    "file": "redfish-core/include/utils/sensor_utils.hpp",
                    "line": 29,
                    "reviewer": {
                        "name": "Janet Adkins",
                        "email": "janeta@us.ibm.com",
                        "username": "jeaaustx"
                    },
                    "message": "My hesitation is just lessons learned from other code bases. I've seen similar duplication of code where places were missed when things changed causing odd bugs. I generally like to define things in a single shared header file that gets used by all users.\n\nI see your point that in this case the duplication isn't really an issue. I'll change as you originally suggested."
                },
                {
                    "file": "redfish-core/include/utils/sensor_utils.hpp",
                    "line": 29,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> My hesitation is just lessons learned from other code bases. I've seen similar duplication of code where places were missed when things changed causing odd bugs.\n\nThese are strings defined in a spec.  They by definition never change.  I understand other codebases that aren't tied to a specification.\n\n> I generally like to define things in a single shared header file that gets used by all users.\n\nCertainly happy to discuss that kind of design outside of this code review.  For the moment, bmcweb doesn't use a shared header file for non configurable strings, because they should basically never be changing.  If there's a case where we think they might change or need to be configurable, happy to have that discussion about moving them to the config header, but I don't think this hits either of those.\n\n> \n> I see your point that in this case the duplication isn't really an issue. I'll change as you originally suggested."
                },
                {
                    "file": "redfish-core/include/utils/sensor_utils.hpp",
                    "line": 29,
                    "reviewer": {
                        "name": "Janet Adkins",
                        "email": "janeta@us.ibm.com",
                        "username": "jeaaustx"
                    },
                    "message": "\ud83d\udc4d"
                },
                {
                    "file": "redfish-core/include/utils/sensor_utils.hpp",
                    "line": 33,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit, I think naming convention is UpperCamel for enums"
                },
                {
                    "file": "redfish-core/include/utils/sensor_utils.hpp",
                    "line": 33,
                    "reviewer": {
                        "name": "Janet Adkins",
                        "email": "janeta@us.ibm.com",
                        "username": "jeaaustx"
                    },
                    "message": "I did look this up because I had seen enums using different formatting in the code.\n\nI found in the openbmc cpp-style-and-conventions document two references.\nUppercase camelCase for enum definition: https://github.com/openbmc/docs/blob/master/cpp-style-and-conventions.md#types\nLowercase camelCase for enum members: https://github.com/openbmc/docs/blob/master/cpp-style-and-conventions.md#constants\n\nIs there a different style guide I should be following?"
                },
                {
                    "file": "redfish-core/include/utils/sensor_utils.hpp",
                    "line": 33,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Nope.  Clearly I've just been wrong a lot :)"
                },
                {
                    "file": "redfish-core/include/utils/sensor_utils.hpp",
                    "line": 51,
                    "reviewer": {
                        "name": "Janet Adkins",
                        "email": "janeta@us.ibm.com",
                        "username": "jeaaustx"
                    },
                    "message": "I went back and forth on what to return for the unknownNode element. This is easy to change if \"Unknown\" or something else is preferred."
                },
                {
                    "file": "redfish-core/include/utils/sensor_utils.hpp",
                    "line": 51,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "We tend to do empty string a lot.  This is fine."
                },
                {
                    "file": "redfish-core/include/utils/sensor_utils.hpp",
                    "line": 51,
                    "reviewer": {
                        "name": "Janet Adkins",
                        "email": "janeta@us.ibm.com",
                        "username": "jeaaustx"
                    },
                    "message": "\ud83d\udc4d"
                },
                {
                    "file": "redfish-core/include/utils/sensor_utils.hpp",
                    "line": 63,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This branch doesn't actually do anything. subNode is already set to unknownNode"
                },
                {
                    "file": "redfish-core/include/utils/sensor_utils.hpp",
                    "line": 63,
                    "reviewer": {
                        "name": "Janet Adkins",
                        "email": "janeta@us.ibm.com",
                        "username": "jeaaustx"
                    },
                    "message": "Good point, I've removed it."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/utils/sensor_utils.hpp",
                    "type": "MODIFIED",
                    "insertions": 57,
                    "deletions": -8
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -30
                },
                {
                    "file": "redfish-core/lib/power.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                },
                {
                    "file": "test/redfish-core/include/utils/sensor_utils_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 37,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/thermal.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 160,
            "sizeDeletions": 42
        },
        {
            "number": 2,
            "revision": "eab688e3bcc8a7cc486e8aeffce325b774a1742a",
            "parents": [
                "3a58c5a8f5f753a3229f6af85ebf3e85f1a44387"
            ],
            "ref": "refs/changes/60/74160/2",
            "uploader": {
                "name": "Janet Adkins",
                "email": "janeta@us.ibm.com",
                "username": "jeaaustx"
            },
            "createdOn": 1725482854,
            "author": {
                "name": "Janet Adkins",
                "email": "janeta@us.ibm.com",
                "username": "jeaaustx"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/utils/sensor_utils.hpp",
                    "type": "MODIFIED",
                    "insertions": 49,
                    "deletions": -8
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "type": "MODIFIED",
                    "insertions": 37,
                    "deletions": -28
                },
                {
                    "file": "redfish-core/lib/power.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                },
                {
                    "file": "test/redfish-core/include/utils/sensor_utils_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 37,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/thermal.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 161,
            "sizeDeletions": 40
        },
        {
            "number": 3,
            "revision": "0c728b42ceb9efa2c1a378edf27ab5016a5dbea8",
            "parents": [
                "9d62d1269dee1bf6324b95395c40676ba21cb3c6"
            ],
            "ref": "refs/changes/60/74160/3",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1725485326,
            "author": {
                "name": "Janet Adkins",
                "email": "janeta@us.ibm.com",
                "username": "jeaaustx"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/utils/sensor_utils.hpp",
                    "type": "MODIFIED",
                    "insertions": 49,
                    "deletions": -8
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "type": "MODIFIED",
                    "insertions": 37,
                    "deletions": -28
                },
                {
                    "file": "redfish-core/lib/power.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                },
                {
                    "file": "test/redfish-core/include/utils/sensor_utils_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 37,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/thermal.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 161,
            "sizeDeletions": 40
        }
    ]
}