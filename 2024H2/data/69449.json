{
    "project": "openbmc/phosphor-networkd",
    "branch": "master",
    "topic": "ncsi-netlink updates",
    "id": "I20f093fd8296f549fce03dc5729b8e5fedcab313",
    "number": 69449,
    "subject": "Make Send Command feature more flexible",
    "owner": {
        "name": "Johnathan Mantey",
        "email": "johnathanx.mantey@intel.com",
        "username": "Howitzer105mm"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-networkd/+/69449",
    "hashtags": [],
    "createdOn": 1708024027,
    "lastUpdated": 1721048892,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1708024027,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1708024067,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1708024067,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1708024123,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Topic set to ncsi-netlink updates"
        },
        {
            "timestamp": 1708024208,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/79333/ : SUCCESS"
        },
        {
            "timestamp": 1708637700,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 1: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1712113483,
            "reviewer": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1712153078,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 1:\n\n(3 comments)"
        },
        {
            "timestamp": 1712161163,
            "reviewer": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1712167526,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1712167558,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1712167558,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1712167697,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/81840/ : SUCCESS"
        },
        {
            "timestamp": 1712168126,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1712178233,
            "reviewer": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1712223748,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1712239697,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1714421842,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1714426207,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1714426374,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1714486535,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1714486581,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1714486581,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1714486602,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/83631/ : FAILURE"
        },
        {
            "timestamp": 1714486840,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1714499498,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1714499557,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1714499557,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1714499574,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/83649/ : FAILURE"
        },
        {
            "timestamp": 1714500080,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Uploaded patch set 5.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1714500122,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1714500122,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1714500260,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/83651/ : SUCCESS"
        },
        {
            "timestamp": 1714500508,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 5:\n\n(2 comments)"
        },
        {
            "timestamp": 1714768305,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 5: Code-Review+1"
        },
        {
            "timestamp": 1715095855,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Uploaded patch set 6.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1715095880,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1715095880,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1715096092,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/83927/ : SUCCESS"
        },
        {
            "timestamp": 1715103235,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Uploaded patch set 7.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1715103275,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1715103275,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1715103334,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1715103421,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/83934/ : SUCCESS"
        },
        {
            "timestamp": 1715103509,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 7: Code-Review+1"
        },
        {
            "timestamp": 1715105183,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 7: Code-Review+1"
        },
        {
            "timestamp": 1717009992,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1720928040,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 7: Code-Review+2"
        },
        {
            "timestamp": 1721048892,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Change has been successfully rebased and submitted as 1ebea28c3af630302e1a109358d6d84c10dfef51"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "67a46c077801ca280d4593b8e6e29ef533b1f61c",
            "parents": [
                "581cb0b378364d6b571129120c5c751e66c95344"
            ],
            "ref": "refs/changes/49/69449/1",
            "uploader": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "createdOn": 1708024027,
            "author": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "Looks good to me."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Thank you for the review Jonathan."
                },
                {
                    "file": "src/ncsi_util.cpp",
                    "line": 41,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "This function is very confusing with all the custom undocumented types. I'm assuming this null terminates the string. Does this change fix a bug?"
                },
                {
                    "file": "src/ncsi_util.cpp",
                    "line": 41,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "You correctly surmise this is a NUL termination.\nDuring my testing I did discover there were conditions that resulted in a runaway string getting printed.\nAdding this prevents the utility from presenting semi-random output data."
                },
                {
                    "file": "src/ncsi_util.cpp",
                    "line": 41,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "src/ncsi_util.cpp",
                    "line": 348,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "Should this also be changed to `operation`?"
                },
                {
                    "file": "src/ncsi_util.cpp",
                    "line": 348,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "This is still accurate as ncsi_cmd.\nBefore my change the ncsi_cmd, and the \"operation\" were identical. Thus only one NCSI command, with an identical operation could be issued.\nThis is inflexible.\nWith my proposed change, the ncsi_cmd and the 'operation' taken by the ncsi_cmd can be tailored to access other features supported via NCSI."
                },
                {
                    "file": "src/ncsi_util.cpp",
                    "line": 348,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "But it looks like `nsci_cmd` can never be assigned `DEFAULT_VALUE`. This conditional block seems like it should only run if there is a payload (as with an OEM command), so it would make sense to check `operation` instead which is only set for OEM commands."
                },
                {
                    "file": "src/ncsi_util.cpp",
                    "line": 348,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "You are correct.\nThis wasn't originally cmd.cmd. It was referring to the ncsi operation, which prior to my change was ncsi_cmd."
                },
                {
                    "file": "src/ncsi_util.cpp",
                    "line": 348,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "Acknowledged"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "src/argument.cpp",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -11
                },
                {
                    "file": "src/ncsi_util.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/ncsi_util.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -11
                },
                {
                    "file": "src/ncsi_netlink_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 82,
            "sizeDeletions": 27
        },
        {
            "number": 2,
            "revision": "cebd7ac8e1cc10c0f167fdc301b0410f4288f1ef",
            "parents": [
                "86d25bb7798ed76c8c0306e38ae0d5b14ca755de"
            ],
            "ref": "refs/changes/49/69449/2",
            "uploader": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "createdOn": 1712167526,
            "author": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Changed the cmd.ncsi_cmd to cmd.operation, per the review comment.\nNo other change."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Ravi,\nThanks for the comments."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Updated the commit per latest comments."
                },
                {
                    "file": "src/argument.cpp",
                    "line": 71,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "why to turn off clang-format??\nits always suggested to follow clang-formats"
                },
                {
                    "file": "src/argument.cpp",
                    "line": 71,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "It is difficult to see the format of the help text when it is wrapped into weird chunks by an auto formatting tool.\nYes, it is always *suggested* to leave it on.\nIt is not *mandated* to always leave it on.\n\nLine 74 and 76 in the left pane are examples of what I'm trying to avoid.\nIn my opinion I have a valid use case for blocking the formatting."
                },
                {
                    "file": "src/argument.cpp",
                    "line": 71,
                    "reviewer": {
                        "name": "Vernon Mauery",
                        "email": "vernon.mauery@linux.intel.com",
                        "username": "vmauery"
                    },
                    "message": "I don't mind the clang-format off thing, but if you want to work around it, you might consider just printing one long string:\n\nstd::cerr <<\n    \"    --help | -h ...\\n\"\n    \"...\\n\"\n    \"....a very long line \"\n    \"split into two\\n\"\n    \"\\n\";"
                },
                {
                    "file": "src/argument.cpp",
                    "line": 71,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "I chose to use the long line method instead.\nIt gets rid of the repeated std::cerr boilerplate.\nIt prevents having to fight over appropriateness of disabling clang formatting.\n\nI removed the explicit std::flush because each of the \"\\n\" chars performs a flush action anyway."
                },
                {
                    "file": "src/argument.cpp",
                    "line": 71,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/ncsi_util.cpp",
                    "line": 41,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "add check for nullptr?"
                },
                {
                    "file": "src/ncsi_util.cpp",
                    "line": 41,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Can you clarify?\nThe incoming string is not empty.\noit is initialized with a number of bytes to hold the incoming decode.\noit is filled with data by the for loop.\nI don't understand why I'd do a nullptr check after the pointer has already been used.\nI can see value in making sure the '0' doesn't go past the end of the StrBuf.\nIn that instance line 33 needs to be changed to stop shriking the StrBuf one byte."
                },
                {
                    "file": "src/ncsi_util.cpp",
                    "line": 41,
                    "reviewer": {
                        "name": "Vernon Mauery",
                        "email": "vernon.mauery@linux.intel.com",
                        "username": "vmauery"
                    },
                    "message": "Yeah, the -1 on line 33 should be removed. While strbuf normally does have more capacity than the current length, there is no guarantee, so this extra write could cause an out of bounds write."
                },
                {
                    "file": "src/ncsi_util.cpp",
                    "line": 41,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "src/argument.cpp",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -11
                },
                {
                    "file": "src/ncsi_util.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/ncsi_util.cpp",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -12
                },
                {
                    "file": "src/ncsi_netlink_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 83,
            "sizeDeletions": 28
        },
        {
            "number": 3,
            "revision": "14665760b6009f0a1ad6516b1cb55f3169af32b0",
            "parents": [
                "91f60564228f4546cbe1c2bee3c760a651d8fae0"
            ],
            "ref": "refs/changes/49/69449/3",
            "uploader": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "createdOn": 1714486535,
            "author": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "src/argument.cpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -13
                },
                {
                    "file": "src/ncsi_util.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/ncsi_util.cpp",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -13
                },
                {
                    "file": "src/ncsi_netlink_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 81,
            "sizeDeletions": 31
        },
        {
            "number": 4,
            "revision": "74223471e0077edc7932b80b66f2ee46e98a62c4",
            "parents": [
                "91f60564228f4546cbe1c2bee3c760a651d8fae0"
            ],
            "ref": "refs/changes/49/69449/4",
            "uploader": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "createdOn": 1714499498,
            "author": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "src/argument.cpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -13
                },
                {
                    "file": "src/ncsi_util.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/ncsi_util.cpp",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": -13
                },
                {
                    "file": "src/ncsi_netlink_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 82,
            "sizeDeletions": 31
        },
        {
            "number": 5,
            "revision": "6ad91eccb5b64507309e456eb54967b9cfdf1973",
            "parents": [
                "91f60564228f4546cbe1c2bee3c760a651d8fae0"
            ],
            "ref": "refs/changes/49/69449/5",
            "uploader": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "createdOn": 1714500080,
            "author": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Applied the changes from last code review."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "src/argument.cpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -12
                },
                {
                    "file": "src/ncsi_util.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/ncsi_util.cpp",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": -13
                },
                {
                    "file": "src/ncsi_netlink_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 83,
            "sizeDeletions": 30
        },
        {
            "number": 6,
            "revision": "5658479b79bd2f976c09348cb7d080adefea5fd2",
            "parents": [
                "91f60564228f4546cbe1c2bee3c760a651d8fae0"
            ],
            "ref": "refs/changes/49/69449/6",
            "uploader": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "createdOn": 1715095855,
            "author": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "src/argument.cpp",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -11
                },
                {
                    "file": "src/ncsi_util.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/ncsi_util.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -11
                },
                {
                    "file": "src/ncsi_netlink_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 82,
            "sizeDeletions": 27
        },
        {
            "number": 7,
            "revision": "3327ec9b07d37ac97c2fe3ecf9283f5b37dae899",
            "parents": [
                "91f60564228f4546cbe1c2bee3c760a651d8fae0"
            ],
            "ref": "refs/changes/49/69449/7",
            "uploader": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "createdOn": 1715103235,
            "author": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Restored patchset 5 items inadvertently overwritten by an update to the stacked commit phosphor-networkd/+/69450"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Ratan, William,\nAre there any more actions I need to take to merge this?"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "src/argument.cpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -12
                },
                {
                    "file": "src/ncsi_util.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/ncsi_util.cpp",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": -13
                },
                {
                    "file": "src/ncsi_netlink_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 83,
            "sizeDeletions": 30
        },
        {
            "number": 8,
            "revision": "1ebea28c3af630302e1a109358d6d84c10dfef51",
            "parents": [
                "d92826d2db5a80798436c64b9eb92508ee65788a"
            ],
            "ref": "refs/changes/49/69449/8",
            "uploader": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "createdOn": 1721048892,
            "author": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "src/argument.cpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -12
                },
                {
                    "file": "src/ncsi_util.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/ncsi_util.cpp",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": -13
                },
                {
                    "file": "src/ncsi_netlink_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 83,
            "sizeDeletions": 30
        }
    ]
}