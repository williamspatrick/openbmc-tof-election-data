{
    "project": "openbmc/dbus-sensors",
    "branch": "master",
    "id": "I32400305356a40a818f3b9a08af6e44c7e9417cd",
    "number": 74651,
    "subject": "Add gpio-presence-sensor",
    "owner": {
        "name": "Alexander",
        "email": "alexander.hansen@9elements.com",
        "username": "pointbazaar"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/dbus-sensors/+/74651",
    "hashtags": [],
    "createdOn": 1726499392,
    "lastUpdated": 1730726295,
    "open": false,
    "status": "ABANDONED",
    "comments": [
        {
            "timestamp": 1726499392,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1726499422,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1726499422,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1726499423,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1726499436,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1726499436,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1726499439,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/91860/ : ABORTED"
        },
        {
            "timestamp": 1726499764,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/91861/ : FAILURE"
        },
        {
            "timestamp": 1726502677,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1726502717,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1726502717,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1726502735,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/91862/ : FAILURE"
        },
        {
            "timestamp": 1726502873,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1726502917,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1726502917,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1726503302,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/91863/ : SUCCESS"
        },
        {
            "timestamp": 1726526953,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1726565540,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1727472409,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1728078268,
            "reviewer": {
                "name": "Jagpal S Gill",
                "email": "paligill@gmail.com",
                "username": "jagpalgill"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1730726287,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1730726295,
            "reviewer": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "message": "Abandoned"
        }
    ],
    "wip": true,
    "patchSets": [
        {
            "number": 1,
            "revision": "c83352a77eb77f922ed5b7e1fd8cf900b1463f7a",
            "parents": [
                "72bd273526e99813c36d67fb6d64d8f542c3bdce"
            ],
            "ref": "refs/changes/51/74651/1",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1726499392,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/Config.hpp",
                    "type": "ADDED",
                    "insertions": 64,
                    "deletions": 0
                },
                {
                    "file": "src/meson.build",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meson.options",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "service_files/xyz.openbmc_project.gpiopresencesensor.service",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/GPIOPresenceSensorMain.cpp",
                    "type": "ADDED",
                    "insertions": 201,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/GPIOPresenceSensor.hpp",
                    "type": "ADDED",
                    "insertions": 106,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/Config.cpp",
                    "type": "ADDED",
                    "insertions": 95,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/GPIOPresenceSensor.cpp",
                    "type": "ADDED",
                    "insertions": 318,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/Interfaces.hpp",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "service_files/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 869,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "e653a0fa6b23a7c864a74f83f2b9cb5bcf5d73e6",
            "parents": [
                "72bd273526e99813c36d67fb6d64d8f542c3bdce"
            ],
            "ref": "refs/changes/51/74651/2",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1726499423,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/Config.hpp",
                    "type": "ADDED",
                    "insertions": 64,
                    "deletions": 0
                },
                {
                    "file": "src/meson.build",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meson.options",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "service_files/xyz.openbmc_project.gpiopresencesensor.service",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/GPIOPresenceSensorMain.cpp",
                    "type": "ADDED",
                    "insertions": 202,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/GPIOPresenceSensor.hpp",
                    "type": "ADDED",
                    "insertions": 106,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/Config.cpp",
                    "type": "ADDED",
                    "insertions": 99,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/GPIOPresenceSensor.cpp",
                    "type": "ADDED",
                    "insertions": 323,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/Interfaces.hpp",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "service_files/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 879,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "575b8162f7d6092ecf62f67af4f505c0cb4408ad",
            "parents": [
                "72bd273526e99813c36d67fb6d64d8f542c3bdce"
            ],
            "ref": "refs/changes/51/74651/3",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1726502677,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/Config.hpp",
                    "type": "ADDED",
                    "insertions": 64,
                    "deletions": 0
                },
                {
                    "file": "src/meson.build",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meson.options",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "service_files/xyz.openbmc_project.gpiopresencesensor.service",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/GPIOPresenceSensorMain.cpp",
                    "type": "ADDED",
                    "insertions": 217,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/GPIOPresenceSensor.hpp",
                    "type": "ADDED",
                    "insertions": 106,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/Config.cpp",
                    "type": "ADDED",
                    "insertions": 99,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/GPIOPresenceSensor.cpp",
                    "type": "ADDED",
                    "insertions": 333,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/Interfaces.hpp",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "service_files/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 904,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "55c625d76e71c37163ca6b9d2515b3413816cb22",
            "parents": [
                "72bd273526e99813c36d67fb6d64d8f542c3bdce"
            ],
            "ref": "refs/changes/51/74651/4",
            "uploader": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "createdOn": 1726502873,
            "author": {
                "name": "Alexander",
                "email": "alexander.hansen@9elements.com",
                "username": "pointbazaar"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "FYI: https://gerrit.openbmc.org/c/openbmc/dbus-sensors/+/69897"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "abandon in favor of \nhttps://gerrit.openbmc.org/c/openbmc/entity-manager/+/75627\n\nsince review says it should be done in EM repo."
                },
                {
                    "file": "src/GPIOPresenceSensor/GPIOPresenceSensorMain.cpp",
                    "line": 67,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "Whats the purpose of this timer and async_wait?"
                },
                {
                    "file": "src/GPIOPresenceSensor/Interfaces.hpp",
                    "line": 31,
                    "reviewer": {
                        "name": "Jagpal S Gill",
                        "email": "paligill@gmail.com",
                        "username": "jagpalgill"
                    },
                    "message": "Shouldn't all these come from phosphor-dbus-interfaces or there is no plan to add the Configuration interfaces there?"
                },
                {
                    "file": "src/GPIOPresenceSensor/Interfaces.hpp",
                    "line": 31,
                    "reviewer": {
                        "name": "Alexander",
                        "email": "alexander.hansen@9elements.com",
                        "username": "pointbazaar"
                    },
                    "message": "Ideally yes. But right now phosphor-dbus-interfaces does not have the configuration interfaces.\n\n```\nphosphor-dbus-interfaces/yaml/xyz/openbmc_project/\n```\ndoes not have 'Configuration' directory.\n\nThe second interface (when the hw is detected) can be done in PDI.\n(It will not be a 'Configuration' interface, since those belong to EM)\n\nI would not like to make an exception with our configuration interface here and put it into PDI. Without someone committed to make that effort for all the Configuration interfaces, it would just further increase the inconsistency."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/Config.hpp",
                    "type": "ADDED",
                    "insertions": 64,
                    "deletions": 0
                },
                {
                    "file": "src/meson.build",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meson.options",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "service_files/xyz.openbmc_project.gpiopresencesensor.service",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/GPIOPresenceSensorMain.cpp",
                    "type": "ADDED",
                    "insertions": 217,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/GPIOPresenceSensor.hpp",
                    "type": "ADDED",
                    "insertions": 106,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/Config.cpp",
                    "type": "ADDED",
                    "insertions": 98,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/GPIOPresenceSensor.cpp",
                    "type": "ADDED",
                    "insertions": 332,
                    "deletions": 0
                },
                {
                    "file": "src/GPIOPresenceSensor/Interfaces.hpp",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "service_files/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 902,
            "sizeDeletions": 0
        }
    ]
}