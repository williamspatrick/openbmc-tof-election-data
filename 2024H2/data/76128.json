{
    "project": "openbmc/phosphor-networkd",
    "branch": "master",
    "topic": "ncsi-mctp",
    "id": "Ied240db0d545d5770df0927da354c65b82ee9508",
    "number": 76128,
    "subject": "ncsi-cmd: Add a new executable for issuing NCSI commands",
    "owner": {
        "name": "Jeremy Kerr",
        "email": "jk@ozlabs.org",
        "username": "jk-ozlabs"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-networkd/+/76128",
    "hashtags": [],
    "createdOn": 1732786366,
    "lastUpdated": 1734029586,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1732786366,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1732786426,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1732786426,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1732786565,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/95511/ : SUCCESS"
        },
        {
            "timestamp": 1732787174,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Uploaded patch set 2: New patch set was added with same tree, parent tree, and commit message as Patch Set 1.\n\nCopied Votes:\n* Verified+1 (copy condition: \"**changekind:NO_CHANGE**\")\n"
        },
        {
            "timestamp": 1732787335,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1732787335,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1732787492,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/95535/ : SUCCESS"
        },
        {
            "timestamp": 1732839899,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Set Work In Progress"
        },
        {
            "timestamp": 1732845561,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1732845607,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1732845607,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1732845615,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Set Ready For Review"
        },
        {
            "timestamp": 1732845737,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/95545/ : SUCCESS"
        },
        {
            "timestamp": 1732845896,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Uploaded patch set 4: New patch set was added with same tree, parent tree, and commit message as Patch Set 3.\n\nCopied Votes:\n* Verified+1 (copy condition: \"**changekind:NO_CHANGE**\")\n"
        },
        {
            "timestamp": 1732845919,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1732845919,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1732846048,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/95552/ : SUCCESS"
        },
        {
            "timestamp": 1733245441,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 4:\n\n(9 comments)"
        },
        {
            "timestamp": 1733372140,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Patch Set 4:\n\n(9 comments)"
        },
        {
            "timestamp": 1733385073,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Uploaded patch set 5.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1733385109,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1733385109,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1733385131,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/95871/ : FAILURE"
        },
        {
            "timestamp": 1733385240,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Patch Set 4:\n\n(4 comments)"
        },
        {
            "timestamp": 1733385647,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Uploaded patch set 6.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1733385691,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1733385691,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1733385910,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/95874/ : SUCCESS"
        },
        {
            "timestamp": 1733894665,
            "reviewer": {
                "name": "Amithash Prasad",
                "email": "amithash@meta.com",
                "username": "amithash"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1733896240,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1734029586,
            "reviewer": {
                "name": "Amithash Prasad",
                "email": "amithash@meta.com",
                "username": "amithash"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "726cd8f8be8a3d19b196b01b74d62b004499460e",
            "parents": [
                "84ca0adb225bfa4d452ea5cb826ea87967b4d2d1"
            ],
            "ref": "refs/changes/28/76128/1",
            "uploader": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "createdOn": 1732786366,
            "author": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 58,
                    "deletions": 0
                },
                {
                    "file": "src/argument.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -5
                },
                {
                    "file": "src/meson.build",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "type": "ADDED",
                    "insertions": 342,
                    "deletions": 0
                },
                {
                    "file": "src/ncsi_netlink_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 42,
                    "deletions": -69
                }
            ],
            "sizeInsertions": 459,
            "sizeDeletions": 74
        },
        {
            "number": 2,
            "revision": "a4bbe2249b260c5e945f2384c67375ef63f9a0d6",
            "parents": [
                "59c5468cf40fd9ffca6f09ed9a3fe86a8453388c"
            ],
            "ref": "refs/changes/28/76128/2",
            "uploader": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "createdOn": 1732787174,
            "author": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "kind": "NO_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 58,
                    "deletions": 0
                },
                {
                    "file": "src/argument.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -5
                },
                {
                    "file": "src/meson.build",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "type": "ADDED",
                    "insertions": 342,
                    "deletions": 0
                },
                {
                    "file": "src/ncsi_netlink_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 42,
                    "deletions": -69
                }
            ],
            "sizeInsertions": 459,
            "sizeDeletions": 74
        },
        {
            "number": 3,
            "revision": "a30922b00ce699b91c7de111e6f524f9c1590571",
            "parents": [
                "84ca0adb225bfa4d452ea5cb826ea87967b4d2d1"
            ],
            "ref": "refs/changes/28/76128/3",
            "uploader": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "createdOn": 1732845561,
            "author": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 58,
                    "deletions": 0
                },
                {
                    "file": "src/argument.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -5
                },
                {
                    "file": "src/meson.build",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "type": "ADDED",
                    "insertions": 341,
                    "deletions": 0
                },
                {
                    "file": "src/ncsi_netlink_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 42,
                    "deletions": -69
                }
            ],
            "sizeInsertions": 458,
            "sizeDeletions": 74
        },
        {
            "number": 4,
            "revision": "419eccd92c8033541a262f1ccabf96e094fa8c58",
            "parents": [
                "59c5468cf40fd9ffca6f09ed9a3fe86a8453388c"
            ],
            "ref": "refs/changes/28/76128/4",
            "uploader": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "createdOn": 1732845896,
            "author": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "kind": "NO_CHANGE",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "A fair bit of personal opinion enclosed."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "Thanks for the review - I do appreciate the input, including the personal opinion!"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "I have pushed a new change here; I have marked some of the comments as done, but others just had responses from me. Feel free to either mark as resolved as you see fit, or follow up on the discussion."
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "line": 84,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Is there a reason to force base-16 on the UI?"
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "line": 84,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "More convention than anything else. The NCSI docs, as well as existing commands, all use hex for the opcode values, so this avoids requiring the user to add 0x all over the place."
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "line": 93,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "I would prefer the payload be represented on the command line as space delimited octets instead of a concatenated string of base-16 pairs that are hard to read and confirm correct.\n\nIs there a compelling reason to maintain the, IMO.... impolite, model of ncsi_netlink? Can this wart be hidden from the user?\n\nIf there is a desire to keep the packed string, perhaps add a command line switch that reads octets?"
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "line": 93,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "Yeah, I'd agree that the payload format in `ncsi-netlink` is a bit awkward.\n\nI could just autodetect a packed string vs. separate octets, would that suit? Would prefer to avoid an explicit argument (to define the format) if we can detect reliably."
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "line": 93,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "OK, new change pushed that allows either format."
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "line": 186,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Why are you filling a std::shared with a std::unique?"
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "line": 186,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "Excellent question. I'll see if we still need the shared_ptr at all."
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "line": 186,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "We can do this with just the unique_ptr, and prevent a couple of copies too."
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "line": 241,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "why does OEM use `auto payload` and this pre-defines `payload`?"
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "line": 241,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "Because raw allows an empty payload, so we construct an empty one here, in case no payload argument was provided."
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "line": 263,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "follow OEM model?\n`auto payload = ...`"
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "line": 263,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "We need to check the std::optional before assigning to `payload`, and (as above) fall back to the default (empty) payload if none was provided."
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "line": 320,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Not following the logic here.\nIt would be nice if there were a comment indicating the theory..."
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "line": 320,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "OK, shall do!"
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "line": 320,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/ncsi_netlink_main.cpp",
                    "line": 149,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Did I misread the change?\nIsn't this sent as -oem (i.e. 0x50) and the rest is just the packed string?"
                },
                {
                    "file": "src/ncsi_netlink_main.cpp",
                    "line": 149,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "Not sure I 100% understand the question, but the first byte on the packed string argument is interpreted the opcode field (both before and after this change).\n\nIt has always been possible to use `-o` to send non-OEM commands, by specifying a value other than `50` as the first byte in the string.\n\nI've tried to make this more explicit in the new `ncsi-cmd`, through the `oem` vs `raw` subcommands."
                },
                {
                    "file": "src/ncsi_netlink_main.cpp",
                    "line": 177,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Suggestion: summarily remove -o from ncsi-netlink, and print a \"use ncsi-cmd\" message.\nThe following code is kludgy..."
                },
                {
                    "file": "src/ncsi_netlink_main.cpp",
                    "line": 177,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "It's kludgy, but temporary.\n\nWe need this so that we don't break things in the transition to `ncsi-cmd`. Once this change is merged, we can update the in-tree usage of `ncsi-netlink -o` to use `ncsi-cmd` directly, then remove the compatibility later.\n\nThat should be a fairly quick process, there are only a small number of instances where `ncsi-netlink -o` is used."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 58,
                    "deletions": 0
                },
                {
                    "file": "src/argument.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -5
                },
                {
                    "file": "src/meson.build",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "type": "ADDED",
                    "insertions": 341,
                    "deletions": 0
                },
                {
                    "file": "src/ncsi_netlink_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 42,
                    "deletions": -69
                }
            ],
            "sizeInsertions": 458,
            "sizeDeletions": 74
        },
        {
            "number": 5,
            "revision": "fc0eef1e6a0b2bc76dc02f96f1599bd0d6d73af6",
            "parents": [
                "8cca98e0da9f4307578a4e815a0bb887289d7e46"
            ],
            "ref": "refs/changes/28/76128/5",
            "uploader": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "createdOn": 1733385073,
            "author": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 58,
                    "deletions": 0
                },
                {
                    "file": "src/argument.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -5
                },
                {
                    "file": "src/meson.build",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "type": "ADDED",
                    "insertions": 389,
                    "deletions": 0
                },
                {
                    "file": "src/ncsi_netlink_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 42,
                    "deletions": -69
                }
            ],
            "sizeInsertions": 506,
            "sizeDeletions": 74
        },
        {
            "number": 6,
            "revision": "97953c88ac6cb9d8a64fad2f2e9a778f889f6b25",
            "parents": [
                "8cca98e0da9f4307578a4e815a0bb887289d7e46"
            ],
            "ref": "refs/changes/28/76128/6",
            "uploader": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "createdOn": 1733385647,
            "author": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/ncsi_cmd.cpp",
                    "line": 45,
                    "reviewer": {
                        "name": "Amithash Prasad",
                        "email": "amithash@meta.com",
                        "username": "amithash"
                    },
                    "message": "I am not sure the consensus with the maintainers here is, but it would be a lot more easier to read if we used a CLI parser library like CLI11 (https://github.com/CLIUtils/CLI11). I know other openbmc repos use this. Reason I proposed this is because we have a lot of \"sub-command\" parsing in this source file which would be easily covered by a library."
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "line": 45,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "I had definitely thought so when doing this change, but I'm just keeping consistent with the existing getopt() usage that already exists for the ncsi-netlink utility.\n\nI'm happy to look at other options for parsing the command-line, especially as we grow support for new commands, but would rather do that as a separate series after merge."
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "line": 45,
                    "reviewer": {
                        "name": "Amithash Prasad",
                        "email": "amithash@meta.com",
                        "username": "amithash"
                    },
                    "message": "Fair point. We can take that transition up later."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 58,
                    "deletions": 0
                },
                {
                    "file": "src/argument.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -5
                },
                {
                    "file": "src/meson.build",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "src/ncsi_cmd.cpp",
                    "type": "ADDED",
                    "insertions": 389,
                    "deletions": 0
                },
                {
                    "file": "src/ncsi_netlink_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 42,
                    "deletions": -69
                }
            ],
            "sizeInsertions": 506,
            "sizeDeletions": 74
        }
    ]
}