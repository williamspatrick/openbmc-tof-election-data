{
    "project": "openbmc/docs",
    "branch": "master",
    "id": "Ibb9eb05ffa283f793b0e757eef6fbd3416dcd3a7",
    "number": 68746,
    "subject": "Add design for bootstrap accounts access restriction",
    "owner": {
        "name": "Quang Nguyen",
        "email": "quangnguyen@os.amperecomputing.com",
        "username": "NguyenTanNhutQuang"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/docs/+/68746",
    "hashtags": [],
    "createdOn": 1704943460,
    "lastUpdated": 1725411925,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1704943460,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1704943504,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1704943504,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1704943525,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/77837/ : SUCCESS"
        },
        {
            "timestamp": 1705637551,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1705641191,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 1: Code-Review-1\n\n(4 comments)"
        },
        {
            "timestamp": 1705649852,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1705651231,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1705679254,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1: Code-Review-1\n\n(25 comments)"
        },
        {
            "timestamp": 1706101408,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1706101523,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1706789302,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Code-Review-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1706789324,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1706789324,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1706789347,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/78672/ : SUCCESS"
        },
        {
            "timestamp": 1706792179,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Patch Set 2:\n\n(26 comments)"
        },
        {
            "timestamp": 1706830076,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 2: Code-Review-1\n\n(10 comments)"
        },
        {
            "timestamp": 1706857845,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1706959094,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Code-Review-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1706959117,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1706959117,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1706959150,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/78764/ : SUCCESS"
        },
        {
            "timestamp": 1706960988,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Patch Set 3:\n\n(9 comments)"
        },
        {
            "timestamp": 1706961174,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1707105221,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 3: Code-Review-1\n\n(10 comments)"
        },
        {
            "timestamp": 1708416424,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Code-Review-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1708416444,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1708416444,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1708416476,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/79533/ : SUCCESS"
        },
        {
            "timestamp": 1708420762,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Patch Set 4:\n\n(10 comments)"
        },
        {
            "timestamp": 1708475254,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 4: Code-Review-1\n\n(5 comments)"
        },
        {
            "timestamp": 1708478672,
            "reviewer": {
                "name": "Thang Q. Nguyen",
                "email": "thang@os.amperecomputing.com",
                "username": "thangqn-ampere"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1708482856,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1708499077,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Patch Set 4:\n\n(4 comments)"
        },
        {
            "timestamp": 1708499420,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Uploaded patch set 5.\n\nOutdated Votes:\n* Code-Review-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1708499430,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1708499430,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1708499454,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/79588/ : SUCCESS"
        },
        {
            "timestamp": 1708521704,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1708522811,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 5: Code-Review-1\n\n(17 comments)"
        },
        {
            "timestamp": 1708564686,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 5:\n\n(2 comments)"
        },
        {
            "timestamp": 1708879747,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Patch Set 5:\n\n(19 comments)"
        },
        {
            "timestamp": 1708880396,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Uploaded patch set 6.\n\nOutdated Votes:\n* Code-Review-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1708880418,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1708880418,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1708880441,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/79787/ : SUCCESS"
        },
        {
            "timestamp": 1708918552,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 6: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1709513677,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1709581336,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(19 comments)"
        },
        {
            "timestamp": 1709581848,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(3 comments)"
        },
        {
            "timestamp": 1709582464,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(2 comments)"
        },
        {
            "timestamp": 1711705651,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Patch Set 6:\n\n(16 comments)"
        },
        {
            "timestamp": 1725411925,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(6 comments)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "babf7f008d2c6a57568deb7e04def648db393479",
            "parents": [
                "a8fff53a66656f884632322841d697c89bdba871"
            ],
            "ref": "refs/changes/46/68746/1",
            "uploader": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "createdOn": 1704943460,
            "author": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This doesn't seem to be a design document for a host interface.  I would interpret that to be IPMI, PLDM, etc.  Can you be more specific here?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Unnecessary words.  This is a commit; it does things.  Be succinct."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Hello, could anyone please help to review this design document?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "I think there are concerns in two directions, both too much detail in some parts and and not enough detail in others. Otherwise, I think this needs a much broader audience. It needs review from:\n\n1. bmcweb maintainers\n2. phosphor-host-ipmid maintainers\n3. phosphor-dbus-interfaces maintainers\n4. phosphor-user-manager maintainers\n\nand possibly others."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "add maintainers"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged, added more maintainers"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Thanks for all the reviews. I am waiting for more reviews from bmcweb, phosphor-user-manager, phosphor-host-ipmid, entity-manager maintaniners before uploading new patch set."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "@EdTanous, could you please take a look? Thanks."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 11,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Is there a spec you can reference here or is this a feature you've invented?  The words imply to me like this is some kind of standard vocabulary, but I'm not sure where it comes from."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 11,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged. re-write to make it clear."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 16,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I think there should be a comma after \"interface\"?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 16,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 17,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "\"It means that\" ... What means that?  I don't know what \"it\" refers to here.\n\nGenerally the phrase \"it means that\" isn't found in formal writing."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 17,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 18,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I'm confused.  You said that bootstrap accounts are bound to host interfaces, but now you're talking about ethernet devices.  That seems contradictory.\n\n(I'm actually playing slightly dumb.  I know you're using USB in-band, but other readers likely aren't.  There are words missing to express what you're intending.)"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 18,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 27,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Again, we need to reference a standard if there is one.  Otherwise, this just sounds like your specific requirement which might not be applicable to everyone.  In the future we need to be able to understand the origin of features like this and \"this is some weird thing Ampere did\" isn't as likely to stick around forever."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 27,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 33,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I've gotten _way_ too far into the document to now find out there is a spec.  At least make a passing reference to the fact there is a spec in the \"Problem Description\"."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 33,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 39,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Use quote syntax and not code-escape syntax."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 39,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 58,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Style: I'd prefer these to be subsections."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 58,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 60,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Style: And this would be a sub-subsection."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 60,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 62,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I'm not sure what others think about this.  Do we need a prefix like `obmc-bootstrap` to avoid collision?\n\nAt a minimum, I think we should refer to designs/redfish-authorization.md and align with the group choices proposed there.  I don't know if this is should be referred to as a Redfish Role, but we can at least follow the conventions outlined there."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 62,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "If we're bikeshedding the group name I'll throw in `dmtf-bootstrap` and `dsp0270-bootstrap`"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 62,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged. I missed this one, `obmc-bootstrap` or `dmtf-bootstrap` sounds reasonable to me."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 65,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Isn't runtime typically one-word?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 65,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 70,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I think if we treat this as a Redfish role, as mentioned above, it probably fits nicer into code that should already exist."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 70,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "There are only 3 Readfish roles: Administrator, Operator and ReadOnly. You mean that adding OEM roles or client-defined custom roles?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 70,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 74,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I'm slightly confused by what you're calling \"Setup time\" because to me that would mean \"part of the Yocto build\", which seems to be what you meant in (1) but here in (2) you're talking partially about JSON config and partially about things P-U-M needs to do (at runtime)."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 74,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "This feels like it's being overly specific?\n\nAlso is there a reason that this information shouldn't come from entity-manager?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 79,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "How does phosphor-user-manager identify a bootstrap account?  This is the group thing mentioned above?  I'd like to avoid special \"this group does magic things\" in phosphor-user-manager as much as possible."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 79,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged. Added more details."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 80,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Can you please be more specific here? What interface is this property part of? What process hosts objects that expose that interface? Has this been defined in phosphor-dbus-interfaces, or is it just a proposal?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 80,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I really don't like this.  We now have phosphor-user-manager exposing a special dbus property, that is really only used for bootstrap accounts, which related to networking so that bmcweb can get it?  Seems like a serious breakdown of encapsulation.\n\nCan entity-manager config expose the network interface which is intended to be used for in-band host access?  Or can phosphor-networkd expose it?  That at least reduces one step."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 80,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "I add configuration data to `entity-manager`, so remove the dbus propery `UserConfigInfo`"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 80,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged. changed to use `entity-manager` to configure for host interface ethernet device."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 84,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This seems like additional latency for every connection that shouldn't be needed.  I think we can clean this up a bit."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 84,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged. I changed to query IP address in the startup time of bmcweb. This will avoid adding latency."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 91,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Is this (3) after (2)?  This seems very specific."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 91,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 106,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Again I think things are getting a bit specific here.\n\nBut also, does this accommodate multiple hosts managed by a single BMC?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 106,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "\ud83d\udc4d.  We at least need HostInterface to support an array."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 106,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I would strongly caution against using `usb0`.  This caution might even lead us to recommending that the \"host interfaces\" use udev rules with very specific naming conventions that allow bmcweb to identify the host interface without any special JSON effort.  (consider this another \"alternative\")\n\nMany systems have a USB port plugged into them.  Once you enable USB network support in the kernel, unless you've done explicit extra configuration that I've rarely seen done, anyone can walk up to your machine and plug a USB network device into it and likely get _another_ USB NIC attached to your BMC.  Once this happens, there is no guarantee on which device gets \"0\" and which one gets \"1\".  It is quite likely that someone can work around a lot of access controls that we put around the in-band interface (and quite possibly break things for the real host)."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 106,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "added supporting to configure host interface for multiple hosts system."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 106,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "I added an alternative for this concern by using MAC address instead of ethernet device name.\n\nI don't know if anyone uses usb ethernet device to setup for host interface, but normally a PCIe to USB is used to configure for host interface. So when the system is booting up, the `usb0` is always brought up first, and if someone walks up and plug to the system, it will not be `usb0`. Anyway, I added an alternative and solution as you concerned."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 109,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I'm not really understanding the alternatives here because they feel like half-baked suggestions.  Not a single one of these could be turned into an alternative design in their current state.\n\nI'm fine if these become 1-2 lines each and remove a lot of the details, but they need to be things that reviewers can actually ponder as an \"is this a better way\".\n\nAs written I can't really distill what the core idea of these alternatives is/are."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 109,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 151,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Don't code-escape URLs.  You can just make this a list of affected repositories (\"bmcweb\", \"P-D-I\"...).  It's clear we're talking about openbmc here."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 151,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 162,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "So we're only writing unit test for PUM (based on what I wrote above, I'm actually not convinced that PUM even needs code changes)?  What about other repositories?  There isn't a single UT we can write for bmcweb?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 162,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 168,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Using ... Robot?  Be clear.\n\nIf this is ran by humans it isn't a useful thing to document, in my view, because we never know if we've regressed it."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 168,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "For this test, can you tell me where to add test case using Robot? It does not belong to any repository."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 168,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "See https://github.com/openbmc/openbmc-test-automation"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 168,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "type": "ADDED",
                    "insertions": 168,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 181,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "f87689b7610029bd9a497df4f10caf1f51c5403c",
            "parents": [
                "a8fff53a66656f884632322841d697c89bdba871"
            ],
            "ref": "refs/changes/46/68746/2",
            "uploader": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "createdOn": 1706789302,
            "author": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Hi Quang, a few more comments, but I think this is an improvement over PS1."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "add phosphor-state-manager reviewer"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 48,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Not only this, but it also specifies that accounts should be removed on changes to service and host state. That affects the boot path on the BMC and ties into phosphor-state-manager. The maintainers of the latter should review this document also."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 48,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "An example is good, though I'd prefer we talk about an EM schema to make things concrete.\n\nAlso, does this have any impact on phosphor-networkd?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged. There is no impact on phosphor-networkd since we only read the info from it, no code changes."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 94,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Surely we don't require the complexity of DBus. libc already provides facilities for this problem, e.g. [getgrouplist(3)](https://www.man7.org/linux/man-pages/man3/getgrouplist.3.html)."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 94,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 110,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "No, it needs to react to EM publishing or unpublishing configurations at any time. This is a fundamental behaviour of EM (it's part of an event-driven system)"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 110,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 129,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "This is example configuration of a bitbake recipe for the feature. It's configuration that's provided by the recipe to meson. I the description is a bit confused?\n\nAlso, use of `EXTRA_OEMESON` tends to be a bit of a hack in recipes. The idiomatic approach is to define a `PACKAGECONFIG` switch to enable/disable the behaviour (that way the declaration to enable or disable the option in the recipe is not influenced by the implemented build system)."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 129,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged. To avoid confusion, I removed the bitbake configuration."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 134,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Generally things in \"alternatives considered\" are competing options with the proposal, but are worse in some way. It's not clear to me that this is even a competing option. It sounds like it should be a consideration of the proposal?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 134,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "I still prefer using ethernet interface name to bind to the host interface instead of using MAC address since using MAC address adds the complexity to the implementation code and the corner cases which mentioned in the above comments seem rarely to happen.\nBut if all reviewers support this solution. We can switch to MAC address."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 141,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Please switch \"configuration\" to \"schema\""
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 141,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "type": "ADDED",
                    "insertions": 169,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 182,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "b84e5cac95d87c82a5fdefdea7940f8cf0cb3ee5",
            "parents": [
                "a8fff53a66656f884632322841d697c89bdba871"
            ],
            "ref": "refs/changes/46/68746/3",
            "uploader": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "createdOn": 1706959094,
            "author": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Hi Quang, thanks for iterating on this. I've made some further comments."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Thank you. Added you as the contributor."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 12,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "You need a space after the `,`"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 12,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 121,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Thanks for adding the schema and an example. Great work."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 121,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 153,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "I think this needs some refinement. The efficient way for this to be correct is that bmcweb register for `InterfacesAdded`, `InterfacesRemoved` and `NameOwnerChanged` signals from EntityManager to learn of new `HostInterface` configurations, and then query for any that have currently been exposed. This yields correctness in the face of arbitrary restart ordering of EntityManager and bmcweb."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 153,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 160,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Can you unpack this a bit further? Bootstrap accounts have an impact on platform security, so it's essential that their authentication is correct. The implementation bears some discussion.\n\nSo the intent is to depend on membership in specific subnets? Another approach might be to [create interface-specific sockets using `SO_BINDTODEVICE`](https://www.man7.org/linux/man-pages/man7/socket.7.html) and only allow the bootstrap accounts on those sockets (the latter feels to me like the most direct path to correctness, as it's the interface that's defined as associated with the host in the EM config).\n\nAlso, arguably, it should only be possible to create these accounts through something that's known to be a host interface. Are there changes required to `phosphor-host-ipmid` to manage that, if e.g. `phosphor-net-ipmid` is enabled?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 160,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "I intent not to depend on specific subnets but the IP address of the host interface itself and I do not see any use case which this method may expose any security risk. \n\nThe IP address of the host interface is only one for each host, it may change but it will be bond to the a specific ethernet interface or the MAC address which is already known in advance when we build the system.\n\nSince we read the IP address of the host interface by extracting the ethernet interface from `entity-manager` configuration and use that ethernet interface to search for its IP address via `xyz.openbmc_project.Network`. So even the IP address changes, we can still update it and use the correct host interface IP address."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 160,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Made the same comment as @arj.\n\n> I do not see any use case which this method may expose any security risk.\n\nWhat if the host interface has the same ip address as a non host interface?  That seems like a security risk.\n\n> it may change but it will be bond to the a specific ethernet interface or the MAC address which is already known in advance when we build the system.\n\nThis isn't documented anywhere in your design.  When the system is built, how will those be assigned?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 169,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "So I suspect the work for this is actually in phosphor-user-manager, to listen to the signals emitted by phosphor-state-manager or x86-power-control."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 169,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged. Yes, `phosphor-user-manager` needs to listen to signals from `phosphor-state-manager` and `BMCWeb` to delete bootstrap account."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 169,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Why is this necessary?  Can't the next call to SetBootStrapAccount just overwrite the credentials from the last boot?  Deleting the bootstrap account on shutdown would imply that we don't think the password itself is secure.  If we think that, we need to make it secure by design, not by deleting the password from an interface.\n\nI vote we just remove this from the design.  Detecting a host reset in a secure way that can't be faked by software is non-trivial, and doesn't add any value in this case, given that the host will likely be up for a long time, and therefore credentials will be valid for a long time.  Invalidating them on shutdown doesn't add additional security, and makes the solution more complex."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 180,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Why is this worse than your proposed design?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 180,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged. Added more detailed in Patchset 4."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 182,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Why is this worse than your proposed design?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 182,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged. Added more detailed in Patchset 4."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 186,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Why is this worse than your proposed design? Also, I don't think this is a specific concern in the face of e.g. systemd's stable interface naming policies? Not to say someone won't add a specific udev rule that renames an interfaces, but that's kinda their fault if they break things that way?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 186,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "As I mentioned in comment in PS2, this method added complexity in implementation code but if all reviwers prefer it, I'm ok with that decision.\n\nIf someone does somethings bad to break the system intentionally or inadvertently, that is nothing we can do to prevent; think about the scenario where someone brings down a service and ask why it not work."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 186,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "We should just be using systemd BindToDevice here, that way we're pushing the complexity to systemd to get right, and not relying on mac address or ip address, which might be duplicated between interfaces.  Ideally they wouldn't be, but if an attacker is trying to get in, they might duplicate them on purpose."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 186,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Agree, as I mentioned in comments above, we can use `BindToDevice` to bypass using IP address for bootstrap account authentication as you and Andrew suggested."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 193,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Will this need changes to `phosphor-user-manager` such that we can ask it to delete all users who are members of a specific group?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 193,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged. Yes, added this requirement."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "type": "ADDED",
                    "insertions": 222,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 235,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "90d8f12e5cdbf7f63d6a59b0c7f73e78fa75334a",
            "parents": [
                "a8fff53a66656f884632322841d697c89bdba871"
            ],
            "ref": "refs/changes/46/68746/4",
            "uploader": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "createdOn": 1708416424,
            "author": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Hi Quang, I have a few more things on which I'd like clarification."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 142,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "This seems like you're putting constraints on the network topology (one host?) and configuration (static only)? Can you unpack that? Should this work with one BMC host interface with multiple hosts managed via the BMC? Even if the justification is \"in-band IPMI constrains us to one host\" that would help. But even under that circumstance, how do you ensure the host's interface is configured to meet the assumptions of the BMC's EM configuration for it? DHCP would be one method of avoiding broken assumptions, but it seems it's not accommodated by the proposal?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 142,
                    "reviewer": {
                        "name": "Thang Q. Nguyen",
                        "email": "thang@os.amperecomputing.com",
                        "username": "thangqn-ampere"
                    },
                    "message": "Agree with Andrew that we need to deal with multiple Host support.\nAbout DHCP, I don't think it is appropriate. Having requirement on the Host UEFI and OS support DHCP server is not realistic so just pre-configured static IP address in the BMC side and have some method for the Host to check for BMC IP to work with (to build SMBIOS Type 42 data and application will use information from this data)."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 142,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "I'll defer to almost anyone else on the UEFI side, as I don't have much (any) experience there. However, I was approaching this with the view that the BMC would run the internal network and the host would acquire the lease. I wasn't suggesting that the UEFI implementation also provide a DHCP server, that is definitely too much. But it seems you're thinking of the ownership the other way around to what I am? Is there a reason for it to be one way or the other? It would be good to unpack the answer to that in the document."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 142,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "@Andrew Jeffery\nSince now I propose multiple host configuration in `entity manager`, this design not limit to single host; it now supports multiple host system. What we need to do is that we need to specify what interface for which host. Let's say, we need to assign `host0` and `host1` link to `eth0`, `eth1`, respectively in advance and they are static assignment in `entity-manager`."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 142,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "I'm struggling with your response there because I don't feel like it addresses my point. I was trying to unpack who \"owns\" the link in the sense of e.g. DHCP. We could also go with \"no-one\" and potentially use zero-conf addressing, but then you'd have to be careful of routing across multiple interfaces.\n\nRequiring static addressing feels concerning because the network configuration for the host and the BMC need to be synchronised somehow. Avoiding static addressing would help that, but there's a complexity trade-off. It's okay to state that dynamic addressing is out-of-scope, but it should be stated explicitly in the document along with the reason why."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 142,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged. I've removed the requirement of configuring static IP address. The service which brings up host interface will choose how that interface will be brought up (which is out-of-scope of this design)."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 152,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "typo: receiving"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 152,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 190,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Why is this worse?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 190,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged. Added more detailed."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 191,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Can you list the `SO_BINDTODEVICE` approach for constraining what network sources can use bootstrap accounts as an alternative as well, along with why it's worse than your proposed solution?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 191,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "`SO_BINDTODEVICE` will bind ethernet device (device name) to socket for transfering data via that socket.\n\nIn this design, I do not intent to send/receive data via that ethernet device. What I aim to do here is that authenticating if a connection request is (1) from a bootstrap account and (2) sent from host (via host interface).\n\nWhen a connection request comes, there are 2 information of it we can use for the bootstrap account authentication, they are username and requester's IP address of connection request.\n\nFor (1), we can use username to check the group name.\nFor (2), we want to ensure that the IP address of the connection request are from host (the host interface IP address). Since we already have host interface IP address acquired from `entity-manager` configuration, we just need to compare the 2 IP addresses (comparing IP string value) then we know that IP address is from host interface or not. It is really straightforward.\n\nSo, I think `SO_BINDTODEVICE` approach is a bit off-topic for authenticating bootstrap accounts."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 191,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "What you have is effectively a trusted physical ethernet adapter: It's trusted because it has a direct, internal physical connection to the host, to the exclusion of other devices. We know this because it's asserted to be the case via the EM configuration provided, which should be generated from the platform schematics. The IP addresses are irrelevant and arbitrary for the purpose of security, they're only used because they're required to speak redfish, and at the moment they have to take specific values because you're requiring static addressing. You're then leaning on those specific addresses as a proxy for whether the connection is trusted.\n\nUsing `SO_BINDTODEVICE` associates a (listening) socket with the trusted adapter, therefore any connection it accepts is also trusted (by its bound adapter's internal physical association with the host, to the exclusion of other devices). This removes some of the complexity of your proposal as you no-longer need to define and compare IP addresses, and perhaps addresses Patrick's security concern as well. Some check is required in order to implement the proposal at all, so I don't some effort to associate the socket with a trusted interface causes much concern there.\n\nIn my mind `SO_BINDTODEVICE` directly ties the security of the design (only allowing authentication of bootstrap accounts on internal host interfaces) to the device providing the property (the physical adapter). It works with static or dynamic addressing, because again the addresses aren't relevant for the purpose of upholding the security property. I don't think the concept is off-topic."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 191,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged. Yes, I will add the `SO_BINDTODEVICE` approach to Alternatives Consideration."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "type": "ADDED",
                    "insertions": 228,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 241,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "b1b41306c0a2bcf1aac5c4d6ab9f127452358501",
            "parents": [
                "a8fff53a66656f884632322841d697c89bdba871"
            ],
            "ref": "refs/changes/46/68746/5",
            "uploader": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "createdOn": 1708499420,
            "author": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Quang, can you please update your name in Gerrit settings?  https://gerrit.openbmc.org/settings/ -> Full Name.  Otherwise the Gerrit emails come as \"Name of user not set\"."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 31,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "nit: I'd prefer '6' here."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 31,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 37,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Nit: 9."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 37,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 60,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Can we define what \"reset\" means in this context?  (or is this wording direct from the spec?)"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 60,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "the term \"reset\" is from DSP0270, section 9.2 \n\"Services shall delete all bootstrap accounts:\n\u2022 On any reset of the service.\n\u2022 On any reset of the host.\""
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 113,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I'm still not convinced this is possible.  How do you ensure, in Linux, that a particular USB device is assigned \"usb0\"?  How do you ensure that someone doesn't plug a USB network device into a USB slot and _that_ gets assigned usb0?\n\nI really don't think we should use usb0 in the design document as an example because it likely leads to a security vulnerability to someone that doesn't really understand the system, but just follows your example.  I would strongly suggest your implementation have a udev rule that explicitly assigns the device, ideally something like `usb-inband`."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 113,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged. udev rule is added as a requirement for this design."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 118,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "eth2 at least comes from the device tree, so that one is fine."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 118,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 132,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Can we align with what is already in the docs/redfish-authorization.md?  I think `openbmc-rfr-bootstrap` would be more appropriate."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 132,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 141,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "How are you going to configure the host IP address?\n\nIt isn't worded here, but I suspect this implies IPv4.  What do we do about hosts that don't even have IPv4 configured?  ( I know of some host configurations that are exclusively IPv6 )."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 141,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged. I have worded this paragraph to make it clear. Now we only need ethernet intarface and use that IP to search for its IP address that can be IPv4 or IPv6. The IP address configuration are removed in the requirement."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 144,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "nit: IPMI"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 144,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "nit: 9"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 144,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 144,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 165,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "The really annoying thing here is that we're going to be regularly modifying the `/etc/passwd` and `/etc/group` files.  While the extra wear is probably minimal, it does mean these files are guaranteed to be in the overlay instead of ever relying on the one from the flash image.  This puts additional work on upgrades (which we aren't really covering today)."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 165,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Yes, it seems like this is out of scope of this design."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 165,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Isn't this already true today?  phosphor-user-manager already writes those files, but I'm not sure what the alternative is?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 165,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nvm, reading through the doc I proposed an alternative."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 165,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "bootstrap account is used to create admin accounts at the time we set up the system, once the admin accounts are created, bootstrapp account should be deleted on the next reset of the system. Therefore, I don't expect the action create/delete bootstrap account happen quite often or changing `/etc/passwd` so often."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 170,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "How?  PSM doesn't signal individual daemons.\n\nIs PUM going to install a systemd service that triggers itself?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 170,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 175,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "How?  Again, we don't have daemons randomly signalling each other.  If this is a requirement, add a dependency on the bmcweb service.\n\nI'm not really understanding what this achieves.  Should we really be doing this when bmcweb is enabled or disabled?  I don't really why a restart of bmcweb should trigger a clear of the bootstrap users and how the host-user is suppose to know this happened."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 175,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Added more detailed on how BMCWeb notify PUM when it starts up.\n\nSpec DSP0270, section 9.2 says\n\"Services shall delete all bootstrap accounts:\n\u2022 On any reset of the service.\n\u2022 On any reset of the host.\"\nThe service mentioned here is the Redfish service which is BMCWeb.\n\nThe spec did not explain clearly why this should be done."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 191,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "spelling"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 191,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 193,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "You're basically treating IP address as a \"password\".  Anyone can still hook up a USB, use the magic IP address, and gain access to the system.  I don't think using the IP address is a sufficient security mechanism."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 193,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "bootstrap accounts are treated as a normal account in authetication, which means if a bootstrap account makes a connection request, `bmcweb` will do authenticating (if any, depends on configurations) as a normal account which are (authentication.hpp):\n1. performTLSAuth()\n2. performXtokenAuth()\n3. performCookieAuth()\n4. performTokenAuth()\n5. performBasicAuth()\nand one more authentication is added, that is 6.performBootstrapAccountAuth(). In this final step of the authentication, we do the authentication which mentioned in this design. I don't see any use case which results in a security risk here, or am I missing any thing here?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 193,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> I don't think using the IP address is a sufficient security mechanism.\n\nI commented essentially this same statement later, but I agree.  Identifying a NIC based on IP address is error prone at best.  We should be explicitly binding a specific device.\n\n\n> performBootstrapAccountAuth()\n\nWhen we get to code, we can talk about this, but auth of the bootstrap needs to occur based on the connection itself being from the correct source, not anything to do with the payload itself."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 193,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "If we choose systemd socket activation approach, the boostrap account authentication will be:\n1. check if a user is belonged to bootstrap account group\n2. check if the connecion is from host by checking the `isFromHost` flag which will be set to true when connection is from host interface."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 207,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "These should be backtick (`) quoted and not double-quote (\")."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 207,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 211,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "There shall not be a change to PSM to accomplish this design.  I've stated above my reasons.  Random signaling of specific state between daemons is not an acceptable architecture."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 211,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 223,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This doesn't seem to match the design."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 223,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "type": "ADDED",
                    "insertions": 230,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 243,
            "sizeDeletions": 0
        },
        {
            "number": 6,
            "revision": "6ee0337a8faee89ca7055a5fc6537ec0010b5f48",
            "parents": [
                "a8fff53a66656f884632322841d697c89bdba871"
            ],
            "ref": "refs/changes/46/68746/6",
            "uploader": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "createdOn": 1708880396,
            "author": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Alright, this avoids some of my concerns around network configuration by not over-constraining how that's dealt with. Seems okay to me."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Hi @Patrick, \nThere is a +1, do you still have any concerns/feedbacks on this document? Thank you."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Overall, I think OpenBMC we can do better than DSP0270, which is really only required on platforms where we can't trust the source of a given connection/packet.\n\nGiven that we have systemd/socket activation, we should be able to simply bind a new socket to the given interface, and pass that data to bmcweb that THIS socket is trusted, and should bypass auth checks.  FWIW, I started this work a long time ago here: https://gerrit.openbmc.org/c/openbmc/bmcweb/+/35265\n\nIf we still wanted to do the \"pass a password through ipmi command\" thing, we still could, but we need to be very explicit about:\n\n1. Where bootstrap credentials are allowed to be used and what actions they're allowed to use.  Do they get full admin rights?  Are there explicitly allowed permissions for the host interface?\n\n2. How we identify a connection coming from the host.  Both in code (ideally a systemd activated socket bound to that port) and in configuration.  This is a design point that other BMCs have ignored and have lead to things like: https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-34330\nThe fact that that is possible at a design level should be unacceptable for OpenBMC\n\n\n\n\nA simpler design might be for bmcweb itself to store the bootstrap account credentials as a type of Session, that way avoiding possible reuse of those credentials on other interfaces (IPMI/PLDM).  Given that we don't intend for these credentials to be a generic thing, but a redfish-specific thing, and bmcweb needs a branch anyway for \"is host interface\" that seems reasonable.\nbmcweb would provide a \"SetBootstrapCredentials(path <for host>)\" Dbus API that IPMID could call directly, avoiding both writing to /etc/password, and potentially allowing other PAM authenticated devices to log in.  That api would return a struct<username, password> using the internal bmcweb random-string generation routines (which have been already vetted as providing correct randomized data).  The password could be signed using the bmc private key, similar to JWT, which would avoid having to store the generated credential at all (needs more thought).\n\nWe might also consider launching the host interface in its own bmcweb process for process isolation.  That sounds difficult to get the Redfish interfaces right, but might be worth it.\n\nWe then would also return a username that we can immediately identify as bootstrap.  Something like:\n\nopenbmc_bootstrap_user_<Random digits>, which bmcweb can check with username.starts_with(\"openbmc_bootstrap_\") && <isFromHostInterface>\nand use that to:\n\n1. Deny attempts to log into the bootstrap username from non host interfaces.\n2. Allow ONLY logins coming from the bootstrap interface.\n\nThis design also makes it trivial to implement the part of DSP0270 that this doc missed, which is the Get manager certificate fingerprint IPMI command.  In theory implementing that allows a host to set up a trusted TLS connection to the BMC.\n\n\n\nPersonally, I think DSP0270 was written in 2017, a time when passing around passwords was still SOMEWHAT acceptable.  Now in 2024, Redfish supports mutual TLS and auth that supports forward secrecy, so ideally we would be passing some sort of cryptographic primitive rather than a password."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Thank you for your feedback Ed.\nI think using systemd activated socket and option `BindToDevice=` to bind the host interface is a good choice. Andrew also suggested using SO_BINDTODEVICE which I think the idea is similar.\nThat said, using `BindToDevice=` option, when there is a connection from host interface comes in, a flag `isFromHost` is set to true to indicate the the connection is from host, combining with the information of user group, we know the account is a bootstrap account and from host interface.\n\nIf we implemement this way, there is no need for configuration of host interface in entity manage and hence some of your reviews below will be resolved."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 42,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please put background on other BMC stacks that have implemented this, and have had extremely high severity CVEs because of it.  I would like to see them referenced in the testing section on how we're going to avoid a similar problems."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 113,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "These are linux naming schemes, which shouldn't be present in an EM config file.\n\nIn EM this would be something like\n\nType: AspeedNIC\nIndex: 1\nConnectedSecurelyToHost: True\n\n\n\"HostInterface\" and \"Eth0\" don't exist in the real world, they are names in a given devicetree.  The first NIC on an aspeed or nuvoton does exist in the real world, so that's what we use in an EM config.  We also use the type Aspeed to differentiate the Aspeed NIC from a usb NIC, or a plugged in PCIe NIC, which might also be eth0."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 113,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Note, that if on the other side we wanted to enforce a particular naming convention for the code to work, that's fine, it just shouldn't be in the EM config file."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 113,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "If we use systemd activation approach, this configuration will be removed"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 121,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "The above makes it look like there are two ports connected to the host?  Are there any systems where that's actually the case?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 121,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "In the blade server system, we have multiple hosts, that's why we need hostN for this configuration."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 132,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Considering that we today don't enforce group membership in pam, I see this as a significant change to current.  Please comment on the existing mailing list and code reviews that are proposing to change this."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 132,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 136,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This section seems incomplete.  Once it has verified the user belongs to that group, then what?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 136,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "After checking the current account of connection request is a bootstrap account, we then check if the connection is from host which current design based on ethernet interface and IP address."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 136,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Then what?  How are permissions handled?  What is that user allowed to do?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 144,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Which daemon will add the udev rule?  What happens in the interim where the entity-manager config hasn't been instantiated yet?  Because this is a security boundary, and high risk, we need to explicitly document what failure modes look like."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 151,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This will make the bootstrap interface available from interfaces that are NOT the host interface.  I'm fairly certain you want to provide some way to note that a user is a bootstrap user?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 151,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "yes, correct, the `CreateUser` method need a flag to know that we want to create a bootstrap account or a normal account."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 156,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "BMCWEB does not manage NICs, that's phosphor-networkds job.  Doing what you propose here is equivalent to putting business logic in bmcweb itself."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 156,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "bmcweb can query NICs info via service `xyz.openbmc_project.Network` but it will slow down the connecion time of a connection request. Caching NICs IP data is a way to avoid this situation.\nBut now, like I said, if we change to use systemd socket activation, we do not need to cache these info."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 156,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "\"I want to cache dbus\" is a different discussion, and while it might be warranted, needs a design doc on its own.  THere's certainly lots of things that would benefit from dbus caching, but it's not something we should add in isolation in a new design."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 158,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Persistently?  Non persistently?  How does this information expire?  In memory?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 158,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "The NICs info will be updated when bmcweb starts up and when there are changing in entity manager configuration, so it will last as soon as bmcweb is still working."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 158,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "update the doc to that effect."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 160,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit, compare."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 160,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 161,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "How will it do this?  How do we ensure that there are no conflicts?  What if there are two NICs with the same IP address?  What if the NIC has ipv4 and ipv6?\n\nLots of questions here;  I'm happy to see them answered in code, but just doing a string compare of an ip address isn't going to work for a security boundary."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 172,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "How will it do this?  There's no way to map a given user account to a given \"off\" signal."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 172,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "When receing the signals indicating that host is transitioning to off, all of the bootstrap accounts which belong to bootstrap user group will be deleted."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 177,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "What \"connection\"?  Does \"reset\" isn't well defined.  Is this on service restart?  HUP?  Both?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 177,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "The term `reset` is mentioned but not defined in DSP0270. It is not mentioned when the redfish service is going to off or in the process of initializing the service, so I believe we can use it in both cases. Adding dependency to delete bootstrap account at startup time is easier to implement."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 177,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I'm not worried about how DSP0270 defines it, I'm worried about how your design defines it.  It might borrow language, but it needs to be defined."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 185,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Why is adding a property a bad thing?"
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 185,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "No, it isn't. But leveraging something available is better than requesting to add a new property."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 185,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Not when it requires us to look at an opaque data source."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 188,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Given this provides a way to possibly bypass security, I suspect that we'll still need a meson option."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 188,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "with that being said, if we choose the approach systemd socket activation, we do not need host interface configuration anymore."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 188,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "we'll still need a meson option.  Not all systems will want to support this."
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "line": 232,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "WAAAAAY longer testing section needed here.  This is making changes to a security boundary in a non trivial way."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "designs/bootstrap-account-access-restriction.md",
                    "type": "ADDED",
                    "insertions": 231,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 244,
            "sizeDeletions": 0
        }
    ]
}