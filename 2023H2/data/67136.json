{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "I1d00ef561fed7e3ba799969a112ee58b6578ce32",
    "number": 67136,
    "subject": "Fix local compile",
    "owner": {
        "name": "Carson",
        "email": "clabrado@google.com",
        "username": "carsonlab"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/67136",
    "hashtags": [],
    "createdOn": 1697588921,
    "lastUpdated": 1697611895,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1697588921,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1697589007,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1697589007,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1697590287,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/75077/ : SUCCESS"
        },
        {
            "timestamp": 1697590862,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1697591041,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1697591083,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1: Code-Review+1"
        },
        {
            "timestamp": 1697593134,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1697593150,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1697593200,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1697593200,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1697594836,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/75080/ : SUCCESS"
        },
        {
            "timestamp": 1697611892,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2: Code-Review+2\n\n(2 comments)"
        },
        {
            "timestamp": 1697611895,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully merged"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "fee65f5dfc0edcd33bbcd2d470f70641c19fd824",
            "parents": [
                "5ebb9d33056cbffd8ec0affc49ac9e439e0c4c9e"
            ],
            "ref": "refs/changes/36/67136/1",
            "uploader": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "createdOn": 1697588921,
            "author": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "meson.build",
                    "line": 310,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Overly nitpicky, I appologize, but can we make this a multi-line list, so we don't get bad merge conflicts every time someone adds something.  Somehting like what you did on line 329 would be good.  You can decide if you want an intermediate variable or not."
                },
                {
                    "file": "meson.build",
                    "line": 310,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "No worries, I've made that change and don't mind to tweak it further if needed"
                },
                {
                    "file": "meson.build",
                    "line": 323,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I'm not really opposed to what you did, but this line was supposed to pull in all the header-only libraries (which I guess it didn't)?. When is pulling in an explicit library required?  Previously it was only when using a shared/static library, but you've done this work (presumably not for no reason), so clearly that's not right.\n\nWhat I'm a little confused about is that this isn't all the bmcweb boost dependencies, for example, we use boost::system;:error_code in places.\n\nAny idea what the rules are on when things should go in this list, and when they are covered by headers?"
                },
                {
                    "file": "meson.build",
                    "line": 323,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I really only want to know so that I don't break this in the future.  I was testing in the CI docker before boost 1.83 was added, and what I had before seemed to work for me.  Can't really explain why it's broken for you and not in the CI docker."
                },
                {
                    "file": "meson.build",
                    "line": 323,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "I just kept rebuilding and added each library one at a time until it stopped failing.  It seemed like those libraries I added were pulled into subprojects/ but they weren't actually getting included.\n\nI don't understand the meson system well enough to say if this is the proper way to do it or why these are the specific ones that are required.  There also isn't much of a commonality between the libraries that are added here.\n\nFor all I know the other subprojects could already be pulling in some of the boost libraries.  Or some of subprojects/boost-1.83.0/libs are not getting correctly linked by default so meson doesn't know to look there for the other boost libraries.  It then ends up passing if 1.83.0 is previously installed because those are already in your path.\n\nFor the CI docker was that configured to have 1.83.0 installed already or is it completely missing so that the libraries will have to be pulled into subprojects/?  I have noticed that compilation works correctly when the libraries already exist and meson doesn't have to pull them into subprojects/."
                },
                {
                    "file": "meson.build",
                    "line": 323,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Cool.  I was mostly just hoping \n\n> For the CI docker was that configured to have 1.83.0\n\nIt was configured with 1.82, which shouldn't have passed the checks.  Maybe it was pulling 1.82 for everything else and 1.83 for url?  Idk.\n\nAll good, was just hoping"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 39,
            "sizeDeletions": 4
        },
        {
            "number": 2,
            "revision": "2b5b4dae1925b4b0884b5ed2be0a34dff851372c",
            "parents": [
                "5ebb9d33056cbffd8ec0affc49ac9e439e0c4c9e"
            ],
            "ref": "refs/changes/36/67136/2",
            "uploader": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "createdOn": 1697593134,
            "author": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Pretty trivial build fix.  As always, happy to discuss."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 54,
            "sizeDeletions": 4
        }
    ]
}