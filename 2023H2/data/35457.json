{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "If2a955868647d9dd5f76cba4984bba8183340391",
    "number": 35457,
    "subject": "Move login state machine to bmcweb",
    "owner": {
        "name": "Ed Tanous",
        "email": "ed@tanous.net",
        "username": "edtanous"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/35457",
    "hashtags": [],
    "createdOn": 1597007338,
    "lastUpdated": 1692029052,
    "open": false,
    "status": "ABANDONED",
    "comments": [
        {
            "timestamp": 1597007338,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1597007467,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 2: New patch set was added with same tree, parent, and commit message as Patch Set 1."
        },
        {
            "timestamp": 1597007490,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1597007495,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/2665/"
        },
        {
            "timestamp": 1597007663,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/2665/ : FAILURE"
        },
        {
            "timestamp": 1597008546,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 3: Patch Set 2 was rebased."
        },
        {
            "timestamp": 1597008584,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1597008590,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/2671/"
        },
        {
            "timestamp": 1597008814,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1597008829,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1597008830,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/2671/ : ABORTED"
        },
        {
            "timestamp": 1597008835,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/2672/"
        },
        {
            "timestamp": 1597009126,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/2672/ : SUCCESS"
        },
        {
            "timestamp": 1597085543,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 5: New patch set was added with same tree, parent, and commit message as Patch Set 4."
        },
        {
            "timestamp": 1597085595,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1597085597,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1597085603,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Verified\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/2729/"
        },
        {
            "timestamp": 1597085888,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/2729/ : SUCCESS"
        },
        {
            "timestamp": 1597261485,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 5:\n\n(4 comments)"
        },
        {
            "timestamp": 1597262424,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1597263981,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph.reynolds1@ibm.com",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 5:\n\n(7 comments)\n\nSome initial comments in the code.  But I am still trying understand why this is needed.  The way I understand it is: the WebUI javascript code runs in the browser's context, and bmcweb shouldn't care if it is being used by the browser or another REST API client.  What am I missing?"
        },
        {
            "timestamp": 1597265730,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\n(12 comments)\n\n> Patch Set 5:\n> \n> (7 comments)\n> \n> Some initial comments in the code.  But I am still trying understand why this is needed.  The way I understand it is: the WebUI javascript code runs in the browser's context, and bmcweb shouldn't care if it is being used by the browser or another REST API client.  What am I missing?\n\nWHat can I clarif"
        },
        {
            "timestamp": 1597265753,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\nBTW, Thanks for reviewing this!  I appreciate it."
        },
        {
            "timestamp": 1597269091,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\n> Patch Set 5:\n> \n> (12 comments)\n> \n> > Patch Set 5:\n> > \n> > (7 comments)\n> > \n> > Some initial comments in the code.  But I am still trying understand why this is needed.  The way I understand it is: the WebUI javascript code runs in the browser's context, and bmcweb shouldn't care if it is being used by the browser or another REST API client.  What am I missing?\n> \n> WHat can I clarif\n\nDamn, this got truncated and half done.  What I meant to say is \"What can I clarify in the commit message\"  I believe I've included the relevant detail there, if you disagree with any of it, I'm happy to hear about other options that would solve the longstanding architectural problem, or if there's anything I can do to make my commit message more clear, I'm happy to do that as well.  Alternatively, if you believe that we shouldn't fix this at all, happy to hear that too (it definitely reduces my workload :-)   )\n\n\"bmcweb shouldn't care if it is being used by the browser or another REST API client\"\nIn principal, I agree with you, and wish that were the case engineering-wise.  Unfortunately, that's not the reality that bmcweb exists in today.  Browsers have a very specific attack surface, and things like cross site scripting have to be considered, which requires considering the browser in bmcweb flows.  Things like content security policy, CORS, CSRF, and cookie storage needs to be considered when you're talking to a browser, and can basically be ignored when talking to a generic REST client.  There are plenty of cases where bmcweb has to take specific precautions and tests for a browser context.  One such long standing example is here:\nhttps://github.com/openbmc/bmcweb/blob/6964c9820ad101d6fc30badd1ae353efea3dd094/include/authorization.hpp#L286"
        },
        {
            "timestamp": 1597285497,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph.reynolds1@ibm.com",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 5:\n\n(4 comments)"
        },
        {
            "timestamp": 1597439722,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\n(2 comments)"
        },
        {
            "timestamp": 1597456820,
            "reviewer": {
                "name": "Derick Montague",
                "email": "derick.montague@ibm.com",
                "username": "derick-montague"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1597461076,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1597512429,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1597674435,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1597689135,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\n(1 comment)\n\nIf"
        },
        {
            "timestamp": 1597697718,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6: Patch Set 5 was rebased"
        },
        {
            "timestamp": 1597697736,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1597697743,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/3104/"
        },
        {
            "timestamp": 1597698109,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/3104/ : SUCCESS"
        },
        {
            "timestamp": 1598392050,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph.reynolds1@ibm.com",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1598392614,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1598392739,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1598392756,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1598392762,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/3618/"
        },
        {
            "timestamp": 1598393043,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/3618/ : SUCCESS"
        },
        {
            "timestamp": 1598395757,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1598409290,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1598470821,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 8: Patch Set 7 was rebased."
        },
        {
            "timestamp": 1598470843,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1598470850,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/3728/"
        },
        {
            "timestamp": 1598471378,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/3728/ : SUCCESS"
        },
        {
            "timestamp": 1598472104,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1598472238,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1598472483,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1598472667,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 8:\n\n(2 comments)"
        },
        {
            "timestamp": 1598475317,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8:\n\n(4 comments)"
        },
        {
            "timestamp": 1598475858,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1598557833,
            "reviewer": {
                "name": "Derick Montague",
                "email": "derick.montague@ibm.com",
                "username": "derick-montague"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1598564657,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8:\n\n(1 comment)\n\n> Patch Set 8:\n> \n> (1 comment)\n\nWe seem to be getting back into the webui-vue vs phosphor-webui thing again.  If I can clarify anything about what this patch fixes, I'm happy to do it.  If the maintainers could clarify what they'd like to see going forward, I appreciate it.  The options I see here are:\nBreak phosphor-webui, make webui-vue the only thing that works correctly.\nRemove/move the translation button in webui-vue until it supersedes phosphor-webui.\nAdd a compile time option to bmcweb to allow webui-vue to be used in the old security model.\nDrop this patch entirely, and take the position that translations and webui-vue are more important than reducing the attack surface."
        },
        {
            "timestamp": 1598847027,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph.reynolds1@ibm.com",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 8:\n\n(1 comment)\n\nEd, For commit message item 2, I am unclear what routes would need to be allowed to be read by an unauthenticated user and how this would substantially change that.  Specifically, I am looking at authentication.hpp line 200-220 and not seeing much difference.  Please clarify.\n\nFor commit message item 3, I assume this refers to the javascript code running in the client's browser?  I'm not up to speed on the security risks...  <Joseph looks up \"pre-auth web browser attack\"/>   I see it now: a smaller pre-auth attack surface is better.  I would be good to code-walkthrough the pre-auth flows for phosphor-vue.\n\nI guess I favor a compile-time option to switch between: (A default) bmcweb provides the login page, and if there is a web app it has to work around it, (B) bmcweb does not provide a login page. and if there is a web app is is expected to provide one.\nbut I don't really have any stake in the matter."
        },
        {
            "timestamp": 1598848153,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8:\n\n(1 comment)\n\n> Patch Set 8:\n> \n> (1 comment)\n> \n> Ed, For commit message item 2, I am unclear what routes would need to be allowed to be read by an unauthenticated user and how this would substantially change that.  Specifically, I am looking at authentication.hpp line 200-220 and not seeing much difference.  Please clarify.\n> \n\nIt removes all filesystem-found resources (with the exception of redfish).  From a security perspective, this is a pretty substantial change in the whitelist allowance.\n\n> For commit message item 3, I assume this refers to the javascript code running in the client's browser?  I'm not up to speed on the security risks...  <Joseph looks up \"pre-auth web browser attack\"/>   I see it now: a smaller pre-auth attack surface is better.  I would be good to code-walkthrough the pre-auth flows for phosphor-vue.\n\nWhile I agree reviews are good, the whole point of this patchset is to keep the authentication and authorization flows in one place, in bmcweb.  In theory, with this patchset, webui-vue pre-auth attacks should be very difficult (if not impossible) given that you can't even download webui-vue before authentication.\n\n> \n> I guess I favor a compile-time option to switch between: (A default) bmcweb provides the login page, and if there is a web app it has to work around it, (B) bmcweb does not provide a login page. and if there is a web app is is expected to provide one.\n> but I don't really have any stake in the matter.\n\nI offered to do this, and given the contention between features vs security, I think this is probably the best option sofar, with the hope that once the webuis converge and get feature parity, we can just get rid of it."
        },
        {
            "timestamp": 1599080823,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 8:\n\n(1 comment)\n\nWe discussed this in the GUI Design Meeting today.  Intel currently uses a fork of phosphor-webui, but our plan is to deprecate that fork and move to the upstream webui-vue for our future platforms.\n\nI'm not sure I understand the pros and cons well enough to comment on the security issue here, but Intel tends to prefer more security by default, so I would be interested if we can figure out how to support this in webui-vue.  Thanks!"
        },
        {
            "timestamp": 1599085504,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8:\n\n> Patch Set 8:\n> \n> (1 comment)\n> \n> We discussed this in the GUI Design Meeting today.  Intel currently uses a fork of phosphor-webui, but our plan is to deprecate that fork and move to the upstream webui-vue for our future platforms.\n> \n> I'm not sure I understand the pros and cons well enough to comment on the security issue here, but Intel tends to prefer more security by default, so I would be interested if we can figure out how to support this in webui-vue.  Thanks!\n\nIn theory, this already supports webui-vue, today you would just get a duplicated login, as webui-vue doesn't obey the \"IsAuthenticated\" cookie, as nobody has built that feature out yet.  Once that is implemented, it should work just fine, with the exception of the translation button on the login page being different between the UIs, but that's easy enough to add back once phosphor-webui is deprecated.\n\nIt should be noted, I haven't tested any of the above, but if someone does, let me know."
        },
        {
            "timestamp": 1599087126,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 8:\n\n(1 comment)\n\n> Patch Set 8:\n> \n> (1 comment)\n> \n> > Patch Set 8:\n> > \n> > (1 comment)\n> > \n> > \n> > I guess I favor a compile-time option to switch between: (A default) bmcweb provides the login page, and if there is a web app it has to work around it, (B) bmcweb does not provide a login page. and if there is a web app is is expected to provide one.\n> > but I don't really have any stake in the matter.\n> \n> I offered to do this, and given the contention between features vs security, I think this is probably the best option sofar, with the hope that once the webuis converge and get feature parity, we can just get rid of it.\n\n\nWould you be willing to make the default (B) \"bmcweb does not provide a login page. and if there is a web app is is expected to provide one\" ?"
        },
        {
            "timestamp": 1599094289,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8:\n\n(1 comment)\n\n> Patch Set 8:\n> \n> (1 comment)\n> \n> > Patch Set 8:\n> > \n> > (1 comment)\n> > \n> > > Patch Set 8:\n> > > \n> > > (1 comment)\n> > > \n> > > \n> > > I guess I favor a compile-time option to switch between: (A default) bmcweb provides the login page, and if there is a web app it has to work around it, (B) bmcweb does not provide a login page. and if there is a web app is is expected to provide one.\n> > > but I don't really have any stake in the matter.\n> > \n> > I offered to do this, and given the contention between features vs security, I think this is probably the best option sofar, with the hope that once the webuis converge and get feature parity, we can just get rid of it.\n> \n> \n> Would you be willing to make the default (B) \"bmcweb does not provide a login page. and if there is a web app is is expected to provide one\" ?\n\nI'm happy to discuss it.  Here's my thinking on it:\n1. In OpenBMC today, there's only one user of webui-vue, so it's easy enough to bbappend in the right config parameter, so we're one patch away from nothing breaking today.  I'm happy to write that patch to meta-ibm.\n2. It's not really an encumbrance to adoption of webui-vue, as it should work even without the option, it will just have mediocre behavior until webui-vue implements IsAuthenticated/Mutual TLS, which, based on your guys talk of outright deprecating phosphor-webui I assume you have a timeline on?\n3. Security by default is more important.  As is, the user has to opt into using webui-vue.  It's easy enough to document that it also requires setting this option.\n\nThat would lead me to believe that it should be on by default.\n\n\nBut I wonder: Is there a way we can solve this in the recipes?  Just have bmcweb have a phosphor-webui config option, and a webui-vue option, similar to how some packages build against gnutls AND openssl, they just become flavors?  Does anyone know how that works?"
        },
        {
            "timestamp": 1599097065,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1599153047,
            "reviewer": {
                "name": "Yoshie Muranaka",
                "email": "yoshiemuranaka@gmail.com",
                "username": "yoshiemuranaka"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1599157524,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 9."
        },
        {
            "timestamp": 1599157536,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1599157542,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/4181/"
        },
        {
            "timestamp": 1599157825,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/4181/ : SUCCESS"
        },
        {
            "timestamp": 1599158945,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 9:\n\n(1 comment)"
        },
        {
            "timestamp": 1599160357,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 10."
        },
        {
            "timestamp": 1599160372,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1599160378,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/4185/"
        },
        {
            "timestamp": 1599160670,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/4185/ : SUCCESS"
        },
        {
            "timestamp": 1599249641,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 10:\n\n> Patch Set 8:\n> \n> (1 comment)\n> \n> > Patch Set 8:\n> > \n> > (1 comment)\n> > \n> > > Patch Set 8:\n> > > \n> > > (1 comment)\n> > > \n> > > > Patch Set 8:\n> > > > \n> > > > (1 comment)\n> > > > \n> > > > \n> > > > I guess I favor a compile-time option to switch between: (A default) bmcweb provides the login page, and if there is a web app it has to work around it, (B) bmcweb does not provide a login page. and if there is a web app is is expected to provide one.\n> > > > but I don't really have any stake in the matter.\n> > > \n> > > I offered to do this, and given the contention between features vs security, I think this is probably the best option sofar, with the hope that once the webuis converge and get feature parity, we can just get rid of it.\n> > \n> > \n> > Would you be willing to make the default (B) \"bmcweb does not provide a login page. and if there is a web app is is expected to provide one\" ?\n> \n> I'm happy to discuss it.  Here's my thinking on it:\n> 1. In OpenBMC today, there's only one user of webui-vue, so it's easy enough to bbappend in the right config parameter, so we're one patch away from nothing breaking today.  I'm happy to write that patch to meta-ibm.\n> 2. It's not really an encumbrance to adoption of webui-vue, as it should work even without the option, it will just have mediocre behavior until webui-vue implements IsAuthenticated/Mutual TLS, which, based on your guys talk of outright deprecating phosphor-webui I assume you have a timeline on?\n> 3. Security by default is more important.  As is, the user has to opt into using webui-vue.  It's easy enough to document that it also requires setting this option.\n> \n> That would lead me to believe that it should be on by default.\n> \n> \n> But I wonder: Is there a way we can solve this in the recipes?  Just have bmcweb have a phosphor-webui config option, and a webui-vue option, similar to how some packages build against gnutls AND openssl, they just become flavors?  Does anyone know how that works?\n\n\nThe above idea seems to have panned out quite nicely, and I've added a switch to the recipe that understands what webui-vue is, and what options it requires.\n\nI broke the bmcweb behavior down into 2 compile time options:\n1. Whether or not bmcweb should provide a login page\n2. Whether or not bmcweb should lock down the \"allowed without authentication list\" to no longer include the filesystem.\n\nThe recipe now implicitly turns these to the correct settings if you're building with webui-vue, but keeps the default to phosphor-webui, as I'd much rather that change get pushed by the webui-vue core team.  I've put patches up for meta-ibm to enable the PAKCAGECONFIG option, and am happy to do it for anyone else that asks (although nobody else has enabled webui-vue in upstream).  I think this is the best compromise as it allows neither of us to block eachothers development, as that was never the intent.\n\nMy hope is that webui-vue gets to feature parity soon, and both these options become completely obsolete."
        },
        {
            "timestamp": 1599601264,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph.reynolds1@ibm.com",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 10:\n\nLooks good to me.  I guess if you use BMCWEB_INSECURE_UNAUTHENTICATED_JAVASCRIPT to provide your own login page, then you should turn OFF BMCWEB_ENABLE_LOGIN_PAGE."
        },
        {
            "timestamp": 1599601752,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 10:\n\n> Patch Set 10:\n> \n> Looks good to me.  I guess if you use BMCWEB_INSECURE_UNAUTHENTICATED_JAVASCRIPT to provide your own login page, then you should turn OFF BMCWEB_ENABLE_LOGIN_PAGE.\n\nThey're two independent options.  Technically speaking, if you were very security concious, another project (webui-vue) could provide a non-javascript login page, similar to the one bmcweb has, in which case you would want BMCWEB_INSECURE_UNAUTHENTICATED_JAVASCRIPT=ON and BMCWEB_ENABLE_LOGIN_PAGE=OFF"
        },
        {
            "timestamp": 1599661548,
            "reviewer": {
                "name": "Derick Montague",
                "email": "derick.montague@ibm.com",
                "username": "derick-montague"
            },
            "message": "Patch Set 10:\n\nIf we are moving this way, does that mean the URL forwarding will be handled by this page?"
        },
        {
            "timestamp": 1599668701,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 10:\n\n> Patch Set 10:\n> \n> If we are moving this way, does that mean the URL forwarding will be handled by this page?\n\nDepends on which URL forwarding you're talking about.\n\nHTTP->HTTPS forwarding?  No.  That's another patchset.\n\nPost login URL forwarding on 401?  Yes, but it only works if BMCWEB_ENABLE_LOGIN_PAGE is enabled.  If you're accessing the login route from a Javascript context over an XHR, the forward has to be implemented in javascript."
        },
        {
            "timestamp": 1599845374,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 11."
        },
        {
            "timestamp": 1599845388,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1599845393,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/4632/"
        },
        {
            "timestamp": 1599845507,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/4632/ : FAILURE"
        },
        {
            "timestamp": 1599850478,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 12: Patch Set 11 was rebased."
        },
        {
            "timestamp": 1599850493,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1599850812,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/4639/ : SUCCESS"
        },
        {
            "timestamp": 1599858864,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 13."
        },
        {
            "timestamp": 1599858883,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1599858889,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/4649/"
        },
        {
            "timestamp": 1599859209,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/4649/ : SUCCESS"
        },
        {
            "timestamp": 1600093405,
            "reviewer": {
                "name": "Derick Montague",
                "email": "derick.montague@ibm.com",
                "username": "derick-montague"
            },
            "message": "Patch Set 13:\n\nThe changes you made are great, thank you! We are planning to make the webui-vue login page a stand-alone page with a separate bundle to minimize the fingerprinting of BMCWeb. We would like to propose a flag that allows the user to choose which login page to use rather than passing an insecure flag.\n\nThis proposal will enable the webui-vue GUI to offer theming and translation options as designed. The only concern remaining, that I am aware of, is the concern of a GET Denial of Service attack on the unauthenticated JavaScript bundle. Could you share the criticality of this concern? I don't understand the significance of this concern and it seems to be the primary security concern of this proposal and the insecure flag.\n\nI noticed a TODO for handling bad password redirects. Have we also considered the change password on the first login functionality? That functionality is needed to meet legislation in CA. That functionality is also part of the webui-vue login page."
        },
        {
            "timestamp": 1600094260,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 13:\n\n> Patch Set 13:\n> \n> The changes you made are great, thank you! We are planning to make the webui-vue login page a stand-alone page with a separate bundle to minimize the fingerprinting of BMCWeb. We would like to propose a flag that allows the user to choose which login page to use rather than passing an insecure flag.\n\nCan you take a look at the current patchset, and see if it meets your needs.  Right now, there are two config options, and I've set both for webui-vue.  I believe both are required to do what you want, as you intend to use Javascript on the login page.\n\n> \n> This proposal will enable the webui-vue GUI to offer theming and translation options as designed. The only concern remaining, that I am aware of, is the concern of a GET Denial of Service attack on the unauthenticated JavaScript bundle. Could you share the criticality of this concern? I don't understand the significance of this concern and it seems to be the primary security concern of this proposal and the insecure flag.\n\nThe goal is to remove javascript from the attack surface entirely, which would require some changes on the part of webui-vue.  This also reduces the fingerprintability, as the login page has no dependencies on anything but itself, a small css file, and the logo, which, for a given system, should change rarely, if ever, unlike the javascript bundle, which changes a lot (including on a lot of security fixes).  It also means that we can set much more aggressive rate limits on logged out clients, as they should not be downloading any large payloads unauthenticated (not yet implemented, but coming).\n\nIt should be noted, themeing and translation options aren't prevented by this change.  It's not as if the CSS has been deleted, and webui-vue can still provide its own (hopefully minimal) CSS.  Once webui-vue is done, and has replaced phosphor-webui we can add back the translation button to the login page, and pass them through the login process.\n\n> \n> I noticed a TODO for handling bad password redirects. Have we also considered the change password on the first login functionality? That functionality is needed to meet legislation in CA. That functionality is also part of the webui-vue login page.\n\nYes, I have a plan for this, utilizing a similar mechanism to what Mutual TLS uses, but I'm avoiding doing more work until we have some consensus on how to proceed with the multi-GUI problem, as that work is impacted by which direction we choose to go."
        },
        {
            "timestamp": 1600103531,
            "reviewer": {
                "name": "Derick Montague",
                "email": "derick.montague@ibm.com",
                "username": "derick-montague"
            },
            "message": "Patch Set 13:\n\n> It should be noted, themeing and translation options aren't prevented by this change.  It's not as if the CSS has been deleted, and webui-vue can still provide its own (hopefully minimal) CSS.  Once webui-vue is done, and has replaced phosphor-webui we can add back the translation button to the login page, and pass them through the login process.\n\nTranslation is handled using local storage in the browser since, to my knowledge, there aren't any settings for the user to save that information."
        },
        {
            "timestamp": 1600103850,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 13:\n\n> Patch Set 13:\n> \n> > It should be noted, themeing and translation options aren't prevented by this change.  It's not as if the CSS has been deleted, and webui-vue can still provide its own (hopefully minimal) CSS.  Once webui-vue is done, and has replaced phosphor-webui we can add back the translation button to the login page, and pass them through the login process.\n> \n> Translation is handled using local storage in the browser since, to my knowledge, there aren't any settings for the user to save that information.\n\nBrowser cookies are a way to save that information without needing javascript.  Also, it might even be better to save the translation setting to the bmcweb user itself, so your user tracks your language with you across clients.  Also in this way, you could globally change your language for all users, which also seems like a very inclusive thing to do when you have multiple classes of users accessing the system, not having them all default to english.\n\nIf I were implementing translations in the webui, that's how I would do it."
        },
        {
            "timestamp": 1600106944,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 13:\n\n> Patch Set 13:\n> \n> \n> The goal is to remove javascript from the attack surface entirely\n\nThis seems like a pretty extreme security position. I go to my brokerage or bank and they are loading many javascript files before I log in. Files that are much larger than the proposed separate bundle for login."
        },
        {
            "timestamp": 1600109057,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 13:\n\n> Patch Set 13:\n> \n> > Patch Set 13:\n> > \n> > \n> > The goal is to remove javascript from the attack surface entirely\n> \n> This seems like a pretty extreme security position. I go to my brokerage or bank and they are loading many javascript files before I log in. Files that are much larger than the proposed separate bundle for login.\n\nYour bank isn't running its servers off a BMC (At least I hope not).  Considering there's significantly more compute and network resources, as well as significantly more DOS mitigations available to the (probably x86 multicore and some kind of CDN) server, you're right, it can afford to download very large files to unauthenticated clients, and is a very.... very different threat model.  Your bank is also patching their servers in parallel, so the likelihood that an attacker can fingerprint one of your banks servers that's running an old unpatched version is very very low.  The likelihood that I can fingerprint a BMC in industry running an unpatched version is much higher, given the array of systems that run OpenBMC and how often a lot of manufacturers release patches.\n\nWith that said, I'll bet if you download your banks large files in a loop from 100 threads, eventually your banks CDN will cut you off and blacklist your IP.  Right now the BMC can't do that (although I wish we could).\n\nI don't consider this that extreme in the context of an industry of BMCs with limited resources and bandwidth, and very long deploy cycles, but if you really think it is, that's why it's an option in bmcweb that can be disabled, just like we've done for the other options some would consider extreme.\n\nI will say, that in the long term, I could see having a \"login.js\" that contains no framework code, and just the bare minimum of things to do the client-side maneuvering we want to do, but thusfar, I was able to implement the full login page without any javascript, which is an improvement on load times in general, and a good thing overall in terms of complexity.\n\nAlso, if this extreme position comes at no external impact to the user, does it matter?  Lets make things as simple and fast as we can."
        },
        {
            "timestamp": 1600322749,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 14: Patch Set 13 was rebased."
        },
        {
            "timestamp": 1600322765,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 14: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1600322770,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 14:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/4842/"
        },
        {
            "timestamp": 1600322881,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 15: Patch Set 14 was rebased."
        },
        {
            "timestamp": 1600322894,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 15: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1600322896,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 14: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/4842/ : ABORTED"
        },
        {
            "timestamp": 1600322905,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 15:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/4843/"
        },
        {
            "timestamp": 1600323204,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 15: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/4843/ : SUCCESS"
        },
        {
            "timestamp": 1600715176,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 15:\n\nGunnar, Derick, Yoshie, do you have any more input that can help here?\n\nI see the proposal to make webui-vue on the mailing list, which is a step in the right direction, but I think it's moot at this point now that we can build in both modes.\n\nYoshie seemed to be in favor of moving the translation button for the timebeing to handle the conflict until webui-vue is standardized.  Gunnar, Derick, what are your thoughts?"
        },
        {
            "timestamp": 1601046906,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 15:\n\n(1 comment)"
        },
        {
            "timestamp": 1601080189,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 15:\n\n(1 comment)"
        },
        {
            "timestamp": 1601222880,
            "reviewer": {
                "name": "Derick Montague",
                "email": "derick.montague@ibm.com",
                "username": "derick-montague"
            },
            "message": "Patch Set 15:\n\n(1 comment)\n\n> Patch Set 15:\n> \n> (1 comment)"
        },
        {
            "timestamp": 1601225874,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 15:\n\n(1 comment)"
        },
        {
            "timestamp": 1602187554,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 15:\n\n(1 comment)\n\n> Patch Set 15:\n> \n> (1 comment)"
        },
        {
            "timestamp": 1602189718,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 15:\n\n(1 comment)"
        },
        {
            "timestamp": 1602192359,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 15:\n\n(1 comment)"
        },
        {
            "timestamp": 1602200322,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 15:\n\n(1 comment)"
        },
        {
            "timestamp": 1602267773,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 16."
        },
        {
            "timestamp": 1602267788,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 16: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1602267794,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 16:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/6075/"
        },
        {
            "timestamp": 1602267888,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 16: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/6075/ : FAILURE"
        },
        {
            "timestamp": 1602276166,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 16:\n\n(1 comment)"
        },
        {
            "timestamp": 1602280169,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 16:\n\n(1 comment)"
        },
        {
            "timestamp": 1602602595,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 17: Patch Set 16 was rebased."
        },
        {
            "timestamp": 1602602611,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 17: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1602602617,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 17:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/6224/"
        },
        {
            "timestamp": 1602602708,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 17: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/6224/ : FAILURE"
        },
        {
            "timestamp": 1602603269,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 18."
        },
        {
            "timestamp": 1602603283,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 18: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1602603292,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 18:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/6228/"
        },
        {
            "timestamp": 1602603467,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 18: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/6228/ : FAILURE"
        },
        {
            "timestamp": 1602606664,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 19."
        },
        {
            "timestamp": 1602606682,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 19: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1602606687,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 19:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/6229/"
        },
        {
            "timestamp": 1602606718,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 19: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/6229/ : FAILURE"
        },
        {
            "timestamp": 1602607290,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 20."
        },
        {
            "timestamp": 1602607306,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 20: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1602607312,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 20:\n\nBuild Started https://jenkins.openbmc.org/job/ci-repository/6231/"
        },
        {
            "timestamp": 1602608220,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 20: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/6231/ : SUCCESS"
        },
        {
            "timestamp": 1602797680,
            "reviewer": {
                "name": "Derick Montague",
                "email": "derick.montague@ibm.com",
                "username": "derick-montague"
            },
            "message": "Patch Set 20:\n\n(1 comment)"
        },
        {
            "timestamp": 1602800149,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 20:\n\n(1 comment)"
        },
        {
            "timestamp": 1606367147,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 20:\n\nThis change kind of got caught up in the multiple-sockets change, and there are some conflicts/things that need synced, hence why this patchset hasn't been updated for a couple months.  I'll get this updated after its dependencies have been merged."
        },
        {
            "timestamp": 1692029052,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Abandoned\n\nNo time to work on this."
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "ec7111f81dcc5ff0dc5ea97e00b3a68ee6444b5f",
            "parents": [
                "f950bb1d85ffe92d71555773130a619eef93fe7d"
            ],
            "ref": "refs/changes/57/35457/1",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1597007338,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 92,
                    "deletions": 0
                },
                {
                    "file": "static/login/index.html",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "include/authorization.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -8
                },
                {
                    "file": "static/login/logo.svg",
                    "type": "ADDED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "http/http_response.h",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "static/login/login.css",
                    "type": "ADDED",
                    "insertions": 324,
                    "deletions": 0
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 27,
                    "deletions": -11
                },
                {
                    "file": "http/http_connection.h",
                    "type": "MODIFIED",
                    "insertions": 33,
                    "deletions": -26
                },
                {
                    "file": "include/webassets.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "include/webroutes.hpp",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -13
                }
            ],
            "sizeInsertions": 520,
            "sizeDeletions": 63
        },
        {
            "number": 2,
            "revision": "e57b3c42047d3fe05fea9f2f45f0df49ecce5d56",
            "parents": [
                "58c88b1552312e99b5decf73f017ba849f1be408"
            ],
            "ref": "refs/changes/57/35457/2",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1597007467,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "NO_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 92,
                    "deletions": 0
                },
                {
                    "file": "static/login/index.html",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "include/authorization.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -8
                },
                {
                    "file": "static/login/logo.svg",
                    "type": "ADDED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "http/http_response.h",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "static/login/login.css",
                    "type": "ADDED",
                    "insertions": 324,
                    "deletions": 0
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 27,
                    "deletions": -11
                },
                {
                    "file": "http/http_connection.h",
                    "type": "MODIFIED",
                    "insertions": 33,
                    "deletions": -26
                },
                {
                    "file": "include/webassets.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "include/webroutes.hpp",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -13
                }
            ],
            "sizeInsertions": 520,
            "sizeDeletions": 63
        },
        {
            "number": 3,
            "revision": "b5e4951560b760f695cbf852c9c7aa82be00c750",
            "parents": [
                "f5d0dc3bbd965eb0a494417547365f1861f1daf2"
            ],
            "ref": "refs/changes/57/35457/3",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1597008546,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 92,
                    "deletions": 0
                },
                {
                    "file": "static/login/index.html",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "include/authorization.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -8
                },
                {
                    "file": "static/login/logo.svg",
                    "type": "ADDED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "http/http_response.h",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "static/login/login.css",
                    "type": "ADDED",
                    "insertions": 324,
                    "deletions": 0
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 27,
                    "deletions": -11
                },
                {
                    "file": "http/http_connection.h",
                    "type": "MODIFIED",
                    "insertions": 33,
                    "deletions": -26
                },
                {
                    "file": "include/webassets.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "include/webroutes.hpp",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -13
                }
            ],
            "sizeInsertions": 520,
            "sizeDeletions": 63
        },
        {
            "number": 4,
            "revision": "154b87c6d520f539c2089bfdb959bbb578dd1119",
            "parents": [
                "f5d0dc3bbd965eb0a494417547365f1861f1daf2"
            ],
            "ref": "refs/changes/57/35457/4",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1597008814,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 92,
                    "deletions": 0
                },
                {
                    "file": "static/login/index.html",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "include/authorization.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -8
                },
                {
                    "file": "static/login/logo.svg",
                    "type": "ADDED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "http/http_response.h",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "static/login/login.css",
                    "type": "ADDED",
                    "insertions": 321,
                    "deletions": 0
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 27,
                    "deletions": -11
                },
                {
                    "file": "http/http_connection.h",
                    "type": "MODIFIED",
                    "insertions": 33,
                    "deletions": -26
                },
                {
                    "file": "include/webassets.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "include/webroutes.hpp",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -13
                }
            ],
            "sizeInsertions": 517,
            "sizeDeletions": 63
        },
        {
            "number": 5,
            "revision": "e8d17817b15a915069cd8341a36d1aab993795b3",
            "parents": [
                "a8c0d1ff3659054c97b1ef6417291c4e7a86c63c"
            ],
            "ref": "refs/changes/57/35457/5",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1597085543,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "NO_CHANGE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 28,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph.reynolds1@ibm.com",
                        "username": "joseph-reynolds"
                    },
                    "message": "s/possibily/possibility/"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 28,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Will fix."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 64,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "It moves the login screen to bmcweb.. \nIt makes it tougher to support different GUIs, e.g. phosphor-webui's login screen is different than webui-vue \n\nUpdates to theming need to happen in 2 repos now. \n\nThought on how we support things like password change needed?\nhttps://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/29136\nhttps://gerrit.openbmc-project.xyz/c/openbmc/webui-vue/+/33955"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 64,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "\"Updates to themeing need to happen in 2 repos now. \"\n\nTechnically this was already a problem, it's just that nobody cared to theme the redfish UI, given it's really engineering facing.  This just makes the problem more noticeable.\n\n\"It makes it tougher to support different GUIs, e.g. phosphor-webui's login screen is different than webui-vue \"\n\nMaintaining 2 webuis can't be the long term project direction, and realistically we can't be holding people to validating 2 separate webuis for every change made to the backend.  What's your plan for merging webui-vue with phosphor-webui?   Don't get me wrong, I fired up webui-vue a few weeks back, and I really like the direction you've taken it in.  It's way cleaner (even if it is a litter bigger binary-size wise:) ) we just need to figure out a way to make it maintainable in that phosphor-webui and bmcweb had a lot of specific handshaking to make a lot of flows \"just work\".  I see a lot of that got copied into webui-vue, which is good, but patches moving forward can't have to consider 2 different UIs in all cases.\n\nMy kneejerk reaction was to put this behind a BMCWEB_INSECURE flag, so the webui-vue users can continue to use it in the less secure mode, until webui-vue makes the equivalent changes (note, webui-vue looks like is already doesn't handle mtls auth, so most these changes need made before a full cutover anyway).  With that said, I'm open your your thoughts on it.  Should this wait until you and your team have come to full feature parity with phosphor-webui to not break anyone, or are we better off forcing a config option on users?  Given the hard fork, and the webuis required reliance on non-spec driven apis, I'm sort of not sure what to do here.\n\n\"Thought on how we support things like password change needed?\nhttps://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/29136\nhttps://gerrit.openbmc-project.xyz/c/openbmc/webui-vue/+/33955\"\n\nIn the same way we transfer the \"you're already logged in\" info to phosphor-webui, you can transfer the \"you need to change your password\" info for the ui to react to.  I'd probably do it as a 301 to an appropriate \"Change your password\" route.  I can take a look at specific patches when I handle the first TODO below."
                },
                {
                    "file": "include/authorization.hpp",
                    "line": 212,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph.reynolds1@ibm.com",
                        "username": "joseph-reynolds"
                    },
                    "message": "Correct.  But I am not sure which routes should be white listed here. Excerpt from Redfish spec DSP0266 1.9.1 section 7.2.3 (\"OData service and metadata document requests\"):\n> Service shall not require authentication to retrieve the OData metadata document or the OData service document.\n\nAnd see also section 8.4 (\"OData metadata responses\").\n\nI don't fully understand this.  Should BMCWeb allow unauthenticated GET for the following two documents?:\n- /redfish/v1/$metadata\n- /redfish/v1/odata"
                },
                {
                    "file": "include/authorization.hpp",
                    "line": 212,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Yes it should.  I missed $metadata.  Good catch (although it was in my todos in the commit message) :)"
                },
                {
                    "file": "include/authorization.hpp",
                    "line": 216,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph.reynolds1@ibm.com",
                        "username": "joseph-reynolds"
                    },
                    "message": "See my comment above.  This allows unauthenticated GETs for resources *under* the odata service root.  Is that needed?  Is that what the spec says?"
                },
                {
                    "file": "include/authorization.hpp",
                    "line": 216,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I believe the answer to that is yes.  At the very least it matches the old behavior in this regard.  If we want to change the behavior here, I'm open to it, but that feels like a different patch.  The intent is to keep the old behavior for redfish resources."
                },
                {
                    "file": "include/authorization.hpp",
                    "line": 216,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph.reynolds1@ibm.com",
                        "username": "joseph-reynolds"
                    },
                    "message": "I see it now... from the old webroutes.hpp.  I'll accept that."
                },
                {
                    "file": "include/authorization.hpp",
                    "line": 241,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph.reynolds1@ibm.com",
                        "username": "joseph-reynolds"
                    },
                    "message": "Bypassing authentication because route is on whitelist."
                },
                {
                    "file": "include/authorization.hpp",
                    "line": 241,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "You don't want to print the req.target() in the log?  That seems useful.  I can rephrase, but I really dislike the word \"bypassing\", as it implies that it's a backdoor."
                },
                {
                    "file": "include/authorization.hpp",
                    "line": 241,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph.reynolds1@ibm.com",
                        "username": "joseph-reynolds"
                    },
                    "message": "Sorry, this was a nit.  How about: Ignoring authentication because route is on whitelist."
                },
                {
                    "file": "include/authorization.hpp",
                    "line": 241,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "works for me.  I might slightly amend to:\n\n\"Ignoring authentication because <url> is on the whitelist.\""
                },
                {
                    "file": "include/authorization.hpp",
                    "line": 291,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph.reynolds1@ibm.com",
                        "username": "joseph-reynolds"
                    },
                    "message": "Does this introduce a nit incompatibility?  For browsers that have saved the BMC URL (\"/#/login\") in their history, and subsequently connect to the BMC after it is updated with this new code, what is the browser's behavior?\nNote: I am not requesting a code change, just want to understand the situation."
                },
                {
                    "file": "include/authorization.hpp",
                    "line": 291,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "\"Does this introduce a nit incompatibility?\"\n\nNot to my knowledge.  If you save the url \"/#/login\" in your browser, the backend would see:\nGET /#/login -> 301 redirect to /login\nPOST /login with credentials -> 301 redirect to /#/login\nGET / -> 200 returns angular SPA\nAngular launches the #/login route, sees \"IsAuthenticated\" in cookie, route redirect to /#/overview, as \"next\" is invalid.\n\nSo far as I'm aware, the user is none the wiser."
                },
                {
                    "file": "include/authorization.hpp",
                    "line": 291,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph.reynolds1@ibm.com",
                        "username": "joseph-reynolds"
                    },
                    "message": "Got it.  Thanks for explaining."
                },
                {
                    "file": "include/login_routes.hpp",
                    "line": 210,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph.reynolds1@ibm.com",
                        "username": "joseph-reynolds"
                    },
                    "message": "s/two/multiple/"
                },
                {
                    "file": "include/login_routes.hpp",
                    "line": 210,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Will fix."
                },
                {
                    "file": "static/login/index.html",
                    "line": 0,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Why do these need to be in bmcweb though? \nWhy can't they still be in the GUI ?\n\nif bmcweb has \n\n    // it's allowed to GET root node without authentication\n    if (boost::beast::http::verb::get == req.method())\n    {\n        if (req.url == \"/redfish/v1\" || req.url == \"/redfish/v1/\" ||\n            req.url == \"/redfish\" || req.url == \"/redfish/\" ||\n            req.url == \"/login\" || req.url == \"/login/login.css\" ||\n\t\n            req.url == \"/login/logo.svg\" || req.url == \"/favicon.ico\")\n\t\n        // TODO(ed) redfish static assets need allowed through, right?\n        {\n\nIf the GUI has the same file names?"
                },
                {
                    "file": "static/login/index.html",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "\"Why do these need to be in bmcweb though?\"\n\nSee the first comment in the commit message.  A lot of people run bmcweb without the UI.  In the very old pre phosphor-webui world, the (terrible) angular webui was checked into bmcweb directly, to avoid problems like this, and was selected with a config option.\n\nAlso, at some point, this will likely turn into a template, to pass hidden form information forward like most conventional forms setups do, and that will require bmcweb to have the template information in the repo."
                },
                {
                    "file": "static/login/index.html",
                    "line": 0,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph.reynolds1@ibm.com",
                        "username": "joseph-reynolds"
                    },
                    "message": "Thanks for the explanation; I am starting to understand.  \nWhat is the use case to have a login page without any function behind it?\nAssuming the login page is needed, if it is built into BMCWeb as proposed here, should there be a way to configure it out?\nAlternately, can it be offered as an alternative/peer to the phosphor-webui and webui-vue repos?"
                },
                {
                    "file": "static/login/index.html",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> What is the use case to have a login page without any function behind it?\n\nbmcweb has plenty of functions without the webui present.  Redfish being the big one people tend to expect to \"just work\"\n\n> Assuming the login page is needed, if it is built into BMCWeb as proposed here, should there be a way to configure it out?\n\nWe could....  but from an architectural standpoint, we should probably tie it to the use of cookie auth, as those are inter-related.  With that said, today Cookie auth is a runtime feature, not compile time.\n\nWhat would the goal be for compiling it out?  Reduced attack surface?"
                },
                {
                    "file": "static/login/index.html",
                    "line": 13,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "This makes changing the logo harder, across multiple repos, not a deal-breaker and maybe we don't care much about what companies do downstream"
                },
                {
                    "file": "static/login/index.html",
                    "line": 13,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "See above.  I wonder if we just need to combine the phosphor-webui, bmcweb, and webui-vue repos again?  That would give a single place for all this stuff, and we could select which UI we wanted with a config parameter.  I need to give that more thought, and I don't love how monolithic that makes things, but it would solve the \"one logo to rule them all\" issue."
                },
                {
                    "file": "static/login/index.html",
                    "line": 13,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Would need the plugin to allow for different maintainers for different directories but overall don't think I am fan of this idea. I like the separation in different repos."
                },
                {
                    "file": "static/login/index.html",
                    "line": 13,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "yeah, I'm not a fan of it either, just trying to cover all the bases."
                },
                {
                    "file": "static/login/index.html",
                    "line": 19,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "tabs?"
                },
                {
                    "file": "static/login/index.html",
                    "line": 19,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "GRRRRR... Will fix."
                },
                {
                    "file": "static/login/index.html",
                    "line": 22,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "So the webui-vue has a field for language selection.."
                },
                {
                    "file": "static/login/index.html",
                    "line": 22,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Cool?  phosphor-webui (the current standard) doesn't.  How do you think we could fix this the discrepancy between the two?"
                },
                {
                    "file": "static/login/index.html",
                    "line": 22,
                    "reviewer": {
                        "name": "Derick Montague",
                        "email": "derick.montague@ibm.com",
                        "username": "derick-montague"
                    },
                    "message": "It would be a great deal of work to get translation into phosphor-webui. I am not sure if you were suggesting some sort of parity between the two."
                },
                {
                    "file": "static/login/index.html",
                    "line": 22,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I'm not saying we add translation to phosphor-webui (although I do remember spending a lot of time reviewing a patch on it that never went in).\nLet me ask another way, given the constraints that:\na. People use multiple UI today (phosphor-webui and webui-vue)\nb. They host functionally different login pages\nc. Moving login to bmcweb helps avoid fingerprinting, dos attacks, and is good for security in general.\n\nHow do you suggest we move something like this forward?  I can add a language field, but that's going to break phosphor-webui.  If that's what you're asking for, I'm happy to do it, but I suspect there's a better solution you have in mind?"
                },
                {
                    "file": "static/login/index.html",
                    "line": 22,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "webui-vue - uses Redfish, is translated, is themeable, and doesn't suffer some of the anti-patterns that exist in phosphor-webui today, and most importantly is built on an active framework.\n\nIBM switched 2 of their systems to webui-vue\nhttps://gerrit.openbmc-project.xyz/c/openbmc/meta-ibm/+/35445\n\nwebui-vue doesn't have:\nvirtual media (but there is a commit to add that here: https://gerrit.openbmc-project.xyz/c/openbmc/webui-vue/+/35396)\ndoesn't have SNMP support (IBM plans to add after Redfish SNMP is implemented in bmcweb)\nthe redfish browser \n2 file code update\nit doesn't have the maturity phosphor-webui does, is probably missing of some of those edge cases/bug fixes we added over the years\n\nbut despite it missing a few features, I would save it is a much better base to continue forward on. Can we make webui-vue the standard?\n\nEd, what would it take for you to switch to using webui-vue?"
                },
                {
                    "file": "static/login/index.html",
                    "line": 22,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "To be clear, I'm already stated I think webui-vue looks much nicer, and I'm happy to answer that in more detail (I'll send an email to the list).  For the context of this patchset, I'd really like if we could avoid turning this into a \"webui-vue vs phosphor-webui\" thing, as that's very much not the intent of this patchset.\n\nI'd like feedback on how you think this patchset needs to change to make bmcweb more secure, and remove a longstanding and well reported bug.  If IBM"
                },
                {
                    "file": "static/login/index.html",
                    "line": 22,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "wants to use webui-vue, they can, and I'm happy to add a BMCWEB_INSECURE_* build option that they can use, but I'm trying to see if you have any other ideas."
                },
                {
                    "file": "static/login/index.html",
                    "line": 22,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Gunnary, Derick, Any ideas on how to best get this done, or is BMCWEB_INSECURE_* flags the best option?"
                },
                {
                    "file": "static/login/index.html",
                    "line": 22,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Gunnar.... sorry for typoing your name :)"
                },
                {
                    "file": "static/login/index.html",
                    "line": 22,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Hey Ed, Let me talk with Derick and Yoshie and will get back to you tomorrow."
                },
                {
                    "file": "static/login/index.html",
                    "line": 22,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "https://gerrit.openbmc-project.xyz/c/openbmc/webui-vue/+/35875/1/vue.config.js#6\nCreates a separate chunk for login page and then the authenticated code.\nIt does add a bit to the image, 20kb but we believe a solution like this is better because themeing is easier (in one repo), translation can be supported, and for now we can support both GUIs."
                },
                {
                    "file": "static/login/index.html",
                    "line": 22,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Everyone in the GUI design workgroup, held the opinion we should move to webui-vue and sunset phosphor-webui in the future (now I know this isn't the entire community but was 3 or 4 companies). The problem with the flag is until this support is added to webui-vue, this \"insecure\" flag would be required to use webui-vue (the GUI the design workgroup wants to move forward with).\n\nI also feel this is a bit of a stretch to call this an insecure flag."
                },
                {
                    "file": "static/login/index.html",
                    "line": 22,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Your separate chunk idea defeats the point of #1, #3, #4, and #6 from the original commit message.  The payload is still relatively large, which makes it a prime source for DOS attacks, and executes javascript in unauthenticated browsers, which makes it susceptible to attacks of that nature if the javascript has bugs (I'm not saying that it does).\n\n\"It does add a bit to the image, 20kb but we believe a solution like this is better because themeing is easier (in one repo), translation can be supported, and for now we can support both GUIs.\"\nHow does this solve the \"supports both GUIs\" problem?  Do you have a patchset for phosphor-webui as well?\nAlso, translation can be supported either way, the issue is that it was done in javascript, which is fixable if you want to move the translation to a post-login context.\n\n\n\"Everyone in the GUI design workgroup, held the opinion we should move to webui-vue and sunset phosphor-webui in the future (now I know this isn't the entire community but was 3 or 4 companies\"\nCool, having that many people publicly say that on the mailing list, and start putting patches toward webui-vue to fix its missing features should help a lot with its forward progress.  I'm not really sure what that has to do with this patch though, unless you're suggesting that I should wait for webui-vue to be 100% accepted by the community before proceeding.  If that's what you're proposing, can you and the other 3-4 companies give a timeline for the complete 100% community changeover including testing and stabilizing?  If not, or the date is significantly in the future, we still have the same problem.\nAlso note that this patch largely targets those that do not use the webui for security or size reasons.  I'm going to guess none of those people were in your working group.\nAlso, can you get these 3-4 companies to put their assurances on the mailing list that they will dedicate testing and development effort toward webui-vue, and put patchsets out toward the webui-vue port?  If not, then it's all just talk in a meeting.\n\n\"I also feel this is a bit of a stretch to call this an insecure flag.\"\nWhat would you like to call it?  \"less secure\"? \"Increases dos attack surface\"?  The original intent of BMCWEB_INSECURE flags were to call out when there existed a more secure way to do things, but we needed to keep the old behavior available for the external users that needed it.  This seems like a perfect candidate under that definition, although I'm happy to call it something else if you have a suggestion for what it could be renamed to."
                },
                {
                    "file": "static/login/index.html",
                    "line": 22,
                    "reviewer": {
                        "name": "Derick Montague",
                        "email": "derick.montague@ibm.com",
                        "username": "derick-montague"
                    },
                    "message": "> The payload is still relatively large, which makes it a prime source for DOS attacks, and executes javascript in unauthenticated browsers, which makes it susceptible to attacks of that nature if the javascript has bugs (I'm not saying that it does).\n\nIs it possible that you could come talk to this point and the proposal overall to the GUI Design Work Group on Wednesday, 9/2 at 10:00 AM CT? We want to make security top priority. We also want to understand the criticality of this issue since it will mean significant rework to translation, won't support customization, and will require another repo requiring client-side development. \n\n> Also, translation can be supported either way, the issue is that it was done in javascript, which is fixable if you want to move the translation to a post-login context.\n\nThe purpose of having it pre-login was a user experience decision. The users valued being able change their language pre-login rather than having to login first. Removing language from the login page results in the feature being less discoverable. If we were to try to mitigate that concern, we would need to make design changes, test with users, and also validate with the changes with the community.\n\n> Also, can you get these 3-4 companies to put their assurances on the mailing list that they will dedicate testing and development effort toward webui-vue, and put patchsets out toward the webui-vue port?  If not, then it's all just talk in a meeting.\n\nSome of this is documented in the GUI Design Work Group notes. Intel and Phoenix technologies have both stated that they are moving to the webui-vue and Intel is actively contributing with KVM and Virtual Media. \n\n> unless you're suggesting that I should wait for webui-vue to be 100% accepted by the community before proceeding\n\nWhat does 100% acceptance entail? We have sent information to the mail list, as well as sharing the path in the GUI Design Work Group. My brief experience on this project has been that the GUI receives minimal feedback other than from IBM and Intel."
                },
                {
                    "file": "static/login/index.html",
                    "line": 22,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "\"What does 100% acceptance entail?\"\n\nIn the context of this patchset, it means that we can break phosphor-webui (in lieu of fixing webui-vue) and there will be no impact to the project, which is what you're asking me to do in this change.  As-is, I don't think we can do that (maybe I'm wrong?).\n\n\"Is it possible that you could come talk to this point and the proposal overall to the GUI Design Work Group... \"\n\nThis change has been discussed at several working groups, including the webserver working group, and the UI working group (probably before you joined regularly).  Given that neither of those discussions got captured properly, I'd rather take a different track, and keep the discussion in a forum that we can reference later.  If more description is needed, I'm happy to add it to the commit message if you can point out where you're confused, but I'd like to keep it in text format.  Technically this could be put forward in the security workgroup, the webui workgroup, or the Redfish (no longer held) workgroup.  Doing it in reviews is the only way to ensure that we hit the required audience.\n\n\"The purpose of having it pre-login was a user experience decision. The users valued being able change their language pre-login rather than having to login first. Removing language from the login page results in the feature being less discoverable. If we were to try to mitigate that concern, we would need to make design changes, test with users, and also validate with the changes with the community.\"\n\nUnderstood.  To be clear, it's a good change, but because the webui got forked/replaced, and uses internal APIs (like websockets and cookie auth that we're talking about here), this causes the problem we're in now.  Do you have any solutions?\n\nI'm not saying you need to rework webui-vue.  I've given options that require no changes to webui-vue, and leave it in the less secure state it was already in."
                },
                {
                    "file": "static/login/login.css",
                    "line": 140,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph.reynolds1@ibm.com",
                        "username": "joseph-reynolds"
                    },
                    "message": "remove trailing tab"
                },
                {
                    "file": "static/login/login.css",
                    "line": 140,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "will fix."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 92,
                    "deletions": 0
                },
                {
                    "file": "static/login/index.html",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "include/authorization.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -8
                },
                {
                    "file": "static/login/logo.svg",
                    "type": "ADDED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "http/http_response.h",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "static/login/login.css",
                    "type": "ADDED",
                    "insertions": 321,
                    "deletions": 0
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 27,
                    "deletions": -11
                },
                {
                    "file": "http/http_connection.h",
                    "type": "MODIFIED",
                    "insertions": 33,
                    "deletions": -26
                },
                {
                    "file": "include/webassets.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "include/webroutes.hpp",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -13
                }
            ],
            "sizeInsertions": 517,
            "sizeDeletions": 63
        },
        {
            "number": 6,
            "revision": "5ff2bde311035dd61df348e09ac0821090f8fcda",
            "parents": [
                "0d934498fea3a9c9e77d9b0c607a23fbe58aae8b"
            ],
            "ref": "refs/changes/57/35457/6",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1597697718,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 47,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph.reynolds1@ibm.com",
                        "username": "joseph-reynolds"
                    },
                    "message": "The Redfish forum expressed a desire to support OAuth here: https://redfishforum.com/thread/362/support-mtls-oauth"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 92,
                    "deletions": 0
                },
                {
                    "file": "static/login/index.html",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "include/authorization.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -8
                },
                {
                    "file": "static/login/logo.svg",
                    "type": "ADDED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "http/http_response.h",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "static/login/login.css",
                    "type": "ADDED",
                    "insertions": 321,
                    "deletions": 0
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 27,
                    "deletions": -11
                },
                {
                    "file": "http/http_connection.h",
                    "type": "MODIFIED",
                    "insertions": 33,
                    "deletions": -26
                },
                {
                    "file": "include/webassets.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "include/webroutes.hpp",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -13
                }
            ],
            "sizeInsertions": 517,
            "sizeDeletions": 63
        },
        {
            "number": 7,
            "revision": "9a09875ee3a1bf1e8912195cb0c0c7244482194e",
            "parents": [
                "c65646e00645621efaaf9c36de8a64da96fe4853"
            ],
            "ref": "refs/changes/57/35457/7",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1598392739,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 92,
                    "deletions": 0
                },
                {
                    "file": "static/login/index.html",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "include/authorization.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -8
                },
                {
                    "file": "static/login/logo.svg",
                    "type": "ADDED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "http/http_response.h",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "static/login/login.css",
                    "type": "ADDED",
                    "insertions": 321,
                    "deletions": 0
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 27,
                    "deletions": -11
                },
                {
                    "file": "http/http_connection.h",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -25
                },
                {
                    "file": "include/webassets.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "include/webroutes.hpp",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -13
                }
            ],
            "sizeInsertions": 515,
            "sizeDeletions": 62
        },
        {
            "number": 8,
            "revision": "449c95bedfb87b77f69465b08508045afc84e256",
            "parents": [
                "207b69ad417aba3849bc47856dbf1edfd24e1e12"
            ],
            "ref": "refs/changes/57/35457/8",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1598470821,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 51,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "You can still fingerprint with the service root, /redfish/v1/."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 51,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "How so?  /redfish/v1 hasn't changed that much, and is required for redfish compliance.  As a general rule, it doesn't change when security fixes are put in place, whereas the webui changes every week.  Also, my long term intent is to allow a mode where if the redfish auth mechanisms are disabled, the bmc can put those behind authentication as well, as you're likely using something like mtls.  This would significantly decrease the bmcs ability to be fingerprinted,, as the only thing outward facing socket would be openssl, which is common across a number of platforms, including lots of non-bmcs."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 51,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph.reynolds1@ibm.com",
                        "username": "joseph-reynolds"
                    },
                    "message": "I agree that URI /redfish/v1 has not changed much, but the information returned does include the RedfishVersion property which updates regularly and can be used to finger the BMC firmware version.  Also, the additional static content allowed for an unauthenticated user changes similarly, etc, same argument.\n\nYou want a way to disable the BMC's Redfish protocol?  Why didn't you say so before?  :-)  I'll reference this in my IBM issue (publicly readable): https://github.com/ibm-openbmc/dev/issues/612#issuecomment-580395231"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 51,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "\"I agree that URI /redfish/v1 has not changed much, but the information returned does include the RedfishVersion property which updates regularly and can be used to finger the BMC firmware version. \"\n\nThat property increments once in a while, but is far from fingerprint worthy.  Also, for systems that follow major security releases, that property never changes, so it's not really viable as a \"this is good for fingerprinting\" candidate.  Even so, see above where I intend to add a \"not implementing redfish standard auth\" mode that locks that down further, and removes all (most) ability to fingerprint.  I'm not there yet, but this patchset is the first step, as it sets clear boundaries between unauthenticated request and authenticated requests.\n\n\"You want a way to disable the BMC's Redfish protocol?  Why didn't you say so before?  :-)  I'll reference this in my IBM issue (publicly readable): https://github.com/ibm-openbmc/dev/issues/612#issuecomment-580395231\"\n\nNot the entire protocol, just the Session based auth, which gives fewer security assurances than some other methods like mutual TLS.\nThat issue is more talk about about port/protocol level support, not fine grained control.  With that said, I think intel-bmc already has that feature, using a config manager that manipulates .socket files, so essentially anything socket activated can be modified at runtime.\nhttps://github.com/Intel-BMC/provingground/tree/master/srvcfg-manager/src\nYou might want to check it out."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 51,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "FYI - We have moved srvcfg-manager to here: https://github.com/openbmc/service-config-manager."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 51,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Neato.  I wonder how long before someone cleans up all the skeletons from provingground :)"
                },
                {
                    "file": "include/login_routes.hpp",
                    "line": 149,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "One thing I realized is that this moves the \"next\" handling into bmcweb, which should solve it for webui-vue for \"free\" if we can get this patch landed.\nRE: https://github.com/openbmc/webui-vue/issues/28"
                },
                {
                    "file": "static/login/index.html",
                    "line": 19,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "still tabs. haha"
                },
                {
                    "file": "static/login/index.html",
                    "line": 19,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I didn't think I rebased this patch.  Must've been in one of my series, oh well.  I can fix the tabs, although it sounds like you want this file to go away completely, so lets hash that out first and see if this problem just goes away."
                },
                {
                    "file": "static/login/index.html",
                    "line": 23,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Would you be willing to update to support webui-vue's translation feature ?"
                },
                {
                    "file": "static/login/index.html",
                    "line": 23,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I'd have no problem adding a translation button if you can come up with a solution that:\n1. Doesn't defeat the original intention of the patch.\n2. Doesn't require this patchset to wait for webui-vue to get to 100% feature and acceptance parity.\n\nThose are my two goals.  I have no specific love for phosphor-webui.\n\nOff the top of my head, the only idea I have would be making bmcweb aware of which webui is being run through a compiler option, so we could turn the translation button on or off, as well as some of the security things in this patch.\nAlternatively, webui-vue could move the language button into a post-authentication control, per-user, so we could keep the login page common for the time being.  Then, once webui-vue has 100% feature parity and has been accepted by the larger community, we can discuss moving it back to the login page, and deprecating phosphor-webui entirely.\n\nDo either of those work for you and your team?"
                },
                {
                    "file": "static/login/index.html",
                    "line": 23,
                    "reviewer": {
                        "name": "Yoshie Muranaka",
                        "email": "yoshiemuranaka@gmail.com",
                        "username": "yoshiemuranaka"
                    },
                    "message": "\"Alternatively, webui-vue could move the language button into a post-authentication control, per-user, so we could keep the login page common for the time being.  Then, once webui-vue has 100% feature parity and has been accepted by the larger community, we can discuss moving it back to the login page, and deprecating phosphor-webui entirely.\"\n\nI think this might be a good way forward. \n\nOne thing we lose with this implementation is the stored username. In our webui-vue implementation, we store the entered username in local storage. I think in Angular it is saved to session storage..is this accounted for? We would need something to persist in the browser to show the logged in username, unless it can be returned from the backened post authentication."
                },
                {
                    "file": "static/login/index.html",
                    "line": 23,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Damn, I just got done with patches to do #1, so that's what's represented in the current changeset.  With that said, happy to push forward with moving the language button if that's what people want.\n\nHow did we handle the username in phosphor-webui when mutual tls was used?  \n I wonder if we need to move the \"IsAuthenticated\" cookie to more of a generic mechanism for passing state from the backend to the frontend."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 92,
                    "deletions": 0
                },
                {
                    "file": "static/login/index.html",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "include/authorization.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -8
                },
                {
                    "file": "static/login/logo.svg",
                    "type": "ADDED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "http/http_response.h",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "static/login/login.css",
                    "type": "ADDED",
                    "insertions": 321,
                    "deletions": 0
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 27,
                    "deletions": -11
                },
                {
                    "file": "http/http_connection.h",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -25
                },
                {
                    "file": "include/webassets.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "include/webroutes.hpp",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -13
                }
            ],
            "sizeInsertions": 515,
            "sizeDeletions": 62
        },
        {
            "number": 9,
            "revision": "de15ea0295bfcd78b77e5958765d49787906e3f7",
            "parents": [
                "207b69ad417aba3849bc47856dbf1edfd24e1e12"
            ],
            "ref": "refs/changes/57/35457/9",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1599157524,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 95,
                    "deletions": 0
                },
                {
                    "file": "static/login/index.html",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "include/authorization.hpp",
                    "type": "MODIFIED",
                    "insertions": 25,
                    "deletions": -7
                },
                {
                    "file": "static/login/logo.svg",
                    "type": "ADDED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "http/http_response.h",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "static/login/login.css",
                    "type": "ADDED",
                    "insertions": 321,
                    "deletions": 0
                },
                {
                    "file": "CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -1
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": -10
                },
                {
                    "file": "http/http_connection.h",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -25
                }
            ],
            "sizeInsertions": 562,
            "sizeDeletions": 44
        },
        {
            "number": 10,
            "revision": "a6b4add4658d83e6431f479e64086f3c5190436e",
            "parents": [
                "7e1c58b8e21604e8cac0c94d41edc49e1df5240f"
            ],
            "ref": "refs/changes/57/35457/10",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1599160357,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 98,
                    "deletions": 0
                },
                {
                    "file": "static/login/index.html",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "include/authorization.hpp",
                    "type": "MODIFIED",
                    "insertions": 25,
                    "deletions": -7
                },
                {
                    "file": "static/login/logo.svg",
                    "type": "ADDED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "http/http_response.h",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "static/login/login.css",
                    "type": "ADDED",
                    "insertions": 321,
                    "deletions": 0
                },
                {
                    "file": "CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -1
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": -10
                },
                {
                    "file": "http/http_connection.h",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -25
                }
            ],
            "sizeInsertions": 565,
            "sizeDeletions": 44
        },
        {
            "number": 11,
            "revision": "e8a4585da2276da656c64da2c1e00b131fc0776b",
            "parents": [
                "f2be49f3fa91161f10fbfacf81fda3277f35d4e1"
            ],
            "ref": "refs/changes/57/35457/11",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1599845374,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 98,
                    "deletions": 0
                },
                {
                    "file": "static/login/index.html",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "include/authorization.hpp",
                    "type": "MODIFIED",
                    "insertions": 25,
                    "deletions": -7
                },
                {
                    "file": "static/login/logo.svg",
                    "type": "ADDED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "http/http_response.h",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "static/login/login.css",
                    "type": "ADDED",
                    "insertions": 321,
                    "deletions": 0
                },
                {
                    "file": "CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -1
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": -10
                },
                {
                    "file": "http/http_connection.h",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -22
                }
            ],
            "sizeInsertions": 554,
            "sizeDeletions": 41
        },
        {
            "number": 12,
            "revision": "06280c706f56b1b465f95d558f286a412208d788",
            "parents": [
                "bb268a63a737b79335a8acbb4d27e12cbc4c4e60"
            ],
            "ref": "refs/changes/57/35457/12",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1599850478,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 98,
                    "deletions": 0
                },
                {
                    "file": "static/login/index.html",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "include/authorization.hpp",
                    "type": "MODIFIED",
                    "insertions": 25,
                    "deletions": -7
                },
                {
                    "file": "static/login/logo.svg",
                    "type": "ADDED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "http/http_response.h",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "static/login/login.css",
                    "type": "ADDED",
                    "insertions": 321,
                    "deletions": 0
                },
                {
                    "file": "CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -1
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": -10
                },
                {
                    "file": "http/http_connection.h",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -22
                }
            ],
            "sizeInsertions": 554,
            "sizeDeletions": 41
        },
        {
            "number": 13,
            "revision": "40c437f27c138f657a10c3394ac7f884eac75547",
            "parents": [
                "c73ac09045f6180f7b8ec383385f3c5ee3482712"
            ],
            "ref": "refs/changes/57/35457/13",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1599858864,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 98,
                    "deletions": 0
                },
                {
                    "file": "static/login/index.html",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "include/authorization.hpp",
                    "type": "MODIFIED",
                    "insertions": 25,
                    "deletions": -7
                },
                {
                    "file": "static/login/logo.svg",
                    "type": "ADDED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "http/http_response.h",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "static/login/login.css",
                    "type": "ADDED",
                    "insertions": 321,
                    "deletions": 0
                },
                {
                    "file": "CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -1
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": -10
                },
                {
                    "file": "http/http_connection.h",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -22
                }
            ],
            "sizeInsertions": 554,
            "sizeDeletions": 41
        },
        {
            "number": 14,
            "revision": "50a13015bc0fec06b9a00586cc844395071a39c9",
            "parents": [
                "afc37738287ad91eef3391e845a4c6176b064e36"
            ],
            "ref": "refs/changes/57/35457/14",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1600322749,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 98,
                    "deletions": 0
                },
                {
                    "file": "static/login/index.html",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "include/authorization.hpp",
                    "type": "MODIFIED",
                    "insertions": 25,
                    "deletions": -7
                },
                {
                    "file": "static/login/logo.svg",
                    "type": "ADDED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "http/http_response.h",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "static/login/login.css",
                    "type": "ADDED",
                    "insertions": 321,
                    "deletions": 0
                },
                {
                    "file": "CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -1
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": -10
                },
                {
                    "file": "http/http_connection.h",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -22
                }
            ],
            "sizeInsertions": 554,
            "sizeDeletions": 41
        },
        {
            "number": 15,
            "revision": "b35492ec468fcdebf7a4fae816b14a8dfea335ce",
            "parents": [
                "92128523f8947bbf91a4443a5dd00023452fd690"
            ],
            "ref": "refs/changes/57/35457/15",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1600322881,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 64,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "As previously talked about in the comments, it also makes enterprise theming harder.\n \nFor example, IBM and several other companies want to change the logo both on the login page and in the header and themeing in general, currently with webui-vue, with a couple of lines you can completely change the color of the GUI, https://youtu.be/KpYQNTv_sYA?t=784 shows this.\n\nIt also does not currently support language translation."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 64,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> As previously talked about in the comments, it also makes enterprise theming harder.\n\nOnly if the option is enabled.\n\n>  \n> For example, IBM and several other companies want to change the logo both on the login page and in the header and themeing in general, currently with webui-vue, with a couple of lines you can completely change the color of the GUI, https://youtu.be/KpYQNTv_sYA?t=784 shows this.\n\nI'm not understanding why, in the current patchset, this is any harder.  webui-vue can simply publish the minified login html and css with the vendor theming on them, and set BMCWEB_ENABLE_LOGIN_PAGE=OFF.  Can you elaborate why this makes it \"harder\"?\n\n> \n> It also does not currently support language translation.\n\nOnly if the option is enabled.  Once webui-vue has adoption, it's easy to add to add."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 64,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> \n> Only if the option is enabled.  Once webui-vue has adoption, it's easy to add to add.\n\n\"easy to add back\""
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 64,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "> > As previously talked about in the comments, it also makes enterprise theming harder.\n\n> Only if the option is enabled.\n\nAgreed. It is enabled by default and enterprise theming isn't just a webui-vue thing, companies themed phoshor-webui.\n\n\n>  > For example, IBM and several other companies want to change the logo both on the login page and in the header and themeing in general, currently with webui-vue, with a couple of lines you can completely change the color of the GUI, https://youtu.be/KpYQNTv_sYA?t=784 shows this.\n\n> I'm not understanding why, in the current patchset, this is any harder.  webui-vue can simply publish the minified login html and css with the vendor theming on them, and set BMCWEB_ENABLE_LOGIN_PAGE=OFF.  Can you elaborate why this makes it \"harder\"?\n\nIt is harder because you either use this (BMCWEB_ENABLE_LOGIN_PAGE=ON) and have to replace logos and styling in 2 repos or you have to turned this off. In the webui-vue image option this is off? And will continue to be off since themeing and translation (I know you can do translation with this but it becomes harder / more limited (see below)) are big parts of webui-vue ?\n\n\n\n> > It also does not currently support language translation.\n\n> Only if the option is enabled.  Once webui-vue has adoption, it's easy to add to add.\n\nThe login page is also being translated when changing the language. This includes the labels and buttons. That translation is important since the user is expecting to see these elements change as the dropdown value changes. This is all handled by the vue-i18n plugin and would require significant effort to replicate that functionality.\nGunnar and Derick"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 64,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> > > As previously talked about in the comments, it also makes enterprise theming harder.\n> \n> > Only if the option is enabled.\n> \n> Agreed. It is enabled by default and enterprise theming isn't just a webui-vue thing, companies themed phoshor-webui.\n\nIs there anything in the openbmc tree where a specific image/machine has a different theme in phosphor-webui?  A lot of people did it, but none got checked in that I'm aware of (maybe I missed it).  If \"easy themability\" takes priority over fingerprintability, then certainly, they could disable this option.\n\n> \n> \n> >  > For example, IBM and several other companies want to change the logo both on the login page and in the header and themeing in general, currently with webui-vue, with a couple of lines you can completely change the color of the GUI, https://youtu.be/KpYQNTv_sYA?t=784 shows this.\n> \n> > I'm not understanding why, in the current patchset, this is any harder.  webui-vue can simply publish the minified login html and css with the vendor theming on them, and set BMCWEB_ENABLE_LOGIN_PAGE=OFF.  Can you elaborate why this makes it \"harder\"?\n> \n> It is harder because you either use this (BMCWEB_ENABLE_LOGIN_PAGE=ON) and have to replace logos and styling in 2 repos or you have to turned this off.\n\nI'm assuming you meant \"or\" instead of \"and\" above?  I'm really not following how having to set option is harder than what exists today.  Yes, if you want both security, and \"easy\" themability, agreed, it gets harder, but is that a reason to avoid this patch?  In the case where you don't care about fingerprintability, it's no harder than it was, right?\n\n> In the webui-vue image option this is off?\n\nYes.  In the current state of webui-vue, I would expect that option to be off if it wants to be the thing to provide the login page.  With that said, not everyone uses webui-vue (nor phosphor-webui for that matter) and still have an expectation that login flows work in a browser.\n\n> And will continue to be off since themeing and translation (I know you can do translation with this but it becomes harder / more limited (see below)) are big parts of webui-vue ?\n\nIt becomes different, because it has to be cognizant of login vs logout context, which, since I merged phosphor-webui years ago, the webui since haven't had to think about.\n\n> \n> \n> \n> > > It also does not currently support language translation.\n> \n> > Only if the option is enabled.  Once webui-vue has adoption, it's easy to add to add.\n> \n> The login page is also being translated when changing the language. This includes the labels and buttons. That translation is important since the user is expecting to see these elements change as the dropdown value changes. This is all handled by the vue-i18n plugin and would require significant effort to replicate that functionality.\n\nAgain.... hence why this is an option.  With that said, I would hope that replacing 3 fixed (Username, Password, and Language, right?), non templated strings is well within our ability, and doesn't require rewriting the entire vue-i18n plugin to do.  It would be trivial to do server side.\n\n\n> Gunnar and Derick\n\nReading the above, I'm trying to understand where you guys are at.  Are you trying to understand how webui-vue could support both translations, theming, and a minimum fingerprint footprint?  Or do you believe that a minimum fingerprint footprint isn't worth completing and merging?\n\nIf it's the later, I would point out that \"Minimize attack surface area\" is literally the first principal in the owasp design principals:\nhttps://blog.threatpress.com/security-design-principles-owasp/\n\n\nIf it's the former, I think in the long term, I'm certain there's a way that we can get all the webui-vue features supported, in such a way that you get both security and a themable/translatable login page, (and avoid using the session store unnecessarily to boot), but because bmcweb has to be aware of the security context, and some people want the login page without webui-vue, we need some minimum package for a login page that's separate from webui-vue (or maybe webui-vue needs another build type?).  Unfortunately, we can't solve the world in one patchset.  My position is summed up as:\n\nIf you care about fingerprintability, and don't care about themability/translations enable these options for higher security.\nIf you don't care about fingerprintability, and would prefer easy themability/translations, disable these options.\nIn the long term, I'd like to see us make both these features compatible with one another, and these options become moot."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 64,
                    "reviewer": {
                        "name": "Derick Montague",
                        "email": "derick.montague@ibm.com",
                        "username": "derick-montague"
                    },
                    "message": "> Are you trying to understand how webui-vue could support both translations, theming, and a minimum fingerprint footprint?  Or do you believe that a minimum fingerprint footprint isn't worth completing and merging?\n\nWe really wanted a better understanding of the risk before we made a decision. Since you all discussed this in the security work group and recognized that fingerprinting and the targeting of unauthenticated assets are \"relatively minor\" for many environments, we are planning to use the BMCWEB_INSECURE_ENABLE_UNAUTHENTICATED_ASSETS flag for webui-vue and not create a separate login page and bundle at this time.\n\n> If you care about fingerprintability, and don't care about themability/translations enable these options for higher security.\n> If you don't care about fingerprintability, and would prefer easy themability/translations, disable these options.\n\nYes, we agree with this.\n\n> In the long term, I'd like to see us make both these features compatible with one another, and these options become moot.\n\nThat seems like a great long term strategy."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 64,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> > Are you trying to understand how webui-vue could support both translations, theming, and a minimum fingerprint footprint?  Or do you believe that a minimum fingerprint footprint isn't worth completing and merging?\n> \n> We really wanted a better understanding of the risk before we made a decision. Since you all discussed this in the security work group and recognized that fingerprinting and the targeting of unauthenticated assets are \"relatively minor\" for many environments, we are planning to use the BMCWEB_INSECURE_ENABLE_UNAUTHENTICATED_ASSETS flag for webui-vue and not create a separate login page and bundle at this time.\n\nI'm not sure where the \"relatively minor\" statement came from, but yes, I agree there are deployments whos security posture doesn't require limiting fingerprinting.\n\nUnderstood about using the UNAUTHENTICATED_ASSETS flag today.  That was the intent.  We can discuss the other mechanical things at a later date.\n\n> \n> > If you care about fingerprintability, and don't care about themability/translations enable these options for higher security.\n> > If you don't care about fingerprintability, and would prefer easy themability/translations, disable these options.\n> \n> Yes, we agree with this.\n> \n> > In the long term, I'd like to see us make both these features compatible with one another, and these options become moot.\n> \n> That seems like a great long term strategy.\n\nCool.  Sounds like we're on the same page.  I'll try to get patchsets cleaned up and pushed to:\n1. make webui-vue vs phosphor-webui image features.\n2. move rainier over to using the image feature, and not the package append it uses today.\n3. Correctly set the appropriate bmcweb flags for each.\n\nI think this would alleviate everyones concerns.  Let me know if I'm mistaken, or I haven't accounted for someones needs."
                },
                {
                    "file": "CMakeLists.txt",
                    "line": 156,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Hey Ed, If we have a separate javascript bundle for login and this feature only allows that javascript bundle unauthenticated would you support renaming this to something like \nBMCWEB_Enable_VUE_LOGIN \nBMCWEB_Enable_WEBUI_VUE\nBMCWEB_Enable_JAVASCRIPT_LOGIN_PAGE\n\n?"
                },
                {
                    "file": "CMakeLists.txt",
                    "line": 156,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> Hey Ed, If we have a separate javascript bundle for login and this feature only allows that javascript bundle unauthenticated would you support renaming this to something like \n> BMCWEB_Enable_VUE_LOGIN \n> BMCWEB_Enable_WEBUI_VUE\n> BMCWEB_Enable_JAVASCRIPT_LOGIN_PAGE\n> \n> ?\n\nI'm not quite following what you're proposing.  You want to push the names of the webui into the name of the option here?  Or are you proposing we combine BMCWEB_ENABLE_LOGIN_PAGE with BMCWEB_INSECURE_UNAUTHENTICATED_JAVASCRIPT (or whatever we end up calling them) into one option?  That seems like it would remove the utility of anyone being able to replace the login page, not just in the webui-vue case.  I'm not a huge fan of that, because it's not very descriptive, but I suspect I'm not understanding what you're asking for.  I'm assuming we'd keep the _INSECURE_ part of the flag, right?\n\nIn the other commit, Brad suggested that we make webui-vue and phosphor-webui image options, and use those to set these flags appropriately, that way most people don't have to think about it, and as webui-vue evolves, it can revert the flags to default that it doesn't use.  I kinda like that idea from a \"options are descriptive of what they do\" standpoint."
                },
                {
                    "file": "CMakeLists.txt",
                    "line": 156,
                    "reviewer": {
                        "name": "Derick Montague",
                        "email": "derick.montague@ibm.com",
                        "username": "derick-montague"
                    },
                    "message": "> I'm assuming we'd keep the _INSECURE_ part of the flag, right?\n\nYes, the JavaScript will be unauthenticated on the login page only. We are restricting that bundle to only the JavaScript needed to render the page and establish the translation functionality. In that case, I feel like this flag, BMCWEB_INSECURE_UNAUTHENTICATED_JAVASCRIPT, is not an accurate descriptor. I like Gunnar's suggestion of BMCWEB_Enable_JAVASCRIPT_LOGIN_PAGE. Possibly, something like BMCWEB_ENABLE_UNAUTHENTICATED_JAVASCRIPT_LOGIN_PAGE?\n\n> In the other commit, Brad suggested that we make webui-vue and phosphor-webui image options\n\nI think this is an interesting option also."
                },
                {
                    "file": "CMakeLists.txt",
                    "line": 156,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> > I'm assuming we'd keep the _INSECURE_ part of the flag, right?\n> \n> Yes, the JavaScript will be unauthenticated on the login page only. We are restricting that bundle to only the JavaScript needed to render the page and establish the translation functionality.\n\nThen you won't need this option.  Note, that bundle should not include any frameworks that might be upgraded each release, and shouldn't be doing any XHR requests from javascript.  Happy to review when you guys have something.\n\n> In that case, I feel like this flag, BMCWEB_INSECURE_UNAUTHENTICATED_JAVASCRIPT, is not an accurate descriptor. \nI like Gunnar's suggestion of BMCWEB_Enable_JAVASCRIPT_LOGIN_PAGE. Possibly, something like BMCWEB_ENABLE_UNAUTHENTICATED_JAVASCRIPT_LOGIN_PAGE?\n\nGetting a little wordy, but sure, I can get behind that.  Can we keep the insecure though?  How about BMCWEB_INSECURE_ENABLE_UNAUTHENTICATED_ASSETS.  Technically this option isn't limited to javascript today, and you're right, doesn't apply to the login page.\nIf webui-vue exposes a login page, css, and javascript with no framework code, no template code, and only the JS needed (although with form based login I'm not sure what that would be), then I think we're good.\n\n> \n> > In the other commit, Brad suggested that we make webui-vue and phosphor-webui image options\n> \n> I think this is an interesting option also.\n\nInteresting as in, that's what you'd like to see going forward?\nGunnar, does that work for you?"
                },
                {
                    "file": "CMakeLists.txt",
                    "line": 156,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "webui-vue and phosphor-webui image options makes sense to me"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 98,
                    "deletions": 0
                },
                {
                    "file": "static/login/index.html",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "include/authorization.hpp",
                    "type": "MODIFIED",
                    "insertions": 25,
                    "deletions": -7
                },
                {
                    "file": "static/login/logo.svg",
                    "type": "ADDED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "http/http_response.h",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "static/login/login.css",
                    "type": "ADDED",
                    "insertions": 321,
                    "deletions": 0
                },
                {
                    "file": "CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -1
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": -10
                },
                {
                    "file": "http/http_connection.h",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -22
                }
            ],
            "sizeInsertions": 554,
            "sizeDeletions": 41
        },
        {
            "number": 16,
            "revision": "76a9da4551861971ec2070c8596372c6504b6b64",
            "parents": [
                "2deeab547e4e4defc7da9012caa6b44f932e7607"
            ],
            "ref": "refs/changes/57/35457/16",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1602267773,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 100,
                    "deletions": 0
                },
                {
                    "file": "static/login/index.html",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "include/authorization.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -5
                },
                {
                    "file": "static/login/logo.svg",
                    "type": "ADDED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "http/http_response.h",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -2
                },
                {
                    "file": "static/login/login.css",
                    "type": "ADDED",
                    "insertions": 321,
                    "deletions": 0
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": -10
                },
                {
                    "file": "http/http_connection.h",
                    "type": "MODIFIED",
                    "insertions": 212,
                    "deletions": -210
                }
            ],
            "sizeInsertions": 722,
            "sizeDeletions": 227
        },
        {
            "number": 17,
            "revision": "c8e7786a0c793ff710275ed013fff93a7b981d34",
            "parents": [
                "5207438cbf2b5070b5fa2216c9aa39da057b0cb4"
            ],
            "ref": "refs/changes/57/35457/17",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1602602595,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 100,
                    "deletions": 0
                },
                {
                    "file": "static/login/index.html",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "include/authorization.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -5
                },
                {
                    "file": "static/login/logo.svg",
                    "type": "ADDED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "http/http_response.h",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -2
                },
                {
                    "file": "static/login/login.css",
                    "type": "ADDED",
                    "insertions": 321,
                    "deletions": 0
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": -10
                },
                {
                    "file": "http/http_connection.h",
                    "type": "MODIFIED",
                    "insertions": 212,
                    "deletions": -210
                }
            ],
            "sizeInsertions": 722,
            "sizeDeletions": 227
        },
        {
            "number": 18,
            "revision": "e3f74d537752fd2dfa4e46fbe8759b134a066c45",
            "parents": [
                "5207438cbf2b5070b5fa2216c9aa39da057b0cb4"
            ],
            "ref": "refs/changes/57/35457/18",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1602603269,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 100,
                    "deletions": 0
                },
                {
                    "file": "static/login/index.html",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "include/authorization.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -5
                },
                {
                    "file": "static/login/logo.svg",
                    "type": "ADDED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "http/http_response.h",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -2
                },
                {
                    "file": "static/login/login.css",
                    "type": "ADDED",
                    "insertions": 321,
                    "deletions": 0
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": -10
                },
                {
                    "file": "http/http_connection.h",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -31
                }
            ],
            "sizeInsertions": 529,
            "sizeDeletions": 48
        },
        {
            "number": 19,
            "revision": "bd590a9f67e92828fa054ddd3e30cd68ed16a703",
            "parents": [
                "5207438cbf2b5070b5fa2216c9aa39da057b0cb4"
            ],
            "ref": "refs/changes/57/35457/19",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1602606664,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 100,
                    "deletions": 0
                },
                {
                    "file": "static/login/index.html",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "include/authorization.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -5
                },
                {
                    "file": "static/login/logo.svg",
                    "type": "ADDED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "http/http_response.h",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -2
                },
                {
                    "file": "static/login/login.css",
                    "type": "ADDED",
                    "insertions": 321,
                    "deletions": 0
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": -10
                },
                {
                    "file": "http/http_connection.h",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -34
                }
            ],
            "sizeInsertions": 530,
            "sizeDeletions": 51
        },
        {
            "number": 20,
            "revision": "be081ba4f86fbd46e8db31fbe72bc0e9f5faf587",
            "parents": [
                "5207438cbf2b5070b5fa2216c9aa39da057b0cb4"
            ],
            "ref": "refs/changes/57/35457/20",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1602607290,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 100,
                    "deletions": 0
                },
                {
                    "file": "static/login/index.html",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "include/authorization.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -5
                },
                {
                    "file": "static/login/logo.svg",
                    "type": "ADDED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "http/http_response.h",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -2
                },
                {
                    "file": "static/login/login.css",
                    "type": "ADDED",
                    "insertions": 321,
                    "deletions": 0
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": -10
                },
                {
                    "file": "http/http_connection.h",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -34
                }
            ],
            "sizeInsertions": 530,
            "sizeDeletions": 51
        }
    ]
}