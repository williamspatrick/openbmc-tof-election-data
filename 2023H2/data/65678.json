{
    "project": "openbmc/docs",
    "branch": "master",
    "id": "I225999464150457a46676f17cf979b5ee1b37a5f",
    "number": 65678,
    "subject": "design: detect hw w/ u-boot_fru_device_alternative",
    "owner": {
        "name": "Christopher Sides",
        "email": "christopher.sides@hpe.com",
        "username": "csides-hpe"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/docs/+/65678",
    "hashtags": [],
    "createdOn": 1692306725,
    "lastUpdated": 1697673223,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1692306725,
            "reviewer": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1692306784,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1692306784,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1692306806,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/73113/ : FAILURE"
        },
        {
            "timestamp": 1692307830,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(5 comments)"
        },
        {
            "timestamp": 1692309188,
            "reviewer": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "message": "Patch Set 1:\n\n(5 comments)"
        },
        {
            "timestamp": 1692309492,
            "reviewer": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1692309553,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1692309554,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1692309579,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/73117/ : SUCCESS"
        },
        {
            "timestamp": 1692311918,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2:\n\n(4 comments)"
        },
        {
            "timestamp": 1692313950,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(17 comments)"
        },
        {
            "timestamp": 1692372153,
            "reviewer": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "message": "Patch Set 2:\n\n(20 comments)"
        },
        {
            "timestamp": 1692640322,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1692643392,
            "reviewer": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "message": "Patch Set 2:\n\n(20 comments)"
        },
        {
            "timestamp": 1692982488,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1693233043,
            "reviewer": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1694102666,
            "reviewer": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1694543588,
            "reviewer": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1694723813,
            "reviewer": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1694723858,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1694723858,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1694723880,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/74145/ : SUCCESS"
        },
        {
            "timestamp": 1694723899,
            "reviewer": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "message": "Patch Set 4: Commit message was updated.\n\nCopied Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1694723937,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1694723937,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1694723960,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/74147/ : SUCCESS"
        },
        {
            "timestamp": 1694724098,
            "reviewer": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "message": "Patch Set 5: Commit message was updated.\n\nCopied Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1694724157,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1694724157,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1694724180,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/74148/ : SUCCESS"
        },
        {
            "timestamp": 1695140520,
            "reviewer": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "message": "Uploaded patch set 6.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1695140561,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1695140562,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1695140588,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/74250/ : SUCCESS"
        },
        {
            "timestamp": 1695141258,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1695141807,
            "reviewer": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1695146612,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1695148560,
            "reviewer": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1695242407,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1695244782,
            "reviewer": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "message": "Uploaded patch set 7.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1695244809,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1695244809,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1695244830,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/74295/ : SUCCESS"
        },
        {
            "timestamp": 1695245600,
            "reviewer": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1695246480,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1696442093,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1696451234,
            "reviewer": {
                "name": "Milton D. Miller II",
                "email": "mdmii@outlook.com",
                "username": "mdmillerii"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1696465981,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 7:\n\n(2 comments)"
        },
        {
            "timestamp": 1696967773,
            "reviewer": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "message": "Patch Set 7:\n\n(2 comments)"
        },
        {
            "timestamp": 1697571188,
            "reviewer": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1697662322,
            "reviewer": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1697673223,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "df50006d8f864dc2eac8b0490d8526111a6492c9",
            "parents": [
                "afb213e0829cd2d1218beececcd2422be1c60e19"
            ],
            "ref": "refs/changes/78/65678/1",
            "uploader": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "createdOn": 1692306725,
            "author": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 14,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This seems contradictory.  How can you both not handle file system backed blobs and read blobs from the file system?"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 14,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "The data being made available as individual files instead of in a traditional blob - one discrete file per FRU property."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 14,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "But then you've leaped to a design point in the Problem Description... that's backwards."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 14,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 14,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Changing back to 'unresolved'"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 14,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Thanks for the notes so far - it's been very helpful for my understanding of how things need to be done!\n\nI've uploaded a potential replacement for this design doc to https://gerrit.openbmc.org/c/openbmc/docs/+/66369\n\nThe new one is an HPE-specific design that relies on phosphor-u-boot-env-mgr to transfer data from u-boot env variables to D-Bus instead of using Entity-Manager's fru_device daemon to move data to D-Bus from the filesystem."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 14,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "I'm now planning to update this doc (not 66369) to turn it into a proposal that would add a 'u-boot-env FRU-alternative' daemon to Entity-Manager, relying on phsophor-u-boot-env-mgr to take data from u-boot environmental variables in order to move it to d-bus (instead of relying on the filesystem for a medium as the current proposal does).\n\nAlternatives covered will include the possibility of using a more-HPE-specific daemon for identifying HPE HW this way, and will also discuss the possibility of hosting the daemon outside of Entity-Manager.\n\nOnce the new version is up, I plan to ask for input on Discord (assuming no one suggests a different avenue)."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 20,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This seems like an overloaded word.  What is a \"manager\"?"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 20,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "It's intended to refer to anything that writes data to the filesystem for pickup by this method.\n\nIn HPE's case, there's a proprietary 'manager' that decrypts data from a secure element, then specific pieces of that data to a space in RAM where it'll be transferred to the filesystem for later pickup."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 20,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Since you've not worked on the project tons, I want to be clear about this: if a comment was along the lines of \"there isn't enough content in the doc for me to understand what you're describing\", it needs an update to the doc because someone else is likely to have the same problem and they shouldn't have to trace all the Gerrit history to figure it out."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 20,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "+1"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 20,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Understood. I'll be looking to roll the comments I've gotten so far into a new draft for further discussion.\n\nI really appreciate the level of guidance that's been given so far in this process - thanks!"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 20,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Reverting to 'unresolved'"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 36,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "How do you go from a secure element to the file on a file system?\n\nI assume you have some code that lives elsewhere.  This code made an active decision to split these out into file-per-field rather than following a standard format?  That seems like a poor decision."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 36,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "The encrypted data in the secure element is a proprietary (non-standard-FRU) format. Specific fields (the same ones as when HPE still used I2C-based FRU blobs) are being surfaced from that data."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 36,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "The \"how do we handle non-standard, potentially proprietary FRU formats\" is a good design point to attempt to resolve here.  I think fundamentally that's a major point of the discussion / proposal.\n\nIt was not obvious from the rest of the doc that you have a proprietary FRU data format.  Most of the doc reads as \"we have code that does this and we want you to take it\" rather than \"this is our problem and here is the 'why' to point to this proposed solution\"."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 36,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 36,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Reverting to 'unresolved'"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 55,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "\"file system as IPC\" seems like a terrible idea.  Why isn't this natively dbus content?\n\nI get the feeling you're not actually talking about the \"filesystem\" but \"sysfs\"?  Maybe I'm reading too much into this.  You probably should be clearer either way."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 55,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "That's a fair point. \n\nThe highlighted bit is just a 'possible other uses' that came to mind."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 59,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "It absolutely is not.  You've invented a proprietary mechanism for feeding the data and want the community to support it.  What lead to this proprietary mechanism is certainly within scope."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 59,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "I will revise to go into more detail here- but my original thinking was that it wouldn't matter how the files were created as long as they can be found in the expected spots.\n\nIn HPE's case, there's existing (proprietary) code that decrypts data in a secure element, then copies specific data to a space in RAM. From there, there is some uBoot code (open sourced, but HPE-specific implementation) that transfers the data onto the filesystem."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 59,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "> In HPE's case, there's existing (proprietary) code that decrypts data in a secure element, then copies specific data to a space in RAM. From there, there is some uBoot code (open sourced, but HPE-specific implementation) that transfers the data onto the filesystem.\n\nThis is also partially backwards.  \"We did this thing in u-boot and now need to support it\".  We should have a cohesive discussion on the whole flow.\n\nThe fundamental design requirements are:\n* \"We have a non-standard FRU format\"\n* \"We have a non-EEPROM device to get data from\"\n\nFrom there, there are probably more than a singular design that would get us there.  That is what the \"Alternative Designs\" section is for."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 59,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 59,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Reverting to 'unresolved'"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 59,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "> The fundamental design requirements are:\n>\n> \"We have a non-standard FRU format\"\n\"We have a non-EEPROM device to get data from\"\nFrom there, there are probably more than a singular design that would get us there. That is what the \"Alternative Designs\" section is for.\n\n+1\ndescriptions on what these devices are and how they can be read would be helpful. The design would cover end to end flow, i.e. from data in these devices to dbus properties that can be probed by entity-manager.\n\n>  there is some uBoot code (open sourced, but HPE-specific implementation) that transfers the data onto the filesystem.\nwhere is this open sourced u-boot code? Good to add a reference link"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 59,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "I will definitely keep this in mind for future design docs and updates. \n\nBased on a suggestion I got in the comments of this doc, I'm now looking into phosphor-u-boot-env-mgr for moving data directly from u-Boot to D-Bus, which seems like it would more cleanly solve HPE's issue re: hardware identification in Entity Manager.\n\nIf we go that path, would it be better to update (or entirely replace) this design doc with one that goes into the HPE-specific secure element -> u-boot -> d-bus path in terms of that subproject?\n\nOr would something a like a 'small' bit of code to move a select set of u-Boot env variables (when found) be better to just submit to gerrit and have it commented on directly? \n\nI don't think any publicly available machines currently use u-boot-env-mgr in a recipe.\n\nThat said, if there's any call in the community to push forward with a filesystem based way of moving data to D-Bus, I'm happy to keep pushing forward here, even if HPE moves over to relying on phosphor-u-boot-env-mgr (and skips the filesystem reading/writing steps)."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 59,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "I'm now planning to update this proposal to discuss creating a 'u-boot-env FRU-alternative' daemon (non-HPE-specific) in Entity-Manager that would make use of the phosphor-u-boot-env-mgr service (if exists) to move HW identifying data to D-Bus.\n\nIn the alternatives section, I plan to discuss the possibility of using a more solidly HPE-specific daemon instead of a generalized one, as well as the possibility of hosting such a daemon outside of Entity-Manager (thought I think it makes sense to keep something like that in Entity-Manager).\n\nOnce I've got it up, I plan to link it on Discord and ask for input re: where this kind of code should live, and for any additional considerations. Let me know if there are other avenues you think I should consider for that kind of discussion, thanks!"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "type": "ADDED",
                    "insertions": 110,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 124,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "f79ce523263f3667b690ba9d8be02a40f44668ae",
            "parents": [
                "afb213e0829cd2d1218beececcd2422be1c60e19"
            ],
            "ref": "refs/changes/78/65678/2",
            "uploader": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "createdOn": 1692309492,
            "author": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 19,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "What is a manager?  Can you replace this with an industry term please?"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 19,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "I will aim to do so. \n\nI'm thinking maybe I should look into some documentation re: interacting with a secure element for hints on better terms to use, but any other suggestions are appreciated."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 19,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Reverting to 'unresolved'"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 23,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Which change?  At this point in the doc, you haven't specified what the change is.  please focus on the problem here."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 23,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 23,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please don't resolve comments that are still open.  Please go through and reopen the comments that you've only ACKed."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 23,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Understood. Your commentary has been exceptionally helpful, thanks!"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 27,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit, can we just say \"most platforms\".  I think this is true of basically every platform we have in the tree."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 27,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 27,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Reverting to 'unresolved'"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 32,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "The filesystem is an operating system construct, and we have control of the operating system.  I think the thing you need to focus on in this section is:\n\n1. Where does the data exist.\n2. Which hardware interfaces have access to the data.\n\nAnything beyond that is part of the design."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 32,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 32,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Reverting to 'unresolved'"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 41,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please revisit this paragraph as well once \"manager\" has been defined.  As-written, this confuses me."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 41,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 41,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Reverting to 'unresolved'"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 46,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit, entity-manager, one-property-per-file, and filesystem are all implementation details.\n\n\"The system must be able to instantiate software interfaces based on <X>\" is I think the only requirement, given that X is the mechanism for accessing the fru."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 46,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 46,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Reverting to 'unresolved'"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 49,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Remove this sentence.  It doesn't matter what anyone \"believes\" design doc needs to focus on realities and requirements."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 49,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 49,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Reverting to 'unresolved'"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 52,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Dip switch would be hooked to GPIO, which we already have a mechanism in the filesystem for.\n\nThis \"example\" is also not a requirement as written."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 52,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 52,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Reverting to 'unresolved'"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 56,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "It's not.......  Considering OpenBMC owns the filesystem and uboot implementations, this is arguably the MOST important part of this document, especially considering we already have mechanisms for passing data from uboot to dbus."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 56,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 56,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Reverting to 'unresolved'"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 59,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Background section needs to mention:\nhttps://github.com/openbmc/phosphor-u-boot-env-mgr\n\nWhat it is, and what it does, because it seems like it's doing exactly the same thing."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 59,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 59,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Reverting to 'unresolved'"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 59,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Thanks again for suggesting this subproject I had completely overlooked before.\n\nA new design doc to replace this one that relies on phospor-u-boot-env-mgt has been uploaded @ https://gerrit.openbmc.org/c/openbmc/docs/+/66369"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 59,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "After thinking about it longer, I'm now planning to update *this* proposal (not the one at 66369) to suggest creating a 'u-boot-env FRU-alternative' daemon (non-HPE-specific) in Entity-Manager that would make use of the phosphor-u-boot-env-mgr service (if exists) to move HW identifying data to D-Bus.\n\nIn the alternatives, I will discuss the possibility of using an HPE-specific daemon instead aiming for a more generalized 'anyone could decide to make use of it' design, as well as the possibility of hosting the proposed daemon outside of Entity-Manager.\n\nWhen I've got it updated, I'll ask around on the Discord for input re: where this code for identifying HW with non-standard FRU-like info should live."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 64,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "What does \"one-off\" mean?   At startup?"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 64,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 64,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Reverting to 'unresolved'"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 67,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "You've invented a term here but not defined it.  What is a \"Managed FRU\" and what are the types?"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 67,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 67,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Reverting to 'unresolved'"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 76,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Remove.  These are arguably implementation details that we can deal with in the implementation."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 76,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 76,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Reverting to 'unresolved'"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 82,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "In general, we separate daemons in terms of transports.  FRU device is designed for i2c -> Dbus communication.\n\nThere is one path where FRU-device can read from the filesystem, and that's arguably an implementation mistake (and has caused us pain in the past).\n\nu-boot -> dbus communication is handled by phosphor-u-boot-env-mgr.\n\none of your alternatives needs to include using phosphor-u-boot-env-mgr, and why it's not viable to put there."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 82,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "This is extremely helpful information, thanks!"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 82,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Reverting to 'unresolved'"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 82,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "After digging into this and talking with some other HPE folks, I'm increasingly feeling like your suggestion of uBoot -> DBus is a better path forward.\n\nThanks a ton for your suggestions- I would have realized that subproject's functionality otherwise (It doesn't seem like any machines currently reference it in a recipe).\n\nAssuming we switch over to using phosphor-u-boot-env-mgr for HPE's process, would you suggest updating (or closing and replacing) this design doc to describe HPE's secure element -> u-boot -> d-bus process in terms of phosphor-u-boot-env-mgr?\n\nOr would it make more sense to just add some HPE-specific code to phosphor-u-boot-env-mgr for moving HPE-specific 'FRU' data over to d-bus, then submit it to Gerrit for direct commentary/discussion?"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 86,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "As-written, your code is now going to run on systems that will never support it?  That might be ok, but it's worth calling out."
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 86,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "what is an 'on-off\" process?  onetime?"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 86,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 86,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 86,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Reverting to 'unresolved'"
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "line": 86,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Reverting to 'unresolved'"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/managed-fru-filesystem-support.md",
                    "type": "ADDED",
                    "insertions": 107,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 121,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "1aafc68c004acdf936d432794c10c45a1c8e691e",
            "parents": [
                "afb213e0829cd2d1218beececcd2422be1c60e19"
            ],
            "ref": "refs/changes/78/65678/3",
            "uploader": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "createdOn": 1694723813,
            "author": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "designs/no-fru-device-hw-detect.md",
                    "type": "ADDED",
                    "insertions": 159,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 174,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "e8ec8e2714af040cd37ed0a59484c20e6124dba3",
            "parents": [
                "afb213e0829cd2d1218beececcd2422be1c60e19"
            ],
            "ref": "refs/changes/78/65678/4",
            "uploader": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "createdOn": 1694723899,
            "author": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "designs/no-fru-device-hw-detect.md",
                    "type": "ADDED",
                    "insertions": 159,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 174,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "ea07048f3f5820c24d105627a350e0e5d88f7340",
            "parents": [
                "afb213e0829cd2d1218beececcd2422be1c60e19"
            ],
            "ref": "refs/changes/78/65678/5",
            "uploader": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "createdOn": 1694724098,
            "author": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "designs/no-fru-device-hw-detect.md",
                    "type": "ADDED",
                    "insertions": 159,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 174,
            "sizeDeletions": 0
        },
        {
            "number": 6,
            "revision": "a521bdd6d3768bc5eb0fd3d0f3941d2ecbea9686",
            "parents": [
                "afb213e0829cd2d1218beececcd2422be1c60e19"
            ],
            "ref": "refs/changes/78/65678/6",
            "uploader": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "createdOn": 1695140520,
            "author": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/no-fru-device-hw-detect.md",
                    "line": 50,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "You don't plan on having 'FRU_Device_Alternative' in the D-Bus service or interface names right?  There's already systems out there that don't probe using fru-device interfaces, for example all of IBMs systems which probe against an IBM unique EEPROM format (e.g. https://github.com/openbmc/entity-manager/blob/master/configurations/rainier_4u_chassis.json#L24)"
                },
                {
                    "file": "designs/no-fru-device-hw-detect.md",
                    "line": 50,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "I wasn't aware of the IBM probes, that's useful info thanks! \n\nThe actual name of the service and interface is still very open to suggestions. Maybe something like 'uboot-deviceID'?"
                },
                {
                    "file": "designs/no-fru-device-hw-detect.md",
                    "line": 50,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Did you already consider just hosting the new interface from within uboot-env-manager?  That seems like it would save some work, plus it already claims a service name."
                },
                {
                    "file": "designs/no-fru-device-hw-detect.md",
                    "line": 50,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "To clarify- are we talking about hosting the entire service + daemon source in uboot-env-manager, or are we talking about hosting the service + daemon in Entity-Manager, but then adding dbus objects to the the existing uboot-env-manager service name?\n\nre code in env-mgr: I thought it would make logical sense to keep this 'fru-like' data daemon with the existing FRUDevice daemon. In Gen10, we still had an I2C-accessible device, and (probably) would have been modifying FRUDevice to parse HPE's blobs if the device hadn't gone away in Gen11."
                },
                {
                    "file": "designs/no-fru-device-hw-detect.md",
                    "line": 50,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "I was talking about just putting your code inside uboot-env-mgr, to just read whatever variables you want on startup and put them on D-Bus as read only properties. It would be less code, and one less service file to deal with. I'm not sure what the maintainers of that repo would think about that though."
                },
                {
                    "file": "designs/no-fru-device-hw-detect.md",
                    "line": 50,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "Based on your earlier comment, I've changed interface & daemon names in the documentation to 'uBootHWID,' pending further naming suggestions.\n\nI think it's worth noting that the service file being proposed for Entity-Manager should only startup if an image has explicitly imported u-boot-env-mgr (no public recipes do at this time) and the service there is running first. \n\nI also have the impression that adding new HW discovery 'channels' to Entity-Manager alongside the existing frudevice daemon (which is focused on HW discovery via i2c EEPROM reads) *might* set good precedent re: having hardware discovery daemons grouped in one spot, with one daemon per channel used for discovery.\n\n(I am taking a closer look at how that IBM code you linked earlier implements things in general btw- thanks again for that link)"
                },
                {
                    "file": "designs/no-fru-device-hw-detect.md",
                    "line": 50,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "At IBM so far we never completely moved off of the original inventory manager phosphor-inventory-manager.  So we have a service that reads EEPROMs with IBM format contents and fills in d-bus properties based on the values in phosphor-inventory-manager, which EM then probes.\n\nI don't have a problem with it going alongside fru-device if that's where people think it should go."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "designs/no-fru-device-hw-detect.md",
                    "type": "ADDED",
                    "insertions": 161,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 176,
            "sizeDeletions": 0
        },
        {
            "number": 7,
            "revision": "452cd8d94e1ca3ba83ddecc30fad04916aa6dc36",
            "parents": [
                "afb213e0829cd2d1218beececcd2422be1c60e19"
            ],
            "ref": "refs/changes/78/65678/7",
            "uploader": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "createdOn": 1695244782,
            "author": {
                "name": "Christopher Sides",
                "email": "christopher.sides@hpe.com",
                "username": "csides-hpe"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/no-fru-device-hw-detect.md",
                    "line": 51,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "I think the gist of one of Matt's comments was we're constructing a bit of a house of cards here, and I tend to agree. The chain of D-Bus services involved is starting to feel a little long. If you must use the u-boot environment, can you probe on the phosphor-u-boot-env-mgr representation of the data?\n\nHowever, I think the right direction might be in the direction of a reserved memory region as suggested by Milton below. A daemon for parsing the data straight out of the reserved memory and representing it on D-Bus gets you one less link in the D-Bus chain without abusing the u-boot environment."
                },
                {
                    "file": "designs/no-fru-device-hw-detect.md",
                    "line": 97,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "mdmii@outlook.com",
                        "username": "mdmillerii"
                    },
                    "message": "I don't know the lifetime of your method how you check if its up to date, but did you consider using a reserved memory region https://github.com/openbmc/linux/blob/dev-6.5/Documentation/devicetree/bindings/reserved-memory/memory-region.yaml or even a pstore file to hold the content instead of forcing it into the u-boot environment?  The environment is usually in a fixed location in flash and writing it every boot may cause a wear out concern.  Alternatively this would tie up some amount of RAM.  (If you have already considered how to check before rewriting the enviornment you can state so, but the only reason I see that you selected it was because the environment to dbus path already existed).\n\n(Yes, pstore is normally used for logging of events, traces, console messages, etch and so configuration could be considered off topic for that.  But I'd also say the u-boot environment is too)."
                },
                {
                    "file": "designs/no-fru-device-hw-detect.md",
                    "line": 97,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "+1 for this line of investigation!"
                },
                {
                    "file": "designs/no-fru-device-hw-detect.md",
                    "line": 97,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "I hadn't considered those things before, but will definitely investigate further. Thanks for the suggestions!"
                },
                {
                    "file": "designs/no-fru-device-hw-detect.md",
                    "line": 97,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "How would folks feel about a daemon (likely hosted by Entity-Manager) that picks up data for D-Bus from /proc/device-tree/chosen? \n\nhttps://www.kernel.org/doc/Documentation/devicetree/bindings/chosen.txt\n\nIt turns out we're using 'chosen -> d-bus' daemons in proof of concept code already, and I may have been confusing things in previous discussions about it by referring to reads from there as 'filesystem access' (which resulted in some of the pushback re: relying on the filesystem that lead to the focus on phosphor-uboot-env-mgr)\n\nAnd you are correct- we started looking into using into phosphor-uboot-env-mgr mostly because HPE is relying u-boot to parse data from u-Bootblock.\n\nThat HW ID data is being passed to u-boot via a location in RAM by u-BootBlock, which is retrieving the data we need from a secure element with no direct BMC access.\n\nIf there are no objections, I'll be working on updating documentation to discuss a potential 'chosen -> d-bus' daemon instead of relying of phosphor-uboot-env-mgr."
                },
                {
                    "file": "designs/no-fru-device-hw-detect.md",
                    "line": 97,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "A new version of the HPE-specific process (which goes into details about things like HPE's secure element -> u-BootBlock -> u-Boot -> D-Bus pipeline) has been uploaded @ https://gerrit.openbmc.org/c/openbmc/docs/+/66369\n\nThis new doc switches to relying on a daemon that reads from file handles in /proc/device-tree/chosen/ instead using d-bus calls through phosphor-uboot-env-mgr.\n\n>The chosen node does not represent a real device, but serves as a place\nfor passing data between firmware and the operating system, like boot\narguments\n\nIf there's pushback on using chosen/, we're we'll look at switching reserved memory regions.\n\nA new version of *this* doc should also be uploaded shortly with similar changes. I see this doc as being more for a discussion of a generally usable [channel] -> D-Bus daemon without diving too deeply into HPE-specific details."
                },
                {
                    "file": "designs/no-fru-device-hw-detect.md",
                    "line": 97,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "I've responded on the other design doc. I think I'll hold off on re-reviewing this one until we've got some of the details sorted out."
                },
                {
                    "file": "designs/no-fru-device-hw-detect.md",
                    "line": 143,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "where would this service gets defined?"
                },
                {
                    "file": "designs/no-fru-device-hw-detect.md",
                    "line": 143,
                    "reviewer": {
                        "name": "Christopher Sides",
                        "email": "christopher.sides@hpe.com",
                        "username": "csides-hpe"
                    },
                    "message": "I was thinking it would make sense to include it in Entity-Manager, but am planning to try posting on the OBMC mailing list for further discussion on where any 'new' HW -> D-Bus daemons should live."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "designs/no-fru-device-hw-detect.md",
                    "type": "ADDED",
                    "insertions": 160,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 175,
            "sizeDeletions": 0
        }
    ]
}