{
    "project": "openbmc/docs",
    "branch": "master",
    "id": "I7c14de106a71585b11eed4a9a27e0fb677a3a954",
    "number": 65703,
    "subject": "design: Add SOL SysRq design doc",
    "owner": {
        "name": "Lei YU",
        "email": "mine260309@gmail.com",
        "username": "mine260309"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/docs/+/65703",
    "hashtags": [],
    "createdOn": 1691033057,
    "lastUpdated": 1701286003,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1691033057,
            "reviewer": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1691033089,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1691033089,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1691033113,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/72392/ : SUCCESS"
        },
        {
            "timestamp": 1691479379,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1691480863,
            "reviewer": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1691481074,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1691481696,
            "reviewer": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1691481911,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Patch Set 1: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1691618287,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1692601102,
            "reviewer": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1692601135,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1692601135,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1692601159,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/73224/ : SUCCESS"
        },
        {
            "timestamp": 1692601431,
            "reviewer": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1692604587,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1692632354,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/73238/ : SUCCESS"
        },
        {
            "timestamp": 1692663384,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 2:\n\n(5 comments)"
        },
        {
            "timestamp": 1692935687,
            "reviewer": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "message": "Patch Set 2:\n\n(5 comments)"
        },
        {
            "timestamp": 1692935938,
            "reviewer": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1692935964,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1692935964,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1692935989,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/73506/ : SUCCESS"
        },
        {
            "timestamp": 1692946050,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1693212576,
            "reviewer": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1693360978,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1693894133,
            "reviewer": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1693894199,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1693894199,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1693894225,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/73741/ : SUCCESS"
        },
        {
            "timestamp": 1696278757,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1696303655,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1696661490,
            "reviewer": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1696661596,
            "reviewer": {
                "name": "Michael Xie",
                "email": "xiexinnan@bytedance.com",
                "username": "MichaelXie98"
            },
            "message": "Uploaded patch set 5.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1696661617,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1696661618,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1696661757,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/74785/ : SUCCESS"
        },
        {
            "timestamp": 1696666087,
            "reviewer": {
                "name": "Michael Xie",
                "email": "xiexinnan@bytedance.com",
                "username": "MichaelXie98"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1696672374,
            "reviewer": {
                "name": "Michael Xie",
                "email": "xiexinnan@bytedance.com",
                "username": "MichaelXie98"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1696735458,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1696736341,
            "reviewer": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1696893099,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1696950891,
            "reviewer": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1696979171,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1697447001,
            "reviewer": {
                "name": "Michael Xie",
                "email": "xiexinnan@bytedance.com",
                "username": "MichaelXie98"
            },
            "message": "Uploaded patch set 6.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1697447049,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1697447049,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1697447070,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/74993/ : FAILURE"
        },
        {
            "timestamp": 1697447273,
            "reviewer": {
                "name": "Michael Xie",
                "email": "xiexinnan@bytedance.com",
                "username": "MichaelXie98"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1697447443,
            "reviewer": {
                "name": "Michael Xie",
                "email": "xiexinnan@bytedance.com",
                "username": "MichaelXie98"
            },
            "message": "Uploaded patch set 7.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1697447454,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1697447454,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1697447477,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/74995/ : SUCCESS"
        },
        {
            "timestamp": 1697523805,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 7:\n\n(5 comments)"
        },
        {
            "timestamp": 1697627657,
            "reviewer": {
                "name": "Michael Xie",
                "email": "xiexinnan@bytedance.com",
                "username": "MichaelXie98"
            },
            "message": "Uploaded patch set 8.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1697627697,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1697627697,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: -Ok-To-Test"
        },
        {
            "timestamp": 1697627723,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/75098/ : SUCCESS"
        },
        {
            "timestamp": 1697628009,
            "reviewer": {
                "name": "Michael Xie",
                "email": "xiexinnan@bytedance.com",
                "username": "MichaelXie98"
            },
            "message": "Patch Set 8:\n\n(3 comments)"
        },
        {
            "timestamp": 1697673737,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 8: Code-Review+1\n\n(5 comments)"
        },
        {
            "timestamp": 1698735702,
            "reviewer": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "message": "Patch Set 8: Code-Review+1"
        },
        {
            "timestamp": 1698794725,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1699855975,
            "reviewer": {
                "name": "Michael Xie",
                "email": "xiexinnan@bytedance.com",
                "username": "MichaelXie98"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1701130440,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1701137437,
            "reviewer": {
                "name": "Michael Xie",
                "email": "xiexinnan@bytedance.com",
                "username": "MichaelXie98"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1701138083,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1701171355,
            "reviewer": {
                "name": "Michael Xie",
                "email": "xiexinnan@bytedance.com",
                "username": "MichaelXie98"
            },
            "message": "Uploaded patch set 9.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1701171383,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1701171383,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: -Ok-To-Test"
        },
        {
            "timestamp": 1701171403,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/76478/ : SUCCESS"
        },
        {
            "timestamp": 1701171491,
            "reviewer": {
                "name": "Michael Xie",
                "email": "xiexinnan@bytedance.com",
                "username": "MichaelXie98"
            },
            "message": "Patch Set 9:\n\n(1 comment)"
        },
        {
            "timestamp": 1701214295,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 9: Code-Review+1"
        },
        {
            "timestamp": 1701286000,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 9: Code-Review+2"
        },
        {
            "timestamp": 1701286003,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Change has been successfully rebased and submitted as d72704a5f0dbc723bc8e490dfa015e1878e13cc8"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "d039d3baf3d86887da0182d5e383a69a723b1967",
            "parents": [
                "0666ef8a4a4d54f0848994d69a623e7145dbc36d"
            ],
            "ref": "refs/changes/03/65703/1",
            "uploader": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "createdOn": 1691033057,
            "author": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "LGTM, just a query on the messaging protocol."
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "OOB makes sense, but we may want to add support for additional messaging in future. Why 72 here?"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "mine260309@gmail.com",
                        "username": "mine260309"
                    },
                    "message": "It requires a data for OOB message, and it happens to be `H` for current implementation.\nNo special meaning here.\n\nWe could discuss the possible future extension here, and possibly make a table of such messages."
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "Yeah, that's where I'm going this this question - we'll eventually want a table, and then starting at 'H' is a bit odd.\n\nHowever: I assume there may be existing code supporting this, I'm okay to keep it as is if that's the case."
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "mine260309@gmail.com",
                        "username": "mine260309"
                    },
                    "message": "> However: I assume there may be existing code supporting this, I'm okay to keep it as is if that's the case.\n\nYup, https://github.com/openbmc/phosphor-net-ipmid/blob/master/sol/sol_context.cpp#L158 already uses `H` as the sysrq message.\n\n> we'll eventually want a table, and then starting at 'H' is a bit odd.\n\nDo you suggest to make a table from now in this doc?"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "No, that's fine - we can create it if/when we need it."
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "If we're going to maintain compatibility by keeping `H`, can we note the history of `H` in the document itself?"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "mine260309@gmail.com",
                        "username": "mine260309"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "type": "ADDED",
                    "insertions": 103,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 117,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "10eb128a57055a31c211c2c66ee1a3d2c05c60f6",
            "parents": [
                "afb213e0829cd2d1218beececcd2422be1c60e19"
            ],
            "ref": "refs/changes/03/65703/2",
            "uploader": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "createdOn": 1692601102,
            "author": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 22,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Can we please format this as ```[usually generated by `ctrl+break`][2].```? Otherwise the rendered form looks like the following, with an odd trailing `2`:\n\n> The \"break signal\" is usually generated by ctrl+break key combination.2\n\nhttps://gerrit.openbmc.org/plugins/gitiles/openbmc/docs/+/10eb128a57055a31c211c2c66ee1a3d2c05c60f6/designs/sol-sysrq.md"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 22,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "mine260309@gmail.com",
                        "username": "mine260309"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 25,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "This is an alternative to `~B` mentioned below?"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 25,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "mine260309@gmail.com",
                        "username": "mine260309"
                    },
                    "message": "It's the same as `\\n~B` below, let me rephrase here to make it more clear."
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 55,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Given we're talking about `ipmitool` here, isn't the break triggered by `Ctrl-Break` as mentioned above? Are we proposing adding another mechanism?\n\n`~B` is an SSH-ism as far as I can determine. Given that obmc-console can be tunnelled over SSH (as it is currently using dropbear) are we trying to make `ipmitool` consistent with SSH?"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 55,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "mine260309@gmail.com",
                        "username": "mine260309"
                    },
                    "message": "The above mentioned `ctrl-break` in ipmitool is not accurate, it's actually `\\n~B`.\nUpdated here."
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 59,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "If we're following SSH we'd expect the buffer to be `\\n~B` (the escape only works after a newline).\n\nBut do we actually need a button if the user can just do the in-band signalling themselves by typing `\\n~B`?"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 59,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "mine260309@gmail.com",
                        "username": "mine260309"
                    },
                    "message": "Good question.\nWe actually tried to input `\\n~B` to trigger the sysrq, but failed.\nIn the SOL<->bmcweb communication, when user hit a key, the data is sent to bmcweb directly like byte by byte, so the check in `bmcweb` will not catch the whole `\\n~B` sequence.\n\nBy sending the key code by a WebUI button, it makes sure bmcweb could receive the whole sequence, and handle it as expect.\n\nIs there any suggestion on handling the case?"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 59,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Okay, it sounds like bmcweb needs better text stream processing. Essentially you need to insert a little state-machine that you send all input characters through to do the pattern matching.\n\n```mermaid\n---\ntitle: SSH escape state machine\n---\nstateDiagram-v2\n    direction LR\n    [*] --> Empty\n    Empty --> Emit: [^#92;n]\n    Emit --> Empty\n    Empty --> Newline: [#92;n]\n    Newline --> Escape: [~]\n    Escape --> EmitEscapeCode: [B]\n    EmitEscapeCode --> Empty\n```\n\n[Here's a rendered version](https://mermaid.live/edit#pako:eNp1UD1PAzEM_SuR2dBl6UaQGPiQGICB22iKZF1MG3FJTjkfqKrKb8ckPV0XMjnP7_nZ7wBdcgQGtNY2sueejGrbR0VjhwOpkZFJBex2PpKNhVWwe4_bjEF_rWxU8pzP1LFPUT29VmR9uVFa36iHMPC-QqU8gZ6NWr9fXK2u42buev5f8ULfvewgonPNCa2ysrIQfuaB9YbZr37v5F7h3J6ZLo3FHhoIlAN6J-Ec_rgWeEeBLBgpHeZPCzYehYcTp3YfOzCcJ2pgGtwSEJgP7EdByXlO-bmmXUJvYMD4ltLMOf4CWjd96w)"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 59,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "mine260309@gmail.com",
                        "username": "mine260309"
                    },
                    "message": "It is the client's job to send the signal, e.g. it's ipmitool that sends the signal.\n\nSo in WebUI->bmcweb case, probably it is WebUI's job to send the signal.\nWe actually tried to send the OOB message from the websocket directly, but it looks like websocket does not support OOB message and thus we have to handle it in bmcweb.\n\nCurrently for simplicity, it's implemented the that that WebUI send the sequence directly, so that bmcweb could handle it easily.\n\nIf we really want to introduce the `SSH escapse state machine` in bmcweb, it's doable but makes it a bit more complex."
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 59,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Ultimately the \"use a button to send a buffer with an atomic action from the web UI\" is a hack though. Just because it was sent as a coherent buffer, doesn't mean it will be processed by bmcweb that way. It might be common that it is, but that doesn't mean that it won't break due to circumstances. A state machine to process the character stream will always provide correctness."
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 59,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "mine260309@gmail.com",
                        "username": "mine260309"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 67,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "`\\n~B`."
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 67,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "mine260309@gmail.com",
                        "username": "mine260309"
                    },
                    "message": "Right, will update."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "type": "ADDED",
                    "insertions": 112,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 126,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "0498bc04f58cc1a18ec7bf815b4e520c787b2b6b",
            "parents": [
                "afb213e0829cd2d1218beececcd2422be1c60e19"
            ],
            "ref": "refs/changes/03/65703/3",
            "uploader": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "createdOn": 1692935938,
            "author": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "type": "ADDED",
                    "insertions": 113,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 127,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "ed06134e0a1bde70d573f4d6ff805c52ee88e6bb",
            "parents": [
                "afb213e0829cd2d1218beececcd2422be1c60e19"
            ],
            "ref": "refs/changes/03/65703/4",
            "uploader": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "createdOn": 1693894133,
            "author": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Vernon Mauery",
                        "email": "vernon.mauery@linux.intel.com",
                        "username": "vmauery"
                    },
                    "message": "I like this idea in general. Working out the state machine to make sure it behaves correctly on this multi-key situation is tricky. I took a stab, but am still not sure it is correct."
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Vernon Mauery",
                        "email": "vernon.mauery@linux.intel.com",
                        "username": "vmauery"
                    },
                    "message": "This is not quite the full picture. If the byte is a newline, it should still be emitted immediately, and then we are in the next loop that waits for the next byte. If ~, send break, otherwise emit and go back to empty.\n\nI am not sure if I got this right, but here's my take:\n\n\n---\ntitle: SSH escape state machine\n---\nstateDiagram-v2\n    direction LR\n    [*] --> Empty\n    Empty --> Emit: [^#92;n]\n    Emit --> Empty\n    Empty --> EmitNewline: [#92;n]\n    EmitNewline --> Emit: [^~]\n    EmitNewline --> Escape: [~]\n    Escape --> EmitEscapeCode: [B]\n    Escape --> EmitTilde: [^B]\n    EmitTilde --> Emit\n    EmitEscapeCode --> Empty\n\nThe trickiest bit is that on \\n -> ~ -> [^B] you still need to emit ~ before whatever key comes after ~ that is not B."
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "As an experiment I implemented the state machine. We don't need quite so many states:\n\nhttps://gist.github.com/amboar/57e481ecd241f28a13b182ddcd1ca2cb\n\nHere's the output:\n\n```\n$ ./escape \\\n> \"$(printf \"abc\")\" \\\n> \"$(printf \"\\nabc\")\" \\\n> \"$(printf \"\\n~abc\")\" \\\n> \"$(printf \"\\n~Babc\")\" \\\n> \"$(printf \"a\\n~Bbc\")\" \\\n> \"$(printf \"ab\\n~Bc\")\" \\\n> \"$(printf \"abc\\n~B\")\" \\\n> \"$(printf \"abc\\n~\")\"\nabc\n---\n\nabc\n---\n\n~abc\n---\n<BREAK>abc\n---\na<BREAK>bc\n---\nab<BREAK>c\n---\nabc<BREAK>\n---\nabc\n~\n---\n```"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "mine260309@gmail.com",
                        "username": "mine260309"
                    },
                    "message": "> This is not quite the full picture.\n\nRight, we will update the state machine with a bit more details."
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Michael Xie",
                        "email": "xiexinnan@bytedance.com",
                        "username": "MichaelXie98"
                    },
                    "message": "There is a more detailed state machine in patchset 5. These states should show the full picture."
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Michael Xie",
                        "email": "xiexinnan@bytedance.com",
                        "username": "MichaelXie98"
                    },
                    "message": "There is a problem in our solution. If a user paste a sequence with \"\\n~B\", such as \"ABCD\\n~Babcd\" or \"\\n~Bh\". obmc-console can not handle the sequence correctly, as OOB message can be anywhere in the sequence. Currently, we erase inputBuffer in bmcweb after sending OOB message and check buffer after receiving OOB in obmc-console. This guarantee sequence before \u201c\\n~B\u201d like \"ABCD\" in \"ABCD\\n~Babcd\" will be handled correctly, but lose sequence after \u201c\\n~B\u201d like \"abcd\" in \"ABCD\\n~Babcd\".\nAny suggestions\uff1f"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "If we're doing it all in-band, we can have obmc-console run the escape-detection state-machine, right? and it can just issue `tcsendbreak()` directly without requiring an OOB message on the AF_UNIX sockets?"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "mine260309@gmail.com",
                        "username": "mine260309"
                    },
                    "message": "To support ipmitool's break, it's handled by net-ipmid instead of obmc-console, the OOB message is needed.\nUnless we change net-ipmid to send the `\\n~B` sequence on the break handler?"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Fair point. Maybe this helps?\n\nhttps://www.gnu.org/software/libc/manual/html_node/Out_002dof_002dBand-Data.html\n\nparticularly this might help with stream synchronisation?\n\nhttps://man7.org/linux/man-pages/man3/sockatmark.3.html\n\nHowever I'm not sure what is meant by \"abcd\" is \"lost\" in the example above. Where is it lost?"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "mine260309@gmail.com",
                        "username": "mine260309"
                    },
                    "message": "I think @Michael Xie is trying to implement the state machine in the obmc-console server side. With this change (plus net-ipmid changes), we will not worry about OOB anymore.\nIt it works well, we could update this whole design doc with the new approach."
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Okay, I guess we'll hear of the outcome \ud83d\ude0a"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Michael Xie",
                        "email": "xiexinnan@bytedance.com",
                        "username": "MichaelXie98"
                    },
                    "message": "In patchset 6, we update the design doc with a new approach without OOB.\nThe state machine in obmc-console side works well."
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "type": "ADDED",
                    "insertions": 129,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 143,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "203fa5da3d3f50f0201def9ab96988f8b9c07d0b",
            "parents": [
                "717d273cf8bceac3868a278aeb34d19e8d74c1b3"
            ],
            "ref": "refs/changes/03/65703/5",
            "uploader": {
                "name": "Michael Xie",
                "email": "xiexinnan@bytedance.com",
                "username": "MichaelXie98"
            },
            "createdOn": 1696661596,
            "author": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "type": "ADDED",
                    "insertions": 134,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 148,
            "sizeDeletions": 0
        },
        {
            "number": 6,
            "revision": "639d4a8bba4d121134324da2b106a6a426df9b4d",
            "parents": [
                "7b4a8a79ca08dfb8b88b0fca44e2090a76637283"
            ],
            "ref": "refs/changes/03/65703/6",
            "uploader": {
                "name": "Michael Xie",
                "email": "xiexinnan@bytedance.com",
                "username": "MichaelXie98"
            },
            "createdOn": 1697447001,
            "author": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "type": "ADDED",
                    "insertions": 117,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 131,
            "sizeDeletions": 0
        },
        {
            "number": 7,
            "revision": "4f4ec81916de6492dcb390c29cdc2143572b3765",
            "parents": [
                "7b4a8a79ca08dfb8b88b0fca44e2090a76637283"
            ],
            "ref": "refs/changes/03/65703/7",
            "uploader": {
                "name": "Michael Xie",
                "email": "xiexinnan@bytedance.com",
                "username": "MichaelXie98"
            },
            "createdOn": 1697447443,
            "author": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 54,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "s/sessioin/session/"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 54,
                    "reviewer": {
                        "name": "Michael Xie",
                        "email": "xiexinnan@bytedance.com",
                        "username": "MichaelXie98"
                    },
                    "message": "fixed in patchset8"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 54,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 85,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "There are some stray parts to that state machine. How about this one:\n\n```\nstateDiagram-v2\n    [*] --> Empty\n    Empty --> Emit: [^#92;n]\n    Emit --> [*]\n    Empty --> Newline: [#92;n]\n    Newline --> Escape: [~]\n    Newline --> EmitNewline: [^#92;n]\n    Escape --> EmitEscapeCode: [B]\n    EmitEscapeCode --> [*]\n    EmitNewline --> [*]\n    Escape --> EmitNewlineTilde: [^B]\n    EmitNewlineTilde --> [*]\n```\n\nHere's the rendered version:\nhttps://mermaid.ink/img/pako:eNptUTsOwjAMvUplNkQXNoLEwGeEBTYCUtQYiGjSKnVBCMHZMWmhUMjkvJ-d-ApJphEEFKQIp0btvbLxqS9dxGfd3URxPIpmNqdLBYWyBg2JaL3tDPpDt3mxhgLJzrZ-gefUOGTLp6NGq8QiUflTcP9HcnQT8d01-N6q6jrhd7Fw_DFZQ7RnfEe3iO_gWrMyaYjejn_9gXuFQA8sequM5g--PrUS6IAWJQgutfJHCdLdWKdKypYXl4AgX2IPylw3-wCxU2nBKGpDmZ9XGwuLuz0AiwqKwg?type=png)](https://mermaid.live/edit#pako:eNptUTsOwjAMvUplNkQXNoLEwGeEBTYCUtQYiGjSKnVBCMHZMWmhUMjkvJ-d-ApJphEEFKQIp0btvbLxqS9dxGfd3URxPIpmNqdLBYWyBg2JaL3tDPpDt3mxhgLJzrZ-gefUOGTLp6NGq8QiUflTcP9HcnQT8d01-N6q6jrhd7Fw_DFZQ7RnfEe3iO_gWrMyaYjejn_9gXuFQA8sequM5g--PrUS6IAWJQgutfJHCdLdWKdKypYXl4AgX2IPylw3-wCxU2nBKGpDmZ9XGwuLuz0AiwqKwg"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 85,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 88,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "This state isn't in the state machine description you have above? Anyway, I think we can replace it with the reworked one I've left in the comment."
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 88,
                    "reviewer": {
                        "name": "Michael Xie",
                        "email": "xiexinnan@bytedance.com",
                        "username": "MichaelXie98"
                    },
                    "message": "fixed in patchset8"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 88,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 101,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "If this is the argument I think you have to mention `sockatmark(3)` https://man7.org/linux/man-pages/man3/sockatmark.3.html - it is possible to synchronise the OOB message with the stream. But it requires signalling the OOB message in all obmc-console clients, which is more work than not."
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 101,
                    "reviewer": {
                        "name": "Michael Xie",
                        "email": "xiexinnan@bytedance.com",
                        "username": "MichaelXie98"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "line": 101,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "type": "ADDED",
                    "insertions": 118,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 132,
            "sizeDeletions": 0
        },
        {
            "number": 8,
            "revision": "73ea265ab2df0e68fe5116bafee93468527f8293",
            "parents": [
                "7b4a8a79ca08dfb8b88b0fca44e2090a76637283"
            ],
            "ref": "refs/changes/03/65703/8",
            "uploader": {
                "name": "Michael Xie",
                "email": "xiexinnan@bytedance.com",
                "username": "MichaelXie98"
            },
            "createdOn": 1697627657,
            "author": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Actually, this is no-longer true, right?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Michael Xie",
                        "email": "xiexinnan@bytedance.com",
                        "username": "MichaelXie98"
                    },
                    "message": "actually, there is a problem with ssh, \"\\n~B\" will be processed by ssh, this sequence did not reach obmc-console-server"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "I suspect you just need to escape it harder \ud83d\ude0a Try `\\n~~B` (two tildes). Dropbear should pass the escape through by eating the first tilde. This should propagate `\\n~B` to obmc-console-server."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Michael Xie",
                        "email": "xiexinnan@bytedance.com",
                        "username": "MichaelXie98"
                    },
                    "message": "It seems \"\\n~~B\" did not work"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "did you strace obmc-console-server while you did it? What sequence did it see? I'm speculating it might be missing the `\\n`?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Michael Xie",
                        "email": "xiexinnan@bytedance.com",
                        "username": "MichaelXie98"
                    },
                    "message": "In this case, we need three ~. I ssh to bmc and open obmc-console-client. First ~ was processed by ssh, second was processed by obmc-console-client, third ~ reach obmc-console-server and worked.\nUpdate in  patchset 9"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Hi Michael, thanks for working on this. As a general point of organisation can you please make sure to set the `Resolved` checkbox in the comment threads where you think the conversation has been dealt with? This way the comments are hidden from subsequent revisions of the patch.\n\nOther than that, this looks good to me!"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "type": "ADDED",
                    "insertions": 120,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 134,
            "sizeDeletions": 0
        },
        {
            "number": 9,
            "revision": "f43ff399b15d645bf32d6add4831114d7c55c5e5",
            "parents": [
                "5ae481581052b996966ef4c3df18afb12b1fbda8"
            ],
            "ref": "refs/changes/03/65703/9",
            "uploader": {
                "name": "Michael Xie",
                "email": "xiexinnan@bytedance.com",
                "username": "MichaelXie98"
            },
            "createdOn": 1701171355,
            "author": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "type": "ADDED",
                    "insertions": 120,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 132,
            "sizeDeletions": 0
        },
        {
            "number": 10,
            "revision": "d72704a5f0dbc723bc8e490dfa015e1878e13cc8",
            "parents": [
                "d00ea442955a2e50e696e9f03a2120e3c02dadd0"
            ],
            "ref": "refs/changes/03/65703/10",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1701286003,
            "author": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "designs/sol-sysrq.md",
                    "type": "ADDED",
                    "insertions": 120,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 132,
            "sizeDeletions": 0
        }
    ]
}