{
    "project": "openbmc/libmctp",
    "branch": "master",
    "topic": "AF_MCTP",
    "id": "I33237a1be14ffa3f637f248bb2f8f868fa40d696",
    "number": 57958,
    "subject": "core: Push down pcap support from core to bindings",
    "owner": {
        "name": "Rashmica K Gupta",
        "email": "rashmica@linux.ibm.com",
        "username": "RashmicaG"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/libmctp/+/57958",
    "hashtags": [],
    "createdOn": 1665982047,
    "lastUpdated": 1698795074,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1665982047,
            "reviewer": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1665982091,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1665982091,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1665982121,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/53653/ : SUCCESS"
        },
        {
            "timestamp": 1667881564,
            "reviewer": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1667881602,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1667881602,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1667881754,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/54898/ : SUCCESS"
        },
        {
            "timestamp": 1667881824,
            "reviewer": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "message": "Patch Set 2:\n\nThis change is ready for review."
        },
        {
            "timestamp": 1667888133,
            "reviewer": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1667888168,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1667888168,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1667888199,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/54902/ : SUCCESS"
        },
        {
            "timestamp": 1667952013,
            "reviewer": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "message": "Topic set to AF_MCTP"
        },
        {
            "timestamp": 1667953036,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1667959484,
            "reviewer": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1667960160,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1670649923,
            "reviewer": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "message": "Set Work In Progress"
        },
        {
            "timestamp": 1670651508,
            "reviewer": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1670651535,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1670651535,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1670651574,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/57434/ : FAILURE"
        },
        {
            "timestamp": 1670652000,
            "reviewer": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1670652020,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1670652020,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1670652050,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/57443/ : SUCCESS"
        },
        {
            "timestamp": 1696598446,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Uploaded patch set 6.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1696598478,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1696598478,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1696598522,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/74775/ : SUCCESS"
        },
        {
            "timestamp": 1696598649,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Uploaded patch set 7: New patch set was added with same tree, parent tree, and commit message as Patch Set 6.\n\nCopied Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1696598674,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1696598674,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1696598703,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/74780/ : SUCCESS"
        },
        {
            "timestamp": 1697585525,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Set Ready For Review"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "142df88fdc4ccea258d2373d60b9a7c6af4e0e84",
            "parents": [
                "695deed810e5bb15468bbef099777c08236cf0a0"
            ],
            "ref": "refs/changes/58/57958/1",
            "uploader": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "createdOn": 1665982047,
            "author": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "utils/mctp-demux-daemon.c",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -17
                },
                {
                    "file": "core.c",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -12
                },
                {
                    "file": "libmctp.h",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 44,
            "sizeDeletions": 30
        },
        {
            "number": 2,
            "revision": "e1002332a4b86098bc03d6992223456777c1cb6a",
            "parents": [
                "f447b4f440929eb773d458fbf5242ed558f9f936"
            ],
            "ref": "refs/changes/58/57958/2",
            "uploader": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "createdOn": 1667881564,
            "author": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "utils/mctp-demux-daemon.c",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -17
                },
                {
                    "file": "core.c",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": -12
                },
                {
                    "file": "libmctp.h",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 46,
            "sizeDeletions": 30
        },
        {
            "number": 3,
            "revision": "836932cb21cc2e6c928a3359fa5c4a2e262002dd",
            "parents": [
                "f447b4f440929eb773d458fbf5242ed558f9f936"
            ],
            "ref": "refs/changes/58/57958/3",
            "uploader": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "createdOn": 1667888133,
            "author": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "core.c",
                    "line": 287,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "I guess the function name should now be \"mctp_binding_set_capture_handler\""
                },
                {
                    "file": "libmctp.h",
                    "line": 132,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Bit of a bummer that this appears in a public struct now. I guess we just keep in mind the ABI implication, but that's kinda mitigated by the fact that we're still not at v1 and we don't have many (any?) distribution of binaries."
                },
                {
                    "file": "libmctp.h",
                    "line": 132,
                    "reviewer": {
                        "name": "Rashmica K Gupta",
                        "email": "rashmica@linux.ibm.com",
                        "username": "RashmicaG"
                    },
                    "message": "Hmm. We could move it into the mctp_bus struct which is internal. As long as there is only one binding per bus it would work? \n\nOr we could consider how necessary this is. In the case I want this for there are two bindings using the bridge, and if you generate a pcap (without this patch) you can determine which packet came from which binding by looking at which eid it came from and the order it appears in."
                },
                {
                    "file": "libmctp.h",
                    "line": 132,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "I think the change goes in the right direction, I don't think analyzing EIDs gives us the right level of power to understand where bugs lie (basically, we want to be able to measure at either side, I think). Do we lose anything by moving to mctp_bus?"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "utils/mctp-demux-daemon.c",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -17
                },
                {
                    "file": "core.c",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -12
                },
                {
                    "file": "libmctp.h",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 43,
            "sizeDeletions": 30
        },
        {
            "number": 4,
            "revision": "170b02bb44ca0e6df317f6be637ac3e3085e9eeb",
            "parents": [
                "3ea2f122e2a95fa1f747c9dd7f2e8638ba53d499"
            ],
            "ref": "refs/changes/58/57958/4",
            "uploader": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "createdOn": 1670651508,
            "author": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "utils/mctp-demux-daemon.c",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -18
                },
                {
                    "file": "core.c",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -14
                },
                {
                    "file": "libmctp.h",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 46,
            "sizeDeletions": 34
        },
        {
            "number": 5,
            "revision": "73491382aa607216e8b0b56d1d86e24f887da0f3",
            "parents": [
                "d1375752eaddbdaab87b7d937edd1a83b8028cf9"
            ],
            "ref": "refs/changes/58/57958/5",
            "uploader": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "createdOn": 1670652000,
            "author": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "utils/mctp-demux-daemon.c",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -18
                },
                {
                    "file": "core.c",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -14
                },
                {
                    "file": "libmctp.h",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 46,
            "sizeDeletions": 33
        },
        {
            "number": 6,
            "revision": "3c4125e0a9cd487b40216dd13f2b74244df1435c",
            "parents": [
                "83bdbcee3b82fcee152f84ae5ad2f71c9659da8c"
            ],
            "ref": "refs/changes/58/57958/6",
            "uploader": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "createdOn": 1696598446,
            "author": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "utils/mctp-demux-daemon.c",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -18
                },
                {
                    "file": "core.c",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -14
                },
                {
                    "file": "libmctp.h",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 46,
            "sizeDeletions": 33
        },
        {
            "number": 7,
            "revision": "d50d998dceadc98f2acff71cfb42a724a9320935",
            "parents": [
                "bbe3f46cccbd89bb94045d98ffc03712232440a8"
            ],
            "ref": "refs/changes/58/57958/7",
            "uploader": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "createdOn": 1696598649,
            "author": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "kind": "NO_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "utils/mctp-demux-daemon.c",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -18
                },
                {
                    "file": "core.c",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -14
                },
                {
                    "file": "libmctp.h",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 46,
            "sizeDeletions": 33
        }
    ]
}