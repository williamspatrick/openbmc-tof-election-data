{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "Idc4c3e99b8269bcc5f94112e977a89970abd0bf3",
    "number": 60914,
    "subject": "Add topology links for Chassis",
    "owner": {
        "name": "Benjamin Fair",
        "email": "benjaminfair@google.com",
        "username": "BenjaminFair"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/60914",
    "hashtags": [],
    "createdOn": 1676368512,
    "lastUpdated": 1688159170,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1676368512,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1676368559,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1676368560,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1676369441,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/60915/ : SUCCESS"
        },
        {
            "timestamp": 1676410201,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1676499772,
            "reviewer": {
                "name": "Lakshmi Yadlapati",
                "email": "lakshmiy@us.ibm.com",
                "username": "Lakshmi-y"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1679929505,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1679929558,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1679929558,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1679929578,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1679930896,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/63170/ : SUCCESS"
        },
        {
            "timestamp": 1683159302,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1683615414,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1683615419,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1683615460,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1683615460,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1683615486,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Removed reviewer jjy <jieyangnku@gmail.com>."
        },
        {
            "timestamp": 1683615499,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/65904/ : FAILURE"
        },
        {
            "timestamp": 1683615667,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1683615714,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Removed reviewer jjy <jieyangnku@gmail.com>."
        },
        {
            "timestamp": 1683615715,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1683615715,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1683616984,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/65905/ : SUCCESS"
        },
        {
            "timestamp": 1683649804,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1683650837,
            "reviewer": {
                "name": "Lakshmi Yadlapati",
                "email": "lakshmiy@us.ibm.com",
                "username": "Lakshmi-y"
            },
            "message": "Patch Set 4:\n\n(4 comments)"
        },
        {
            "timestamp": 1683653370,
            "reviewer": {
                "name": "Lakshmi Yadlapati",
                "email": "lakshmiy@us.ibm.com",
                "username": "Lakshmi-y"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1683654635,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1683914166,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Patch Set 4: -Code-Review\n\n(3 comments)"
        },
        {
            "timestamp": 1683914505,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1685461757,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Uploaded patch set 5.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1685461808,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1685461808,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1685461833,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 5:\n\n(7 comments)"
        },
        {
            "timestamp": 1685463413,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/67623/ : SUCCESS"
        },
        {
            "timestamp": 1685474277,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Patch Set 5: Code-Review+1"
        },
        {
            "timestamp": 1685507529,
            "reviewer": {
                "name": "Anthony",
                "email": "anthonyhkf@google.com",
                "username": "anthony-huang"
            },
            "message": "Patch Set 5: Code-Review+1"
        },
        {
            "timestamp": 1685575166,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\n(3 comments)"
        },
        {
            "timestamp": 1685575202,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1685691198,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Uploaded patch set 6.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1685691249,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1685691249,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1685691341,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1685691381,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 7:\n\n(4 comments)"
        },
        {
            "timestamp": 1685691391,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1685691391,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1685691392,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/67910/ : ABORTED"
        },
        {
            "timestamp": 1685692668,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/67911/ : SUCCESS"
        },
        {
            "timestamp": 1685718646,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1688047601,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1688159167,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 7: Code-Review+2\n\n(1 comment)"
        },
        {
            "timestamp": 1688159170,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully rebased and submitted as a56174963e1d8bd9fc90cdeb3aa7f1b7f2e0dca4"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "ee6b4b9558a6221711ad5cf3aadccb1f1a1ea356",
            "parents": [
                "5d3a59d3e77a7e147941887a5285c8a47f199e51"
            ],
            "ref": "refs/changes/14/60914/1",
            "uploader": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "createdOn": 1676368512,
            "author": {
                "name": "Jie Yang",
                "email": "jjy@google.com",
                "username": ""
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 21,
                    "reviewer": {
                        "name": "Lakshmi Yadlapati",
                        "email": "lakshmiy@us.ibm.com",
                        "username": "Lakshmi-y"
                    },
                    "message": "Redfish Validator?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 21,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Ran it with no new warnings"
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 170,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Any chance you could use https://gerrit.openbmc.org/c/openbmc/bmcweb/+/60872 ? \nI would rather the code base does it this way or has some utility funciton like getAssociationEndPoints. Don't want both"
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 170,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 185,
                    "reviewer": {
                        "name": "Lakshmi Yadlapati",
                        "email": "lakshmiy@us.ibm.com",
                        "username": "Lakshmi-y"
                    },
                    "message": "nit: may be BMCWEB_LOG_ERROR when we have a internalError."
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 185,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 77,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "type": "MODIFIED",
                    "insertions": 80,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 157,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "b31805dc69cc8c8c0fcf3585acb6e2b0eb27f9a0",
            "parents": [
                "6c3e94511027133db407f9e1c3c628927ec1332f"
            ],
            "ref": "refs/changes/14/60914/2",
            "uploader": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "createdOn": 1679929505,
            "author": {
                "name": "Jie Yang",
                "email": "jjy@google.com",
                "username": ""
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 193,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "nit, Similar to my later comment I think this needs to be downgraded to an INFO or WARNING message."
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 193,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Done. Also rephrased the warning message to be clearer"
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 195,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "We should return early if upstreamChassis is empty.  Otherwise we'll write to the response that the current is contained by \"/redfish/v1/Chassis/\""
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 195,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 223,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "nit, downgrade this to an INFO or WARNING message if we're not immediately returning a 500 Internal Error."
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 223,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 79,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "type": "MODIFIED",
                    "insertions": 76,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 155,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "cc1adc4b4afdc72c4ac43a5c2a5624de2640015d",
            "parents": [
                "662aa6e361f8705cfd91261080324ff0e74778e4"
            ],
            "ref": "refs/changes/14/60914/3",
            "uploader": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "createdOn": 1683615414,
            "author": {
                "name": "Jie Yang",
                "email": "jjy@google.com",
                "username": ""
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 79,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "type": "MODIFIED",
                    "insertions": 82,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 161,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "c2f5138abbfd17f56b2b0cdf534078deff055b38",
            "parents": [
                "662aa6e361f8705cfd91261080324ff0e74778e4"
            ],
            "ref": "refs/changes/14/60914/4",
            "uploader": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "createdOn": 1683615667,
            "author": {
                "name": "Jie Yang",
                "email": "jjy@google.com",
                "username": ""
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "Noticed a small issue while testing a related feature."
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 167,
                    "reviewer": {
                        "name": "Lakshmi Yadlapati",
                        "email": "lakshmiy@us.ibm.com",
                        "username": "Lakshmi-y"
                    },
                    "message": "\"contained_by/containing\" are generic associations. If there are multiple \"contained_by\" associations, then \"getAssociationEndPoints\" returns multiple associations that include the the association we are looking for. Currently, we are failing if there are multiple associations, but it may be better to use \"getAssociatedSubTreePaths\" which will walk through the list and return the association that we are looking for."
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 167,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "Isn't this only getting the \"contained_by\" association for a single Chassis?  In that case we want to fail if we find multiple \"contained_by\" associations since the Redfish spec does not allow a given Chassis to be contained by more than one Chassis.\n\nhttps://www.dmtf.org/sites/default/files/standards/documents/DSP2046_2022.3.pdf#page=185"
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 167,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "That's right. It can only be contained by a single Chassis, so it makes sense to ensure that only one association is present."
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 170,
                    "reviewer": {
                        "name": "Lakshmi Yadlapati",
                        "email": "lakshmiy@us.ibm.com",
                        "username": "Lakshmi-y"
                    },
                    "message": "ec should be passed by reference."
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 170,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 173,
                    "reviewer": {
                        "name": "Lakshmi Yadlapati",
                        "email": "lakshmiy@us.ibm.com",
                        "username": "Lakshmi-y"
                    },
                    "message": "Check if ec is not EBADR and return internal error the way we do other places:\nhttps://github.com/openbmc/bmcweb/blob/master/redfish-core/lib/power_supply.hpp#LL57C31-L57C31"
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 173,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 206,
                    "reviewer": {
                        "name": "Lakshmi Yadlapati",
                        "email": "lakshmiy@us.ibm.com",
                        "username": "Lakshmi-y"
                    },
                    "message": "ec should pass by reference."
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 206,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 210,
                    "reviewer": {
                        "name": "Lakshmi Yadlapati",
                        "email": "lakshmiy@us.ibm.com",
                        "username": "Lakshmi-y"
                    },
                    "message": "Check if ec is not EBADR and return internal error."
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 210,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 217,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "This is going to always create an empty Contains array and overwrite the array if it already exists.  That's fine while this is the only way to generate that array.  It won't play well when we add other methods for adding a Contains/ContainedBy relationship.  One example is adding them via Redfish Aggregation (https://gerrit.openbmc.org/c/openbmc/bmcweb/+/57006).  In that scenario it would overwrite the Contains array that holds a satellite Chassis.\n\nCan you change this line to something like?\n\nif (!jValue.is_array()) { jvalue = nlohmann::json::array();}\n\nThat way it won't create a Contains relationship that's been generated elsewhere."
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 217,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "That last line was supposed to read \"...it won't delete a Contains relationship...\"."
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 217,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Added the check for whether it already existed"
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 233,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "Change to jValue.size().\n\nThis is related to my earlier comment, but I think needs to happen regardless.  In the previous for loop you won't add a given downstreamChassis if it's empty.  When that happens the size of Contains will not be the same as the size of downstreamChassisPath."
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 233,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Thanks! Good catch"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 79,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "type": "MODIFIED",
                    "insertions": 80,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 159,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "ce47058de411769b7028eb269e5ea8e1d0251e05",
            "parents": [
                "5db7dfd6278258fd069ae29881920e365a533547"
            ],
            "ref": "refs/changes/14/60914/5",
            "uploader": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "createdOn": 1685461757,
            "author": {
                "name": "Jie Yang",
                "email": "jjy@google.com",
                "username": ""
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 170,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "No lambdas over 10 lines please.  This can be made a regular method."
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 170,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Done.\n\nAlso split out the other lambda"
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 207,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please don't construct by brace construction or complete replacement of objects.  They:\n\n1. have problems where one section of code might overwrite keys from another section of code.\n2. Create larger binary sizes.\n\nThis code would be something like\n\nasyncResp->res.jsonValue[\"Links\"][\"ContainedBy\"][\"@odata.id\"] = boost::urls::format(\"/redfish/v1/Chassis/{}\", upstreamChassis);"
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 207,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 228,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please use get_if<nlohamann::json::array_t> here;  Technically what you do on line 233 can throw, and the compiler isn't smart enough to not generate the unwind tables for it."
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 228,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "get_if doesn't work for nlohmann::json since it isn't technically a variant.\n\nI don't get how line 233 could throw. Could you explain more?"
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 228,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "sorry, get_ptr is what I meant.  you\u2019re right, get_if is the variant equivalent.\n\nif the type of downstreamChassisPaths isn\u2019t object_t, nlohmann::json::begin will throw."
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 228,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Why is get_ptr the best choice here? The docs say that I can't write data to the pointee, so I'd still need to use the original reference instead of a pointer to actually insert the links.\n\nThe operator[] and is_array functions won't throw unless jsonValue wasn't an object or null, which seems very unlikely and isn't checked anywhere else in this file.\n\ndownstreamChassisPaths is an std::vector, so I still don't see how it could throw."
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 228,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> Why is get_ptr the best choice here?\n\nBecause it only does the is array lookup once.\n\n> The docs say that I can't write data to the pointee, so I'd still need to use the original reference instead of a pointer to actually insert the links.\n\n......  We write data to the pointee all over the place.....  I was unaware the docs said it was undefined behavior.  Hyrums law strikes again.\n\n> \n> The operator[] and is_array functions won't throw unless jsonValue wasn't an object or null, which seems very unlikely and isn't checked anywhere else in this file.\n> \n> downstreamChassisPaths is an std::vector, so I still don't see how it could throw.\n\nACK.  This has approached the level of bikeshed, and pointing to the nlohmann docs is super interesting that we're relying on (at least what the docs say) is UB."
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 245,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "same here, no brace init please."
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "line": 245,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 79,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "type": "MODIFIED",
                    "insertions": 93,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 172,
            "sizeDeletions": 0
        },
        {
            "number": 6,
            "revision": "1a855e354b47e9211e7a96513b379da3b5e89d67",
            "parents": [
                "c1c7b94bf8327a20ccce4f628c9b43c75db2023a"
            ],
            "ref": "refs/changes/14/60914/6",
            "uploader": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "createdOn": 1685691198,
            "author": {
                "name": "Jie Yang",
                "email": "jjy@google.com",
                "username": ""
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 81,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "type": "MODIFIED",
                    "insertions": 100,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 181,
            "sizeDeletions": 0
        },
        {
            "number": 7,
            "revision": "c4c1464f71b3f013e6e728a408697476bf05cbb8",
            "parents": [
                "c1c7b94bf8327a20ccce4f628c9b43c75db2023a"
            ],
            "ref": "refs/changes/14/60914/7",
            "uploader": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "createdOn": 1685691341,
            "author": {
                "name": "Jie Yang",
                "email": "jjy@google.com",
                "username": ""
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 81,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "type": "MODIFIED",
                    "insertions": 100,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 181,
            "sizeDeletions": 0
        },
        {
            "number": 8,
            "revision": "a56174963e1d8bd9fc90cdeb3aa7f1b7f2e0dca4",
            "parents": [
                "1d7c0f08e5c3f61f2b32b99f5c9579661d757194"
            ],
            "ref": "refs/changes/14/60914/8",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1688159170,
            "author": {
                "name": "Jie Yang",
                "email": "jjy@google.com",
                "username": ""
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 81,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/chassis.hpp",
                    "type": "MODIFIED",
                    "insertions": 100,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 181,
            "sizeDeletions": 0
        }
    ]
}