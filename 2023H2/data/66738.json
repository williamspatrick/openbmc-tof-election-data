{
    "project": "openbmc/libpldm",
    "branch": "main",
    "topic": "bind",
    "id": "I332b8db0ff86e16bae6a7332f381ea0c439531a1",
    "number": 66738,
    "subject": "transport: Use pldm_msg_hdr_correlate_response() for response correlation",
    "owner": {
        "name": "Andrew Jeffery",
        "email": "andrew@codeconstruct.com.au",
        "username": "amboar"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/libpldm/+/66738",
    "hashtags": [],
    "createdOn": 1695377302,
    "lastUpdated": 1695937309,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1695377302,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1695377355,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1695377356,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1695377615,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/74386/ : FAILURE"
        },
        {
            "timestamp": 1695384176,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1695384210,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1695384210,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1695384573,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/74392/ : SUCCESS"
        },
        {
            "timestamp": 1695607986,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Uploaded patch set 3: Patch Set 2 was rebased.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1695608026,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1695608026,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1695608681,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/74433/ : SUCCESS"
        },
        {
            "timestamp": 1695873327,
            "reviewer": {
                "name": "ManojKiran Eda",
                "email": "manojkiran.eda@gmail.com",
                "username": "manojkiraneda"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1695875021,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1695894362,
            "reviewer": {
                "name": "ManojKiran Eda",
                "email": "manojkiran.eda@gmail.com",
                "username": "manojkiraneda"
            },
            "message": "Patch Set 3: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1695937297,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 3: Code-Review+2\n\n(1 comment)"
        },
        {
            "timestamp": 1695937309,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Change has been successfully merged"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "c789bb4f7e8133e1a5c856cba0d7deccfae75555",
            "parents": [
                "9c2281b1e5d5668ed5d93dcd32657e4bff71d665"
            ],
            "ref": "refs/changes/38/66738/1",
            "uploader": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "createdOn": 1695377302,
            "author": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "src/transport/transport.c",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -12
                }
            ],
            "sizeInsertions": 33,
            "sizeDeletions": 12
        },
        {
            "number": 2,
            "revision": "5ea30a41d92b52f093c86f85928a7dd830e8f76b",
            "parents": [
                "9c2281b1e5d5668ed5d93dcd32657e4bff71d665"
            ],
            "ref": "refs/changes/38/66738/2",
            "uploader": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "createdOn": 1695384176,
            "author": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "src/transport/transport.c",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -15
                }
            ],
            "sizeInsertions": 31,
            "sizeDeletions": 15
        },
        {
            "number": 3,
            "revision": "1d0e2d4b23ad6880e6122c478fcc77b02681655e",
            "parents": [
                "4c1ea56c7870dd975520dd03478d8673267614d3"
            ],
            "ref": "refs/changes/38/66738/3",
            "uploader": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "createdOn": 1695607986,
            "author": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "src/transport/transport.c",
                    "line": 229,
                    "reviewer": {
                        "name": "ManojKiran Eda",
                        "email": "manojkiran.eda@gmail.com",
                        "username": "manojkiraneda"
                    },
                    "message": "hey andrew - code looks okay to me, but this API is introduced as a testing API right ? can we plug that into a stable API without breaking things ?"
                },
                {
                    "file": "src/transport/transport.c",
                    "line": 229,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "The symbols are always visible internal to the library at compilation time so there's no practical impediment to doing so.\n\nOtherwise, we're dealing with the implementation of `pldm_transport_send_recv_msg()` here. We can call any functions we see fit so long as we maintain the API's documented behaviour, including functions annotated as `LIBPLDM_ABI_TESTING`. Calling functions that we're not yet ready to commit to in the public ABI is fine, because even if we choose to remove the called function down the track we just refactor the implementation here when we do so.\n\nI guess putting it another way: Annotating functions with `LIBPLDM_ABI_STABLE` doesn't mean \"free of implementation bugs\", it means \"we will not remove or change the symbol name, argument count, argument types, return type, or interpretation of relevant values for the function before first marking it as `LIBPLDM_ABI_DEPRECATED` and then subsequently creating a tagged release\".\n\nDoes that help?"
                },
                {
                    "file": "src/transport/transport.c",
                    "line": 229,
                    "reviewer": {
                        "name": "ManojKiran Eda",
                        "email": "manojkiran.eda@gmail.com",
                        "username": "manojkiraneda"
                    },
                    "message": "yes. It does help. Thanks for clarifying."
                },
                {
                    "file": "src/transport/transport.c",
                    "line": 229,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "src/transport/transport.c",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -15
                }
            ],
            "sizeInsertions": 31,
            "sizeDeletions": 15
        }
    ]
}