{
    "project": "openbmc/docs",
    "branch": "master",
    "id": "I685b4c25655f39d1c6188a659d3f72cbc2b63422",
    "number": 56334,
    "subject": "aggregation: phosphor-state-manager impacts and design",
    "owner": {
        "name": "Andrew Geissler",
        "email": "geissonator@yahoo.com",
        "username": "geissonator"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/docs/+/56334",
    "hashtags": [],
    "createdOn": 1659729524,
    "lastUpdated": 1699878885,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1659729524,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1659729540,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Set Work In Progress"
        },
        {
            "timestamp": 1659729573,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659729573,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1659729596,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48651/ : SUCCESS"
        },
        {
            "timestamp": 1661973877,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1661973942,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1661973942,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1661973959,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/50200/ : SUCCESS"
        },
        {
            "timestamp": 1662662739,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1662662770,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Set Ready For Review"
        },
        {
            "timestamp": 1662662875,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1662662880,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1662662889,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/50515/ : SUCCESS"
        },
        {
            "timestamp": 1663085859,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1663615625,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1663615625,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1663615695,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1663615695,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1663615712,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/50963/ : SUCCESS"
        },
        {
            "timestamp": 1663879745,
            "reviewer": {
                "name": "Milton D. Miller II",
                "email": "mdmii@outlook.com",
                "username": "mdmillerii"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1663946922,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1663946922,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Patch Set 5:\n\n(2 comments)"
        },
        {
            "timestamp": 1663946994,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1663946999,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1663947011,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/52352/ : SUCCESS"
        },
        {
            "timestamp": 1664984929,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1664984929,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Patch Set 6:\n\n(2 comments)"
        },
        {
            "timestamp": 1664984944,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Patch Set 6:\n\n(2 comments)"
        },
        {
            "timestamp": 1664985009,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1664985009,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1664985132,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/53012/ : SUCCESS"
        },
        {
            "timestamp": 1666723094,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@us.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 6: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1666822324,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1666905420,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1666905420,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Patch Set 7:\n\n(2 comments)"
        },
        {
            "timestamp": 1666905519,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1666905519,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1666905537,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/54245/ : SUCCESS"
        },
        {
            "timestamp": 1666973680,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@us.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 7: Code-Review+1"
        },
        {
            "timestamp": 1686594863,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1686594891,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Uploaded patch set 8.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1686594929,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1686594929,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: -Ok-To-Test"
        },
        {
            "timestamp": 1686594957,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/68541/ : FAILURE"
        },
        {
            "timestamp": 1686596832,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Uploaded patch set 9.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1686596864,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1686596864,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: -Ok-To-Test"
        },
        {
            "timestamp": 1686596888,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/68544/ : FAILURE"
        },
        {
            "timestamp": 1686597963,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Uploaded patch set 10.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1686598014,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1686598014,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: -Ok-To-Test"
        },
        {
            "timestamp": 1686598042,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/68546/ : SUCCESS"
        },
        {
            "timestamp": 1686760658,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 10:\n\n(2 comments)"
        },
        {
            "timestamp": 1687204899,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Uploaded patch set 11.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1687204899,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Patch Set 11:\n\n(3 comments)"
        },
        {
            "timestamp": 1687204924,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1687204924,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: -Ok-To-Test"
        },
        {
            "timestamp": 1687204949,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/69198/ : SUCCESS"
        },
        {
            "timestamp": 1699878885,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Set Work In Progress"
        }
    ],
    "wip": true,
    "patchSets": [
        {
            "number": 1,
            "revision": "9504292fdc9ac4aaa7366f81274c893a9af5947f",
            "parents": [
                "7d0920344c4a04106c3200abd3be24d48a1ba705"
            ],
            "ref": "refs/changes/34/56334/1",
            "uploader": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "createdOn": 1659729524,
            "author": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "type": "ADDED",
                    "insertions": 146,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 160,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "34bc43191edb2b15ed342fd1770b1c5abbef62d8",
            "parents": [
                "7d0920344c4a04106c3200abd3be24d48a1ba705"
            ],
            "ref": "refs/changes/34/56334/2",
            "uploader": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "createdOn": 1661973877,
            "author": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "type": "ADDED",
                    "insertions": 177,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 187,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "d2d5d0ff763307c20aa0de2f42e43765f69b008b",
            "parents": [
                "7d0920344c4a04106c3200abd3be24d48a1ba705"
            ],
            "ref": "refs/changes/34/56334/3",
            "uploader": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "createdOn": 1662662739,
            "author": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "line": 36,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "I have fan and thermal code that will use the chassis-hard-poweroff@0 target to force a power off in the event of certain thermal faults.\n\nIf that does just power off the whole composed system, the we'd avoid the issue of causing a checkstop by just powering off a single sled.\n\nIs that how you foresee this working?"
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "line": 36,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "Yeah, I added some more details to the design on this. I think non-aggregator sleds will need to support composed system level requests. So in this case, your chassis-hard-poweroff@0 request would hit the local sled (for quick resolution) AND the composed system."
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "line": 54,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "mdmii@outlook.com",
                        "username": "mdmillerii"
                    },
                    "message": "extra us after is ?"
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "line": 54,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "line": 100,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "Another area needed here is monitoring for UPS and brownout conditions on all sleds in the composed system and preventing power on when they are bad. This will require a Redfish API to get this information. Also, need to run APR once UPS power or brownout issue has been resolved."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "type": "ADDED",
                    "insertions": 183,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 202,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "418ee74e2e412f5a62d5f216309b210b73dcfd85",
            "parents": [
                "7d0920344c4a04106c3200abd3be24d48a1ba705"
            ],
            "ref": "refs/changes/34/56334/4",
            "uploader": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "createdOn": 1663615625,
            "author": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "line": 107,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "mdmii@outlook.com",
                        "username": "mdmillerii"
                    },
                    "message": "\"should not be affected\" or \"should be reset\" ?   (If we have N attempts to get to sled merge should we keep all attempts each time we restart do to another thread being removed from the expected arrival list)?"
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "line": 107,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "Added some text to discuss the issue with a bad cable causing boot failures and what the impact of that is to the reboot count."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "type": "ADDED",
                    "insertions": 200,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 219,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "b8020eecf327e2de6c4a7c214e5f4b8c4b6ecadc",
            "parents": [
                "7d0920344c4a04106c3200abd3be24d48a1ba705"
            ],
            "ref": "refs/changes/34/56334/5",
            "uploader": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "createdOn": 1663946922,
            "author": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "line": 56,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "This function will not be supported on aggregation based systems."
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "line": 56,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "line": 133,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "Offline feedback has been to try and avoid sled driven Redfish communication to the Aggregator. Instead utilize Redfish events that the Aggregator can subscribe to."
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "line": 133,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "type": "ADDED",
                    "insertions": 202,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 221,
            "sizeDeletions": 0
        },
        {
            "number": 6,
            "revision": "f10281c89b9d953bb237677263f85f65a4a3fc7d",
            "parents": [
                "7d0920344c4a04106c3200abd3be24d48a1ba705"
            ],
            "ref": "refs/changes/34/56334/6",
            "uploader": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "createdOn": 1664984929,
            "author": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "line": 15,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@us.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "The aggregation design doc has been abandoned. Are there plans to bring it back or perhaps create a new doc to document the aggregation design?"
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "line": 15,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "The general vibe I got from discord is that doc provided enough of a base to start writing code (which is what has started happening within bmcweb). I hope we some day reopen that design and finalize it."
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "line": 35,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "... in the composed system?"
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "line": 35,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "type": "ADDED",
                    "insertions": 199,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 218,
            "sizeDeletions": 0
        },
        {
            "number": 7,
            "revision": "03955bbd7ad8b743e4155b565f88042f33912102",
            "parents": [
                "7d0920344c4a04106c3200abd3be24d48a1ba705"
            ],
            "ref": "refs/changes/34/56334/7",
            "uploader": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "createdOn": 1666905420,
            "author": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "There's been quite a few changes since I last took a stab at this doc. I've pushed up an update but there's still a bit of hand waving. High level it would be best if people could look this over and look for any \"that's never going to work\" type issues. In the end, the plan is to lead with small bits of code and flesh out a lot of the open issues via that."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "type": "ADDED",
                    "insertions": 200,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 219,
            "sizeDeletions": 0
        },
        {
            "number": 8,
            "revision": "b7e545e7614386ea871fab28d4f9ec9ede9bf466",
            "parents": [
                "f44abd66eca86b14b662dd5fa0b902b0a4e0af9a"
            ],
            "ref": "refs/changes/34/56334/8",
            "uploader": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "createdOn": 1686594891,
            "author": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "type": "ADDED",
                    "insertions": 270,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 289,
            "sizeDeletions": 0
        },
        {
            "number": 9,
            "revision": "8f2d5822879aae4739bbd266154cbb99fece20b1",
            "parents": [
                "f44abd66eca86b14b662dd5fa0b902b0a4e0af9a"
            ],
            "ref": "refs/changes/34/56334/9",
            "uploader": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "createdOn": 1686596832,
            "author": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "type": "ADDED",
                    "insertions": 272,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 291,
            "sizeDeletions": 0
        },
        {
            "number": 10,
            "revision": "beadda1210f0c0a97a3b943933776e65a9b45bae",
            "parents": [
                "f44abd66eca86b14b662dd5fa0b902b0a4e0af9a"
            ],
            "ref": "refs/changes/34/56334/10",
            "uploader": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "createdOn": 1686597963,
            "author": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "line": 1,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "Here were some comments from an internal review:\n- Be consistent with terminology. Rack Manager, Sled (remove non-aggregator).\n- Focus on use case of interest, example from Redfish spec, utilizing a Rack Manager\n- Must support use case where a boot of host firmware can include a chassis power on to all sleds, waiting for that to complete, and then running commands from rack manager to configure the SMP across the sleds.\n- With some system designs including peer (redundant) rack manager, and redundant management clients, need to ensure composed system requests are rejected if an operation is already in progress (i.e. don't allow multiple power on operations to a composed system)\n- Need a good path mechanism for a sled to request a composed system reboot (host firmware will pick an arbitrary sled for communication and make request)\n- Need an example of a composed system power off"
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "line": 50,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "What about using chassis?\nThis could be a sled/blade/etc, right?\nChassis seems more broad and more OpenBMC/Redfish like."
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "line": 50,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "As a \"sled\" contains a Manager, Chassis, and System, using \"Chassis\" doesn't seem to fit great. I know we discussed offline and you were going to dig a bit more. For now I'm going to stick with sled, and I'll probably add some comments to more clearly define that."
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "line": 139,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Can you talk about Redfish aggregation? Links some of it. Looking at the Redfish specification (DSP 0266, looking at version 1.18.0. \n\nSection 16.1.1\n\n\"Implicit and complex aggregators\n\nThere are at least two classes of Redfish aggregators:\n\nImplicit aggregators. An example of an implicit aggregator is an enclosure manager, such as a manager of blades in an enclosure. This implementation has ComputerSystem resources representing blades in the ComputerSystemCollection resource, and one or more Manager resources in the ManagerCollection resource. It also would likely have a Chassis resource for each blade and a Chassis resource for the enclosure, which would use the Contains property in Links to express the containment relationship to the individual blades. This class of aggregator has tight coupling with system design, and proxies requests to and from the blades to perform management functions.\nComplex aggregators. An example of a complex aggregator is a rack-level manager, fabric manager, or a manager of similar scale, especially if it represents resources that it gathers through the proxy of information from other managers, like BMCs. The sources that this manager aggregates are more complex in nature and potentially varying. This manager probably has an interface to the resources and proxies the Redfish service on behalf of each set of resources. At this scale, a Redfish client would prefer to provide common functions, such as resetting a set of systems, to the Redfish service as a whole rather than invoking actions individually to achieve scalability requirements. This class of service also may need assistance in adding members to the service, such as providing address and account information for the aggregator to contact the components and initiate the proxy of Redfish operations.\"\n\nThis appears to be a lot of what you doing here?"
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "line": 139,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "Yeah that's some good stuff and definitely the area we're looking at (the complex aggregators). I'm going to change our terminology over to a \"Rack Manager\". I'm kind of threading the needle with how much Redfish I bring in here. At a high level, this is d-bus and basic bmc to bmc communication over existing Redfish. There is a lot that goes into creating the composed systems and such, but to a certain extent I just want to reference your doc on all that :)"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "type": "ADDED",
                    "insertions": 273,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 292,
            "sizeDeletions": 0
        },
        {
            "number": 11,
            "revision": "d86aaeca9cf0f6226c4fcd68b3aea2d5740b3075",
            "parents": [
                "f44abd66eca86b14b662dd5fa0b902b0a4e0af9a"
            ],
            "ref": "refs/changes/34/56334/11",
            "uploader": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "createdOn": 1687204899,
            "author": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "designs/aggregation/phosphor-state-manager-aggregation.md",
                    "type": "ADDED",
                    "insertions": 378,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 397,
            "sizeDeletions": 0
        }
    ]
}