{
    "project": "openbmc/openbmc-tools",
    "branch": "master",
    "id": "Ic4d9b5e2f363d487b1bbdf443aec2c28dc068039",
    "number": 50917,
    "subject": "Multithread rootfs_size",
    "owner": {
        "name": "Ed Tanous",
        "email": "ed@tanous.net",
        "username": "edtanous"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/openbmc-tools/+/50917",
    "commitMessage": "Multithread rootfs_size\n\nI dug this out of the Disney vault on my machine, as something I did to\nmake this script run quite a bit faster.  It probably needs some\ncleanups, and I'm sure suffers from my usual \"I stopped when it got the\njob done\", but with any luck, it might be useful to someone.\n\nSigned-off-by: Ed Tanous <edtanous@google.com>\nChange-Id: Ic4d9b5e2f363d487b1bbdf443aec2c28dc068039\n",
    "createdOn": 1643945457,
    "lastUpdated": 1644357667,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1643945457,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1644016795,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1644189388,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1644252576,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1644252592,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1644257629,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1644295149,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 3: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1644344058,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1644344078,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1644357645,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 4: Verified+1 Code-Review+2"
        },
        {
            "timestamp": 1644357659,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 5: Patch Set 4 was rebased"
        },
        {
            "timestamp": 1644357664,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 5: Verified+1 Code-Review+2"
        },
        {
            "timestamp": 1644357667,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Change has been successfully merged"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "4181b0f7a13dd48a8e367ecdd87c7c1b7deb0309",
            "parents": [
                "31c69eda9bf3d666bc703e0da2b4b14bae7a9006"
            ],
            "ref": "refs/changes/17/50917/1",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1643945457,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "rootfs_size/rootfs_size.py",
                    "type": "MODIFIED",
                    "insertions": 45,
                    "deletions": -37
                }
            ],
            "sizeInsertions": 60,
            "sizeDeletions": 37
        },
        {
            "number": 2,
            "revision": "b7b73e9d12c25944258196393d6ad696cb0a45af",
            "parents": [
                "449c8ae84a9c2b8d706c2f4dbe50ab7cd51ae285"
            ],
            "ref": "refs/changes/17/50917/2",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1644016795,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "rootfs_size/rootfs_size.py",
                    "line": 80,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Maybe add an option to make this configurable and default to cpu_count()?"
                },
                {
                    "file": "rootfs_size/rootfs_size.py",
                    "line": 80,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Seems reasonable.  Added."
                },
                {
                    "file": "rootfs_size/rootfs_size.py",
                    "line": 80,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "rootfs_size/rootfs_size.py",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -32
                }
            ],
            "sizeInsertions": 61,
            "sizeDeletions": 32
        },
        {
            "number": 3,
            "revision": "6e28ef2ec3554af4c6687ce1c6319f982cccdc56",
            "parents": [
                "449c8ae84a9c2b8d706c2f4dbe50ab7cd51ae285"
            ],
            "ref": "refs/changes/17/50917/3",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1644252576,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "rootfs_size/rootfs_size.py",
                    "line": 88,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Does the job I guess, but maybe we could have set `default=int(cpu_count())` in the add_argument() call?"
                },
                {
                    "file": "rootfs_size/rootfs_size.py",
                    "line": 88,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": ".... yeah, that makes more sense and is simpler.  Not sure what I was thinking.\n\ndone in latest patchset."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "rootfs_size/rootfs_size.py",
                    "type": "MODIFIED",
                    "insertions": 54,
                    "deletions": -32
                }
            ],
            "sizeInsertions": 69,
            "sizeDeletions": 32
        },
        {
            "number": 4,
            "revision": "18cea98f11a9f036e168d1b74b6e5d0a599e5f68",
            "parents": [
                "449c8ae84a9c2b8d706c2f4dbe50ab7cd51ae285"
            ],
            "ref": "refs/changes/17/50917/4",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1644344058,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "rootfs_size/rootfs_size.py",
                    "type": "MODIFIED",
                    "insertions": 51,
                    "deletions": -32
                }
            ],
            "sizeInsertions": 66,
            "sizeDeletions": 32
        },
        {
            "number": 5,
            "revision": "d97f2f150cda0e6dce9f50217c84f13e60b82314",
            "parents": [
                "b9cc276deea1ddf92a12a24e595d0587460cc2b4"
            ],
            "ref": "refs/changes/17/50917/5",
            "uploader": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "createdOn": 1644357659,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "rootfs_size/rootfs_size.py",
                    "type": "MODIFIED",
                    "insertions": 51,
                    "deletions": -32
                }
            ],
            "sizeInsertions": 66,
            "sizeDeletions": 32
        }
    ]
}