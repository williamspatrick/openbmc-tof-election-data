{
    "project": "openbmc/phosphor-debug-collector",
    "branch": "master",
    "topic": "plugin",
    "id": "I34e454552b5f903721acf6149a4abee6b3f53bb7",
    "number": 53284,
    "subject": "dreport: Fix warnings displayed during plugin execution",
    "owner": {
        "name": "MARRI DEVENDER RAO",
        "email": "devenrao@in.ibm.com",
        "username": "devenrao"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-debug-collector/+/53284",
    "commitMessage": "dreport: Fix warnings displayed during plugin execution\n\nTested:\nTue Apr 26 07:20:23 UTC 2022 INFO: Collected proc fd\nTue Apr 26 07:20:18 UTC 2022 INFO: Collected Attribute list\nTue Apr 26 07:20:18 UTC 2022 INFO: Copied Device tree file\n/var/lib/phosphor-software-manager/hostfw/running/DEVTREE\nTue Apr 26 07:20:18 UTC 2022 INFO: Copied Attribute info db\n/usr/share/pdata/attributes_info.db\n\nSigned-off-by: Marri Devender Rao <devenrao@in.ibm.com>\nChange-Id: I34e454552b5f903721acf6149a4abee6b3f53bb7\n",
    "createdOn": 1651033809,
    "lastUpdated": 1654774826,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1651033809,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1651033852,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1651033852,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1651033926,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/42021/ : SUCCESS"
        },
        {
            "timestamp": 1651062222,
            "reviewer": {
                "name": "Ramesh Iyyar",
                "email": "rameshi1@in.ibm.com",
                "username": "RameshIyyar"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1651070514,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1651073106,
            "reviewer": {
                "name": "Ramesh Iyyar",
                "email": "rameshi1@in.ibm.com",
                "username": "RameshIyyar"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1651111360,
            "reviewer": {
                "name": "Aravind T",
                "email": "aravynd@gmail.com",
                "username": "aravynd"
            },
            "message": "Patch Set 1: Code-Review+1"
        },
        {
            "timestamp": 1651125070,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1651128113,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1651141111,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 1:\n\n(3 comments)"
        },
        {
            "timestamp": 1651141543,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1651141565,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1651141566,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1651141634,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/42193/ : SUCCESS"
        },
        {
            "timestamp": 1651141993,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1651142287,
            "reviewer": {
                "name": "Ramesh Iyyar",
                "email": "rameshi1@in.ibm.com",
                "username": "RameshIyyar"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1651208827,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1651208858,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 2: Code-Review+2"
        },
        {
            "timestamp": 1651208961,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 2: -Code-Review\n\n(1 comment)"
        },
        {
            "timestamp": 1651217776,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1651223194,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1651223211,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1651223211,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1651223288,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/42283/ : SUCCESS"
        },
        {
            "timestamp": 1651488018,
            "reviewer": {
                "name": "Ramesh Iyyar",
                "email": "rameshi1@in.ibm.com",
                "username": "RameshIyyar"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1651730262,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1654237908,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Topic set to plugin"
        },
        {
            "timestamp": 1654774715,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Uploaded patch set 4: Patch Set 3 was rebased."
        },
        {
            "timestamp": 1654774772,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1654774772,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1654774826,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/44703/ : SUCCESS"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "f277fbc6a2a07384854906221697efa12596ebe8",
            "parents": [
                "b3d05da197a4a6dd756f65bcba947ed8bcdc1bbb"
            ],
            "ref": "refs/changes/84/53284/1",
            "uploader": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "createdOn": 1651033809,
            "author": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "Add, dreport:"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "Done"
                },
                {
                    "file": "tools/dreport.d/openpower.d/plugins.d/phal_devtree",
                    "line": 11,
                    "reviewer": {
                        "name": "Ramesh Iyyar",
                        "email": "rameshi1@in.ibm.com",
                        "username": "RameshIyyar"
                    },
                    "message": "JS: Alternative\n`source /etc/profile.d/power-target.sh` so that we can avoid path changes in the future"
                },
                {
                    "file": "tools/dreport.d/openpower.d/plugins.d/phal_devtree",
                    "line": 11,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "Done"
                },
                {
                    "file": "tools/dreport.d/plugins.d/procfd",
                    "line": 11,
                    "reviewer": {
                        "name": "Ramesh Iyyar",
                        "email": "rameshi1@in.ibm.com",
                        "username": "RameshIyyar"
                    },
                    "message": "Looks you are avoiding errors to capture? I think it is helpful"
                },
                {
                    "file": "tools/dreport.d/plugins.d/procfd",
                    "line": 11,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "we do not want these erors to show up"
                },
                {
                    "file": "tools/dreport.d/plugins.d/procfd",
                    "line": 11,
                    "reviewer": {
                        "name": "Ramesh Iyyar",
                        "email": "rameshi1@in.ibm.com",
                        "username": "RameshIyyar"
                    },
                    "message": "Do you mean in the journal or collected files?"
                },
                {
                    "file": "tools/dreport.d/plugins.d/procfd",
                    "line": 11,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "in journal"
                },
                {
                    "file": "tools/dreport.d/plugins.d/procfd",
                    "line": 11,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "Apr 18 08:27:39 perfrain86bmc phosphor-dump-manager[16593]: ls: /proc/self/fd/3: cannot read link: No such file or directory\nApr 18 08:27:39 perfrain86bmc phosphor-dump-manager[16593]: ls: /proc/thread-self/fd/3: cannot read link: No such file or directory\n\nwe are getting most of the data but for some links we are not getting the data, ppl do not want to see these errors in the journal"
                },
                {
                    "file": "tools/dreport.d/plugins.d/procfd",
                    "line": 11,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "Done"
                },
                {
                    "file": "tools/dreport.d/plugins.d/procfd",
                    "line": 11,
                    "reviewer": {
                        "name": "Ramesh Iyyar",
                        "email": "rameshi1@in.ibm.com",
                        "username": "RameshIyyar"
                    },
                    "message": "You could just redirect into the collected file rather than skipping - Anyhow, I think you are working on it for the all plugin to capture errors too so nothing wrong here."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "tools/dreport.d/plugins.d/procfd",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "tools/dreport.d/openpower.d/plugins.d/phal_devtree",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -15
                }
            ],
            "sizeInsertions": 40,
            "sizeDeletions": 16
        },
        {
            "number": 2,
            "revision": "fcb18e16824a3b160588a89b1587787821f1cac5",
            "parents": [
                "b3d05da197a4a6dd756f65bcba947ed8bcdc1bbb"
            ],
            "ref": "refs/changes/84/53284/2",
            "uploader": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "createdOn": 1651141543,
            "author": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "Fix warning \nIn tools/dreport.d/openpower.d/plugins.d/phal_devtree line 9:\nsource /etc/profile.d/power-target.sh\n       ^----------------------------^ SC1091: Not following: /etc/profile.d/power-target.sh: openBinaryFile: does not exist (No such file or directory)"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "tools/dreport.d/plugins.d/procfd",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "tools/dreport.d/openpower.d/plugins.d/phal_devtree",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -14
                }
            ],
            "sizeInsertions": 39,
            "sizeDeletions": 15
        },
        {
            "number": 3,
            "revision": "7cce36923cdce5c1adaee96a795bfb25ce767eeb",
            "parents": [
                "b3d05da197a4a6dd756f65bcba947ed8bcdc1bbb"
            ],
            "ref": "refs/changes/84/53284/3",
            "uploader": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "createdOn": 1651223194,
            "author": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "tools/dreport.d/openpower.d/plugins.d/phal_devtree",
                    "line": 10,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "Still seeing warning:\n\nIn tools/dreport.d/openpower.d/plugins.d/phal_devtree line 10:\nsource /etc/profile.d/power-target.sh\n       ^----------------------------^ SC1091: Not following: ./power-target.sh: openBinaryFile: does not exist (No such file or directory)"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "tools/dreport.d/plugins.d/procfd",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "tools/dreport.d/openpower.d/plugins.d/phal_devtree",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -14
                }
            ],
            "sizeInsertions": 40,
            "sizeDeletions": 15
        },
        {
            "number": 4,
            "revision": "3c1cd4513abf28acd893d87e00635f76cc5ba245",
            "parents": [
                "10065d337e4cf26af3aedcc7b71cef89268a89f2"
            ],
            "ref": "refs/changes/84/53284/4",
            "uploader": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "createdOn": 1654774715,
            "author": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "tools/dreport.d/plugins.d/procfd",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "tools/dreport.d/openpower.d/plugins.d/phal_devtree",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -14
                }
            ],
            "sizeInsertions": 40,
            "sizeDeletions": 15
        }
    ]
}