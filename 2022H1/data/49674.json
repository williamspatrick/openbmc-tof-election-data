{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "Ic00020ac07950347973b54d49dacd44c4d4571b7",
    "number": 49674,
    "subject": "Fix bmcweb crash problem when no-auth",
    "owner": {
        "email": "kmfic567@gmail.com",
        "username": "kmfic567"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/49674",
    "commitMessage": "Fix bmcweb crash problem when no-auth\n\nThis change is similiar as\nhttps://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/49465\nAfter insecure-disable-auth=enabled. it is not needed to do login and\nestablish session before request.\nGET/PATCH /redfish/v1/AccountService/Accounts/<accountname>.\n(no matter account exist or not)\nIt won't get any status code and cause the bmcweb service crashed.\n\nSolutions:\nAdd #ifndef BMCWEB_INSECURE_DISABLE_AUTHENTICATION and\n[[maybe_unused]] const crow::Request& req\n\nTest:\n\nGET / PATCH with authless\nhttps://<bmcip>/redfish/v1/AccountService/Accounts/TestAccount\nReturn 200\n\n{\n  \"@odata.id\": \"/redfish/v1/AccountService/Accounts/TestAccount\",\n  \"@odata.type\": \"#ManagerAccount.v1_4_0.ManagerAccount\",\n  \"AccountTypes\": [\n    \"Redfish\"\n  ],\n  \"Description\": \"User Account\",\n  \"Enabled\": true,\n  \"Id\": \"TestAccount\",\n  \"Links\": {\n    \"Role\": {\n      \"@odata.id\": \"/redfish/v1/AccountService/Roles/Administrator\"\n    }\n  },\n  \"Locked\": false,\n  \"Locked@Redfish.AllowableValues\": [\n    \"false\"\n  ],\n  \"Name\": \"User Account\",\n  \"Password\": null,\n  \"PasswordChangeRequired\": false,\n  \"RoleId\": \"Administrator\",\n  \"UserName\": \"TestAccount\"\n}\n\nGET nonexistent account\nhttps://<bmcip>/redfish/v1/AccountService/Accounts/TestAccountsss\n{\n  \"error\": {\n    \"@Message.ExtendedInfo\": [\n      {\n        \"@odata.type\": \"#Message.v1_1_1.Message\",\n        \"Message\": \"The requested resource of type ManagerAccount named\n        TestAccountsss was not found.\",\n        \"MessageArgs\": [\n          \"ManagerAccount\",\n          \"TestAccountsss\"\n        ],\n        \"MessageId\": \"Base.1.8.1.ResourceNotFound\",\n        \"MessageSeverity\": \"Critical\",\n        \"Resolution\": \"Provide a valid resource identifier and resubmit\n        the request.\"\n      }\n    ],\n    \"code\": \"Base.1.8.1.ResourceNotFound\",\n    \"message\": \"The requested resource of type ManagerAccount named\n    TestAccountsss was not found.\"\n  }\n}\n\nSigned-off-by: JunLin Chen <Jun-Lin.Chen@quantatw.com>\nChange-Id: Ic00020ac07950347973b54d49dacd44c4d4571b7\nSigned-off-by: Tony Lee <tony.lee@quantatw.com>\nSigned-off-by: Ed Tanous <edtanous@google.com>\n",
    "createdOn": 1639464491,
    "lastUpdated": 1651690273,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1639464491,
            "reviewer": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1639464507,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639464996,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31975/ : SUCCESS"
        },
        {
            "timestamp": 1639520315,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 1: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1639598400,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1639603888,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1639604493,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1639604501,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 1: Code-Review+1"
        },
        {
            "timestamp": 1639617880,
            "reviewer": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1641282352,
            "reviewer": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1641326247,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1641367412,
            "reviewer": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1641367441,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1641367441,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1641367495,
            "reviewer": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1641367505,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1641367506,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1641367510,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/34903/ : ABORTED"
        },
        {
            "timestamp": 1641367556,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/34904/ : FAILURE"
        },
        {
            "timestamp": 1641411711,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1641428462,
            "reviewer": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1641428495,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1641428495,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1641428525,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/34969/ : FAILURE"
        },
        {
            "timestamp": 1641444627,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1641448661,
            "reviewer": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1641448672,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1641448672,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1641448820,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/34976/ : FAILURE"
        },
        {
            "timestamp": 1641457270,
            "reviewer": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1641457283,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1641457283,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1641457467,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/34982/ : FAILURE"
        },
        {
            "timestamp": 1641517760,
            "reviewer": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "message": "Patch Set 7: Patch Set 6 was rebased"
        },
        {
            "timestamp": 1641517772,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1641517772,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1641518225,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/35032/ : SUCCESS"
        },
        {
            "timestamp": 1648684433,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8: Patch Set 7 was rebased"
        },
        {
            "timestamp": 1648684451,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1648684451,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: -Ok-To-Test"
        },
        {
            "timestamp": 1648685038,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/40189/ : SUCCESS"
        },
        {
            "timestamp": 1651200649,
            "reviewer": {
                "name": "Tony Lee",
                "email": "tony.lee@quantatw.com",
                "username": "tonylee79"
            },
            "message": "Uploaded patch set 9."
        },
        {
            "timestamp": 1651200666,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1651200666,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: -Ok-To-Test"
        },
        {
            "timestamp": 1651200882,
            "reviewer": {
                "name": "Tony Lee",
                "email": "tony.lee@quantatw.com",
                "username": "tonylee79"
            },
            "message": "Patch Set 9:\n\n(1 comment)"
        },
        {
            "timestamp": 1651201606,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/42259/ : SUCCESS"
        },
        {
            "timestamp": 1651256573,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 10."
        },
        {
            "timestamp": 1651256588,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 11: Patch Set 10 was rebased"
        },
        {
            "timestamp": 1651256596,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1651256597,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: -Ok-To-Test"
        },
        {
            "timestamp": 1651256601,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1651256602,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: -Ok-To-Test"
        },
        {
            "timestamp": 1651256628,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 11:\n\n(1 comment)"
        },
        {
            "timestamp": 1651256641,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 11:\n\n(1 comment)"
        },
        {
            "timestamp": 1651257168,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/42353/ : SUCCESS"
        },
        {
            "timestamp": 1651257175,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/42352/ : SUCCESS"
        },
        {
            "timestamp": 1651270379,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 11:\n\n(2 comments)"
        },
        {
            "timestamp": 1651270408,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 11:\n\n(1 comment)"
        },
        {
            "timestamp": 1651270552,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 11: Code-Review+1"
        },
        {
            "timestamp": 1651687988,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 11: Code-Review+2"
        },
        {
            "timestamp": 1651687991,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully rebased and submitted as 031514fb7798057bbe0261a92b6c368cd5a35f66"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "ab07ccf58ad501ab9d8b89ccc81fd2c8cdd30e0f",
            "parents": [
                "1349014d9059af637f66ac82be05e021c02b9c2b"
            ],
            "ref": "refs/changes/74/49674/1",
            "uploader": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "createdOn": 1639464491,
            "author": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 23,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "I mean I like this solution more than \n\n#ifndef BMCWEB_INSECURE_DISABLE_AUTHENTICATION\n            if (req.session->username != accountName)\n            {\n                // At this point we've determined that the user is trying to\n                // modify a user that isn't them.  We need to verify that they\n                // have permissions to modify other users, so re-run the auth\n                // check with the same permissions, minus ConfigureSelf.\n                Privileges effectiveUserPrivileges =\n                    redfish::getUserPrivileges(req.userRole);\n                Privileges requiredPermissionsToChangeNonSelf = {\n                    \"ConfigureUsers\", \"ConfigureManager\"};\n                if (!effectiveUserPrivileges.isSupersetOf(\n                        requiredPermissionsToChangeNonSelf))\n                {\n                    BMCWEB_LOG_DEBUG << \"GET Account denied access\";\n                    messages::insufficientPrivilege(asyncResp->res);\n                    return;\n                }\n            }\n\n#endif // BMCWEB_INSECURE_DISABLE_AUTHENTICATION\n\nbut that is because we aren't using BMCWEB_INSECURE_DISABLE_AUTHENTICATION\n\nas long as you are okay with InsufficientPrivilege for the accounts"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 23,
                    "reviewer": {
                        "email": "kmfic567@gmail.com",
                        "username": "kmfic567"
                    },
                    "message": "> #ifndef BMCWEB_INSECURE_DISABLE_AUTHENTICATION\n>             if (req.session->username != accountName)\n>             {\n>                 // At this point we've determined that the user is trying to\n>                 // modify a user that isn't them.  We need to verify that they\n>                 // have permissions to modify other users, so re-run the auth\n>                 // check with the same permissions, minus ConfigureSelf.\n>                 Privileges effectiveUserPrivileges =\n>                     redfish::getUserPrivileges(req.userRole);\n>                 Privileges requiredPermissionsToChangeNonSelf = {\n>                     \"ConfigureUsers\", \"ConfigureManager\"};\n>                 if (!effectiveUserPrivileges.isSupersetOf(\n>                         requiredPermissionsToChangeNonSelf))\n>                 {\n>                     BMCWEB_LOG_DEBUG << \"GET Account denied access\";\n>                     messages::insufficientPrivilege(asyncResp->res);\n>                     return;\n>                 }\n>             }\n> \n> #endif // BMCWEB_INSECURE_DISABLE_AUTHENTICATION\n\nIf used this change, it cause req [-Werror=unused-parameter],\nUnless `req` is added [[maybe_unused]], such like:\n...\nget)([]([[maybe_unused]]const crow::Request& req,\n        const std::shared_ptr<bmcweb::AsyncResp>& asyncResp,\n..."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 23,
                    "reviewer": {
                        "email": "kmfic567@gmail.com",
                        "username": "kmfic567"
                    },
                    "message": "Someone can suggest me which is better?\n*  #ifndef BMCWEB_INSECURE_DISABLE_AUTHENTICATION and\n[maybe_unused]]const crow::Request& req\n*  if (req.session && username != req.session->username)"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 23,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "[[maybe_unused]] is better between the two."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 23,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Ack"
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "line": 1871,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "this is redundant, right?\n\nIf req.session is nullptr, the check at line 1688 stops us right away."
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "line": 1871,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "The check on 1688 is in a totally different scope than this code.  This check looks right to me."
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "line": 1871,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "yeah, you are correct. NVM, totally missed that there are many lines collapsed."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 43,
            "sizeDeletions": 2
        },
        {
            "number": 2,
            "revision": "6afb4269271a7f1707a0877c614db19d3f0d5ca1",
            "parents": [
                "1349014d9059af637f66ac82be05e021c02b9c2b"
            ],
            "ref": "refs/changes/74/49674/2",
            "uploader": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "createdOn": 1641367412,
            "author": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 78,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 84,
            "sizeDeletions": 1
        },
        {
            "number": 3,
            "revision": "85f439a0c78e0933dffef6a8e2b16a3860dc96f3",
            "parents": [
                "1349014d9059af637f66ac82be05e021c02b9c2b"
            ],
            "ref": "refs/changes/74/49674/3",
            "uploader": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "createdOn": 1641367495,
            "author": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "CI needs to pass. Looks like it needs clang-format run. \nBut looks good to me "
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "line": 1872,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "We really need to move this into a constexpr bool so we quit hitting this issue."
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "line": 1872,
                    "reviewer": {
                        "name": "Tony Lee",
                        "email": "tony.lee@quantatw.com",
                        "username": "tonylee79"
                    },
                    "message": "Hi Ed, I updated it for the merge conflict. Is this comment can be resolved?"
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "line": 1872,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Ack"
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "line": 1879,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "?"
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "line": 1879,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 78,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 83,
            "sizeDeletions": 1
        },
        {
            "number": 4,
            "revision": "84dfb13569609c95b473bc8da982c2875773371d",
            "parents": [
                "1349014d9059af637f66ac82be05e021c02b9c2b"
            ],
            "ref": "refs/changes/74/49674/4",
            "uploader": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "createdOn": 1641428462,
            "author": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 78,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 83,
            "sizeDeletions": 1
        },
        {
            "number": 5,
            "revision": "3d0397c7f81342a0e7171dde41f6fa99d1ddd852",
            "parents": [
                "1349014d9059af637f66ac82be05e021c02b9c2b"
            ],
            "ref": "refs/changes/74/49674/5",
            "uploader": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "createdOn": 1641448661,
            "author": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 78,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 84,
            "sizeDeletions": 2
        },
        {
            "number": 6,
            "revision": "434e4bf59c7ad7c8906a6630163c9c87be0a48b5",
            "parents": [
                "1349014d9059af637f66ac82be05e021c02b9c2b"
            ],
            "ref": "refs/changes/74/49674/6",
            "uploader": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "createdOn": 1641457270,
            "author": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 78,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 84,
            "sizeDeletions": 1
        },
        {
            "number": 7,
            "revision": "fdb1ab48d0ee7d66df81a110c743047807b164f3",
            "parents": [
                "e1cc482880d7b47dcf19609cedba7df80368ae3c"
            ],
            "ref": "refs/changes/74/49674/7",
            "uploader": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "createdOn": 1641517760,
            "author": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 78,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 84,
            "sizeDeletions": 1
        },
        {
            "number": 8,
            "revision": "068a43e295a2f8f4df6d91fe01758240bbb79de1",
            "parents": [
                "456cd875f3c56b45605d8a017e91d810876a035c"
            ],
            "ref": "refs/changes/74/49674/8",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1648684433,
            "author": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 78,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 84,
            "sizeDeletions": 1
        },
        {
            "number": 9,
            "revision": "70790debe72bbcf36eb2261acada24ebca345ca2",
            "parents": [
                "c937d2bfefa3ff91b7175d9684f99712ec9b88e5"
            ],
            "ref": "refs/changes/74/49674/9",
            "uploader": {
                "name": "Tony Lee",
                "email": "tony.lee@quantatw.com",
                "username": "tonylee79"
            },
            "createdOn": 1651200649,
            "author": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 79,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 85,
            "sizeDeletions": 1
        },
        {
            "number": 10,
            "revision": "7010dbdd2da1acf81399d55de5eff26fd88bc013",
            "parents": [
                "3cee81207dc8b211619c4397894dacd052067e18"
            ],
            "ref": "refs/changes/74/49674/10",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1651256573,
            "author": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 80,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 38,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 118,
            "sizeDeletions": 1
        },
        {
            "number": 11,
            "revision": "47caa96c30581fd49aec93a646def58c2c11aba1",
            "parents": [
                "c937d2bfefa3ff91b7175d9684f99712ec9b88e5"
            ],
            "ref": "refs/changes/74/49674/11",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1651256588,
            "author": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I updated the patch to simply make all the collections return empty if authentication is disabled.  That seems more in line with the intent here."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "please help to review."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 80,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 38,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 118,
            "sizeDeletions": 1
        },
        {
            "number": 12,
            "revision": "031514fb7798057bbe0261a92b6c368cd5a35f66",
            "parents": [
                "19ace2b2303d5908252f6ea984def84c7efcac6a"
            ],
            "ref": "refs/changes/74/49674/12",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1651687991,
            "author": {
                "email": "kmfic567@gmail.com",
                "username": "kmfic567"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 80,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/account_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 38,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 118,
            "sizeDeletions": 1
        }
    ]
}