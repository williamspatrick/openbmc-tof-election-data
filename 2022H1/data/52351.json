{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "Ifa600d1de0e6e0cea33e9e8dfde621ee9d4e3325",
    "number": 52351,
    "subject": "Skip on log entries not found in the message registry",
    "owner": {
        "name": "Sui Chen",
        "email": "suichen@google.com",
        "username": "quadpixels"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/52351",
    "commitMessage": "Skip on log entries not found in the message registry\n\nBecause logs populated by fillEventLogEntryJson are expected to be\nfound in the message registry log entries that get returned in this\nfunction should have non-empty message and severity, because of the way\nregistries work.\n\nCurrently, for a log entry that is not present in the registry, the\nfunction will use its log entry as-is and leave the message and severity\nfields empty. This can cause the Redfish Service Validator to generate\nan error.\n\nThis change fixes the fillEventLogEntryJson function so that when a log\nmessage is not found in the registry, the message is not used for\npopulating the response, and is logged for further analysis.\n\nTESTED:\nFirst populate an offending entry.\necho \"1970-01-01T00:00:47.991326+00:00 OpenBMC.1.0.ServiceStarted,\" > \\\n     /var/log/redfish\n\nThen run the Service Validator.\nBefore this change:\nURL: /redfish/v1/Systems/system/LogServices/EventLog/Entries/60\n\n*** /redfish/v1/Systems/system/LogServices/EventLog/Entries/60\n         Type (LogEntry.v1_8_0.LogEntry), GET SUCCESS (time: 0)\nSeverity: Empty string found - Services should omit properties if not\nsupported\nSeverity: Value  Enum not found in ['OK', 'Warning', 'Critical']\nMessage: Empty string found - Services should omit properties if not\nsupported\n          FAIL...\n\nAfter: the above response disappears from the response, the Validator\nerror disappears, and the following appears in the system journal:\n\n(1970-01-01 13:01:47) [WARNING \"log_services.hpp\":1129] Log entry not\nfound in registry: 1970-01-01T00:00:47.991326+00:00\nOpenBMC.1.0.ServiceStarted,\n\nSigned-off-by: Sui Chen <suichen@google.com>\nChange-Id: Ifa600d1de0e6e0cea33e9e8dfde621ee9d4e3325\n",
    "createdOn": 1648159776,
    "lastUpdated": 1649869194,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1648159776,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1648159791,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1648159791,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1648160304,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/39693/ : SUCCESS"
        },
        {
            "timestamp": 1648161471,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Set Work In Progress"
        },
        {
            "timestamp": 1648228940,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Set Ready For Review"
        },
        {
            "timestamp": 1648360250,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1648360508,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1648360830,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1648515964,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1648515993,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1648515993,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1648516255,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Patch Set 1:\n\n(4 comments)"
        },
        {
            "timestamp": 1648516566,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/39970/ : SUCCESS"
        },
        {
            "timestamp": 1648568992,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(4 comments)"
        },
        {
            "timestamp": 1649094208,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1649094223,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1649094223,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1649094268,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Patch Set 2:\n\n(4 comments)"
        },
        {
            "timestamp": 1649094385,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/40462/ : FAILURE"
        },
        {
            "timestamp": 1649097446,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1649097469,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1649097469,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1649097716,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1649097729,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1649097729,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1649097733,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/40464/ : ABORTED"
        },
        {
            "timestamp": 1649098321,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/40465/ : SUCCESS"
        },
        {
            "timestamp": 1649173482,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1649173561,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\n(2 comments)"
        },
        {
            "timestamp": 1649460870,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1649460895,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1649460895,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1649460897,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1649461473,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/40863/ : SUCCESS"
        },
        {
            "timestamp": 1649642585,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6: Code-Review+1"
        },
        {
            "timestamp": 1649693720,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1649696334,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1649696348,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 6: Code-Review+1"
        },
        {
            "timestamp": 1649696870,
            "reviewer": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "message": "Patch Set 6: Code-Review+1\n\n(2 comments)"
        },
        {
            "timestamp": 1649699802,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1649699815,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1649699815,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1649700243,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/40902/ : FAILURE"
        },
        {
            "timestamp": 1649700980,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Uploaded patch set 8."
        },
        {
            "timestamp": 1649700995,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1649700995,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: -Ok-To-Test"
        },
        {
            "timestamp": 1649701811,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/40910/ : SUCCESS"
        },
        {
            "timestamp": 1649708005,
            "reviewer": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "message": "Patch Set 8:\n\n(2 comments)"
        },
        {
            "timestamp": 1649708080,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1649708083,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8: Code-Review+1"
        },
        {
            "timestamp": 1649789033,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8: Code-Review+2"
        },
        {
            "timestamp": 1649789037,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully rebased and submitted as 54417b02efbfe896d6ef442cfc6a721314aac3f8"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "8de7f90975bd9a4e725f5669d1041efec2b556dc",
            "parents": [
                "e76cd86812f29f1153a50c7de177945c7e4fb3e3"
            ],
            "ref": "refs/changes/51/52351/1",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1648159776,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Pretty sure this is not the droids you're looking for."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "Added a return statement upon seeing an empty messageID, because messageID is not nullable (while message and severity are nullable)."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1174,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "I don't think MessageId can be null based on the schema"
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1174,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "Yes you are right, the schema says:\n  <Property Name=\"MessageId\" Type=\"Edm.String\" Nullable=\"false\">"
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1126,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This is the bug.  This should be returning if message isn't filled in, not continuing."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1126,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "I guess we should return when messageID is empty, and omit Message and Severity if they are empty? Otherwise the user doesn't get to see log entries like \"OpenBMC.1.0.ServiceStarted\"."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1126,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> I guess we should return when messageID is empty, and omit Message and Severity if they are empty?\n\nif the message pointer is filled in here, we are guaranteed to have a non empty message and severity (because of the way registries work).\n\n> Otherwise the user doesn't get to see log entries like \"OpenBMC.1.0.ServiceStarted\".\n\n\nYep, and that message not being in the message registry is a bug.  OpenBMC.1.0.ServiceStarted doesn't exist.\n\nIt should exist in this table if it were legal:\nhttps://github.com/openbmc/bmcweb/blob/master/redfish-core/include/registries/openbmc_message_registry.hpp\n\nLets get this check fixed, and then we can start to triage how many bad messages we have."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1126,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "Added a unit test for \"getMessageFromRegistry\" and \"getMessage\" (in a follow-up change), it seems these two functions are working correctly. So in this case the code will continue when `message` is nullptr such that the program fills whatever is in /var/log/redfish into the response.\n\nI think for the ServiceStarted services to be properly populated, a rule also needs to be added to rsyslogd.conf so that the unit name can be picked up by the registry template, maybe like this: https://gerrit.openbmc-project.xyz/c/openbmc/openbmc/+/52591"
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1126,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I'm not an expert on the rsyslog configuration, but there are other people that are, so lets follow up on your review with those people."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1126,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1193,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "If we get to this code, none of these should be empty;  If they are, it means something in the code has failed (probably someone logging a message that isn't in the registry)."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1193,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "It appears that Message and Severity could be empty strings? I think we need to return if the non-nullable MessageId is empty."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1193,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Not nullable means \"can't be equal to null\" it does not note whether or not the property is required.  With that said, in this context, because we're producing a LogService that's backed by a message registry, they are required."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1193,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "This document (https://www.dmtf.org/sites/default/files/standards/documents/DSP2055_1.0.0.pdf) says:\n\nNullable is ..\n- If false, the property is required.\n- If true or this qualifier is omitted, the property is optional.\n\nHowever yes it does seem all entries in the registry have a message field, so it seems we can say that if the entry is found in the registry, `message` must not be empty."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 47,
            "sizeDeletions": 3
        },
        {
            "number": 2,
            "revision": "dce3c9ae78748096cfe63affa498f35991d0d5bf",
            "parents": [
                "e76cd86812f29f1153a50c7de177945c7e4fb3e3"
            ],
            "ref": "refs/changes/51/52351/2",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1648515964,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1180,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit, no need for these comments.  The code path already shows that they can't be null, and in this context, there's nothing that's capable of setting them to null (null and empty string are different)"
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1180,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "Ack, this part has been removed now (reverted to the base of this change)"
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1182,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nullable and empty are two different things."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1182,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "Ack, this part has been removed now (reverted to the base of this change)"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -6
                }
            ],
            "sizeInsertions": 58,
            "sizeDeletions": 6
        },
        {
            "number": 3,
            "revision": "2a5795ed7857788415941d6e5d39781d66555bc8",
            "parents": [
                "e76cd86812f29f1153a50c7de177945c7e4fb3e3"
            ],
            "ref": "refs/changes/51/52351/3",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1649094208,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 49,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/ut/registries_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 61,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "039acd1cc4a0001f6f80b7c43298c67c81395b50",
            "parents": [
                "e76cd86812f29f1153a50c7de177945c7e4fb3e3"
            ],
            "ref": "refs/changes/51/52351/4",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1649097446,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 49,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/ut/registries_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 56,
            "sizeDeletions": 1
        },
        {
            "number": 5,
            "revision": "07b5baeb2b0acccd8eecc080c36a974c2580d6d8",
            "parents": [
                "e76cd86812f29f1153a50c7de177945c7e4fb3e3"
            ],
            "ref": "refs/changes/51/52351/5",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1649097716,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1131,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please just invert this check to make the code easier to read.  Also, if we know that message is not nullptr, there's no real reason to have the msg and severity temporary variables anymore."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1131,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 49,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/ut/registries_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 55,
            "sizeDeletions": 1
        },
        {
            "number": 6,
            "revision": "f58ee9a052d45c5df215e3cdd6a513e1c7ce414d",
            "parents": [
                "e76cd86812f29f1153a50c7de177945c7e4fb3e3"
            ],
            "ref": "refs/changes/51/52351/6",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1649460870,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "John Broadbent",
                        "email": "jebr@google.com",
                        "username": "jebr224"
                    },
                    "message": "Look reasonable to me"
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1128,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nitpick.  Now that message is guaranteed to be filled in, do we need these intermediate strings at all?  Could we just inline message->message on line 1174 (and same thing for severity)?\n\nThese were copies before, so not a big deal either way, just seems like it would be less code."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1128,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "It seems \"msg\" is being modified (for filling in the parameters), while the \"severity\" intermediate variable is not needed."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1128,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "OH, good point on msg."
                },
                {
                    "file": "redfish-core/ut/registries_test.cpp",
                    "line": 20,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "is this line removing intended?"
                },
                {
                    "file": "redfish-core/ut/registries_test.cpp",
                    "line": 20,
                    "reviewer": {
                        "name": "John Broadbent",
                        "email": "jebr@google.com",
                        "username": "jebr224"
                    },
                    "message": "+1,  please add the line back.\nIt is showing the \"No newline at end of revision file.\""
                },
                {
                    "file": "redfish-core/ut/registries_test.cpp",
                    "line": 20,
                    "reviewer": {
                        "name": "Sui Chen",
                        "email": "suichen@google.com",
                        "username": "quadpixels"
                    },
                    "message": "Added back the line break, the line break appears to have been removed by clang-format .."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 49,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/ut/registries_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 56,
            "sizeDeletions": 6
        },
        {
            "number": 7,
            "revision": "a5b98c4e79578c78ec55cf6c1221422bae113ddc",
            "parents": [
                "e76cd86812f29f1153a50c7de177945c7e4fb3e3"
            ],
            "ref": "refs/changes/51/52351/7",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1649699802,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 49,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -6
                }
            ],
            "sizeInsertions": 55,
            "sizeDeletions": 6
        },
        {
            "number": 8,
            "revision": "e806fbeae8a4c82d4a1ba1672d45530f22573c19",
            "parents": [
                "e76cd86812f29f1153a50c7de177945c7e4fb3e3"
            ],
            "ref": "refs/changes/51/52351/8",
            "uploader": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "createdOn": 1649700980,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 49,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -6
                }
            ],
            "sizeInsertions": 55,
            "sizeDeletions": 6
        },
        {
            "number": 9,
            "revision": "54417b02efbfe896d6ef442cfc6a721314aac3f8",
            "parents": [
                "928fefb9a542b816d7c0418077def2b3874d1b0f"
            ],
            "ref": "refs/changes/51/52351/9",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1649789037,
            "author": {
                "name": "Sui Chen",
                "email": "suichen@google.com",
                "username": "quadpixels"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 49,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -6
                }
            ],
            "sizeInsertions": 55,
            "sizeDeletions": 6
        }
    ]
}