{
    "project": "openbmc/docs",
    "branch": "master",
    "id": "I8752998c976ea7dff3f3d68b7dd0bf3d4c39d139",
    "number": 53205,
    "subject": "Design for integrating SELinux into OpenBMC.",
    "owner": {
        "name": "Ruud Haring",
        "email": "ruud@us.ibm.com",
        "username": "ruudharing"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/docs/+/53205",
    "commitMessage": "Design for integrating SELinux into OpenBMC.\n\nAmended submission to Gerrit -- requesting review.\n- amendments based on J. Reynolds' feedback\n- fixed whitespace\n\nSigned-off-by: Ruud A. Haring <ruud@us.ibm.com>\nChange-Id: I8752998c976ea7dff3f3d68b7dd0bf3d4c39d139\n",
    "createdOn": 1650586378,
    "lastUpdated": 1652226784,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1650586378,
            "reviewer": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1650591067,
            "reviewer": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "message": "Abandoned"
        },
        {
            "timestamp": 1650591140,
            "reviewer": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "message": "Restored"
        },
        {
            "timestamp": 1651005938,
            "reviewer": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1651006427,
            "reviewer": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1651072475,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 3:\n\n(9 comments)"
        },
        {
            "timestamp": 1651108932,
            "reviewer": {
                "name": "Joel Stanley",
                "email": "joel@jms.id.au",
                "username": "shenki"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1651130022,
            "reviewer": {
                "name": "Joel Stanley",
                "email": "joel@jms.id.au",
                "username": "shenki"
            },
            "message": "Patch Set 3:\n\n(3 comments)"
        },
        {
            "timestamp": 1651167598,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3:\n\n(15 comments)"
        },
        {
            "timestamp": 1651695812,
            "reviewer": {
                "name": "Nirav Shah",
                "email": "nirav.j2.shah@intel.com",
                "username": "njshah2"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1651701588,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1651702811,
            "reviewer": {
                "name": "Nirav Shah",
                "email": "nirav.j2.shah@intel.com",
                "username": "njshah2"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1651717804,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 3:\n\n(8 comments)"
        },
        {
            "timestamp": 1651842221,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3:\n\n(9 comments)"
        },
        {
            "timestamp": 1651877534,
            "reviewer": {
                "name": "Nirav Shah",
                "email": "nirav.j2.shah@intel.com",
                "username": "njshah2"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "8a383b3d070fcc4575bdfd2657afacd1796b8f11",
            "parents": [
                "ee848402f3b85d88fbdd58fb53fe62f7a46ee5a9"
            ],
            "ref": "refs/changes/05/53205/1",
            "uploader": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "createdOn": 1650586378,
            "author": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/selinux.md",
                    "line": 16,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Please remove trailing blanks."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 67,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Consistently indent bullets."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "designs/selinux.md",
                    "type": "ADDED",
                    "insertions": 162,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 174,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "1e6984c91115ad7d1df0b7b4f221ac115df564fe",
            "parents": [
                "261191136f2fe69a3034158cac5a594fd233c940"
            ],
            "ref": "refs/changes/05/53205/2",
            "uploader": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "createdOn": 1651005938,
            "author": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "designs/selinux.md",
                    "type": "ADDED",
                    "insertions": 129,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 142,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
            "parents": [
                "261191136f2fe69a3034158cac5a594fd233c940"
            ],
            "ref": "refs/changes/05/53205/3",
            "uploader": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "createdOn": 1651006427,
            "author": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Gerrit review keeps track of the review comments, and they don't need to be in the commit message.\nPlease follow guidelines in https://github.com/openbmc/docs/blob/master/CONTRIBUTING.md#formatting-commit-messages\n(but I think the commit title says everything we need here)."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Thanks for getting this started!  A few questions..."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Joel Stanley",
                        "email": "joel@jms.id.au",
                        "username": "shenki"
                    },
                    "message": "Thanks for the design. You have a bunch of different audiences to satisfy with this document, so I appreciate the difficulty in choosing what information to put in.\n\nThe questions I would like to see answered are:\n\n - How will you develop this without breaking the build? Will there be an opportunity for having some daemons protected by selinux, or is it a permissive/enforcing binary switch for the entire system?\n\n - I imagine you have a reference platform you will implement first. It would be useful to document how other developers would go about enabling selinux for their platform, which may run a different set of userspace tools\n\n - It would be useful to provide some metrics on filesystem usage and runtime impact once you have started implementation, to guide other developers on enabling this for their systems."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Good questions everyone!  Can we limit the scope of this design to enabling SELinux (see detailed comment)?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I wasn't trying to expand the scope.  I want to make sure that the design reads without logical leaps that are not documented within the design itself.  There are many of them as it stands."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "@Joseph, I'd appreciate if you could work with the Ruud to incorporate your feedback directly into the document.  It seems like you have good clarifying thoughts that would make the document much more complete."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 5,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I think the expectation is something like:\n\nRuud Haring <RuudHaring#2662>"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 9,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I don't recognize either of these individuals.  What does \"Primary Assignee\" mean in this context?\n\nI'm proposing we drop it from the template with https://gerrit.openbmc-project.xyz/c/openbmc/docs/+/53351"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 18,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "There isn't necessarily anything in your proposal that addresses this, is there?  Why not fix this so that, at least, externally facing applications run as non-root?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 18,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I had interpreted this to mean: Given that applications run as root, they have more authority than they need, and an attacker can exploit this.  Although an obvious solution is to change to a non-root user, using SELinux will provide even finer-grained access control which will limit any attack."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 18,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Please work with the author to fix the words to match your interpretation.  As it stands the document doesn't read this way.  Other readers cannot be expected to jump to the same conclusions you have."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 19,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Can you expand on why this is a problem?\n\nThere was another effort previously to fix this without introducing SELinux.  I assume to limit the dbus services you have to \"finish\" that work anyhow (there is some bus ACLs that dbus already supports).  So, is that really part of this design or not?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 26,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This paragraph feels like fluff.  All I see are buzzwords and platitudes with very little tie back to anything earlier."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 26,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "@Joseph - This here is the fundamental issue I have with the paragraph.  Trying to design the rewording in Gerrit is not very productive.  This paragraph might make a fine introductory paragraph to an entire section in which each of these points (\"security posture\", \"addressing end-user security\", \"compliance requirements\") are fully spelled out with the details you've outlined.  As it stands, the document itself doesn't provide clarity on this paragraph."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 27,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "How is it addressing \"end-user security\"?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 27,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Is the answer something like this?  SELinux helps secure the BMC's internal processing by having more strict access controls than Linux along provides.  This helps limit the reach of an attacker who gain control of one Linux process."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 28,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "What \"compliance requirements\" are there to run SELinux?  Can you point to them?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 28,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "BMCs are components of server computers which are subject to various compliance requirements.  For example, the Common Criteria (CC) standard could be applied to the firmware running on the BMC.  I've identified some applicable standards here: https://github.com/openbmc/openbmc/wiki/Security-working-group#applicable-standards\n\nA specific requirement within the CC standard (which I imagine is common to multiple standards) is in CC part 2 Security Functional Requirements > Class FPT: Protection of the TSF > Internal TOE TSF data transfer (FPT_ITT).\nDownload CC Part 2 here: https://www.commoncriteriaportal.org/cc/\n\n[NOTE: CC terminology is thick.  The TOE refers to the BMC, and the TSF refers to the BMC's security functions (including access controls such as Linux permissions, and ACLs).]\n\n> FPT_ITT ... provides requirements that address protection of TSF data when it is transferred between separate parts of a TOE across an internal channel.\n\nMy interpretation is that FPT_ITT requires that we protect data (like new account creation) as it is transferred between different processes within the BMC, like data passed via D-Bus APIs (such as when new users are created via IPMI or Redfish).\n\nPutting that all together, the access controls provided by SELinux will help the BMC comply with requirements to protect security data as it flows through D-Bus interfaces within the BMC."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 62,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "The design should describe how to opt-in.  For example:\nTo opt in, add the meta-selinux layer to (for example) https://github.com/openbmc/openbmc/blob/master/meta-ibm/conf/bblayers.conf.sample\nand then ...(additional steps?)."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 62,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Agreed.  If all we're doing is adding a single bbclass that can be extended into an image to enable SELinux, this is a pretty big \"design document\" for that.  This is why I called out the \"In the final design\".\n\nI don't mind if this is accepted as a reasonable direction for exploration, starting with the pieces you've mentioned here.  We need to be clear that as we get further understanding the design will be updated before code impacts are spilled all through the codebase."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 64,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Wow.  \"We're going to change a bunch of stuff but we don't know what yet.\"  I wouldn't call this a design."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 64,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I recall we had discussed this design would stop at enabling SELinux so we can collect data needed to make policies.  Then have a followon development process and followon design to establish SELinux policies.  Is that still the intention?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 66,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I assume these are SELinux policy configuration files.\nIt seems like this part of the design is not yet known.  It might be easier to restrict this design to *enabling* SELinux so it can be used in permissive mode, and stop there.  Then a follow-on design or updating this design can then talk about customizing policy files for OpenBMC for switching to enforcing mode."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 72,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "How do they go about doing this?  How do you ensure that all error paths have been executed when coming up with your policy/profile?  How do we ensure that as the code is enhanced the policy updates are done appropriately?  This sounds very error prone."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 72,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I still think this is fundamental for us to understand before SELinux is enabled anywhere.  If we have no idea how to actually enable / use SELinux, then the work is pointless."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 80,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This is kind of lame.  Ratan ran into a problem and didn't debug it in any meaningful way, but instead opened an issue to another community and then pestered them when they didn't debug it for him.  Other people aren't going to do our work for us and this is not an appropriate argument for not using AppArmor."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 80,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Perhaps this could simply note the attempt to use AppArmor and not comment on difficulties."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 80,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "\ud83d\udc4d"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 82,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Ratan documented the difficulty using AppArmor here: https://gitlab.com/apparmor/apparmor/-/issues/183"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 82,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Yes.  It is probably best to simply link to the ML post + issue and not add any commentary on it (i.e. \"apparently non-trivial\") as you're basing that commentary on Ratan's statements and not your own understanding of the issue."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 93,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This work wasn't finished partially because the author had a very hard time defining the DBus ACLs and getting them put into repositories.  Why do you think you're going to be more successful with SELinux?  Isn't it the _same_ ACLs at the DBus level?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 100,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This is completely insufficient.  We need to know how to develop appropriate policies for OpenBMC and how to maintain them and how to test them."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 104,
                    "reviewer": {
                        "name": "Joel Stanley",
                        "email": "joel@jms.id.au",
                        "username": "shenki"
                    },
                    "message": "You should make it clear if this is a new requirement placed on any application change (ie, we will have a system with enforcing mode enabled in CI, and any application change is required to update the selinux policy), or if this will be done independently by the selinux maintainers.\n\nI suggest imposing the former on the project will require some convincing. The latter is more palatable for the project as a whole."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 104,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "We need to maintain the policies also.  How do we do this?  How is it \"caught in regression testing\"?  Do we have adequate regression testing of bad-path?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 107,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This is gigantic and completely unfeasible for most of our systems.  We need a much smaller footprint or else this work is effectively useless for anyone who isn't using an eMMC device (which is almost everyone)."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 107,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "You don't have to opt in."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 107,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Sure, but if it is only feasible for exactly one system then maybe this belongs in meta-thatcompany in order to bake a bit?  I don't necessarily think that is the right approach, but 20MB is really gigantic in the scheme of things for most BMCs.  If we can't get it down to a handful of MB, it doesn't seem very useful.\n\nThis isn't all that important when we're talking about just adding a bbclass for experimentation.  It _is_ important when you start talking about adding and maintaining policies.  We, as a community, need to decide if we want to take on the burden of that if hardly anyone really gains a benefit from it.  There is a reasonable cost/benefit analysis to be had here.\n\nThis here is my fundamental concern about this proposal.  Not the technical merits of it, but the development process implications.  Throughout the end of the document here I've asked \"how\" questions related to this.  The answers we get (and maybe we can't get them today until we experiment) directly play into the cost/benefit analysis for the project as a whole."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 108,
                    "reviewer": {
                        "name": "Nirav Shah",
                        "email": "nirav.j2.shah@intel.com",
                        "username": "njshah2"
                    },
                    "message": "Need to add information about how debugging will be affected. Will debug tools like gdb kdb have special privileges in production build? If not, and without logs how will on field debug happen?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 108,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "> Will debug tools like gdb kdb have special privileges in production build?\n\nDo you run gdb on device in production builds?  I don't think many people do this."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 108,
                    "reviewer": {
                        "name": "Nirav Shah",
                        "email": "nirav.j2.shah@intel.com",
                        "username": "njshah2"
                    },
                    "message": "My general question is what debug capabilities will still be available when SELINUX is added to production build. I am not saying I oppose (for whatever its worth \ud83d\ude0a) it if I cant run gdb. But at the very least it should be called out here.\nAnd to answer your questions, its been a while but yes I may have remoted into production builds (in-field != end user) for hard to repro issues, especially in the hardware."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 108,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I tried long ago to document OpenBMC community use cases: production system locked down -vs- allow invasive debug on production systems.  (Tried and failed.)\nAnother possibility is a way to disable SELinux (switch it to permissive mode) for debug sessions.  What that satisfy your request?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 108,
                    "reviewer": {
                        "name": "Nirav Shah",
                        "email": "nirav.j2.shah@intel.com",
                        "username": "njshah2"
                    },
                    "message": "A requirement specifying a way to temporarily disable SELinux (to enable debug capabilities) in production builds would be great, thank you."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 109,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Do you mean this?: The default SELinux configuration builds log analysis tools into the BMC image, but the anticipated use case is to offload the logs and analyze them on another system, so SELinux will be configured to not include the log analysis tools.\n\nIf so, that should be stated in the design section.  Also, how do you advise BMC system integrators to obtain and use the log analysis tools?  Can they be built separately via Yocto bitbake, or can we get them from somewhere else?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 113,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "If this design proposes to both enable SELinux and then create policies, we should state where those policy files will be stored.  Are they stored in each application's repository?  The design should address where the policy source files will be stored."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 113,
                    "reviewer": {
                        "name": "Joel Stanley",
                        "email": "joel@jms.id.au",
                        "username": "shenki"
                    },
                    "message": "> The design should address where the policy source files will be stored.\n\n+1\n\nPlease consider you have existing projects as well as those maintained by the openbmc project. We cannot expect to have the policies accepted upstream, so this would lead us towards including them in the bitbake tree."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 117,
                    "reviewer": {
                        "name": "Joel Stanley",
                        "email": "joel@jms.id.au",
                        "username": "shenki"
                    },
                    "message": "Does this work with busybox, or do we need to switch to coreutils?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 117,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "> Does this work with busybox, or do we need to switch to coreutils?\n\nYep.  I had the same callout."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/selinux.md",
                    "type": "ADDED",
                    "insertions": 129,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 143,
            "sizeDeletions": 0
        }
    ]
}