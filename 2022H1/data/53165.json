{
    "project": "openbmc/openbmc",
    "branch": "master",
    "id": "If40bf59dc00beb2c004c5da9953c3c5e64cbffba",
    "number": 53165,
    "subject": "phosphor-state-manager: simplify systemd-links",
    "owner": {
        "name": "Patrick Williams",
        "email": "patrick@stwcx.xyz",
        "username": "williamspatrick"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/openbmc/+/53165",
    "commitMessage": "phosphor-state-manager: simplify systemd-links\n\nSpecify the target links as a variable with iteration rather than\nmanual entries for each symlink.\n\nSigned-off-by: Patrick Williams <patrick@stwcx.xyz>\nChange-Id: If40bf59dc00beb2c004c5da9953c3c5e64cbffba\n",
    "createdOn": 1650490641,
    "lastUpdated": 1650655338,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1650490641,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1650490781,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1650490781,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1650499596,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/10427/"
        },
        {
            "timestamp": 1650500450,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/10427/ : SUCCESS"
        },
        {
            "timestamp": 1650504084,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 1:\n\nBuild Failed \n\nIBM Hardware CI : witherspoon hardware test failed"
        },
        {
            "timestamp": 1650570887,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Uploaded patch set 2: Patch Set 1 was rebased."
        },
        {
            "timestamp": 1650570957,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1650570957,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1650572431,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/10451/"
        },
        {
            "timestamp": 1650573959,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/10451/ : SUCCESS"
        },
        {
            "timestamp": 1650575366,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 2:\n\nBuild Failed \n\nIBM Hardware CI : witherspoon hardware test failed"
        },
        {
            "timestamp": 1650592619,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 2:\n\nBuild Failed \n\nIBM Hardware CI : witherspoon hardware test failed"
        },
        {
            "timestamp": 1650593334,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1650636821,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1650639870,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1650639939,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1650639940,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1650639946,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/10467/"
        },
        {
            "timestamp": 1650641058,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/10467/ : SUCCESS"
        },
        {
            "timestamp": 1650642304,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 3:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1650655053,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "message": "Patch Set 3: Code-Review+2"
        },
        {
            "timestamp": 1650655332,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Change has been successfully rebased and submitted as 3952f8bd49b30590df75e8b86627e4087d73a387"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "ec449e78c8b0f406efd908dddad76ee2a0bed086",
            "parents": [
                "bf64e746f01721c4e5171225296c08c88b125908"
            ],
            "ref": "refs/changes/65/53165/1",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1650490641,
            "author": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/state/phosphor-state-manager-systemd-links.inc",
                    "type": "MODIFIED",
                    "insertions": 35,
                    "deletions": -149
                }
            ],
            "sizeInsertions": 48,
            "sizeDeletions": 149
        },
        {
            "number": 2,
            "revision": "461f33b7318aa757094fb66c4ca68c2f5c936182",
            "parents": [
                "7b2123ff805f73e61fb407b651a866b134486ebb"
            ],
            "ref": "refs/changes/65/53165/2",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1650570887,
            "author": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "I see this on the power on request in the journal:\n\nApr 22 01:40:32 witherspoon-YL10UF776031 phosphor-host-state-manager[459]: Host state transition request of xyz.openbmc_project.State.Host.Transition.On\nApr 22 01:40:32 witherspoon-YL10UF776031 systemd[1]: obmc-host-start@0.target: Requires dependency dropin /lib/systemd/system/obmc-host-start@0.target.requires/obmc-host-startmin@{}.target is not a valid unit name, ignoring.\nApr 22 01:40:32 witherspoon-YL10UF776031 systemd[1]: obmc-host-start@0.target: Requires dependency dropin /lib/systemd/system/obmc-host-start@0.target.requires/phosphor-reset-host-reboot-attempts@{}.service is not a valid unit name, ignoring.\n\nThe obmc-host-startmin@.target is what has the majority of content to boot the system so I assume that's why the system is not booting.\n"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Ah, ok.  My sed operations are missing a g."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/state/phosphor-state-manager-systemd-links.inc",
                    "type": "MODIFIED",
                    "insertions": 35,
                    "deletions": -149
                }
            ],
            "sizeInsertions": 48,
            "sizeDeletions": 149
        },
        {
            "number": 3,
            "revision": "fbb9de7a9232d56529f838d0aa2a05aea301d163",
            "parents": [
                "1e2ffefd658eaa714f66f711dd312d109c144244"
            ],
            "ref": "refs/changes/65/53165/3",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1650639870,
            "author": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/state/phosphor-state-manager-systemd-links.inc",
                    "type": "MODIFIED",
                    "insertions": 35,
                    "deletions": -149
                }
            ],
            "sizeInsertions": 48,
            "sizeDeletions": 149
        },
        {
            "number": 4,
            "revision": "3952f8bd49b30590df75e8b86627e4087d73a387",
            "parents": [
                "f8cb53a272442fdfb58b391dc458d068ac3766d7"
            ],
            "ref": "refs/changes/65/53165/4",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1650655332,
            "author": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/state/phosphor-state-manager-systemd-links.inc",
                    "type": "MODIFIED",
                    "insertions": 35,
                    "deletions": -149
                }
            ],
            "sizeInsertions": 48,
            "sizeDeletions": 149
        }
    ]
}