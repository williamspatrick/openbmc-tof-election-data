{
    "project": "openbmc/phosphor-buttons",
    "branch": "master",
    "id": "Icbfb22baaee057fd255c3ab0cba129693b913a9d",
    "number": 51183,
    "subject": "Add Host selector button interface",
    "owner": {
        "name": "Naveen Moses ",
        "email": "naveen.mosess@hcl.com",
        "username": "naveenmosess"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-buttons/+/51183",
    "commitMessage": "Add Host selector button interface\n\nThis change includes new button interface\nfor the host selector switch.\n\nThe  button handler code is adapted to support\nboth single host and multiple host power control\ndbus events.\n\ndesign : https://gerrit.openbmc-project.xyz/c/openbmc/docs/+/45544\n\nSigned-off-by: Naveen Moses <naveen.mosess@hcl.com>\nChange-Id: Icbfb22baaee057fd255c3ab0cba129693b913a9d\n",
    "createdOn": 1644842453,
    "lastUpdated": 1649226491,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1644842453,
            "reviewer": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1644842465,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1644842465,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1644842493,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/37184/ : SUCCESS"
        },
        {
            "timestamp": 1644891262,
            "reviewer": {
                "name": "Kuiying Wang",
                "email": "wangkuiying.wky@alibaba-inc.com",
                "username": "kuiyingw"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1645030132,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1645046335,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1: Code-Review-1\n\n(40 comments)"
        },
        {
            "timestamp": 1645213181,
            "reviewer": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "message": "Patch Set 1:\n\n(10 comments)"
        },
        {
            "timestamp": 1646825526,
            "reviewer": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1646825538,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1646825538,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1646825567,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/38691/ : SUCCESS"
        },
        {
            "timestamp": 1646826603,
            "reviewer": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "message": "Patch Set 2:\n\n(34 comments)"
        },
        {
            "timestamp": 1647969401,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2: Code-Review-1\n\n(9 comments)"
        },
        {
            "timestamp": 1648471951,
            "reviewer": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1648471961,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1648471961,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1648471989,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/39907/ : SUCCESS"
        },
        {
            "timestamp": 1648472192,
            "reviewer": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "message": "Patch Set 3:\n\n(8 comments)"
        },
        {
            "timestamp": 1648476522,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1648587888,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 3:\n\n(10 comments)"
        },
        {
            "timestamp": 1648644541,
            "reviewer": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1648644554,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1648644554,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1648644586,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/40134/ : SUCCESS"
        },
        {
            "timestamp": 1648650647,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1648651617,
            "reviewer": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "message": "Patch Set 4:\n\n(11 comments)"
        },
        {
            "timestamp": 1648767011,
            "reviewer": {
                "name": "Shantappa Teekappanavar",
                "email": "shantappa.teekappanavar@ibm.com",
                "username": "sbteeks"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1648837160,
            "reviewer": {
                "name": "Shantappa Teekappanavar",
                "email": "shantappa.teekappanavar@ibm.com",
                "username": "sbteeks"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1649155919,
            "reviewer": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1649155955,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1649155955,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1649155985,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/40527/ : SUCCESS"
        },
        {
            "timestamp": 1649156334,
            "reviewer": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "message": "Patch Set 5:\n\n(3 comments)"
        },
        {
            "timestamp": 1649159158,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 5: Code-Review+1"
        },
        {
            "timestamp": 1649182085,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 5: Code-Review+2"
        },
        {
            "timestamp": 1649226423,
            "reviewer": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "message": "Patch Set 5:\n\n(5 comments)"
        },
        {
            "timestamp": 1649226467,
            "reviewer": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1649226491,
            "reviewer": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "message": "Change has been successfully merged"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "d47d23ababb55aaba17e39f8d3952cfb32b7a0ad",
            "parents": [
                "a1af329f5746d754f5f3b13f70078f19e773726f"
            ],
            "ref": "refs/changes/83/51183/1",
            "uploader": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "createdOn": 1644842453,
            "author": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 16,
                    "reviewer": {
                        "name": "Kuiying Wang",
                        "email": "wangkuiying.wky@alibaba-inc.com",
                        "username": "kuiyingw"
                    },
                    "message": "I don't see the ID button is covered in the design document, why?\nThere are 3 buttons on the front panel like power/reset/ID commonly."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 16,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Per the Yv2 specifications there is not an ID button on the front panel.\n\n> A power button, a reset button, a USB connector and an OCP debug card header are provided on the front panel of the baseboard; they all belong to the current active server. The user could turn a rotary switch or press select switch on new OCP debug card w/LCD to select an 1S server as the current active server.\n\nhttps://www.opencompute.org/documents/facebook-multi-node-server-platform-yosemite-v2-design-specification"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 16,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "(I've not reviewed the code yet)"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Thanks Patrick for you suggestions. I'm working on resolving the review comments."
                },
                {
                    "file": "inc/button_handler.hpp",
                    "line": 83,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "To me it is bad to work on strings (instead of size_t).  Can we convert the hostIndex to an integer as soon as possible and keep it internally as that?  We should only be operating on strings when we deal with dbus."
                },
                {
                    "file": "inc/button_handler.hpp",
                    "line": 83,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "inc/button_handler.hpp",
                    "line": 93,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "size_t -- this is a countable entity.\n\nPrefer to avoid return code style functions as well (ie. -1).  Can this be an exception?"
                },
                {
                    "file": "inc/button_handler.hpp",
                    "line": 93,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "inc/button_handler.hpp",
                    "line": 102,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I suspect this is 'const'.  Is it 'static'?"
                },
                {
                    "file": "inc/button_handler.hpp",
                    "line": 102,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "multihost system is determined by checking availability of host selector dbus object.\"this\" pointer needs to be passed to access member method : getService()."
                },
                {
                    "file": "inc/button_handler.hpp",
                    "line": 107,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Hmm... void or bool?"
                },
                {
                    "file": "inc/button_handler.hpp",
                    "line": 107,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "inc/gpio.hpp",
                    "line": 58,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Isn't there a better way than exposing the whole json globally?  DOn't we already have this gpioInfo structure to hold the config?"
                },
                {
                    "file": "inc/gpio.hpp",
                    "line": 58,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "every button type has same gpio config (name,pin and direction).since these are common for all button configs these are stored as gpioInfo based config. But some button interface will have special configs such as host selector Position map.these configs will not be present in all button configs.so this global json object is created. individual buttton interfaces can read and store them in their object creation."
                },
                {
                    "file": "inc/gpio.hpp",
                    "line": 58,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Can we put a reference to the local json structure into the gpioInfo for the extended info?  I don't really like low level objects re-parsing json."
                },
                {
                    "file": "inc/gpio.hpp",
                    "line": 58,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 32,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "`static constexpr auto`.\n\nThe const is redundant.\n\n> A constexpr specifier used in an object declaration implies const.\n\nhttps://en.cppreference.com/w/cpp/language/constexpr"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 32,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 34,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Why is '6' appropriate?  Can we document that?\n\nOn Bletchley we have 6 hosts... is 6 still appropriate there?"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 34,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "size_t on these, please."
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 34,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "it was added because the initial pos read from Host selector switch was 6. it is removed and the mapping is done as json config in gpio_defs.json file."
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 34,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Ack"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 36,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "These look like they can be scoped as static members of the HostSelector class, right?"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 36,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Prefer you to not use arbitrary magic numbers.\n\nstatic constexpr auto INVALID_INDEX = std::numeric_limits<size_t>::max();"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 36,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 36,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 38,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Please avoid 'using namespace' in a header file unless it is scoped in a namespace or class."
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 38,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 40,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "You may want \"class HostSelector final\".\n\nBased on the calls to 'init' and the discussion I have on line 50 about signal generation, this class likely can't correctly handle becoming inherited so we should explicitly disallow it."
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 40,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "prefer object_t"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 40,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 40,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 50,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "You have some issues with the dbus signals being emitted by this object construction.  Since you're using the default parameter for action (emit_object_added), the object is going to emit the InterfacesAdded signal right away and then you're going to emit PropertiesChanged signals as you set up the object fully in the rest of the constructor (such as by line 66).  This is incorrect; you end up emitting useless property values with the InterfacesAdded (which other programs might react to) and then sending excess signals for the PropertiesChanged.\n\nWhat you should do is pass `defer_emit` here, on all set property calls pass the parameter `skipSignal = true`, and then at the end of construction (line ~69), call `object_t::emit_object_added()`."
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 50,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 51,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Use `hostSelectorPosition = 0` on line 93 instead."
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 51,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 66,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Why would you do this (calling setPropertyByName)?  Can't you just use 'maxPosition(cfg[\"max_position\"])` directly?"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 66,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 73,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "nit: prefer to remove this spurious newline (unless clang-format inserted it, but I suspect not)."
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 73,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 96,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Can we do something to not keep ahold of a random json blob?"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 96,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 0,
                    "reviewer": {
                        "name": "Kuiying Wang",
                        "email": "wangkuiying.wky@alibaba-inc.com",
                        "username": "kuiyingw"
                    },
                    "message": "ID button still need support multiple host right?\nID button is one of the buttons on the front panel."
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 0,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 35,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Can we avoid a string here?"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 35,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Ack"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 132,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Can't we just keep it on the BMC position then?"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 132,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Ack"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 132,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "exception is thrown as host selector dbus object itself cant be obtained"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 140,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I'm slightly confused how this works.  Isn't the HostSelector in this same daemon?  You can't use dbus to call against your own service.  It'll give you an ELOOP error:\n\nhttps://github.com/systemd/systemd/blob/f55fe53ffce351bb55b6190cf36511c37f99d766/src/libsystemd/sd-bus/sd-bus.c#L2434\n\n\nCan we just find the object inside our own service and get the property from it by the object->position() method?"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 140,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "There are two separate processes namely buttons and button-handler.\nThe \"buttons\" process  have the hostselector dbus object and the button-handler is\na separate process so we can only access those variables via dbus."
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 148,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This path (catching an exception) results in a missing return.  I'm surprised the compiler didn't catch this for you."
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 148,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Ack"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 182,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "We should probably do something to explicitly check for BMC also, right?"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 182,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 195,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Please don't form log messages this way.  Data added to log messages should use the structured logging facilities.\n\nIf you want you can upgrade this code to use the lg2 interfaces."
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 195,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 221,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "It feels like the logic for doMultiHostSledCycle and longPowerPresssed could be simplified.\n\nMost of the code you've added to 'longPowerPressed' is simply about modifying the 'objPathStr' and 'state' values.  Can we default those at the beginning of longPowerPressed and modify either objPathStr or state based on the getHostSelectorValue?  I think that would collapse some of the logic or at least reduce the duplication between the two functions."
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 221,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 225,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I don't believe you need to do this `convertForMessage` call here.  You can just store a `variant<Chassis::Transition>` and add it to the message on line 230."
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 225,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 247,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I'm confused by this language.  Line 259 is looking for \"BMC_POSITION\" but this log indicates that the host selector might be set to BMC?"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 247,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "if bmc position is set only power long press event is handled(power press and reset press are skipped)"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 247,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 262,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Does this mean we have no way to do a sled cycle for something like Tiogapass?"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 262,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "The original single host implementation for power button longpress was actually triggering the host power off. since in multihost implementation we have separate host numbers 1 to N for hosts and 0 position become bmc position.That is why the sled cycle command was able to be added.but for single host 0 position was representing both host and bmc it was not possible. we may need find a solution if sled cycle is needed for single host systems."
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 262,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 264,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "strange indentation here.  Did clang-format run on this code?"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 264,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 277,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This convertForMessage isn't necessary either."
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 277,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 308,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "language issue here as well about BMC."
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 308,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 317,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Fix dynamic message creation for logging."
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 317,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 334,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I don't think you've handled the BMC_INDEX case in this function."
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 334,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 55,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Don't use 'setPropertyByName'."
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 55,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "since the property which is being read/set and button object under which this property is modified are associated with the same bus i believe the sdbusplus get/set property will not work. that is why opted for setpropertybyname method.Is there any impact using this method?"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 55,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 59,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Can we improve the variable name and/or documentation?  Based on line 108 it looks like \"gpio low\" = \"true\" here, which is not intuitive.  Maybe you could create an enumeration instead to express the gpio value?"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 59,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Ack"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 75,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Is there any kind of race condition to worry about here?  It appears that if the selector changes from 0001 to 0010 we'll get two events.  It is possible that the selector has an intermediate position of 0011.  This has two effects:\n\n1. We get N signals for the PropertyChanged depending on how many binary wires changed.\n\n2. Some applications my temporarily see a host-selector value that is inaccurate (such as 3 in this example).\n\n#2 worries me slightly for other applications that may start to use the host-selector, such as the code to handle the UART mux."
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 75,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Ack"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 75,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "host selector property is updated only if a respective key value pair is present\nin the host selector map config.otherwise the intermediate value is held in the host selector member variable. also the processes act on property change of host selector position can do some initial check on the property value before proceeding further."
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 106,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Can we convert from fd -> host # here?  It doesn't look like there is need for anyone else to have the fd, so let's convert as early as possible."
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 106,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Here the fd value not mapped to host position value. each fd has a 1 to one map of the gpio bit order  bit0 - fd 1, bit1 - fd 2 etc."
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 113,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Avoid forming dynamic log messages like this or use the lg2 APIs."
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 113,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 120,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Don't use setPropertyByName."
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 120,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/main.cpp",
                    "line": 26,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I'd like to see everything we need included in the parsed gpio config."
                },
                {
                    "file": "src/main.cpp",
                    "line": 26,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "type": "ADDED",
                    "insertions": 121,
                    "deletions": 0
                },
                {
                    "file": "CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "inc/button_handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -9
                },
                {
                    "file": "src/main.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -2
                },
                {
                    "file": "inc/gpio.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "type": "ADDED",
                    "insertions": 97,
                    "deletions": 0
                },
                {
                    "file": "inc/button_interface.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/button_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 144,
                    "deletions": -17
                }
            ],
            "sizeInsertions": 432,
            "sizeDeletions": 29
        },
        {
            "number": 2,
            "revision": "d6eeb78c31136a8ac7662246572fb6643b608432",
            "parents": [
                "eea8a4a5f764d61cb96b14867a78f7e975e75656"
            ],
            "ref": "refs/changes/83/51183/2",
            "uploader": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "createdOn": 1646825526,
            "author": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "additionally removed duplication code in button-handler"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "A few minor issues.  Looks like it is getting pretty close to me."
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 59,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This search is what I'd like to avoid.  Can we put this reference in the gpioinfo for the object?"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 59,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 183,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Why is this level::ERR?"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 183,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 264,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Would be good to add the enum value here as an extra parameter so we can figure it out from the journal."
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 264,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 21,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Again, preference is to not create strings like this for logging.  Either add them as metadata or switch to the lg2 API."
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 21,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "currently changed the additional logging data as metadata."
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 76,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "auto"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 76,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 77,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Why is this 'unsigned'?  It looks like on line 69 it is a 'int'.  Do we need a cast?  Should it be size_t?"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 77,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 79,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "auto"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 79,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "type": "ADDED",
                    "insertions": 127,
                    "deletions": 0
                },
                {
                    "file": "CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -2
                },
                {
                    "file": "inc/button_handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -10
                },
                {
                    "file": "src/main.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -2
                },
                {
                    "file": "inc/gpio.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "type": "ADDED",
                    "insertions": 97,
                    "deletions": 0
                },
                {
                    "file": "inc/button_interface.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/button_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 152,
                    "deletions": -59
                }
            ],
            "sizeInsertions": 452,
            "sizeDeletions": 74
        },
        {
            "number": 3,
            "revision": "76164ad9bb328122651690aed904234e9d9138fe",
            "parents": [
                "eea8a4a5f764d61cb96b14867a78f7e975e75656"
            ],
            "ref": "refs/changes/83/51183/3",
            "uploader": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "createdOn": 1648471951,
            "author": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "inc/button_handler.hpp",
                    "line": 10,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "enums should be in upper camel case according to https://github.com/openbmc/docs/blob/master/cpp-style-and-conventions.md#types"
                },
                {
                    "file": "inc/button_handler.hpp",
                    "line": 10,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "inc/button_handler.hpp",
                    "line": 140,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "why did you move this to the bottom?"
                },
                {
                    "file": "inc/button_handler.hpp",
                    "line": 140,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "reverted the change."
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 2,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "I believe you're supposed to put your own company here.\nSome projects don't use the license prologues, or used the SPDX lines, so I'm OK with whatever"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 2,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "2022"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 2,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "line": 2,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 107,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "nit: spelling"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 107,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 265,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Does this compile without something like https://en.cppreference.com/w/cpp/utility/to_underlying ?  I'm surprised because I didn't think we could directly cast an enum to an integer with the logging interfaces."
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 265,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "I did not see any compiler errors for this.Anyway i have added static cast now."
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 15,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "the map key like hsPosStr is a std::string, so you don't need this"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 15,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 45,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "what an ERR trace here be useful?"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 45,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 52,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "same question here"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 52,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 87,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "nit: spelling"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 87,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 116,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "just curious, why does a 0 map to a state of HIGH and not LOW?"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 116,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Changed the state comparison logic. now \"0\" is associated for gpio low state."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "type": "ADDED",
                    "insertions": 126,
                    "deletions": 0
                },
                {
                    "file": "CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -2
                },
                {
                    "file": "inc/button_handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -10
                },
                {
                    "file": "src/main.cpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -2
                },
                {
                    "file": "inc/gpio.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -3
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "type": "ADDED",
                    "insertions": 91,
                    "deletions": 0
                },
                {
                    "file": "inc/button_interface.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/button_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 154,
                    "deletions": -59
                }
            ],
            "sizeInsertions": 451,
            "sizeDeletions": 77
        },
        {
            "number": 4,
            "revision": "7892058fd97cd7658bcdcf3e664acfb14f7e0d27",
            "parents": [
                "eea8a4a5f764d61cb96b14867a78f7e975e75656"
            ],
            "ref": "refs/changes/83/51183/4",
            "uploader": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "createdOn": 1648644541,
            "author": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/button_handler.cpp",
                    "line": 48,
                    "reviewer": {
                        "name": "Shantappa Teekappanavar",
                        "email": "shantappa.teekappanavar@ibm.com",
                        "username": "sbteeks"
                    },
                    "message": "powerButtonReleased is a matcher for \"Released\" signal, but we bind this with powerPressed method. It is somewhat confusing in general, don't understand why we have it this way. Maybe this is a good time to change the method name to something like powerReleased?"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 48,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "yes we need to address this.but the change is not only needed to be done in this patch set files.the files with button interface class definitions  power_button.cpp, reset_button.cpp also needs to be changed. shall we create a separate review to address this issue?"
                },
                {
                    "file": "src/button_handler.cpp",
                    "line": 48,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 28,
                    "reviewer": {
                        "name": "Shantappa Teekappanavar",
                        "email": "shantappa.teekappanavar@ibm.com",
                        "username": "sbteeks"
                    },
                    "message": "What is 4 here - number of gpio lines? \nMaybe make it a const/constexpr with a variable so that one knows..."
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 28,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 30,
                    "reviewer": {
                        "name": "Shantappa Teekappanavar",
                        "email": "shantappa.teekappanavar@ibm.com",
                        "username": "sbteeks"
                    },
                    "message": "I think the number of entries depends on gpio config/json file. \n\nIs it possible we will have more gpios entries (>4)?\nJust trying to understand..."
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "line": 30,
                    "reviewer": {
                        "name": "Naveen Moses ",
                        "email": "naveen.mosess@hcl.com",
                        "username": "naveenmosess"
                    },
                    "message": "It is possible.The max index number is calculated from the number of GPIO configs mentioned in the json config for host selector."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "type": "ADDED",
                    "insertions": 133,
                    "deletions": 0
                },
                {
                    "file": "CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -2
                },
                {
                    "file": "inc/button_handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": -8
                },
                {
                    "file": "src/main.cpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -2
                },
                {
                    "file": "inc/gpio.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -3
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "type": "ADDED",
                    "insertions": 75,
                    "deletions": 0
                },
                {
                    "file": "inc/button_interface.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/button_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 155,
                    "deletions": -59
                }
            ],
            "sizeInsertions": 441,
            "sizeDeletions": 75
        },
        {
            "number": 5,
            "revision": "3bd1cfcb7d8293b1694aebb7f0e47fd53f7a5f60",
            "parents": [
                "eea8a4a5f764d61cb96b14867a78f7e975e75656"
            ],
            "ref": "refs/changes/83/51183/5",
            "uploader": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "createdOn": 1649155919,
            "author": {
                "name": "Naveen Moses ",
                "email": "naveen.mosess@hcl.com",
                "username": "naveenmosess"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "src/hostSelector_switch.cpp",
                    "type": "ADDED",
                    "insertions": 133,
                    "deletions": 0
                },
                {
                    "file": "CMakeLists.txt",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -2
                },
                {
                    "file": "inc/button_handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": -8
                },
                {
                    "file": "src/main.cpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -2
                },
                {
                    "file": "inc/gpio.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -3
                },
                {
                    "file": "inc/hostSelector_switch.hpp",
                    "type": "ADDED",
                    "insertions": 76,
                    "deletions": 0
                },
                {
                    "file": "inc/button_interface.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/button_handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 155,
                    "deletions": -59
                }
            ],
            "sizeInsertions": 442,
            "sizeDeletions": 75
        }
    ]
}