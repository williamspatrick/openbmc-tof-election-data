{
    "project": "openbmc/docs",
    "branch": "master",
    "id": "Ib272ab08f5ba0d5f2e66cfbcc2fda4e6bf30934d",
    "number": 49477,
    "subject": "Update : EEPROM device type identification logic.",
    "owner": {
        "name": "Karthikeyan Pasupathi",
        "email": "p_karthikeya@hcl.com",
        "username": "karthikeyan5523"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/docs/+/49477",
    "commitMessage": "Update : EEPROM device type identification logic.\n\nUpdated the EEPROM device type 8 bit or 16 bit identification logic.\nThis logic is purely platform based. Initiating platform specific\nservice from EM and get the device byte type info and populate this\nbyte type info into dbus. Finally, FruDevice will read this info\nfrom dbus.\n\nSigned-off-by: Karthikeyan Pasupathi <pkarthikey@hcl.com>\nChange-Id: Ib272ab08f5ba0d5f2e66cfbcc2fda4e6bf30934d\n",
    "createdOn": 1638977427,
    "lastUpdated": 1657699667,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1638977427,
            "reviewer": {
                "name": "Karthikeyan Pasupathi",
                "email": "p_karthikeya@hcl.com",
                "username": "karthikeyan5523"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1638982106,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\nAdding EM maintainers."
        },
        {
            "timestamp": 1639562811,
            "reviewer": {
                "name": "Karthikeyan Pasupathi",
                "email": "p_karthikeya@hcl.com",
                "username": "karthikeyan5523"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1639762603,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(5 comments)"
        },
        {
            "timestamp": 1640097405,
            "reviewer": {
                "name": "Karthikeyan Pasupathi",
                "email": "p_karthikeya@hcl.com",
                "username": "karthikeyan5523"
            },
            "message": "Patch Set 2:\n\n(5 comments)"
        },
        {
            "timestamp": 1640116283,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1641974169,
            "reviewer": {
                "name": "Karthikeyan Pasupathi",
                "email": "p_karthikeya@hcl.com",
                "username": "karthikeyan5523"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1642734183,
            "reviewer": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1642995618,
            "reviewer": {
                "name": "Karthikeyan Pasupathi",
                "email": "karthicsk706@gmail.com",
                "username": "karthikeyan55"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1643341427,
            "reviewer": {
                "name": "Karthikeyan Pasupathi",
                "email": "karthicsk706@gmail.com",
                "username": "karthikeyan55"
            },
            "message": "Removed cc Karthikeyan Pasupathi."
        },
        {
            "timestamp": 1643647010,
            "reviewer": {
                "name": "Karthikeyan Pasupathi",
                "email": "karthicsk706@gmail.com",
                "username": "karthikeyan55"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1643661628,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(12 comments)"
        },
        {
            "timestamp": 1644414012,
            "reviewer": {
                "name": "Karthikeyan Pasupathi",
                "email": "karthicsk706@gmail.com",
                "username": "karthikeyan55"
            },
            "message": "Patch Set 3:\n\n(17 comments)"
        },
        {
            "timestamp": 1644421226,
            "reviewer": {
                "name": "Karthikeyan Pasupathi",
                "email": "p_karthikeya@hcl.com",
                "username": "karthikeyan5523"
            },
            "message": "Removed cc Karthikeyan Pasupathi."
        },
        {
            "timestamp": 1647780464,
            "reviewer": {
                "name": "P-karthikeyan-HCL",
                "username": "P-karthikeyan-HCL"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1647844020,
            "reviewer": {
                "name": "Karthikeyan Pasupathi",
                "email": "p_karthikeya@hcl.com",
                "username": "karthikeyan5523"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1647872715,
            "reviewer": {
                "name": "P-karthikeyan-HCL",
                "username": "P-karthikeyan-HCL"
            },
            "message": "Removed cc P-karthikeyan-HCL."
        },
        {
            "timestamp": 1648732664,
            "reviewer": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1650464549,
            "reviewer": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1652781688,
            "reviewer": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1657193815,
            "reviewer": {
                "name": "Gokul Sanker V G",
                "email": "gokul.sanker.v.g@intel.com",
                "username": "gokulsvg"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1657514807,
            "reviewer": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1657514843,
            "reviewer": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1657551937,
            "reviewer": {
                "name": "Michael Garner",
                "email": "garnermic@gmail.com",
                "username": "garnermic"
            },
            "message": "Patch Set 6: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1657699667,
            "reviewer": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "23d956c65254ac53beb217729d3bd47232cf47e6",
            "parents": [
                "b5cddbb2c96cca6ae055575fa6580f06b9a1a844"
            ],
            "ref": "refs/changes/77/49477/1",
            "uploader": {
                "name": "Karthikeyan Pasupathi",
                "email": "p_karthikeya@hcl.com",
                "username": "karthikeyan5523"
            },
            "createdOn": 1638977427,
            "author": {
                "name": "Karthikeyan Pasupathi",
                "email": "pkarthikey@hcl.com",
                "username": ""
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "type": "ADDED",
                    "insertions": 93,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 109,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "ab2952761d7bfc6099dd70cb29dea00242ee9040",
            "parents": [
                "b5cddbb2c96cca6ae055575fa6580f06b9a1a844"
            ],
            "ref": "refs/changes/77/49477/2",
            "uploader": {
                "name": "Karthikeyan Pasupathi",
                "email": "p_karthikeya@hcl.com",
                "username": "karthikeyan5523"
            },
            "createdOn": 1639562811,
            "author": {
                "name": "Karthikeyan Pasupathi",
                "email": "pkarthikey@hcl.com",
                "username": ""
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 32,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "Given that the 'master' branch reference (and lines numbers in it) may change over time, it would be more future-proof to link to the line within a specific revision (e.g. https://github.com/openbmc/entity-manager/blob/9dc2cc5387bb2902128a26d8426d99fc1aee8854/src/FruDevice.cpp#L197), or perhaps just to the commit that introduced that code (https://github.com/openbmc/entity-manager/commit/2d681f6fdec02b2f56d9155117c4830703026cb0)."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 32,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "karthicsk706@gmail.com",
                        "username": "karthikeyan55"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 62,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I have no interest in supporting per-machine services in entity-manager.  If you need a per-machine service, write an entity-manager reactor, which can be be per-machine."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 62,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "p_karthikeya@hcl.com",
                        "username": "karthikeyan5523"
                    },
                    "message": "If I understood your statement properly i could think of following design:\n\nJust creating a new reactor deamon in entity-manager, through this reactor deamon will read and parse the ncsi command and get the output as 8-bit or 16-bit. Then it will update the 8-bit or 16 bit device byte type in Dbus interfaces of FRU device and read from it.\n\nQuestion:Is it fine to have the deamon(detector EEPROM) in entity-manager?"
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 62,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> If I understood your statement properly i could think of following design:\n> \n> Just creating a new reactor deamon in entity-manager,\n\nIt would not belong in entity-manager.  Entity-manager is for common code.\n\n> through this reactor deamon will read and parse the ncsi command and get the output as 8-bit or 16-bit.\n\nAH, now I understand.  Let me make sure I have it right.\n\n1. BMC reads the NCSI ID of the NIC\n2. The NCSI id will determine if the NIC has a 16 bit or 8 bit eeprom\n\n\nThat makes more sense.  In that case, your flow would be:\n\n1. Update NCSId to expose an appropriate dbus API for determining the \"model\" or \"ID\" of the card.  You might need to invent a new interface here.\n2. Write an EM config file that uses that dbus API for its probe statement.\n3. In the EM config file, add a \"Size\" flag under the Type: \"EEPROM\" field.\n4. Update FruDevice to check EM configs, and lookup the size field appropriately if it's defined in an EM config.\n\n\nThe advantage of the above design is that there's no new platform-specific code, and it's reusing most of the infrastructure that exists already.\n\n> Then it will update the 8-bit or 16 bit device byte type in Dbus interfaces of FRU device and read from it.\n> \n> Question:Is it fine to have the deamon(detector EEPROM) in entity-manager?\n\nIn the above what I've written, there are no new daemons here.\n\nNCSID exists (although would need to be promoted out of the meta-google repo if more people are going to use it)\nhttps://github.com/openbmc/openbmc/blob/master/meta-google/recipes-google/ncsi/ncsid_git.bb\n\nThat would be the thing that exposes the NCSI device model number."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 62,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "p_karthikeya@hcl.com",
                        "username": "karthikeyan5523"
                    },
                    "message": "ack.This flow would be good, we can get the eeprom single byte or two byte by using get info or get version command from ncsid.\n\ndbus api can be created for this ncsid and it can be probed by entity-manager config, and fru device can the eeprom type."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 62,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "karthicsk706@gmail.com",
                        "username": "karthikeyan55"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 65,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please avoid making this a script.  They are difficult to debug and maintain over time."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 65,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "p_karthikeya@hcl.com",
                        "username": "karthikeyan5523"
                    },
                    "message": "Ack.Based on the first review comment input/suggestions this can be concluded."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 65,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "karthicsk706@gmail.com",
                        "username": "karthikeyan55"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 66,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I'm not following this step.  If you don't know if the eeprom is 8 bit or 16 bit, how does this script suddenly bypass the \"detect 16 bit eeprom\" problem?  Won't this script have the same issue as the FruDevice code does?"
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 66,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "p_karthikeya@hcl.com",
                        "username": "karthikeyan5523"
                    },
                    "message": "The script doesn't read the EEPROM directly, There are some other mechanism to find out whether this will have a 8-bit or 16-bit EEPROM. this will read by the NIC manufacturer information using nisi command, using this command ncsi-netlink --info -x 2 -p 0 -c 0  will get the output like this \n\nGet Info , PACKAGE :  0, IFINDEX :  2\nPackage has id : 0\nChannel Active : 0\nChannel Major Version : f1f1f000\nChannel Minor Version : 0\nChannel Version Str :mlx0.1\nChannel Link State : 2f\nActive Vlan ids\n\nbased on this information, we are getting 8 bit or 16 bit type using manufacturer information"
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 66,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Now I understand.  See my reply on the previous comment about how you could make this work in an entity-manager system."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 66,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "p_karthikeya@hcl.com",
                        "username": "karthikeyan5523"
                    },
                    "message": "ack."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 66,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "karthicsk706@gmail.com",
                        "username": "karthikeyan55"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 72,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "To repeat, if you want a platform-specific service, write and maintain a platform specific service.  Dbus is your extension point and interface there;  If you want to reuse code from FruDevice for it, abstract it to a library (a lot of that work has already been done).  I'm not interested in having a plugin system for FruDevice, which is intended to be self-contained."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 72,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "p_karthikeya@hcl.com",
                        "username": "karthikeyan5523"
                    },
                    "message": "Ack.Based on the first review comment input/suggestions this can be concluded."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 72,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "karthicsk706@gmail.com",
                        "username": "karthikeyan55"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 76,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "In this flow, you've basically described how this should work, you've just added a number of pieces that are extra and not needed.\n\n1. In the \"Type\": \"eeprom\" entry for a given device, include a parameter called \"size\" that can determine whether the eeprom is 16 bit or 8 bit.\n2. Determine how to detect the \"is 16 bit\" of a given device without pre-defined knowledge of said device, or attach the relevant information to the baseboard configuration for something like \"Eeprom hint\"\n3. Add the backward path to FruDevice such that FruDevice looks at the size parameter, and uses that to set the 16bitness of the part."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 76,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "p_karthikeya@hcl.com",
                        "username": "karthikeyan5523"
                    },
                    "message": "We have a json file for baseboard FRU and we have a separate json file for each NIC card in entity-manager, if particular  NIC card has been detected then it will load the corresponding json config file and read the EEPROM information, EEPROM config can be detected at run time based on the loaded FRU NIC.\n\nwe have a NIC card slot, that will support Mellanox NIC card or Broadcom NIC card, Both are having different EEPROM configuration. we have to detect 8-bit or 16-bit EEPROM type before load the FRU NIC. This EEPROM byte detection is platform specific."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 76,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> We have a json file for baseboard FRU and we have a separate json file for each NIC card in entity-manager, if particular  NIC card has been detected then it will load the corresponding json config file and read the EEPROM information, EEPROM config can be detected at run time based on the loaded FRU NIC.\n\nYep, you got it.\n\n> \n> we have a NIC card slot, that will support Mellanox NIC card or Broadcom NIC card, Both are having different EEPROM configuration. we have to detect 8-bit or 16-bit EEPROM type before load the FRU NIC.\n\nSlight change in wording: You have to detect the MODEL of the card.  From there entity-manager can generally configure the size of the eeprom, which doesn't need to be platform specific.\n\n> This EEPROM byte detection is platform specific.\n\nIMO, based on what you've written, I don't think it is.  If I put a 16 bit eeprom mellonox card into any system, I'd like it to parse correctly, and using NCSI seems like a nice generic way to do that model detection."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 76,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "p_karthikeya@hcl.com",
                        "username": "karthikeyan5523"
                    },
                    "message": "ack. As per flow what you are suggest, this will be generic way to detect the model ID in ncsid."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 76,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "karthicsk706@gmail.com",
                        "username": "karthikeyan55"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "type": "ADDED",
                    "insertions": 101,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 117,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "02fe89f21f4283a770bba689f9e36d72f6cd3790",
            "parents": [
                "b5cddbb2c96cca6ae055575fa6580f06b9a1a844"
            ],
            "ref": "refs/changes/77/49477/3",
            "uploader": {
                "name": "Karthikeyan Pasupathi",
                "email": "karthicsk706@gmail.com",
                "username": "karthikeyan55"
            },
            "createdOn": 1643647010,
            "author": {
                "name": "Karthikeyan Pasupathi",
                "email": "pkarthikey@hcl.com",
                "username": ""
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 20,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit, you might want to call this a \"NIC\".  FRU implies that it's the eeprom."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 20,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "karthicsk706@gmail.com",
                        "username": "karthikeyan55"
                    },
                    "message": "ack."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 35,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Question: it's pretty clear that this code doesn't work as designed, and the original author has stated that it doesn't work for their use case.  Could this detection logic be completely removed as part of this work?"
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 35,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "karthicsk706@gmail.com",
                        "username": "karthikeyan55"
                    },
                    "message": "Yes, This will be removed as per our implementation."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 35,
                    "reviewer": {
                        "name": "P-karthikeyan-HCL",
                        "username": "P-karthikeyan-HCL"
                    },
                    "message": "This needs to be discuss with original author and we need to remove it, and how come they are approved it ?"
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 38,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Nit, please use specific models of eeprom.  \"two byte eeprom\" isn't very descriptive."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 38,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "karthicsk706@gmail.com",
                        "username": "karthikeyan55"
                    },
                    "message": "ack."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 48,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Can we call out that this is a \"size\" and not a \"type\".  eeprom size has other uses, like properly populating a FRU SDR, that we'd also like to solve eventually."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 48,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "karthicsk706@gmail.com",
                        "username": "karthikeyan55"
                    },
                    "message": "ack."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 61,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit: implemented"
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 61,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "karthicsk706@gmail.com",
                        "username": "karthikeyan55"
                    },
                    "message": "ack."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 65,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This seems redundant to the second sentence of #1.  Also, the dbus API is not going to detect the eeprom byte type, it's going to detect the MODEL of the card.  EM will expose the eeprom size from its known card types.\n\nAlso, doesn't this code belong in ncsid?  I thought that phosphor-network was for managing the network devices, not handling NCSI devices."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 65,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "karthicsk706@gmail.com",
                        "username": "karthikeyan55"
                    },
                    "message": "ncsid is the separate daemon,So posed a question in mailing list to the community, to change that ncsid bin into service to expose D-bus."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 67,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "fork and exec should be avoided in applications.  Can this data be gotten directly in-process without invoking another one?"
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 67,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "karthicsk706@gmail.com",
                        "username": "karthikeyan55"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 70,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This doesn't seem right.  The NCSI device isn't going to directly identify the EEPROM size, that will happen in EM, right?"
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 70,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "karthicsk706@gmail.com",
                        "username": "karthikeyan55"
                    },
                    "message": "The NCSI command only determine the eeprom size and that size will be updated in D-bus. EM just read from it."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Would like more details on what this looks like.  I suspect this is just adding \"Size\" to the existing eeprom interface, but that should be called out here."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "karthicsk706@gmail.com",
                        "username": "karthikeyan55"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 81,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Good.  This is ideal."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 81,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "karthicsk706@gmail.com",
                        "username": "karthikeyan55"
                    },
                    "message": "ack"
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 117,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Not enough detail here."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 117,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "karthicsk706@gmail.com",
                        "username": "karthikeyan55"
                    },
                    "message": "ack."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 121,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Not enough detail here."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 121,
                    "reviewer": {
                        "name": "Karthikeyan Pasupathi",
                        "email": "karthicsk706@gmail.com",
                        "username": "karthikeyan55"
                    },
                    "message": "ack."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "type": "ADDED",
                    "insertions": 122,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 138,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "ee16937ad4f6dad0e9c6b2d8dddae5460d7c146b",
            "parents": [
                "b5cddbb2c96cca6ae055575fa6580f06b9a1a844"
            ],
            "ref": "refs/changes/77/49477/4",
            "uploader": {
                "name": "Karthikeyan Pasupathi",
                "email": "p_karthikeya@hcl.com",
                "username": "karthikeyan5523"
            },
            "createdOn": 1647844020,
            "author": {
                "name": "Karthikeyan Pasupathi",
                "email": "pkarthikey@hcl.com",
                "username": ""
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "karthik-pasupathi",
                        "email": "pkarthikeyan1509@gmail.com",
                        "username": "karthik-pasupathi"
                    },
                    "message": "Hi All,\nThese are the implementation patches have been uploaded for NIC EEPROM byte size \nidentification as single byte (Broadcom) or two byte (Mellanox), please refer to below link.\nhttps://gerrit.openbmc-project.xyz/c/openbmc/entity-manager/+/52480\nhttps://gerrit.openbmc-project.xyz/c/openbmc/phosphor-networkd/+/52478\nhttps://gerrit.openbmc-project.xyz/c/openbmc/openbmc/+/52473\nhttps://gerrit.openbmc-project.xyz/c/openbmc/phosphor-dbus-interfaces/+/52452\n"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "karthik-pasupathi",
                        "email": "pkarthikeyan1509@gmail.com",
                        "username": "karthik-pasupathi"
                    },
                    "message": "Hai all,\nplease review the patch and provide your suggestions.\nThanks"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "type": "ADDED",
                    "insertions": 133,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 149,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "700d2bb5e783da743fc579336a92aac68508d7ec",
            "parents": [
                "9915e5d21d3009eab284b321fef46f9301a13206"
            ],
            "ref": "refs/changes/77/49477/5",
            "uploader": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "createdOn": 1652781688,
            "author": {
                "name": "Karthikeyan Pasupathi",
                "email": "pkarthikey@hcl.com",
                "username": ""
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 127,
                    "reviewer": {
                        "name": "Gokul Sanker V G",
                        "email": "gokul.sanker.v.g@intel.com",
                        "username": "gokulsvg"
                    },
                    "message": "typo"
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 127,
                    "reviewer": {
                        "name": "karthik-pasupathi",
                        "email": "pkarthikeyan1509@gmail.com",
                        "username": "karthik-pasupathi"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "type": "ADDED",
                    "insertions": 133,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 149,
            "sizeDeletions": 0
        },
        {
            "number": 6,
            "revision": "d3ca205f2d86920727c7d06e41793edfbf180810",
            "parents": [
                "cdf04a3e7fb786e291e9e722a5910bc5875065c4"
            ],
            "ref": "refs/changes/77/49477/6",
            "uploader": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "createdOn": 1657514843,
            "author": {
                "name": "Karthikeyan Pasupathi",
                "email": "pkarthikey@hcl.com",
                "username": ""
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Michael Garner",
                        "email": "garnermic@gmail.com",
                        "username": "garnermic"
                    },
                    "message": "Looks good to me."
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "line": 34,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "While this is a long link, personally I think it would be better to leave it as one line instead of wrapping it.\n\nHowever, it's also now out of date -- see commit f805bafb4dacc629c2b7da0fda90f3fd950d9b07.  Have you tested with that change incorporated to see if it already handles the problem you're aiming to solve here?"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "designs/EEPROM-byte-type-identification.md",
                    "type": "ADDED",
                    "insertions": 133,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 149,
            "sizeDeletions": 0
        }
    ]
}