{
    "project": "openbmc/phosphor-state-manager",
    "branch": "master",
    "id": "I2ce3e9ab2c95a2688143f4e3775da164a5c33c19",
    "number": 52009,
    "subject": "chassis-state-manager: Add multi-chassis support",
    "owner": {
        "name": "PL",
        "email": "potin.lai@quantatw.com",
        "username": "potinlai"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-state-manager/+/52009",
    "commitMessage": "chassis-state-manager: Add multi-chassis support\n\nAdd multi-chassis management support, each chassis bus separates by\ngiving a unique chassis id.\n\nCurrent code only support single chassis, and alway assume bus name is\n\"xyz.openbmc_project.State.Chassis\".\n\nThis patch allow user to launch chassis-state-manager with a chassis id,\nand chassis id is added into service bus name for identification.\n\nBecause there are many places hardcode with bus name\n\"xyz.openbmc_project.State.Chassis\", if chassis id is 0,\nchassis-state-manager will request both\n\"xyz.openbmc_project.State.Chassis\" and\n\"xyz.openbmc_project.State.Chassis0\" bus name to meet backwards\ncompatibility.\n\nTested on Bletchley:\nroot@bletchley:~# busctl tree xyz.openbmc_project.State.Chassis\n`-/xyz\n  `-/xyz/openbmc_project\n    `-/xyz/openbmc_project/state\n      `-/xyz/openbmc_project/state/chassis0\nroot@bletchley:~# busctl tree xyz.openbmc_project.State.Chassis0\n`-/xyz\n  `-/xyz/openbmc_project\n    `-/xyz/openbmc_project/state\n      `-/xyz/openbmc_project/state/chassis0\nroot@bletchley:~# busctl tree xyz.openbmc_project.State.Chassis1\n`-/xyz\n  `-/xyz/openbmc_project\n    `-/xyz/openbmc_project/state\n      `-/xyz/openbmc_project/state/chassis1\n......\n\npatch dependencies:\nhttps://gerrit.openbmc-project.xyz/c/openbmc/phosphor-state-manager/+/51465\n\nSigned-off-by: Potin Lai <potin.lai@quantatw.com>\nChange-Id: I2ce3e9ab2c95a2688143f4e3775da164a5c33c19\n",
    "createdOn": 1647341783,
    "lastUpdated": 1647610097,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1647341783,
            "reviewer": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1647341794,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1647341794,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1647341818,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/39012/ : FAILURE"
        },
        {
            "timestamp": 1647341916,
            "reviewer": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "message": "Set Work In Progress"
        },
        {
            "timestamp": 1647342107,
            "reviewer": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1647342124,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1647342124,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1647342262,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/39013/ : SUCCESS"
        },
        {
            "timestamp": 1647347750,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2:\n\n(7 comments)"
        },
        {
            "timestamp": 1647354553,
            "reviewer": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1647360406,
            "reviewer": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1647360415,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1647360415,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1647360518,
            "reviewer": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "message": "Patch Set 3:\n\n(6 comments)"
        },
        {
            "timestamp": 1647360548,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/39018/ : SUCCESS"
        },
        {
            "timestamp": 1647361179,
            "reviewer": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1647373838,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1647399454,
            "reviewer": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1647399482,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1647399482,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1647399689,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/39058/ : SUCCESS"
        },
        {
            "timestamp": 1647399692,
            "reviewer": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "message": "Patch Set 4:\n\n(3 comments)"
        },
        {
            "timestamp": 1647481506,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 4:\n\n(5 comments)"
        },
        {
            "timestamp": 1647532622,
            "reviewer": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1647532632,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1647532632,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1647532766,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/39169/ : SUCCESS"
        },
        {
            "timestamp": 1647532867,
            "reviewer": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1647532900,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1647532900,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1647533035,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/39170/ : SUCCESS"
        },
        {
            "timestamp": 1647533103,
            "reviewer": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "message": "Patch Set 6:\n\n(6 comments)\n\nThis change is ready for review."
        },
        {
            "timestamp": 1647534179,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 6: Code-Review+1"
        },
        {
            "timestamp": 1647539287,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "message": "Patch Set 6:\n\n(3 comments)"
        },
        {
            "timestamp": 1647582050,
            "reviewer": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1647582062,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1647582062,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1647582088,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/39202/ : FAILURE"
        },
        {
            "timestamp": 1647582300,
            "reviewer": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "message": "Uploaded patch set 8."
        },
        {
            "timestamp": 1647582312,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1647582312,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: -Ok-To-Test"
        },
        {
            "timestamp": 1647582454,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/39203/ : SUCCESS"
        },
        {
            "timestamp": 1647582509,
            "reviewer": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "message": "Patch Set 8:\n\n(3 comments)"
        },
        {
            "timestamp": 1647609880,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "message": "Patch Set 8: Code-Review+2"
        },
        {
            "timestamp": 1647609927,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "message": "Patch Set 9: Patch Set 8 was rebased"
        },
        {
            "timestamp": 1647609937,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1647609937,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: -Ok-To-Test"
        },
        {
            "timestamp": 1647610075,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/39254/ : SUCCESS"
        },
        {
            "timestamp": 1647610097,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "message": "Change has been successfully merged\n\n8 is the latest approved patch-set.\nNo files were changed between the latest approved patch-set and the submitted one.\n"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "e39a0859b487dc7c37bdf0fc7744d564334cb676",
            "parents": [
                "fe2b3a5b25720ea14706c481cd4775a272170965"
            ],
            "ref": "refs/changes/09/52009/1",
            "uploader": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "createdOn": 1647341783,
            "author": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 36,
                    "deletions": 0
                },
                {
                    "file": "host_check.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "host_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "chassis_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 25,
                    "deletions": -20
                },
                {
                    "file": "host_check.cpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": -7
                },
                {
                    "file": "chassis_state_manager_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 25,
                    "deletions": -8
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis@.service",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "chassis_state_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -2
                },
                {
                    "file": "service_files/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 129,
            "sizeDeletions": 41
        },
        {
            "number": 2,
            "revision": "04b43eff0082b5bec6e5a6e18313d076d8f4b9c5",
            "parents": [
                "fe2b3a5b25720ea14706c481cd4775a272170965"
            ],
            "ref": "refs/changes/09/52009/2",
            "uploader": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "createdOn": 1647342107,
            "author": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "chassis_state_manager.cpp",
                    "line": 108,
                    "reviewer": {
                        "name": "PL",
                        "email": "potin.lai@quantatw.com",
                        "username": "potinlai"
                    },
                    "message": "Does this need to be modified?\n\nSERVICE --> \"org.openbmc.control.PowerX\"\nOBJECT --> \"/org/openbmc/control/powerX\"\n\nAnd X should be the chassis id?"
                },
                {
                    "file": "chassis_state_manager.cpp",
                    "line": 108,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "This is still hosted out in our skeleton repo - https://grok.openbmc.org/xref/openbmc/skeleton/op-pwrctl/power_control_obj.c?r=c0c74e7c.\n\nWe're going to need to update that to support pgood on multiple chassis or we're going to have to work with phosphor-power to get this out of skeleton and into a real repo."
                },
                {
                    "file": "chassis_state_manager.cpp",
                    "line": 108,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "Seems like for now we'll just leave this as-is?"
                },
                {
                    "file": "chassis_state_manager.cpp",
                    "line": 108,
                    "reviewer": {
                        "name": "PL",
                        "email": "potin.lai@quantatw.com",
                        "username": "potinlai"
                    },
                    "message": "will leave it for now base on Patrick's comment."
                },
                {
                    "file": "chassis_state_manager.hpp",
                    "line": 226,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Prefer an explicit default initialization:\n\n`size_t id = 0;`"
                },
                {
                    "file": "chassis_state_manager.hpp",
                    "line": 226,
                    "reviewer": {
                        "name": "PL",
                        "email": "potin.lai@quantatw.com",
                        "username": "potinlai"
                    },
                    "message": "id will be assigned a value at constructor, do I still need a default value here?"
                },
                {
                    "file": "chassis_state_manager.hpp",
                    "line": 226,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Yes.  Also good to have a default initialization for any member so that if someone adds a new constructor variant and doesn't need to initialize it you end up with something sane."
                },
                {
                    "file": "chassis_state_manager.hpp",
                    "line": 226,
                    "reviewer": {
                        "name": "PL",
                        "email": "potin.lai@quantatw.com",
                        "username": "potinlai"
                    },
                    "message": "Done"
                },
                {
                    "file": "chassis_state_manager_main.cpp",
                    "line": 43,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Suggest adding a small condition here:\n\nif (0 == chassisId) {\n    bus.request_name(CHASSIS_BUSNAME);\n}\n\nThis will allow us to facilitate backwards compatibility for a time until we can get all the services that are hardcoding State.Chassis fixed."
                },
                {
                    "file": "chassis_state_manager_main.cpp",
                    "line": 43,
                    "reviewer": {
                        "name": "PL",
                        "email": "potin.lai@quantatw.com",
                        "username": "potinlai"
                    },
                    "message": "Done"
                },
                {
                    "file": "chassis_state_manager_main.cpp",
                    "line": 43,
                    "reviewer": {
                        "name": "PL",
                        "email": "potin.lai@quantatw.com",
                        "username": "potinlai"
                    },
                    "message": "I was misunderstand your comment.\nActually one service can request more than one busname, so chassis-state-manager should request both xyz.openbmc_project.State.Chassis & xyz.openbmc_project.State.Chassis0 if chassis id is 0, is it correct?\n\nI pushed the change in patch set 4, please let me know is it what you want."
                },
                {
                    "file": "host_check.cpp",
                    "line": 127,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "drop const"
                },
                {
                    "file": "host_check.cpp",
                    "line": 127,
                    "reviewer": {
                        "name": "PL",
                        "email": "potin.lai@quantatw.com",
                        "username": "potinlai"
                    },
                    "message": "Done"
                },
                {
                    "file": "host_check.cpp",
                    "line": 158,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "drop const"
                },
                {
                    "file": "host_check.cpp",
                    "line": 158,
                    "reviewer": {
                        "name": "PL",
                        "email": "potin.lai@quantatw.com",
                        "username": "potinlai"
                    },
                    "message": "Done"
                },
                {
                    "file": "host_check.hpp",
                    "line": 16,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Drop the const here.  There is no need for a const on a pass-by-value POD type (like integers, pointers, etc) and it doesn't even change the C++ name mangling.  It is just noise in the code."
                },
                {
                    "file": "host_check.hpp",
                    "line": 16,
                    "reviewer": {
                        "name": "PL",
                        "email": "potin.lai@quantatw.com",
                        "username": "potinlai"
                    },
                    "message": "Agreed, Done"
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis@.service",
                    "line": 1,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Isn't there an old file you started from on this?  Please do a 'git rm' on the old file so we can see the diffs."
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis@.service",
                    "line": 1,
                    "reviewer": {
                        "name": "PL",
                        "email": "potin.lai@quantatw.com",
                        "username": "potinlai"
                    },
                    "message": "Done"
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis@.service",
                    "line": 6,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Shouldn't this be @%i?"
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis@.service",
                    "line": 6,
                    "reviewer": {
                        "name": "PL",
                        "email": "potin.lai@quantatw.com",
                        "username": "potinlai"
                    },
                    "message": "Sure, I will replace with %i.\nI am not fully understand this service, that's the reason I left it as it is.\nAlso, there is another place hardcode with \"org.openbmc.control.Power\" &  \"/org/openbmc/control/power0\" (chassis_state_manager.cpp), could you add comment there?"
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis@.service",
                    "line": 6,
                    "reviewer": {
                        "name": "PL",
                        "email": "potin.lai@quantatw.com",
                        "username": "potinlai"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 36,
                    "deletions": 0
                },
                {
                    "file": "host_check.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "host_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "chassis_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -20
                },
                {
                    "file": "host_check.cpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -7
                },
                {
                    "file": "chassis_state_manager_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 27,
                    "deletions": -8
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis@.service",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "chassis_state_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -2
                },
                {
                    "file": "service_files/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 129,
            "sizeDeletions": 41
        },
        {
            "number": 3,
            "revision": "aa5f8f1ff0652f18a918e2e2a5bb4a35dde6bfda",
            "parents": [
                "fe2b3a5b25720ea14706c481cd4775a272170965"
            ],
            "ref": "refs/changes/09/52009/3",
            "uploader": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "createdOn": 1647360406,
            "author": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "chassis_state_manager.hpp",
                    "line": 227,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "Please provide a @brief doxygen tag for each new variable. Also, I'd prefer we keep the variables together so move these up to line 149."
                },
                {
                    "file": "chassis_state_manager.hpp",
                    "line": 227,
                    "reviewer": {
                        "name": "PL",
                        "email": "potin.lai@quantatw.com",
                        "username": "potinlai"
                    },
                    "message": "Done"
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis@.service",
                    "line": 14,
                    "reviewer": {
                        "name": "PL",
                        "email": "potin.lai@quantatw.com",
                        "username": "potinlai"
                    },
                    "message": "Because we keep bus name \"xyz.openbmc_project.State.Chassis\" for id 0, it need a way to set BusName with %i for id 0."
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis@.service",
                    "line": 14,
                    "reviewer": {
                        "name": "PL",
                        "email": "potin.lai@quantatw.com",
                        "username": "potinlai"
                    },
                    "message": "this issue resolved by request both \"xyz.openbmc_project.State.Chassis\" & \"xyz.openbmc_project.State.Chassis0\" when chassis id is 0."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 39,
                    "deletions": 0
                },
                {
                    "file": "host_check.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "host_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "chassis_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -20
                },
                {
                    "file": "host_check.cpp",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -7
                },
                {
                    "file": "chassis_state_manager_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": -8
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis@.service",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis.service",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -17
                },
                {
                    "file": "chassis_state_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -2
                },
                {
                    "file": "service_files/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 141,
            "sizeDeletions": 58
        },
        {
            "number": 4,
            "revision": "3923ed9db756c77ec2902443eb44eae8bbaa5b52",
            "parents": [
                "fe2b3a5b25720ea14706c481cd4775a272170965"
            ],
            "ref": "refs/changes/09/52009/4",
            "uploader": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "createdOn": 1647399454,
            "author": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "spelling"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Check your line length in the whole commit message.  You have some lines past 80 which are visible in Gerrit because it wraps mid-word.  Generally it is best for commit messages to be wrapped at about 72 characters.  This is a good best-practices guide on commit messages: https://cbea.ms/git-commit/#wrap-72"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "PL",
                        "email": "potin.lai@quantatw.com",
                        "username": "potinlai"
                    },
                    "message": "Done"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "PL",
                        "email": "potin.lai@quantatw.com",
                        "username": "potinlai"
                    },
                    "message": "Done"
                },
                {
                    "file": "chassis_state_manager_main.cpp",
                    "line": 45,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Generally our coding guidelines require wrapping all if conditions even if they are 1 line.\n\nif (...)\n{\n   ...\n}"
                },
                {
                    "file": "chassis_state_manager_main.cpp",
                    "line": 45,
                    "reviewer": {
                        "name": "PL",
                        "email": "potin.lai@quantatw.com",
                        "username": "potinlai"
                    },
                    "message": "Done"
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis@.service",
                    "line": 6,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I was suggesting this one to %i even though the code doesn't support it internally yet because otherwise it is likely to be forgotten.  We don't support the org.openbmc.control.Power service for multi-node configs, so there is work to do, but this seems like a really easy thing to miss so I was just trying to save us future time.  I don't suspect that the %i will hurt anything because it is all broken anyhow until the feature is done."
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis@.service",
                    "line": 6,
                    "reviewer": {
                        "name": "PL",
                        "email": "potin.lai@quantatw.com",
                        "username": "potinlai"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 45,
                    "deletions": 0
                },
                {
                    "file": "host_check.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "host_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "chassis_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -20
                },
                {
                    "file": "host_check.cpp",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -7
                },
                {
                    "file": "chassis_state_manager_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 29,
                    "deletions": -6
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis@.service",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis.service",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -17
                },
                {
                    "file": "chassis_state_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -2
                },
                {
                    "file": "service_files/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 151,
            "sizeDeletions": 56
        },
        {
            "number": 5,
            "revision": "bb7bac76aec05dbef74beaea9a185a058b9b7053",
            "parents": [
                "1689ef74eedfb5ce757dcc34e8f71372f0aba2e2"
            ],
            "ref": "refs/changes/09/52009/5",
            "uploader": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "createdOn": 1647532622,
            "author": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 47,
                    "deletions": 0
                },
                {
                    "file": "host_check.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "host_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "chassis_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -20
                },
                {
                    "file": "host_check.cpp",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -7
                },
                {
                    "file": "chassis_state_manager_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -6
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis@.service",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis.service",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -17
                },
                {
                    "file": "chassis_state_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -2
                },
                {
                    "file": "service_files/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 155,
            "sizeDeletions": 56
        },
        {
            "number": 6,
            "revision": "1401dfe861d35710eaea0e05ba1abbd6e7955de5",
            "parents": [
                "1689ef74eedfb5ce757dcc34e8f71372f0aba2e2"
            ],
            "ref": "refs/changes/09/52009/6",
            "uploader": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "createdOn": 1647532867,
            "author": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "chassis_state_manager.hpp",
                    "line": 227,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "nit: would prefer to keep variables together up around 145"
                },
                {
                    "file": "chassis_state_manager.hpp",
                    "line": 227,
                    "reviewer": {
                        "name": "PL",
                        "email": "potin.lai@quantatw.com",
                        "username": "potinlai"
                    },
                    "message": "Done"
                },
                {
                    "file": "chassis_state_manager_main.cpp",
                    "line": 44,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "A comment on why we're doing this (i.e. backwards compatibility) would be good here."
                },
                {
                    "file": "chassis_state_manager_main.cpp",
                    "line": 44,
                    "reviewer": {
                        "name": "PL",
                        "email": "potin.lai@quantatw.com",
                        "username": "potinlai"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 47,
                    "deletions": 0
                },
                {
                    "file": "host_check.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "host_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "chassis_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -20
                },
                {
                    "file": "host_check.cpp",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -7
                },
                {
                    "file": "chassis_state_manager_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -6
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis@.service",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis.service",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -17
                },
                {
                    "file": "chassis_state_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -2
                },
                {
                    "file": "service_files/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 155,
            "sizeDeletions": 56
        },
        {
            "number": 7,
            "revision": "4586fe80d5e0fe161f63f2006779e71a4689efe7",
            "parents": [
                "1689ef74eedfb5ce757dcc34e8f71372f0aba2e2"
            ],
            "ref": "refs/changes/09/52009/7",
            "uploader": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "createdOn": 1647582050,
            "author": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 47,
                    "deletions": 0
                },
                {
                    "file": "host_check.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "host_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "chassis_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -20
                },
                {
                    "file": "host_check.cpp",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -7
                },
                {
                    "file": "chassis_state_manager_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 33,
                    "deletions": -6
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis@.service",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis.service",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -17
                },
                {
                    "file": "chassis_state_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -1
                },
                {
                    "file": "service_files/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 157,
            "sizeDeletions": 55
        },
        {
            "number": 8,
            "revision": "9dca85f77a4e9acabf43647e4873247ee86edbb5",
            "parents": [
                "1689ef74eedfb5ce757dcc34e8f71372f0aba2e2"
            ],
            "ref": "refs/changes/09/52009/8",
            "uploader": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "createdOn": 1647582300,
            "author": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 47,
                    "deletions": 0
                },
                {
                    "file": "host_check.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "host_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "chassis_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -20
                },
                {
                    "file": "host_check.cpp",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -7
                },
                {
                    "file": "chassis_state_manager_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 33,
                    "deletions": -6
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis@.service",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis.service",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -17
                },
                {
                    "file": "chassis_state_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": -4
                },
                {
                    "file": "service_files/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 158,
            "sizeDeletions": 58
        },
        {
            "number": 9,
            "revision": "70f36d8efab3e57f941f1e4eddbffdda84879f0f",
            "parents": [
                "79b45003dc8caa96124e33c8cc398af0e8a5b9c9"
            ],
            "ref": "refs/changes/09/52009/9",
            "uploader": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "createdOn": 1647609927,
            "author": {
                "name": "PL",
                "email": "potin.lai@quantatw.com",
                "username": "potinlai"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 47,
                    "deletions": 0
                },
                {
                    "file": "host_check.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "host_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "chassis_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": -20
                },
                {
                    "file": "host_check.cpp",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -7
                },
                {
                    "file": "chassis_state_manager_main.cpp",
                    "type": "MODIFIED",
                    "insertions": 33,
                    "deletions": -6
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis@.service",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "service_files/xyz.openbmc_project.State.Chassis.service",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -17
                },
                {
                    "file": "chassis_state_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": -4
                },
                {
                    "file": "service_files/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 158,
            "sizeDeletions": 58
        }
    ]
}