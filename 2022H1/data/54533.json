{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "If42801c15009f8b33ea5d15749a067dccda935e9",
    "number": 54533,
    "subject": "kvm_websocket_test: delete the test",
    "owner": {
        "name": "Nan Zhou",
        "email": "nanzhoumails@gmail.com",
        "username": "FighterNan"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/54533",
    "commitMessage": "kvm_websocket_test: delete the test\n\nThis test is not enabled and referenced anywhere. Per Discord\ndiscussion, this test is obsolete and can be deleted now.\nhttps://discord.com/channels/775381525260664832/855566794994221117/985996960840429568\n\n\"\"\"\nbmcweb used to have the full RFB (VNC) server in it, and access the\nlinux device directly, that's what that unit test was checking, but\nthat code is long gone in lieu of what we have now (unix socket to the\nrfbserver) which is better.\n\"\"\"\n\nSigned-off-by: Nan Zhou <nanzhoumails@gmail.com>\nChange-Id: If42801c15009f8b33ea5d15749a067dccda935e9\n",
    "createdOn": 1655148503,
    "lastUpdated": 1655236272,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1655148503,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1655148551,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1655148551,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1655148567,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/44914/ : FAILURE"
        },
        {
            "timestamp": 1655148645,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 2: Patch Set 1 was rebased."
        },
        {
            "timestamp": 1655148665,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1655148665,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1655148812,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/44916/ : FAILURE"
        },
        {
            "timestamp": 1655149154,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1655150003,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1655166491,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Set Work In Progress"
        },
        {
            "timestamp": 1655227283,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1655227316,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 3:\n\n(1 comment)\n\nThis change is ready for review."
        },
        {
            "timestamp": 1655227355,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1655227355,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1655227862,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/45010/ : SUCCESS"
        },
        {
            "timestamp": 1655236270,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3: Code-Review+2\n\n(2 comments)"
        },
        {
            "timestamp": 1655236272,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully rebased and submitted as 69d28257b0b8aef694e3239af893c0876c400e9a"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "9a5a886fdf2cbd7deedf5515ea8a0336410d04b3",
            "parents": [
                "7b9fc1c1984118bd0b3dc31075ef0d7e62ed1755"
            ],
            "ref": "refs/changes/33/54533/1",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1655148503,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "src/kvm_websocket_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 53,
                    "deletions": -31
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 81,
            "sizeDeletions": 31
        },
        {
            "number": 2,
            "revision": "799eab791ae68fe0c955515391dd6506cd9488d4",
            "parents": [
                "2c9d50c59a66dc3fc1ce6761dd263ba49df303c7"
            ],
            "ref": "refs/changes/33/54533/2",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1655148645,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This test was disabled"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Right, I found there are test codes that are not enabled at all in the source tree. The list of patches I was doing is to enable them again."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Sorry, that should've said \"This test was disabled intentionally\""
                },
                {
                    "file": "src/kvm_websocket_test.cpp",
                    "line": 130,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "The old code was correct here.  The problem is that to run this test these days would require mocking out the kvm server, which we don't have a way to do yet, given that it's on a unix socket.  If you wanted to look into it, you could, but as-written, I'm not sure how this test would even work to verify behavior."
                },
                {
                    "file": "src/kvm_websocket_test.cpp",
                    "line": 130,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Oh, I might misunderstood this test. I thought it doesn't require the KVM socket port. \n\nOn my workstation, I am getting a connection error here https://github.com/openbmc/bmcweb/blob/002d39b4a7a5ed7166e2acad84e0943c3def9492/include/kvm_websocket.hpp#L30,\n\nbut the test here still works."
                },
                {
                    "file": "src/kvm_websocket_test.cpp",
                    "line": 130,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Done. Deleted the test."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "src/kvm_websocket_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 53,
                    "deletions": -31
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 81,
            "sizeDeletions": 31
        },
        {
            "number": 3,
            "revision": "56903d2ec5d71c4fda3aaf127ef220cff124f0c3",
            "parents": [
                "a85afbe1960b015865db775c3e0a53df2a769f44"
            ],
            "ref": "refs/changes/33/54533/3",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1655227283,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Test not used, very old.  Merging."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 21,
                    "deletions": 0
                },
                {
                    "file": "src/kvm_websocket_test.cpp",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -114
                }
            ],
            "sizeInsertions": 21,
            "sizeDeletions": 114
        },
        {
            "number": 4,
            "revision": "69d28257b0b8aef694e3239af893c0876c400e9a",
            "parents": [
                "c7a6d66054deb891a224aac5c4ae0e66ddeb6769"
            ],
            "ref": "refs/changes/33/54533/4",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1655236272,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 21,
                    "deletions": 0
                },
                {
                    "file": "src/kvm_websocket_test.cpp",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -114
                }
            ],
            "sizeInsertions": 21,
            "sizeDeletions": 114
        }
    ]
}