{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "I02e221f83c1e330fb57122c8daccbe180ec37a14",
    "number": 54534,
    "subject": "openbmc_dbus_rest_test: refactor tests",
    "owner": {
        "name": "Nan Zhou",
        "email": "nanzhoumails@gmail.com",
        "username": "FighterNan"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/54534",
    "commitMessage": "openbmc_dbus_rest_test: refactor tests\n\nThhis commit added namespace to unit tests and using declarations,\nwhich is a common practise to avoid duplicate namespaces in unit tests.\n\nIt can be shown that after this change, many namespace scoping codes\ndisappear.\n\nTested:\n1. Unit test passed.\n\nSigned-off-by: Nan Zhou <nanzhoumails@gmail.com>\nChange-Id: I02e221f83c1e330fb57122c8daccbe180ec37a14\n",
    "createdOn": 1655148503,
    "lastUpdated": 1655581011,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1655148503,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1655148546,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1655148546,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1655148563,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/44912/ : FAILURE"
        },
        {
            "timestamp": 1655148645,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 2: Patch Set 1 was rebased."
        },
        {
            "timestamp": 1655148670,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1655148670,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1655148827,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/44917/ : FAILURE"
        },
        {
            "timestamp": 1655149547,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1655150081,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1655150591,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1655150721,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1655160885,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1655161001,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1655165129,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1655165164,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1655165207,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1655165207,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1655165720,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/44947/ : SUCCESS"
        },
        {
            "timestamp": 1655493125,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1655495746,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 4: Patch Set 3 was rebased"
        },
        {
            "timestamp": 1655495829,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1655495829,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1655496345,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/45270/ : SUCCESS"
        },
        {
            "timestamp": 1655581005,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4: Code-Review+2"
        },
        {
            "timestamp": 1655581011,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully rebased and submitted as a9bb43b2f4ab8990055206e3364ccf979cf3e129"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "b11ec6a06578cfc5ea1184090609cb2149c62a3a",
            "parents": [
                "9a5a886fdf2cbd7deedf5515ea8a0336410d04b3"
            ],
            "ref": "refs/changes/34/54534/1",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1655148503,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "src/openbmc_jtag_rest_test.cpp",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -53
                },
                {
                    "file": "include/ut/openbmc_dbus_rest_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": -22
                }
            ],
            "sizeInsertions": 81,
            "sizeDeletions": 75
        },
        {
            "number": 2,
            "revision": "6e7f1605cedd3af8d72320e1b2935e021c3056b3",
            "parents": [
                "799eab791ae68fe0c955515391dd6506cd9488d4"
            ],
            "ref": "refs/changes/34/54534/2",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1655148645,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 14,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "if you have to start listing your changes, it would generally imply that they should've been in their own commits.  But, we're here now, so lets just roll with it.  I'd like you to put #1 put in its own patch, with an explanation of why it's needed, and why the current behavior is correct because it's changing behavior, and that's really hard to review in a patchset that's also moving the code its changing.\n\nThe namespace change, if you want to leave it in this commit, I can review it just fine, although it ideally would've been in a separate changeset.  Something to keep in mind for next time."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 14,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "It's no a huge effort to separate these changes. Will split them."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 14,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "\ud83d\udc4d"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 14,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Done.\n\nPlease see\n\nhttps://gerrit.openbmc.org/c/openbmc/bmcweb/+/54539/1\nhttps://gerrit.openbmc.org/c/openbmc/bmcweb/+/54540/1\nhttps://gerrit.openbmc.org/c/openbmc/bmcweb/+/54534"
                },
                {
                    "file": "src/openbmc_jtag_rest_test.cpp",
                    "line": 52,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "@mspinler.  Do you remember the history here?  This test case does look a little odd, but I'm not sure I remember what the arg splitting rules were."
                },
                {
                    "file": "src/openbmc_jtag_rest_test.cpp",
                    "line": 52,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "It might be just a typo. \n\n```\ni         {si}      b\n\ninteger    map      boolean\n```\n\nIn no case it will get \"aa{si}\" from \"i{si}b\""
                },
                {
                    "file": "src/openbmc_jtag_rest_test.cpp",
                    "line": 52,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Moved it to https://gerrit.openbmc.org/c/openbmc/bmcweb/+/54539.\n\nThis commit will be used for refactoring."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "src/openbmc_jtag_rest_test.cpp",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -53
                },
                {
                    "file": "include/ut/openbmc_dbus_rest_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": -22
                }
            ],
            "sizeInsertions": 81,
            "sizeDeletions": 75
        },
        {
            "number": 3,
            "revision": "f2169c10b93e2500118a32010e84fbb25ad9c99a",
            "parents": [
                "5faa4f6926331b39fe5fcf7b7497e298c12dd054"
            ],
            "ref": "refs/changes/34/54534/3",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1655165129,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "include/ut/openbmc_dbus_rest_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 48,
                    "deletions": -67
                }
            ],
            "sizeInsertions": 67,
            "sizeDeletions": 67
        },
        {
            "number": 4,
            "revision": "bdd78a1f00ecfbad64ded4aba66536980fc81dde",
            "parents": [
                "1a804ed446ec81b8722e981ac7a74cac2657cc17"
            ],
            "ref": "refs/changes/34/54534/4",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1655495746,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "include/ut/openbmc_dbus_rest_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 48,
                    "deletions": -62
                }
            ],
            "sizeInsertions": 67,
            "sizeDeletions": 62
        },
        {
            "number": 5,
            "revision": "a9bb43b2f4ab8990055206e3364ccf979cf3e129",
            "parents": [
                "df91ea73d193d7a0562f072043c44e1b843767d4"
            ],
            "ref": "refs/changes/34/54534/5",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1655581011,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "include/ut/openbmc_dbus_rest_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 48,
                    "deletions": -62
                }
            ],
            "sizeInsertions": 67,
            "sizeDeletions": 62
        }
    ]
}