{
    "project": "openbmc/telemetry",
    "branch": "master",
    "topic": "telemetry",
    "id": "I7e1990fb391da9debb0d7df2f1dbda86473350cc",
    "number": 51179,
    "subject": "made MetricValues persistent",
    "owner": {
        "name": "Krzysztof Grobelny",
        "email": "krzysztof.grobelny@intel.com",
        "username": "krzysztof-i"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/telemetry/+/51179",
    "commitMessage": "made MetricValues persistent\n\nMetricValues are persistent for reportUpdates AppendStopsWhenFull and\nreportingType different than OnRequest.\n\nTested:\n- New unit tests are passing\n- Confirmed MetricValues are preserved after restarting telemetry\n  service\n\nChange-Id: I7e1990fb391da9debb0d7df2f1dbda86473350cc\nSigned-off-by: Krzysztof Grobelny <krzysztof.grobelny@intel.com>\n",
    "createdOn": 1644833381,
    "lastUpdated": 1645721003,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1644833381,
            "reviewer": {
                "name": "Krzysztof Grobelny",
                "email": "krzysztof.grobelny@intel.com",
                "username": "krzysztof-i"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1644833395,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1644833395,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1644833822,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/37180/ : FAILURE"
        },
        {
            "timestamp": 1644837090,
            "reviewer": {
                "name": "Krzysztof Grobelny",
                "email": "krzysztof.grobelny@intel.com",
                "username": "krzysztof-i"
            },
            "message": "Patch Set 2: Patch Set 1 was rebased"
        },
        {
            "timestamp": 1644837101,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1644837101,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1644837610,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/37183/ : FAILURE"
        },
        {
            "timestamp": 1645014847,
            "reviewer": {
                "name": "Krzysztof Grobelny",
                "email": "krzysztof.grobelny@intel.com",
                "username": "krzysztof-i"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1645014858,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1645014859,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1645015601,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/37365/ : SUCCESS"
        },
        {
            "timestamp": 1645693835,
            "reviewer": {
                "name": "Szymon Dompke",
                "email": "szymon.dompke@intel.com",
                "username": "sdompke"
            },
            "message": "Patch Set 3: Code-Review+2\n\n(1 comment)"
        },
        {
            "timestamp": 1645721003,
            "reviewer": {
                "name": "Szymon Dompke",
                "email": "szymon.dompke@intel.com",
                "username": "sdompke"
            },
            "message": "Change has been successfully merged"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "e7b9c7f7e6a91a9b57fd55c15ae2c7968f02931e",
            "parents": [
                "e6d4887453f0b23b46c012da7cb26f2beb38ef0e"
            ],
            "ref": "refs/changes/79/51179/1",
            "uploader": {
                "name": "Krzysztof Grobelny",
                "email": "krzysztof.grobelny@intel.com",
                "username": "krzysztof-i"
            },
            "createdOn": 1644833381,
            "author": {
                "name": "Krzysztof Grobelny",
                "email": "krzysztof.grobelny@intel.com",
                "username": "krzysztof-i"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "tests/src/mocks/report_factory_mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -8
                },
                {
                    "file": "src/types/readings.hpp",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "src/report.cpp",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -10
                },
                {
                    "file": "src/utils/circular_vector.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -2
                },
                {
                    "file": "tests/src/test_report.cpp",
                    "type": "MODIFIED",
                    "insertions": 52,
                    "deletions": -9
                },
                {
                    "file": "src/report_factory.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -3
                },
                {
                    "file": "tests/src/params/report_params.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "src/types/report_types.hpp",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -4
                },
                {
                    "file": "src/report.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -3
                },
                {
                    "file": "src/report_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": -6
                },
                {
                    "file": "src/interfaces/report_factory.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/utils/tstring.hpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": 0
                },
                {
                    "file": "src/report_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -6
                },
                {
                    "file": "src/utils/labeled_tuple.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "tests/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "src/types/readings.cpp",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                },
                {
                    "file": "src/report_factory.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 279,
            "sizeDeletions": 53
        },
        {
            "number": 2,
            "revision": "485d56a4ed5fdb69a772ba6e06615c41872f6174",
            "parents": [
                "60fee077c544402f133230c4d3dc85ad0ada9381"
            ],
            "ref": "refs/changes/79/51179/2",
            "uploader": {
                "name": "Krzysztof Grobelny",
                "email": "krzysztof.grobelny@intel.com",
                "username": "krzysztof-i"
            },
            "createdOn": 1644837090,
            "author": {
                "name": "Krzysztof Grobelny",
                "email": "krzysztof.grobelny@intel.com",
                "username": "krzysztof-i"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "tests/src/mocks/report_factory_mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -8
                },
                {
                    "file": "src/types/readings.hpp",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "src/report.cpp",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -10
                },
                {
                    "file": "src/utils/circular_vector.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -2
                },
                {
                    "file": "tests/src/test_report.cpp",
                    "type": "MODIFIED",
                    "insertions": 52,
                    "deletions": -9
                },
                {
                    "file": "src/report_factory.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -3
                },
                {
                    "file": "tests/src/params/report_params.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "src/types/report_types.hpp",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -4
                },
                {
                    "file": "src/report.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -3
                },
                {
                    "file": "src/report_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": -6
                },
                {
                    "file": "src/interfaces/report_factory.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/utils/tstring.hpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": 0
                },
                {
                    "file": "src/report_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -6
                },
                {
                    "file": "src/utils/labeled_tuple.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "tests/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "src/types/readings.cpp",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                },
                {
                    "file": "src/report_factory.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 279,
            "sizeDeletions": 53
        },
        {
            "number": 3,
            "revision": "493e62eb2f2ff6cbf3282b9cb98ebe6e520b88fc",
            "parents": [
                "f7ea2997ae6b4fad0dc35f9afa9b488d774f2ee1"
            ],
            "ref": "refs/changes/79/51179/3",
            "uploader": {
                "name": "Krzysztof Grobelny",
                "email": "krzysztof.grobelny@intel.com",
                "username": "krzysztof-i"
            },
            "createdOn": 1645014847,
            "author": {
                "name": "Krzysztof Grobelny",
                "email": "krzysztof.grobelny@intel.com",
                "username": "krzysztof-i"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Szymon Dompke",
                        "email": "szymon.dompke@intel.com",
                        "username": "sdompke"
                    },
                    "message": "I like the optimization done for readings buffer object"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "tests/src/mocks/report_factory_mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -8
                },
                {
                    "file": "src/types/readings.hpp",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "src/report.cpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -10
                },
                {
                    "file": "src/utils/circular_vector.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -2
                },
                {
                    "file": "tests/src/test_report.cpp",
                    "type": "MODIFIED",
                    "insertions": 54,
                    "deletions": -15
                },
                {
                    "file": "src/report_factory.cpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -7
                },
                {
                    "file": "tests/src/params/report_params.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "src/types/report_types.hpp",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -4
                },
                {
                    "file": "src/report.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -3
                },
                {
                    "file": "src/report_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": -6
                },
                {
                    "file": "src/interfaces/report_factory.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/utils/tstring.hpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": 0
                },
                {
                    "file": "src/report_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -6
                },
                {
                    "file": "src/utils/labeled_tuple.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "tests/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "src/types/readings.cpp",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                },
                {
                    "file": "src/report_factory.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 276,
            "sizeDeletions": 63
        }
    ]
}