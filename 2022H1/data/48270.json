{
    "project": "openbmc/phosphor-state-manager",
    "branch": "master",
    "id": "I20e38e76c5b70119f0c86e5b497d47453d7c5a6c",
    "number": 48270,
    "subject": "Support checking host status via GPIO pins",
    "owner": {
        "email": "thuutran@amperecomputing.com",
        "username": "thangtran-ampere"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-state-manager/+/48270",
    "commitMessage": "Support checking host status via GPIO pins\n\nCurrently, openBmc supports checking host status via ipmi and PLDM\nmethod. However, not all of platforms support IPMI and PLDM. Some\nplatforms, like Ampere Mt.Jade checks input GPIO to detect Host\nfirmware boot status. This commit supports Dbus method to check host\nstatus via GPIO pins, it checks the value of \"host0-ready/-n\" pin to\ndetect HOST is ready or not.\n\nTested:\n\t1. Update GPIO pin to detect host0 ready to \"host0-ready\"\n           in the device tree.\n        2. Enable host-gpios option and add executable and service\n           files to openBmc software then flash to the board.\n        3. In the BMC console, check host-gpio-condition via command\n           \"busctl tree xyz.openbmc_project.State.HostCondition.Gpio\"\n           Result as below:\n           `-/xyz\n  \t      `-/xyz/openbmc_project\n    \t\t `-/xyz/openbmc_project/Gpios\n      \t\t    `-/xyz/openbmc_project/Gpios/host0\n        4. Turn on/off the HOST0 then check the host status via\n           command\n           \"busctl get-property \\\n           xyz.openbmc_project.State.HostCondition.Gpio \\\n           /xyz/openbmc_project/Gpios/host0 \\\n           xyz.openbmc_project.Condition.HostFirmware \\\n           CurrentFirmwareCondition\"\n           Result as below:\n           \"xyz.openbmc_project.Condition.HostFirmware.\\\n           FirmwareCondition.<Running/Off>\"\n\nSigned-off-by: Thang Tran <thuutran@amperecomputing.com>\nChange-Id: I20e38e76c5b70119f0c86e5b497d47453d7c5a6c\n",
    "createdOn": 1635245398,
    "lastUpdated": 1641396217,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1635245398,
            "reviewer": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1635245432,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1635245457,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/29034/ : FAILURE"
        },
        {
            "timestamp": 1635246123,
            "reviewer": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "message": "Patch Set 1:\n\nHi all,\n\nI just implemented new module host-condition to check host status via GPIO pins. Please help me review this commit.\n\nYou can find out more information in this discussion https://lore.kernel.org/all/F2B37256-0B6D-4F3F-9989-B5796C94994F@gmail.com/ and https://gerrit.openbmc-project.xyz/c/openbmc/docs/+/47662 \n\nThank,\nThang Tran"
        },
        {
            "timestamp": 1635247050,
            "reviewer": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1635247061,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1635247090,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/29036/ : FAILURE"
        },
        {
            "timestamp": 1635247373,
            "reviewer": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1635247386,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1635247411,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/29037/ : FAILURE"
        },
        {
            "timestamp": 1635247590,
            "reviewer": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1635247622,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1635247650,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/29038/ : FAILURE"
        },
        {
            "timestamp": 1635248187,
            "reviewer": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1635248201,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1635248222,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/29039/ : FAILURE"
        },
        {
            "timestamp": 1635253476,
            "reviewer": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1635253491,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1635253519,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/29048/ : FAILURE"
        },
        {
            "timestamp": 1635253729,
            "reviewer": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1635253741,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1635253876,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/29049/ : SUCCESS"
        },
        {
            "timestamp": 1635302859,
            "reviewer": {
                "name": "Thang Q. Nguyen",
                "email": "thang@os.amperecomputing.com",
                "username": "thangqn-ampere"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1635312141,
            "reviewer": {
                "name": "Milton D. Miller II",
                "email": "miltonm@us.ibm.com",
                "username": "mdmillerii"
            },
            "message": "Patch Set 7:\n\n(9 comments)"
        },
        {
            "timestamp": 1635368331,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "message": "Patch Set 7:\n\n(5 comments)"
        },
        {
            "timestamp": 1635369377,
            "reviewer": {
                "name": "Milton D. Miller II",
                "email": "miltonm@us.ibm.com",
                "username": "mdmillerii"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1635466154,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Removed reviewer Andrew Jeffery."
        },
        {
            "timestamp": 1635778951,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1635929189,
            "reviewer": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "message": "Uploaded patch set 8."
        },
        {
            "timestamp": 1635929200,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1635929329,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/29702/ : SUCCESS"
        },
        {
            "timestamp": 1635930412,
            "reviewer": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "message": "Patch Set 8:\n\n(12 comments)"
        },
        {
            "timestamp": 1635933447,
            "reviewer": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "message": "Patch Set 8:\n\n(3 comments)"
        },
        {
            "timestamp": 1636814159,
            "reviewer": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "message": "Patch Set 8:\n\nHi all, Do you have any comment about this commit?"
        },
        {
            "timestamp": 1638799271,
            "reviewer": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "message": "Patch Set 8:\n\nHi all, \n\nPlease take your time to help me review this commit again."
        },
        {
            "timestamp": 1638823180,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "message": "Patch Set 8:\n\nHi level this looks fine to me Thang. I'd just like to see the https://gerrit.openbmc-project.xyz/c/openbmc/docs/+/47662 doc make it through so we know these are the right gpio line names."
        },
        {
            "timestamp": 1639170609,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "message": "Patch Set 8:\n\n(2 comments)"
        },
        {
            "timestamp": 1639754688,
            "reviewer": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "message": "Uploaded patch set 9."
        },
        {
            "timestamp": 1639754702,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1639754835,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/32213/ : SUCCESS"
        },
        {
            "timestamp": 1639755018,
            "reviewer": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "message": "Patch Set 9:\n\n(2 comments)"
        },
        {
            "timestamp": 1641314000,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "message": "Patch Set 9: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1641354804,
            "reviewer": {
                "email": "thu@os.amperecomputing.com",
                "username": "ThuBaNguyen"
            },
            "message": "Patch Set 9: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1641367829,
            "reviewer": {
                "name": "Thang Q. Nguyen",
                "email": "thang@os.amperecomputing.com",
                "username": "thangqn-ampere"
            },
            "message": "Patch Set 9: Code-Review+1"
        },
        {
            "timestamp": 1641396196,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "message": "Patch Set 9: Code-Review+2"
        },
        {
            "timestamp": 1641396217,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "message": "Change has been successfully rebased and submitted as ba2241c636735fbc12a870a316b8b0d9a850557e"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "54e0875f13a17acf500f999b008a908f27719421",
            "parents": [
                "1e89e62283ea037823319244fc2de6c351c18538"
            ],
            "ref": "refs/changes/70/48270/1",
            "uploader": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "createdOn": 1635245398,
            "author": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "host_condition/host_condition.cpp",
                    "type": "ADDED",
                    "insertions": 54,
                    "deletions": 0
                },
                {
                    "file": "host_condition/meson.build",
                    "type": "ADDED",
                    "insertions": 35,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "host_check.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "host_condition/host_condition.hpp",
                    "type": "ADDED",
                    "insertions": 39,
                    "deletions": 0
                },
                {
                    "file": "host_condition/host_condition_main.cpp",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "host_condition/phosphor-host-condition.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 220,
            "sizeDeletions": 1
        },
        {
            "number": 2,
            "revision": "89de979dc4bff772ec589009606b004bbedab240",
            "parents": [
                "1e89e62283ea037823319244fc2de6c351c18538"
            ],
            "ref": "refs/changes/70/48270/2",
            "uploader": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "createdOn": 1635247050,
            "author": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "host_condition/host_condition.cpp",
                    "type": "ADDED",
                    "insertions": 54,
                    "deletions": 0
                },
                {
                    "file": "host_condition/meson.build",
                    "type": "ADDED",
                    "insertions": 35,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "host_check.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "host_condition/host_condition.hpp",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "host_condition/host_condition_main.cpp",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "host_condition/phosphor-host-condition.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 219,
            "sizeDeletions": 1
        },
        {
            "number": 3,
            "revision": "3c2f984bd9bf18b556c052d74dcef12259826cef",
            "parents": [
                "1e89e62283ea037823319244fc2de6c351c18538"
            ],
            "ref": "refs/changes/70/48270/3",
            "uploader": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "createdOn": 1635247373,
            "author": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "host_condition/host_condition.cpp",
                    "type": "ADDED",
                    "insertions": 53,
                    "deletions": 0
                },
                {
                    "file": "host_condition/meson.build",
                    "type": "ADDED",
                    "insertions": 35,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "host_check.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "host_condition/host_condition.hpp",
                    "type": "ADDED",
                    "insertions": 37,
                    "deletions": 0
                },
                {
                    "file": "host_condition/host_condition_main.cpp",
                    "type": "ADDED",
                    "insertions": 37,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "host_condition/phosphor-host-condition.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 216,
            "sizeDeletions": 1
        },
        {
            "number": 4,
            "revision": "f757e880449cf18e96c5bd35990de4b0915cbdb8",
            "parents": [
                "1e89e62283ea037823319244fc2de6c351c18538"
            ],
            "ref": "refs/changes/70/48270/4",
            "uploader": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "createdOn": 1635247590,
            "author": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "host_condition/host_condition.cpp",
                    "type": "ADDED",
                    "insertions": 53,
                    "deletions": 0
                },
                {
                    "file": "host_condition/meson.build",
                    "type": "ADDED",
                    "insertions": 35,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "host_check.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "host_condition/host_condition.hpp",
                    "type": "ADDED",
                    "insertions": 36,
                    "deletions": 0
                },
                {
                    "file": "host_condition/host_condition_main.cpp",
                    "type": "ADDED",
                    "insertions": 37,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "host_condition/phosphor-host-condition.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 215,
            "sizeDeletions": 1
        },
        {
            "number": 5,
            "revision": "9513ff351c2ac9b8db09e9af76aa73b204dac271",
            "parents": [
                "1e89e62283ea037823319244fc2de6c351c18538"
            ],
            "ref": "refs/changes/70/48270/5",
            "uploader": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "createdOn": 1635248187,
            "author": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "host_condition/host_condition.cpp",
                    "type": "ADDED",
                    "insertions": 53,
                    "deletions": 0
                },
                {
                    "file": "host_condition/meson.build",
                    "type": "ADDED",
                    "insertions": 35,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "host_check.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "host_condition/host_condition.hpp",
                    "type": "ADDED",
                    "insertions": 36,
                    "deletions": 0
                },
                {
                    "file": "host_condition/host_condition_main.cpp",
                    "type": "ADDED",
                    "insertions": 37,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "host_condition/phosphor-host-condition.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 215,
            "sizeDeletions": 1
        },
        {
            "number": 6,
            "revision": "07e38b7cb079b775a395b4bca8eafc84ae2fcb73",
            "parents": [
                "1e89e62283ea037823319244fc2de6c351c18538"
            ],
            "ref": "refs/changes/70/48270/6",
            "uploader": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "createdOn": 1635253476,
            "author": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "host_condition/host_condition.cpp",
                    "type": "ADDED",
                    "insertions": 53,
                    "deletions": 0
                },
                {
                    "file": "host_condition/meson.build",
                    "type": "ADDED",
                    "insertions": 35,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "host_check.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "host_condition/host_condition.hpp",
                    "type": "ADDED",
                    "insertions": 36,
                    "deletions": 0
                },
                {
                    "file": "host_condition/host_condition_main.cpp",
                    "type": "ADDED",
                    "insertions": 36,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "host_condition/phosphor-host-condition.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 214,
            "sizeDeletions": 1
        },
        {
            "number": 7,
            "revision": "8bda2f2e928821bc65b0926d90c648b3c58ef17c",
            "parents": [
                "1e89e62283ea037823319244fc2de6c351c18538"
            ],
            "ref": "refs/changes/70/48270/7",
            "uploader": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "createdOn": 1635253729,
            "author": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "host_check.cpp",
                    "line": 87,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "I read the whole file when seeing the diff comment.  Regardless of the change below this comment is becoming out of date.  In addition to documenting a hack.    \n\nI expect reading the gpio should be fast but could be an i2c transaction for a remote gpio.   \n\nStill faster than a round trip to the host.\n\nUpdate: Not so fast patch set 7 searches for the line 2-3 times per poll in addition to the request and release of the line."
                },
                {
                    "file": "host_check.cpp",
                    "line": 87,
                    "reviewer": {
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "In case of the firmware has more methods to verify the status of Host, I think it is better if BMC can call other methods if the previous method fails.\n\nBut I remove this change in this commit, I will move it to another one."
                },
                {
                    "file": "host_check.cpp",
                    "line": 119,
                    "reviewer": {
                        "name": "Thang Q. Nguyen",
                        "email": "thang@os.amperecomputing.com",
                        "username": "thangqn-ampere"
                    },
                    "message": "Why do we need this change?"
                },
                {
                    "file": "host_check.cpp",
                    "line": 119,
                    "reviewer": {
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "In case of the firmware has more methods to verify the status of Host, I think it is better if BMC can call other methods if the previous method fails.\n\nBut I remove this change in this commit, I will move it to another one."
                },
                {
                    "file": "host_condition/host_condition.cpp",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "I'd like to see these under a host_condition_gpio/ directory to make it clear they are an implementation of the host-condition utilizing a GPIO."
                },
                {
                    "file": "host_condition/host_condition.cpp",
                    "line": 0,
                    "reviewer": {
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "I updated the name of direction to host_condition_gpio"
                },
                {
                    "file": "host_condition/host_condition.cpp",
                    "line": 22,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "So this code calls find line then throw it away and then call it again?\n\nFind ends up enumerating each gpio controller asking for the name of every gpio then checking for a match.\n\nInstead assign the result of find to the auto lineName"
                },
                {
                    "file": "host_condition/host_condition.cpp",
                    "line": 22,
                    "reviewer": {
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "I moved the finding gpio name to the constructor function. So this task shall be executed only 1 time."
                },
                {
                    "file": "host_condition/host_condition.cpp",
                    "line": 26,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "If lineName false do the += \"-n\" and assign is active high, and assign result to new find"
                },
                {
                    "file": "host_condition/host_condition.cpp",
                    "line": 26,
                    "reviewer": {
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "I moved the finding gpio name to the constructor function. So this task shall be executed only 1 time."
                },
                {
                    "file": "host_condition/host_condition.cpp",
                    "line": 31,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "I'm okay with the request every time, but is there a reason to repeatedly search for the line each time?   Only if we expect to hotplug the gpio controller (which I suppose could be an i2c gpio but we could restart when that happens).  \n\nInstead I'd suggest the find should be done in the class startup and there's no reason to register if no gpio is found vs always returning unknown but since it's a configurable package that might look for more than one in the future I won't insist on this."
                },
                {
                    "file": "host_condition/host_condition.cpp",
                    "line": 31,
                    "reviewer": {
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "I moved the finding gpio name to the constructor function. So this task shall be executed only 1 time."
                },
                {
                    "file": "host_condition/host_condition.cpp",
                    "line": 36,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "Just if lineName"
                },
                {
                    "file": "host_condition/host_condition.cpp",
                    "line": 36,
                    "reviewer": {
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "I updated this point to if (!lineName.empty())"
                },
                {
                    "file": "host_condition/host_condition.cpp",
                    "line": 48,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "Is this the right value for the gpio request failing?\n\nI'll note the other user just checks against running which is the conservative correct response here."
                },
                {
                    "file": "host_condition/host_condition.cpp",
                    "line": 48,
                    "reviewer": {
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "I add try-catch to cover the reading gpio pin fails."
                },
                {
                    "file": "host_condition/host_condition_main.cpp",
                    "line": 18,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "Unless there's a good reason, I'd prefer we stay consistent in phosphor-state-manager and utilize auto bus = sdbusplus::bus::new_default(); (i.e. https://github.com/openbmc/phosphor-state-manager/blob/master/host_state_manager_main.cpp)"
                },
                {
                    "file": "host_condition/host_condition_main.cpp",
                    "line": 18,
                    "reviewer": {
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "I updated it to sdbusplus::bus::new_default()"
                },
                {
                    "file": "host_condition/meson.build",
                    "line": 7,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "The package dir is host condition as is the c source.   But the executable and service are phosphor host condition.   I didn't bother to figure out which meson package name evaluates."
                },
                {
                    "file": "host_condition/meson.build",
                    "line": 7,
                    "reviewer": {
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "I removed those redundant code"
                },
                {
                    "file": "host_condition/meson.build",
                    "line": 17,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "phosphor-host-condition-gpio"
                },
                {
                    "file": "host_condition/meson.build",
                    "line": 17,
                    "reviewer": {
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "I updated it to phosphor-host-condition-gpio"
                },
                {
                    "file": "host_condition/phosphor-host-condition.service",
                    "line": 7,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "This is hosting a D-Bus interface so lets make it a d-bus service:\nType=dbus\nBusName=xyz.openbmc_project.State.HostCondition.Gpio (?)"
                },
                {
                    "file": "host_condition/phosphor-host-condition.service",
                    "line": 7,
                    "reviewer": {
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "I added your suggestion to .service file"
                },
                {
                    "file": "meson_options.txt",
                    "line": 97,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "Whitespace change confirm?"
                },
                {
                    "file": "meson_options.txt",
                    "line": 97,
                    "reviewer": {
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "I added the new line to the end of this file"
                },
                {
                    "file": "meson_options.txt",
                    "line": 98,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "Lets put a default in here. Be nice to default to enabled for CI purposes but then people already using this repo would have to add a disable. Hmm, guess we'll have to default to disabled."
                },
                {
                    "file": "meson_options.txt",
                    "line": 98,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "Should we create a ci config default for ci testing?"
                },
                {
                    "file": "meson_options.txt",
                    "line": 98,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "Yeah, I think there's general agreement that we'd like to have this for CI, but no one has done the leg work yet to get something consistent like that rolling within CI. I think this would be nice to have but outside the scope of this specific commit."
                },
                {
                    "file": "meson_options.txt",
                    "line": 98,
                    "reviewer": {
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "I added the default value \"disabled\" of this option"
                },
                {
                    "file": "meson_options.txt",
                    "line": 110,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "Missing new line at end of file"
                },
                {
                    "file": "meson_options.txt",
                    "line": 110,
                    "reviewer": {
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "I added the new line to the end of this file"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "host_condition/host_condition.cpp",
                    "type": "ADDED",
                    "insertions": 54,
                    "deletions": 0
                },
                {
                    "file": "host_condition/meson.build",
                    "type": "ADDED",
                    "insertions": 35,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "host_check.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "host_condition/host_condition.hpp",
                    "type": "ADDED",
                    "insertions": 36,
                    "deletions": 0
                },
                {
                    "file": "host_condition/host_condition_main.cpp",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "host_condition/phosphor-host-condition.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 217,
            "sizeDeletions": 1
        },
        {
            "number": 8,
            "revision": "46870bba482d1a0ee4d3179af18d9695b2355fb0",
            "parents": [
                "1e89e62283ea037823319244fc2de6c351c18538"
            ],
            "ref": "refs/changes/70/48270/8",
            "uploader": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "createdOn": 1635929189,
            "author": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "Please include a \"Tested\" statement documenting what you've tested."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "I added the \"Tested\" to this commit. Please review this one"
                },
                {
                    "file": "host_condition_gpio/host_condition.cpp",
                    "line": 21,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "Should we pass the instance in as a parameter? phosphor-state-manager is designed to be instance based (bmc,chassis,host) but it's never really supported more then a single instance. I'm ok either way."
                },
                {
                    "file": "host_condition_gpio/host_condition.cpp",
                    "line": 21,
                    "reviewer": {
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "I updated the source code to help users can pass the parameter which indicates host ID. \nPlease review it again."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "host_condition_gpio/host_condition_main.cpp",
                    "type": "ADDED",
                    "insertions": 34,
                    "deletions": 0
                },
                {
                    "file": "host_condition_gpio/host_condition.hpp",
                    "type": "ADDED",
                    "insertions": 46,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "host_condition_gpio/host_condition.cpp",
                    "type": "ADDED",
                    "insertions": 68,
                    "deletions": 0
                },
                {
                    "file": "host_condition_gpio/meson.build",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                },
                {
                    "file": "host_condition_gpio/phosphor-host-condition-gpio.service",
                    "type": "ADDED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 232,
            "sizeDeletions": 0
        },
        {
            "number": 9,
            "revision": "52dabaaa3669979d4a866024ad6aafa19c8bdc28",
            "parents": [
                "1e89e62283ea037823319244fc2de6c351c18538"
            ],
            "ref": "refs/changes/70/48270/9",
            "uploader": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "createdOn": 1639754688,
            "author": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "Looks good to me Thang, is there anyone else from you company that could weigh in with a +1 before we merge?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "email": "thu@os.amperecomputing.com",
                        "username": "ThuBaNguyen"
                    },
                    "message": "The commit is good. Verify with my system."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 40,
                    "deletions": 0
                },
                {
                    "file": "host_condition_gpio/host_condition_main.cpp",
                    "type": "ADDED",
                    "insertions": 45,
                    "deletions": 0
                },
                {
                    "file": "host_condition_gpio/host_condition.hpp",
                    "type": "ADDED",
                    "insertions": 48,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "host_condition_gpio/host_condition.cpp",
                    "type": "ADDED",
                    "insertions": 72,
                    "deletions": 0
                },
                {
                    "file": "host_condition_gpio/meson.build",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "host_condition_gpio/phosphor-host-condition-gpio@.service",
                    "type": "ADDED",
                    "insertions": 11,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 272,
            "sizeDeletions": 0
        },
        {
            "number": 10,
            "revision": "ba2241c636735fbc12a870a316b8b0d9a850557e",
            "parents": [
                "68a8c31d820718588a583625e88ba2626ef64526"
            ],
            "ref": "refs/changes/70/48270/10",
            "uploader": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "createdOn": 1641396217,
            "author": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 40,
                    "deletions": 0
                },
                {
                    "file": "host_condition_gpio/host_condition_main.cpp",
                    "type": "ADDED",
                    "insertions": 45,
                    "deletions": 0
                },
                {
                    "file": "host_condition_gpio/host_condition.hpp",
                    "type": "ADDED",
                    "insertions": 48,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "host_condition_gpio/host_condition.cpp",
                    "type": "ADDED",
                    "insertions": 72,
                    "deletions": 0
                },
                {
                    "file": "host_condition_gpio/meson.build",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "host_condition_gpio/phosphor-host-condition-gpio@.service",
                    "type": "ADDED",
                    "insertions": 11,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 272,
            "sizeDeletions": 0
        }
    ]
}