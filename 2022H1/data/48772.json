{
    "project": "openbmc/phosphor-fan-presence",
    "branch": "master",
    "id": "I1f10f37f46905572bbb80420d77dcd67c4e88abc",
    "number": 48772,
    "subject": "control: p10bmc: pcie_cards.json template files",
    "owner": {
        "name": "Matt Spinler",
        "email": "spinler@us.ibm.com",
        "username": "spinler"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-fan-presence/+/48772",
    "commitMessage": "control: p10bmc: pcie_cards.json template files\n\nAdd initial pcie_cards.json files for Rainier and Everest.  These will\nbe used by the pcie_card_floors action to set fan floors based on which\nPCIe cards are present.\n\nThese are real cards found in a Rainier system, though I don't know the\nreal names for them.\n\nSigned-off-by: Matt Spinler <spinler@us.ibm.com>\nChange-Id: I1f10f37f46905572bbb80420d77dcd67c4e88abc\n",
    "createdOn": 1636584071,
    "lastUpdated": 1641485251,
    "open": false,
    "status": "ABANDONED",
    "comments": [
        {
            "timestamp": 1636584071,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1636584096,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1636584204,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/30104/ : SUCCESS"
        },
        {
            "timestamp": 1637617121,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "barton17pb@gmail.com",
                "username": "msbarth"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1638203619,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1638220007,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1638220034,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638220039,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1638220069,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/30870/ : FAILURE"
        },
        {
            "timestamp": 1638220170,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 3: Patch Set 2 was rebased."
        },
        {
            "timestamp": 1638220187,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638220290,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/30876/ : SUCCESS"
        },
        {
            "timestamp": 1638313394,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "barton17pb@gmail.com",
                "username": "msbarth"
            },
            "message": "Patch Set 3: Code-Review+2\n\n(1 comment)"
        },
        {
            "timestamp": 1638375660,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 4: Patch Set 3 was rebased."
        },
        {
            "timestamp": 1638375691,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638375794,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/30992/ : SUCCESS"
        },
        {
            "timestamp": 1638993814,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Uploaded patch set 5: Patch Set 4 was rebased."
        },
        {
            "timestamp": 1638993838,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1638993945,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/31584/ : SUCCESS"
        },
        {
            "timestamp": 1641336334,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 5: Code-Review-1\n\n(1 comment)"
        },
        {
            "timestamp": 1641485251,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Abandoned\n\nGot an official card list for a single system, so will just use a commit to support that 1 system for now"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "be1da0283dbf591e839f7da0f9d88f9f66761cb5",
            "parents": [
                "b51208cd12fbf5ec9e8da740f5eef07548f993e6"
            ],
            "ref": "refs/changes/72/48772/1",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1636584071,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "barton17pb@gmail.com",
                        "username": "msbarth"
                    },
                    "message": "These files look to be identical?\n\nCould place a single pcie_cards.json file at `config_files/p10bmc/` and it'll be installed to the default /usr/share/phopshor-fan-presence/control/ location. If wanted to support a single pcie_cards.json file for all p10bmc machines, this would simplify adding cards and let the events' action config deal with which cards are found within a machine."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "In a meeting a while ago, the system owners said they didn't want to share anything since there is no reason to think they would have the same floor index values."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "barton17pb@gmail.com",
                        "username": "msbarth"
                    },
                    "message": "Ack"
                },
                {
                    "file": "control/config_files/p10bmc/ibm,everest/pcie_cards.json",
                    "line": 5,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "barton17pb@gmail.com",
                        "username": "msbarth"
                    },
                    "message": "Make this be \"name\"?\n\nThen additional comments can be added using `//` or `/* */` when parsing the JSON with nlohmann using:\n```\n// Enable ignoring `//` or `/* */` comments\njsonConf = nlohmann::json::parse(file, nullptr, true, true);\n```"
                },
                {
                    "file": "control/config_files/p10bmc/ibm,everest/pcie_cards.json",
                    "line": 5,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Yea, agreed, I was going to do that and then forgot apparently.\n\nIn general I'm not a huge fan of comments in JSON because it breaks my editor highlighting and isn't supported by jq (or python-json) so I can't use that to validate the JSON.  jsonlint supports them with -S, but that also then turns off checks for missing commas and such. I guess I could write a standalone c++ app that uses nlohmann, but that is extra work."
                },
                {
                    "file": "control/config_files/p10bmc/ibm,everest/pcie_cards.json",
                    "line": 5,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "control/config_files/p10bmc/ibm,rainier/pcie_cards.json",
                    "type": "ADDED",
                    "insertions": 53,
                    "deletions": 0
                },
                {
                    "file": "control/config_files/p10bmc/ibm,everest/pcie_cards.json",
                    "type": "ADDED",
                    "insertions": 53,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 123,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "ca782954615001c60892f8c52c2e43f80dde6dd5",
            "parents": [
                "531cf7074c88da09076216000fac9b50c6a2068a"
            ],
            "ref": "refs/changes/72/48772/2",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1638220007,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "control/config_files/p10bmc/ibm,rainier/pcie_cards.json",
                    "type": "ADDED",
                    "insertions": 53,
                    "deletions": 0
                },
                {
                    "file": "control/config_files/p10bmc/ibm,everest/pcie_cards.json",
                    "type": "ADDED",
                    "insertions": 53,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 123,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "8cac3738c67933e8b1608a36079e07fe0573ee1b",
            "parents": [
                "b70bbdcc8cf4d1d04f191370d3f4f20d8e5ee4e4"
            ],
            "ref": "refs/changes/72/48772/3",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1638220170,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "control/config_files/p10bmc/ibm,rainier/pcie_cards.json",
                    "type": "ADDED",
                    "insertions": 53,
                    "deletions": 0
                },
                {
                    "file": "control/config_files/p10bmc/ibm,everest/pcie_cards.json",
                    "type": "ADDED",
                    "insertions": 53,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 123,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "a79119205d0a4db82339f6fc2308da2082e37e93",
            "parents": [
                "b9c143031e9a171f87e6b0579eca18359bbb2b19"
            ],
            "ref": "refs/changes/72/48772/4",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1638375660,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "control/config_files/p10bmc/ibm,rainier/pcie_cards.json",
                    "type": "ADDED",
                    "insertions": 53,
                    "deletions": 0
                },
                {
                    "file": "control/config_files/p10bmc/ibm,everest/pcie_cards.json",
                    "type": "ADDED",
                    "insertions": 53,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 123,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "0dd22258ff707a2e5089ba39c0883157f4c29611",
            "parents": [
                "0847675305f4bdecf0e4aca323c00ec28eab2018"
            ],
            "ref": "refs/changes/72/48772/5",
            "uploader": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "createdOn": 1638993814,
            "author": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Now that we got a real PCIe card list for the Rainier 2U, I'm not sure if we need this one."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "control/config_files/p10bmc/ibm,rainier/pcie_cards.json",
                    "type": "ADDED",
                    "insertions": 53,
                    "deletions": 0
                },
                {
                    "file": "control/config_files/p10bmc/ibm,everest/pcie_cards.json",
                    "type": "ADDED",
                    "insertions": 53,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 123,
            "sizeDeletions": 0
        }
    ]
}