{
    "project": "openbmc/openbmc",
    "branch": "master",
    "id": "I872088f17d292af2d190da00fcb06bde3834dc90",
    "number": 54073,
    "subject": "meta-phosphor: Add `dynamic-sensors` support for MACHINE_FEATURES",
    "owner": {
        "name": "Willy Tu",
        "email": "wltu@google.com",
        "username": "wltu"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/openbmc/+/54073",
    "commitMessage": "meta-phosphor: Add `dynamic-sensors` support for MACHINE_FEATURES\n\nUsing `MACHINE_FEATURES:append = \" dynamic-sensors` will do the\nfollowing,\n1, enable dynamic sensors for phosphor-ipmi-host\n2, remove the phosphor-ipmi-fru as part of\n  VIRTUAL-RUNTIME_phosphor-ipmi-providers\n3. Include dynamic-sensors-whitelist to ipmi_whitelists\n\nUpdate meta-ampere/meta-jade to use the feature.\n\nChange-Id: I872088f17d292af2d190da00fcb06bde3834dc90\nSigned-off-by: Willy Tu <wltu@google.com>\n",
    "createdOn": 1653626659,
    "lastUpdated": 1655900983,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1653626659,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1653694148,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 1: Code-Review+1"
        },
        {
            "timestamp": 1653694431,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1653728126,
            "reviewer": {
                "name": "Thang Q. Nguyen",
                "email": "thang@os.amperecomputing.com",
                "username": "thangqn-ampere"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1653965917,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1653969556,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1653970543,
            "reviewer": {
                "name": "Thang Q. Nguyen",
                "email": "thang@os.amperecomputing.com",
                "username": "thangqn-ampere"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1654005811,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(5 comments)"
        },
        {
            "timestamp": 1654496104,
            "reviewer": {
                "name": "Thang Q. Nguyen",
                "email": "thang@os.amperecomputing.com",
                "username": "thangqn-ampere"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1654496179,
            "reviewer": {
                "name": "Thang Q. Nguyen",
                "email": "thang@os.amperecomputing.com",
                "username": "thangqn-ampere"
            },
            "message": "Patch Set 1: Code-Review+1"
        },
        {
            "timestamp": 1654549654,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1654549673,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 1:\n\n(7 comments)"
        },
        {
            "timestamp": 1654549719,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1654549720,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1654549727,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/11197/"
        },
        {
            "timestamp": 1654550287,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/11197/ : FAILURE"
        },
        {
            "timestamp": 1654564616,
            "reviewer": {
                "name": "Josh Lehan",
                "email": "krellan@google.com",
                "username": "Krellan"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1654568074,
            "reviewer": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1654568707,
            "reviewer": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1654611766,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 3: Published edit on patch set 2."
        },
        {
            "timestamp": 1654611770,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 3:\n\n(3 comments)"
        },
        {
            "timestamp": 1654611774,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 4: Patch Set 3 was rebased"
        },
        {
            "timestamp": 1654611807,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1654611807,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1654611816,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/11212/"
        },
        {
            "timestamp": 1654611820,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1654611821,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1654611821,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/11212/ : ABORTED"
        },
        {
            "timestamp": 1654611826,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/11213/"
        },
        {
            "timestamp": 1654612360,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/11213/ : FAILURE"
        },
        {
            "timestamp": 1654655551,
            "reviewer": {
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1654672416,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Verified\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/11222/"
        },
        {
            "timestamp": 1654672631,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1654672951,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/11222/ : FAILURE"
        },
        {
            "timestamp": 1654788356,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 5: Patch Set 4 was rebased"
        },
        {
            "timestamp": 1654788418,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1654788418,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1654788426,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/11243/"
        },
        {
            "timestamp": 1654789018,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/11243/ : FAILURE"
        },
        {
            "timestamp": 1654806390,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1655900983,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "d1bd3b41bcb12399687122fbb4a111056878610e",
            "parents": [
                "5a8202c3b37a2187f2521e494875f0db133f31b5"
            ],
            "ref": "refs/changes/73/54073/1",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1653626659,
            "author": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Thang Q. Nguyen",
                        "email": "thang@os.amperecomputing.com",
                        "username": "thangqn-ampere"
                    },
                    "message": "Hi @thangtran-ampere,\nPlease help check if we need to do anything on top of this. Currently I can't run 'ipmitool sdr list' and 'ipmitool fru print'"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "Thanks for testing it out. Let me double check to see what I missed. It was working for gBMC (internal meta-layer)."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Thang Q. Nguyen",
                        "email": "thang@os.amperecomputing.com",
                        "username": "thangqn-ampere"
                    },
                    "message": "Thanks. You can also go ahead and we can check and update in meta-ampere"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Thang Q. Nguyen",
                        "email": "thang@os.amperecomputing.com",
                        "username": "thangqn-ampere"
                    },
                    "message": "I am sorry. It's my mistake. Not sure any reason that the FRU EEPROM in my system is cleared so no FRU output. After rewriting the FRU EEPROM, can have FRU print output:\n\nroot@mtjade:~# ipmitool fru print 0\n Chassis Type          : Rack Mount Chassis\n Chassis Part Number   : B60.03008.0003\n Chassis Serial        : 03900033N0SC\n Chassis Extra         : SKUC-A000-0000000000123\n Board Mfg Date        : Fri Oct  1 18:40:00 2010 UTC\n Board Mfg             : WIWYNN\n Board Product         : Mt.Jade Motherboard\n Board Serial          : B810301000250090004EJ0LA\n Board Part Number     : B81.03010.0025\n Board Extra           : e2:c4:f7:64:0d:67\n Product Manufacturer  : WIWYNN\n Product Name          : Mt.Jade Server System\n Product Part Number   : XXX.XXXXX.XXXX\n Product Version       : EVT2\n Product Serial        : AMPX3A1-A000-0000000000123\n Product Asset Tag     : APMX3A1-A00016"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "so..., its working fine for you guys?"
                },
                {
                    "file": "meta-phosphor/conf/distro/include/phosphor-defaults.inc",
                    "line": 226,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Isn't 'contains' sufficient?  I had to look up the difference because we so rarely use 'contains_any'."
                },
                {
                    "file": "meta-phosphor/conf/distro/include/phosphor-defaults.inc",
                    "line": 226,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "oh yeah, If there are more than one element, then contains_any will act differently."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/dynamic-sensors-whitelist-native.bb",
                    "line": 1,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "There is a preference to avoid this term whenever possible.  Since you're building on something existing maybe this is fine to add a new one."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/dynamic-sensors-whitelist-native.bb",
                    "line": 1,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "removed. Yeah, some work is in progress to remove it for `phosphor-ipmi-host`. I'll just change the text for now."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/dynamic-sensors-whitelist-native.bb",
                    "line": 2,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Not sure what gBMC has to do with this."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/dynamic-sensors-whitelist-native.bb",
                    "line": 2,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "oops. I copied it from gBMC downstream change.\n\nremoved."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/dynamic-sensors-whitelist/dynamic-sensors-whitelist-native.conf",
                    "line": 3,
                    "reviewer": {
                        "name": "Thang Q. Nguyen",
                        "email": "thang@os.amperecomputing.com",
                        "username": "thangqn-ampere"
                    },
                    "message": "How can we use this file? If I want to have some commands in dynamic-sensors, can I update this file for this purpose?"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/dynamic-sensors-whitelist/dynamic-sensors-whitelist-native.conf",
                    "line": 3,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "Yeah, if there is a common / new command , then we can just update this file.\n\nI am not sure how often we will add new allowed command that's not already avaliable."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-host_git.bb",
                    "line": 18,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "prefer 'contains'?"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-host_git.bb",
                    "line": 18,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "Done"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-host_git.bb",
                    "line": 27,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "at some point we will want to migrate from whitelist to allowlist but definitely doesn't have to be in this change since that's a much bigger effort (probably)"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-host_git.bb",
                    "line": 27,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "Started the effort in https://gerrit.openbmc.org/c/openbmc/phosphor-host-ipmid/+/54111"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-host_git.bb",
                    "line": 44,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "prefer 'contains'?"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-host_git.bb",
                    "line": 44,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "meta-ampere/meta-common/recipes-phosphor/ipmi/phosphor-ipmi-fru_%.bbappend",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -9
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/dynamic-sensors-whitelist/dynamic-sensors-whitelist-native.conf",
                    "type": "ADDED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-host_git.bb",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -1
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/dynamic-sensors-whitelist-native.bb",
                    "type": "ADDED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "meta-ampere/meta-jade/conf/machine/mtjade.conf",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/conf/distro/include/phosphor-defaults.inc",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 42,
            "sizeDeletions": 11
        },
        {
            "number": 2,
            "revision": "5313d835118a4feeb15f15da8ae8ac1b56901f37",
            "parents": [
                "6d009ba2ca4804a6553225eaa1b9afaff4c6e43d"
            ],
            "ref": "refs/changes/73/54073/2",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1654549654,
            "author": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Josh Lehan",
                        "email": "krellan@google.com",
                        "username": "Krellan"
                    },
                    "message": "LGTM - the CBTRM failure is an internal error unrelated to this patch content\n\n"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/dynamic-sensors-whitelist/dynamic-sensors-whitelist-native.conf",
                    "line": 2,
                    "reviewer": {
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "Why do we need this line of code? I think this command has been implemented by dynamic-sensor?"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/dynamic-sensors-whitelist/dynamic-sensors-whitelist-native.conf",
                    "line": 2,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "The command is blocked without this line. I think you will hit permission issue if you try to run this command without this line. (at least that was the intent, but it seems like it worked even without it.). Um... not sure then."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/dynamic-sensors-whitelist/dynamic-sensors-whitelist-native.conf",
                    "line": 2,
                    "reviewer": {
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "In the current version, I can request to write new FRU data without permission issue. Can you verify this command?"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/dynamic-sensors-whitelist/dynamic-sensors-whitelist-native.conf",
                    "line": 2,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "oh wait, I think that's because you are using https://github.com/openbmc/openbmc/blob/master/meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-fru-whitelist/phosphor-ipmi-fru-whitelist-native.conf. This is included by default with ipmi-fru-parser. I have removed it since the dbus-sdr have their own implementation of writing the FRU and also need a new allow list since we removed the other one.\n\nThey have the same content (for now).\n\nSo yeah, that's why it worked before. The Allowlist also exist to allow the command."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-host_git.bb",
                    "line": 45,
                    "reviewer": {
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "It seems that we have 2 methods to enable dynamic-sensor library: update PACKAGECONFIG or MACHINE_FEATURES. Is it right? If my understanding is correct, if I update MACHINE_FEATURES, Can we remove 2 lines of code https://github.com/openbmc/openbmc/blob/master/meta-ampere/meta-common/recipes-phosphor/ipmi/phosphor-ipmi-host_%25.bbappend#L6?"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-host_git.bb",
                    "line": 45,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "Adding `MACHINE_FEATURES` will update the `PACKAGECONFIG` + other required stuff.\n\nJust updating `PACKAGECONFIG` will miss some dependencies like removing ipmi-fru-parser and others.\n\nPrefer just updating `MACHINE_FEATURES` for the default behavior. I have removed the lines. Thanks."
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-host_git.bb",
                    "line": 111,
                    "reviewer": {
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "Do you need to update this one?\nHOSTIPMI_PROVIDER_LIBRARY += ' ${@bb.utils.contains(\"MACHINE_FEATURES\", \\\n  \"dynamic-sensors\", \"libdynamiccmds.so\", \"\", d)}'"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-host_git.bb",
                    "line": 111,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "meta-ampere/meta-common/recipes-phosphor/ipmi/phosphor-ipmi-fru_%.bbappend",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -9
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/dynamic-sensors-whitelist/dynamic-sensors-whitelist-native.conf",
                    "type": "ADDED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-host_git.bb",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -1
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/dynamic-sensors-whitelist-native.bb",
                    "type": "ADDED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "meta-ampere/meta-jade/conf/machine/mtjade.conf",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/conf/distro/include/phosphor-defaults.inc",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 42,
            "sizeDeletions": 11
        },
        {
            "number": 3,
            "revision": "bd4dcf11a5d7370d2dc1b52a7c1f0292bca05b24",
            "parents": [
                "6d009ba2ca4804a6553225eaa1b9afaff4c6e43d"
            ],
            "ref": "refs/changes/73/54073/3",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1654611766,
            "author": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "meta-ampere/meta-common/recipes-phosphor/ipmi/phosphor-ipmi-fru_%.bbappend",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -9
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/dynamic-sensors-whitelist/dynamic-sensors-whitelist-native.conf",
                    "type": "ADDED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-host_git.bb",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -1
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/dynamic-sensors-whitelist-native.bb",
                    "type": "ADDED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "meta-ampere/meta-common/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -3
                },
                {
                    "file": "meta-ampere/meta-jade/conf/machine/mtjade.conf",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/conf/distro/include/phosphor-defaults.inc",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 44,
            "sizeDeletions": 14
        },
        {
            "number": 4,
            "revision": "6db74ff5a15767fd5d7bfcba9dd692fbf034ca62",
            "parents": [
                "feb049ca50d14f82c784611fbabd0d2a774cbc0c"
            ],
            "ref": "refs/changes/73/54073/4",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1654611774,
            "author": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "meta-ampere/meta-common/recipes-phosphor/ipmi/phosphor-ipmi-fru_%.bbappend",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -9
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/dynamic-sensors-whitelist/dynamic-sensors-whitelist-native.conf",
                    "type": "ADDED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-host_git.bb",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -1
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/dynamic-sensors-whitelist-native.bb",
                    "type": "ADDED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "meta-ampere/meta-common/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -3
                },
                {
                    "file": "meta-ampere/meta-jade/conf/machine/mtjade.conf",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/conf/distro/include/phosphor-defaults.inc",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 44,
            "sizeDeletions": 14
        },
        {
            "number": 5,
            "revision": "afdf0723a536bbaa7d827ae7be77ac6502bad5a9",
            "parents": [
                "ccabc569f5899abf3878d8816e78db20faacc5c8"
            ],
            "ref": "refs/changes/73/54073/5",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1654788356,
            "author": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-host_git.bb",
                    "line": 46,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Might make sense to base this off of PACKAGECONFIG instead of MACHINE_FEATURES.\n\nAlso, should we be adding it to the NETIPMI providers too?"
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-host_git.bb",
                    "line": 46,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Agree.  It is good you added 44 to automatically enable the package config, but I think you should base everything else in this recipe on the PACAKGECONFIG.  Probably update line 18 also.  You might need to reshuffle some code based on evaluation order."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "meta-ampere/meta-common/recipes-phosphor/ipmi/phosphor-ipmi-fru_%.bbappend",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -9
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/dynamic-sensors-whitelist/dynamic-sensors-whitelist-native.conf",
                    "type": "ADDED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-host_git.bb",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -1
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/dynamic-sensors-whitelist-native.bb",
                    "type": "ADDED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "meta-ampere/meta-common/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -3
                },
                {
                    "file": "meta-ampere/meta-jade/conf/machine/mtjade.conf",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/conf/distro/include/phosphor-defaults.inc",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 44,
            "sizeDeletions": 14
        }
    ]
}