{
    "project": "openbmc/phosphor-power",
    "branch": "master",
    "id": "I7cf4d13e632841e0b19b52af0d9eac886eb161ce",
    "number": 52198,
    "subject": "psu-ng: Implement the PowerSystemInputs interface",
    "owner": {
        "name": "Adriana Kobylak",
        "email": "anoo@linux.ibm.com",
        "username": "anoo1"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-power/+/52198",
    "commitMessage": "psu-ng: Implement the PowerSystemInputs interface\n\nImplement the PowerSystemInputs interface which contains the status of\nthe power inputs to the chassis. The psu monitor app will use the status\nproperty to communicate if a brownout condition exists.\nImplement this interface under a /chassis0 path to specify it applies to\nthe current chassis. This can later be enhanced to support a\nmulti-chassis configuration.\n\nTested: The status property exists and it's set to default value Good:\nroot@p10bmc:~# busctl get-property xyz.openbmc_project.Power.PSUMonitor\\\n    /xyz/openbmc_project/power/power_supplies/chassis0/psus\\\n    xyz.openbmc_project.State.Decorator.PowerSystemInputs Status\ns \"xyz.openbmc_project.State.Decorator.PowerSystemInputs.Status.Good\"\n\nChange-Id: I7cf4d13e632841e0b19b52af0d9eac886eb161ce\nSigned-off-by: Adriana Kobylak <anoo@us.ibm.com>\n",
    "createdOn": 1647894343,
    "lastUpdated": 1649458200,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1647894343,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1647894355,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1647894355,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1647894406,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/39367/ : FAILURE"
        },
        {
            "timestamp": 1647894530,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1647896090,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1647896858,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1647973089,
            "reviewer": {
                "name": "Brandon J. Wyman",
                "email": "bjwyman@gmail.com",
                "username": "bjwyman"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1647973757,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1647982971,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Patch Set 1:\n\n(5 comments)"
        },
        {
            "timestamp": 1648048949,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1648048971,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1648048971,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1648049208,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 2:\n\n(6 comments)"
        },
        {
            "timestamp": 1648049540,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/39533/ : SUCCESS"
        },
        {
            "timestamp": 1648050264,
            "reviewer": {
                "name": "Brandon J. Wyman",
                "email": "bjwyman@gmail.com",
                "username": "bjwyman"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1648067420,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1648071478,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1648071488,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1648071488,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1648071607,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/39585/ : FAILURE"
        },
        {
            "timestamp": 1648071925,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1648071943,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1648071943,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1648072115,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1648072223,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1648072231,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1648072232,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1648072236,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/39587/ : ABORTED"
        },
        {
            "timestamp": 1648074192,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/39589/ : SUCCESS"
        },
        {
            "timestamp": 1648078463,
            "reviewer": {
                "name": "Brandon J. Wyman",
                "email": "bjwyman@gmail.com",
                "username": "bjwyman"
            },
            "message": "Patch Set 5: Code-Review+1"
        },
        {
            "timestamp": 1648137623,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Patch Set 5:\n\n(3 comments)"
        },
        {
            "timestamp": 1648149378,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1648149386,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1648149386,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1648149698,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 6:\n\n(3 comments)"
        },
        {
            "timestamp": 1648149958,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/39668/ : SUCCESS"
        },
        {
            "timestamp": 1648231068,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Patch Set 6: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1648477999,
            "reviewer": {
                "name": "Jim Wright",
                "email": "jlwright@us.ibm.com",
                "username": "wrightjl1"
            },
            "message": "Patch Set 6: Code-Review+1"
        },
        {
            "timestamp": 1648492997,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Patch Set 6: Code-Review+2"
        },
        {
            "timestamp": 1648493078,
            "reviewer": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "message": "Change has been successfully rebased and submitted as c9b05736f43c9e16737a31140ff2b7a36373da81"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "718e916c7c57f45459866c7928fa146da8672166",
            "parents": [
                "280fa715deb2620076cce23a3e1147fe0b4fb22b"
            ],
            "ref": "refs/changes/98/52198/1",
            "uploader": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "createdOn": 1647894343,
            "author": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 18,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "Should this be PSUMonitor or PowerSupplies, since there are other Power apps that also do monitoring?\n\nThe regulators app claims the bus name\n  xyz.openbmc_project.Power.Regulators"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 18,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Done. Yeah makes sense, changed to PSUMonitor."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 19,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "Need to change to\n/xyz/openbmc_project/power/powersupplies/chassis0/psus\n?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 19,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Done. Yep."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Depends on P-D-I change: https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-dbus-interfaces/+/51712"
                },
                {
                    "file": "phosphor-power-supply/meson.build",
                    "line": 16,
                    "reviewer": {
                        "name": "Brandon J. Wyman",
                        "email": "bjwyman@gmail.com",
                        "username": "bjwyman"
                    },
                    "message": "Odd, how were we working before without this dependency? Magic?"
                },
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "line": 15,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "Should this be PSUMonitor or PowerSupplies, since there are other Power apps that also do monitoring?\n\nThe regulators app claims the bus name\n  xyz.openbmc_project.Power.Regulators"
                },
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "line": 15,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Done. Makes sense, changed to PSUMonitor."
                },
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "line": 17,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Offline comment from Shawn is to remove \"manager\" from the path because this interface does not currently have any operations on the manager, like initialization, it just depicts the state of the power supplies on the chassis."
                },
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "line": 17,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "After further offline discussion, the path that makes the most sense:\n/xyz/openbmc_project/power/power_supplies/chassis0/psus"
                },
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "line": 17,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "Are you doing this in a separate commit?"
                },
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "line": 17,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Done. Updated."
                },
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "line": 47,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "do you also need an object manager?"
                },
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "line": 47,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "I think all the pieces are in place."
                },
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "line": 47,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "By that you mean it doesn't need an object manager interface?"
                },
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "line": 47,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Done. Ah not sure what i was thinking, yes added an object manager. Verified that a org.freedesktop.DBus.ObjectManager interface exists.\n\nroot@p10bmc:~# busctl --no-pager introspect xyz.openbmc_project.Power.PSUMonitor /xyz/openbmc_project/power/power_supplies/chassis0/psus\nNAME                                                  TYPE      SIGNATURE  RESULT/VALUE                             FLAGS\norg.freedesktop.DBus.Introspectable                   interface -          -                                        -\n.Introspect                                           method    -          s                                        -\norg.freedesktop.DBus.ObjectManager                    interface -          -                                        -\n.GetManagedObjects                                    method    -          a{oa{sa{sv}}}                            -\n.InterfacesAdded                                      signal    oa{sa{sv}} -                                        -\n.InterfacesRemoved                                    signal    oas        -                                        -"
                },
                {
                    "file": "phosphor-power-supply/psu_manager.hpp",
                    "line": 42,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "it might be more appropriate to just make this a private member on the Manager class since it's such a small part of the class's functionality?"
                },
                {
                    "file": "phosphor-power-supply/psu_manager.hpp",
                    "line": 42,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "I agree.  For an example of a class that contains a D-Bus server object, see phosphor-regulators/src/dbus_sensor.hpp"
                },
                {
                    "file": "phosphor-power-supply/psu_manager.hpp",
                    "line": 42,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Done. Makes sense."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -1
                },
                {
                    "file": "phosphor-power-supply/psu_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -1
                },
                {
                    "file": "phosphor-power-supply/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 41,
            "sizeDeletions": 2
        },
        {
            "number": 2,
            "revision": "858246b352613fc24130be680251446c7e018942",
            "parents": [
                "3225a45cc45106f2a91d82a6718f251b00338d4d"
            ],
            "ref": "refs/changes/98/52198/2",
            "uploader": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "createdOn": 1648048949,
            "author": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "line": 45,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "doesn't look like this needs to be a unique_ptr?  can just make it a normal object on the class and create it after bus(bus) above?"
                },
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "line": 45,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Done. Makes sense."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "phosphor-power-supply/psu_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "phosphor-power-supply/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 45,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "a3769185ef93c4ca030141c871bccb8b0131c0ad",
            "parents": [
                "3225a45cc45106f2a91d82a6718f251b00338d4d"
            ],
            "ref": "refs/changes/98/52198/3",
            "uploader": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "createdOn": 1648071478,
            "author": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -1
                },
                {
                    "file": "phosphor-power-supply/psu_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "phosphor-power-supply/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 61,
            "sizeDeletions": 1
        },
        {
            "number": 4,
            "revision": "68ab123728e3ef6be63830dfd89045ee76ffadec",
            "parents": [
                "3225a45cc45106f2a91d82a6718f251b00338d4d"
            ],
            "ref": "refs/changes/98/52198/4",
            "uploader": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "createdOn": 1648071925,
            "author": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": -1
                },
                {
                    "file": "phosphor-power-supply/psu_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "phosphor-power-supply/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 62,
            "sizeDeletions": 1
        },
        {
            "number": 5,
            "revision": "76a33a795c9c6a7e4fa94f974d8bfdf4d38a8cfb",
            "parents": [
                "3225a45cc45106f2a91d82a6718f251b00338d4d"
            ],
            "ref": "refs/changes/98/52198/5",
            "uploader": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "createdOn": 1648072223,
            "author": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "line": 17,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "Would it make sense to define separate object paths for \"mounting\" the ObjectManager interface vs. the PowerSystemInputs interface?\n\nIt seems like PowerSystemInputs needs to be on a \"leaf\" node:\n  /xyz/openbmc_project/power/power_supplies/chassis0/psus\n\nHowever, ObjectManager is normally mounted on the \"root\" of the object tree being provided by the application:\n  /xyz/openbmc_project/power/power_supplies\n\nThat way you can get all the objects managed by this app in one call to GetManagedObjects.  It seems like that would be handy if in the future we add psu0, psu1, and chassis1 to the tree.\n\nIf that is true, maybe we need something like:\n  objectManagerObjPath = \"/xyz/openbmc_project/power/power_supplies\";\n  powerSystemsInputsObjPath = \"/xyz/openbmc_project/power/power_supplies/chassis0/psus\";"
                },
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "line": 17,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Done. Yeah that makes sense."
                },
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "line": 48,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "When is the chassis state manager going to read this property to decide whether to auto-power-restart?\n\nIf it is waiting for the bus name to be requested, then it will read the property value right now before you've had a chance to set it.\n\nIf it is waiting for InterfacesAdded, I think that will be emitted before this line.  It gets emitted when the object path is created, which will happen on line 30 when the powerSystemInputs object is created.  Note that since the bus name hasn't been claimed yet at that point, the InterfacesAdded signal will be emitted from the initial numeric bus name vs. the string managerBusName.\n\nIf it is waiting for PropertiesChanged from this managerBusName, then there are two possibilities:\n* When analyze runs, it changes the property.  Then a PropertiesChanged signal will be sent.\n* When analyze runs, the property stays the same.  Then no PropertiesChanged signal will be sent.\n\nNot saying you have a problem.  Just asking how it works."
                },
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "line": 48,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Good point. Andrew just asked to add a dependency to the psu monitor service to start before the chassis state manager. The chassis manager will then subscribe to properties changed and read the current value (default to Good). Once the analyze() function runs, if it changes the property, the chassis manager would get the notification. I added the dependency in the commit on top of this one that creates the set/clear brownout functions.\nIf the chassis manager was subscribing to InterfacesAdded too, we may need to change to request_name before the PSUMonitor class is created in the main file."
                },
                {
                    "file": "phosphor-power-supply/psu_manager.hpp",
                    "line": 12,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "Should add the following since you are using manager?\n  #include <sdbusplus/server/manager.hpp>"
                },
                {
                    "file": "phosphor-power-supply/psu_manager.hpp",
                    "line": 12,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Done. Yeah we should."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": -1
                },
                {
                    "file": "phosphor-power-supply/psu_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "phosphor-power-supply/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 62,
            "sizeDeletions": 1
        },
        {
            "number": 6,
            "revision": "48fef908650cbcac0d56394b4af31779328f2971",
            "parents": [
                "33d492f47572a6f396a2e7eda123a4cb81cd9094"
            ],
            "ref": "refs/changes/98/52198/6",
            "uploader": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "createdOn": 1648149378,
            "author": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Shawn McCarney",
                        "email": "shawnmm@us.ibm.com",
                        "username": "smccarney"
                    },
                    "message": "Looks good to me."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -1
                },
                {
                    "file": "phosphor-power-supply/psu_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "phosphor-power-supply/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 65,
            "sizeDeletions": 1
        },
        {
            "number": 7,
            "revision": "c9b05736f43c9e16737a31140ff2b7a36373da81",
            "parents": [
                "d97aa516d69ca8a0d3880af4b1d775e62a6dd5dd"
            ],
            "ref": "refs/changes/98/52198/7",
            "uploader": {
                "name": "Shawn McCarney",
                "email": "shawnmm@us.ibm.com",
                "username": "smccarney"
            },
            "createdOn": 1648493078,
            "author": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "phosphor-power-supply/psu_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -1
                },
                {
                    "file": "phosphor-power-supply/psu_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "phosphor-power-supply/meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 65,
            "sizeDeletions": 1
        }
    ]
}