{
    "project": "openbmc/openbmc",
    "branch": "master",
    "id": "I392fa8de43674e5f7457e66d16ae51819e48ff54",
    "number": 53184,
    "subject": "meta-evb: aspeed: Enable webui-vue",
    "owner": {
        "name": "Howard Chiu",
        "email": "howard_chiu@aspeedtech.com",
        "username": "blackcatevil"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/openbmc/+/53184",
    "commitMessage": "meta-evb: aspeed: Enable webui-vue\n\nWebui-vue is not built-in by default.\nFor ast25xx/as26xx EVB, enable it to complete OpenBMC web.\n\nFix warning:\nWARNING: No bb files in default matched BBFILE_PATTERN_* ''\n\nCorrect \"evb-aspeed-layer\" because it is \"evb-aspeed\" in BBFILE_COLLECTIONS\n\nSigned-off-by: Howard Chiu <howard_chiu@aspeedtech.com>\nChange-Id: I392fa8de43674e5f7457e66d16ae51819e48ff54\n",
    "createdOn": 1650527666,
    "lastUpdated": 1651222482,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1650527666,
            "reviewer": {
                "name": "Howard Chiu",
                "email": "howard_chiu@aspeedtech.com",
                "username": "blackcatevil"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1650527725,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1650527725,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1650527733,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/10440/"
        },
        {
            "timestamp": 1650529835,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/10440/ : SUCCESS"
        },
        {
            "timestamp": 1650531107,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 1:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1650547611,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1: Code-Review-1\n\n(1 comment)"
        },
        {
            "timestamp": 1650556043,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Patch Set 1: Code-Review-1\n\n(1 comment)"
        },
        {
            "timestamp": 1650857721,
            "reviewer": {
                "name": "Howard Chiu",
                "email": "howard_chiu@aspeedtech.com",
                "username": "blackcatevil"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1650857876,
            "reviewer": {
                "name": "Howard Chiu",
                "email": "howard_chiu@aspeedtech.com",
                "username": "blackcatevil"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1650857904,
            "reviewer": {
                "name": "Howard Chiu",
                "email": "howard_chiu@aspeedtech.com",
                "username": "blackcatevil"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1650857934,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1650857934,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1650857941,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/10482/"
        },
        {
            "timestamp": 1650859740,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/10482/ : SUCCESS"
        },
        {
            "timestamp": 1650861014,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1650870365,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1651016864,
            "reviewer": {
                "name": "Joel Stanley",
                "email": "joel@jms.id.au",
                "username": "shenki"
            },
            "message": "Patch Set 2: Code-Review-1\n\n(1 comment)"
        },
        {
            "timestamp": 1651029388,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Patch Set 2: -Code-Review"
        },
        {
            "timestamp": 1651031510,
            "reviewer": {
                "name": "Howard Chiu",
                "email": "howard_chiu@aspeedtech.com",
                "username": "blackcatevil"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1651033305,
            "reviewer": {
                "name": "Howard Chiu",
                "email": "howard_chiu@aspeedtech.com",
                "username": "blackcatevil"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1651033370,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1651033370,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1651033376,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/10514/"
        },
        {
            "timestamp": 1651034485,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/10514/ : SUCCESS"
        },
        {
            "timestamp": 1651035726,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 3:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1651054462,
            "reviewer": {
                "name": "Joel Stanley",
                "email": "joel@jms.id.au",
                "username": "shenki"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1651112943,
            "reviewer": {
                "name": "Howard Chiu",
                "email": "howard_chiu@aspeedtech.com",
                "username": "blackcatevil"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1651115556,
            "reviewer": {
                "name": "Howard Chiu",
                "email": "howard_chiu@aspeedtech.com",
                "username": "blackcatevil"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1651115616,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1651115616,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1651115622,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/10542/"
        },
        {
            "timestamp": 1651117462,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/10542/ : SUCCESS"
        },
        {
            "timestamp": 1651119595,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 4:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1651129286,
            "reviewer": {
                "name": "Joel Stanley",
                "email": "joel@jms.id.au",
                "username": "shenki"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1651167825,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1651222482,
            "reviewer": {
                "name": "Howard Chiu",
                "email": "howard_chiu@aspeedtech.com",
                "username": "blackcatevil"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "8435ddfa072b28076ac736210523b309546eebbb",
            "parents": [
                "325b4c772b3dbb98c711269035e5836e3699b52e"
            ],
            "ref": "refs/changes/84/53184/1",
            "uploader": {
                "name": "Howard Chiu",
                "email": "howard_chiu@aspeedtech.com",
                "username": "blackcatevil"
            },
            "createdOn": 1650527666,
            "author": {
                "name": "Howard Chiu",
                "email": "howard_chiu@aspeedtech.com",
                "username": "blackcatevil"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jiaqing Zhao",
                        "email": "jiaqing.zhao@intel.com",
                        "username": "jiaqingz-intel"
                    },
                    "message": "Not everyone using aspeed chip want to use webui-vue. This should be target level configuration"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Howard Chiu",
                        "email": "howard_chiu@aspeedtech.com",
                        "username": "blackcatevil"
                    },
                    "message": "Understood, will specify EVB only"
                },
                {
                    "file": "meta-aspeed/recipes-core/images/obmc-phosphor-image.bbappend",
                    "line": 3,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "We need this scoped to specific machines if you want to do this in meta-Aspeed. Everyone uses meta-Aspeed, so you\u2019d be turning on webui-vue for everyone with this change, which is not what we want to do."
                },
                {
                    "file": "meta-aspeed/recipes-core/images/obmc-phosphor-image.bbappend",
                    "line": 3,
                    "reviewer": {
                        "name": "Howard Chiu",
                        "email": "howard_chiu@aspeedtech.com",
                        "username": "blackcatevil"
                    },
                    "message": "Understood, will specify EVB only"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "meta-aspeed/recipes-core/images/obmc-phosphor-image.bbappend",
                    "type": "ADDED",
                    "insertions": 4,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 16,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "04f71fdee1b87308ca0e08e0afc0be1f76dc74ff",
            "parents": [
                "325b4c772b3dbb98c711269035e5836e3699b52e"
            ],
            "ref": "refs/changes/84/53184/2",
            "uploader": {
                "name": "Howard Chiu",
                "email": "howard_chiu@aspeedtech.com",
                "username": "blackcatevil"
            },
            "createdOn": 1650857876,
            "author": {
                "name": "Howard Chiu",
                "email": "howard_chiu@aspeedtech.com",
                "username": "blackcatevil"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Joel Stanley",
                        "email": "joel@jms.id.au",
                        "username": "shenki"
                    },
                    "message": "I don't think this belongs in meta-aspeed. I see meta-aspeed as a leaf layer, to be pulled in along with other layers (eg meta-phosphor) to build a machine image.\n\nCan this be added to meta-evb/meta-evb-aspeed instead?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Howard Chiu",
                        "email": "howard_chiu@aspeedtech.com",
                        "username": "blackcatevil"
                    },
                    "message": "Yes, this is a better idea."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-aspeed/recipes-core/images/obmc-phosphor-image.bbappend",
                    "type": "ADDED",
                    "insertions": 7,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 20,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "89f3524207908b11ed086d0f737248d55b4dfd89",
            "parents": [
                "325b4c772b3dbb98c711269035e5836e3699b52e"
            ],
            "ref": "refs/changes/84/53184/3",
            "uploader": {
                "name": "Howard Chiu",
                "email": "howard_chiu@aspeedtech.com",
                "username": "blackcatevil"
            },
            "createdOn": 1651033305,
            "author": {
                "name": "Howard Chiu",
                "email": "howard_chiu@aspeedtech.com",
                "username": "blackcatevil"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "meta-evb/meta-evb-aspeed/conf/layer.conf",
                    "line": 5,
                    "reviewer": {
                        "name": "Joel Stanley",
                        "email": "joel@jms.id.au",
                        "username": "shenki"
                    },
                    "message": "What does this empty variable mean? Is it the reason we get this warning:\n\nWARNING: No bb files in default matched BBFILE_PATTERN_evb ''\nWARNING: No bb files in default matched BBFILE_PATTERN_evb-aspeed ''\nWARNING: No bb files in default matched BBFILE_PATTERN_evb-ast2500 ''"
                },
                {
                    "file": "meta-evb/meta-evb-aspeed/conf/layer.conf",
                    "line": 5,
                    "reviewer": {
                        "name": "Howard Chiu",
                        "email": "howard_chiu@aspeedtech.com",
                        "username": "blackcatevil"
                    },
                    "message": "I believe this is a reserved code by previous committer.\nHe set it to empty since there were no .bb or files needed to be parsed.\nI think we can delete BBFILE_COLLECTIONS and BBFILE_PATTERN to specify that there are no .bb file in other layers to avoid the warning, same to meta-evb-ast2500/meta-evb-ast2600/meta-evb-nuvoton/meta-evb-npcm750\n\nIn this patch, I added a .bbappend to enable webui-vue for ast2500/ast2600 in meta-evb-aspped. So I should keep BBFILE_COLLECTIONS and set BBFILE_PATTERN_evb-aspeed := \"^${LAYERDIR}\" because that.bbappend was added into the BBFILES in evb-aspeed layer."
                },
                {
                    "file": "meta-evb/meta-evb-aspeed/conf/layer.conf",
                    "line": 5,
                    "reviewer": {
                        "name": "Joel Stanley",
                        "email": "joel@jms.id.au",
                        "username": "shenki"
                    },
                    "message": "> I believe this is a reserved code by previous committer.\n> He set it to empty since there were no .bb or files needed to be parsed.\n> I think we can delete BBFILE_COLLECTIONS and BBFILE_PATTERN to specify that there are no .bb file in other layers to avoid the warning, same to meta-evb-ast2500/meta-evb-ast2600/meta-evb-nuvoton/meta-evb-npcm750\n> \n> In this patch, I added a .bbappend to enable webui-vue for ast2500/ast2600 in meta-evb-aspped. So I should keep BBFILE_COLLECTIONS and set BBFILE_PATTERN_evb-aspeed := \"^${LAYERDIR}\" because that.bbappend was added into the BBFILES in evb-aspeed layer.\n\nYes, I think that is correct. This would match what the other layers are doing."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-evb/meta-evb-aspeed/meta-evb-ast2600/conf/bblayers.conf.sample",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "meta-evb/meta-evb-aspeed/conf/layer.conf",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "meta-evb/meta-evb-aspeed/recipes-core/images/obmc-phosphor-image.bbappend",
                    "type": "ADDED",
                    "insertions": 4,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 23,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "67c8bdbfc11887715822f2f4afe913ac54e4a4e5",
            "parents": [
                "d305af15cb9d9cf091686c19adc5a8f6e648cc74"
            ],
            "ref": "refs/changes/84/53184/4",
            "uploader": {
                "name": "Howard Chiu",
                "email": "howard_chiu@aspeedtech.com",
                "username": "blackcatevil"
            },
            "createdOn": 1651115556,
            "author": {
                "name": "Howard Chiu",
                "email": "howard_chiu@aspeedtech.com",
                "username": "blackcatevil"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "meta-evb/meta-evb-aspeed/conf/layer.conf",
                    "line": 11,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I can't say I understand this change.  Almost everywhere I see we've add \"-layer\".  Are they wrong in the whole repo?"
                },
                {
                    "file": "meta-evb/meta-evb-aspeed/conf/layer.conf",
                    "line": 11,
                    "reviewer": {
                        "name": "Howard Chiu",
                        "email": "howard_chiu@aspeedtech.com",
                        "username": "blackcatevil"
                    },
                    "message": "No, they did right becuase they appended their layer name to BBFILE_COLLECTION with \"{layer_name}-layer\".\nAnother example is intel also set their layer name as \"intel\", not \"intel-layer\"\nI did not know why the previous committer did not follow this pattern but I thought it should be fine, so I kept it.\nI can replaced \"evb-aspeed\" with \"evb-aspeed-layer\" if preferred."
                },
                {
                    "file": "meta-evb/meta-evb-aspeed/meta-evb-ast2600/conf/bblayers.conf.sample",
                    "line": 17,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Why does this one get added?"
                },
                {
                    "file": "meta-evb/meta-evb-aspeed/meta-evb-ast2600/conf/bblayers.conf.sample",
                    "line": 17,
                    "reviewer": {
                        "name": "Howard Chiu",
                        "email": "howard_chiu@aspeedtech.com",
                        "username": "blackcatevil"
                    },
                    "message": "meta-evb/meta-evb-ast2600 are redundant in this patch, I added it just in case if someone put some recipes needed to be applied to every platform under meta-evb in future, same to meta-evb-ast2600.\n\nThey can removed if preferred."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "meta-evb/conf/layer.conf",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -3
                },
                {
                    "file": "meta-evb/meta-evb-aspeed/meta-evb-ast2600/conf/bblayers.conf.sample",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": 0
                },
                {
                    "file": "meta-evb/meta-evb-aspeed/meta-evb-ast2600/conf/layer.conf",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -9
                },
                {
                    "file": "meta-evb/meta-evb-aspeed/conf/layer.conf",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -3
                },
                {
                    "file": "meta-evb/meta-evb-aspeed/recipes-core/images/obmc-phosphor-image.bbappend",
                    "type": "ADDED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "meta-evb/meta-evb-aspeed/meta-evb-ast2500/conf/layer.conf",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 31,
            "sizeDeletions": 18
        }
    ]
}