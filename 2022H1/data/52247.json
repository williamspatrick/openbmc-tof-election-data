{
    "project": "openbmc/estoraged",
    "branch": "master",
    "id": "I72cd68c5045e9ef49939f4655a223a02234c7434",
    "number": 52247,
    "subject": "Add implementation capacity for drive interface",
    "owner": {
        "name": "John Broadbent",
        "email": "jebr@google.com",
        "username": "jebr224"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/estoraged/+/52247",
    "commitMessage": "Add implementation capacity for drive interface\n\nThis will set the capacity property when the eStoraged object is\ncreated. This change does not expect the drive size to change.\n\nChange-Id: I72cd68c5045e9ef49939f4655a223a02234c7434\nSigned-off-by: John Edward Broadbent <jebr@google.com>\n",
    "createdOn": 1647991183,
    "lastUpdated": 1648147066,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1647991183,
            "reviewer": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1647991191,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1647991191,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1647991223,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/39456/ : FAILURE"
        },
        {
            "timestamp": 1647996606,
            "reviewer": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1647996617,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1647996617,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1647996831,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/39465/ : SUCCESS"
        },
        {
            "timestamp": 1647998075,
            "reviewer": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "message": "Uploaded patch set 3: Patch Set 2 was rebased."
        },
        {
            "timestamp": 1647998087,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1647998087,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1647998302,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/39467/ : SUCCESS"
        },
        {
            "timestamp": 1647998711,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 3: Code-Review+1\n\n(2 comments)"
        },
        {
            "timestamp": 1647998764,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1648014544,
            "reviewer": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1648054446,
            "reviewer": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1648085303,
            "reviewer": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "message": "Uploaded patch set 4: Commit message was updated."
        },
        {
            "timestamp": 1648085373,
            "reviewer": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1648086385,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 4: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1648095635,
            "reviewer": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1648142457,
            "reviewer": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1648142465,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1648142465,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1648142681,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/39655/ : SUCCESS"
        },
        {
            "timestamp": 1648144130,
            "reviewer": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1648146400,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 5: Code-Review+2"
        },
        {
            "timestamp": 1648147066,
            "reviewer": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "message": "Change has been successfully merged"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "22a111c22394ac400820c33b0bec3c6920287731",
            "parents": [
                "98bff7f8f88c600d4ff1eb726678d9d1c8e5640d"
            ],
            "ref": "refs/changes/47/52247/1",
            "uploader": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "createdOn": 1647991183,
            "author": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "include/estoraged.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 18,
            "sizeDeletions": 3
        },
        {
            "number": 2,
            "revision": "56b52cc24af92b0baf2bb1d67be6219020fb5c80",
            "parents": [
                "98bff7f8f88c600d4ff1eb726678d9d1c8e5640d"
            ],
            "ref": "refs/changes/47/52247/2",
            "uploader": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "createdOn": 1647996606,
            "author": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "src/main.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                },
                {
                    "file": "include/estoraged.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -3
                },
                {
                    "file": "src/test/estoraged_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 27,
            "sizeDeletions": 7
        },
        {
            "number": 3,
            "revision": "5c0b5480f874af7c4b626ff7317612da656ca0a6",
            "parents": [
                "a6e3b99df73312c465b4b174b167bb785e886a71"
            ],
            "ref": "refs/changes/47/52247/3",
            "uploader": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "createdOn": 1647998075,
            "author": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "nit: the the"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "John Broadbent",
                        "email": "jebr@google.com",
                        "username": "jebr224"
                    },
                    "message": "Done"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "John Broadbent",
                        "email": "jebr@google.com",
                        "username": "jebr224"
                    },
                    "message": "Thanks for looking this over"
                },
                {
                    "file": "include/estoraged.hpp",
                    "line": 48,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "minor nit: technically not necessary to change the variable name - I think we discussed this previously about shadowing and how this is not technically shadowing?\n\nhttps://stackoverflow.com/questions/6185020/initializing-member-variables-using-the-same-name-for-constructor-arguments-as-f"
                },
                {
                    "file": "include/estoraged.hpp",
                    "line": 48,
                    "reviewer": {
                        "name": "John Broadbent",
                        "email": "jebr@google.com",
                        "username": "jebr224"
                    },
                    "message": ">technically shadowing.\n\nDisagree, keeping it the same is shadowing. See line 55. \nDo you want to see how the TOF break deadlocks?  This could be a learning experience for both of us."
                },
                {
                    "file": "include/estoraged.hpp",
                    "line": 48,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Yes, I'm referring to line 55 when I made the comment.\n\nBy \"technically not shadowing\", I was saying it is shadowing BUT initializer list handles it differently so it's \"technically not\", but maybe that's the wrong use of \"technically\" here since it is indeed \"technically / objectively\" shadowing and it's \"subjectively\" not the usual shadowing. Apologies for the confusion.\n\nSure, although I would suggest that instead of going up to TOF, we could bring the other maintainers / contributors of this repo to chime in (William and John Wedig) as this started as a minor nit, that we can perhaps resolve within our repo (although it would be cool to see how TOF works)."
                },
                {
                    "file": "include/estoraged.hpp",
                    "line": 48,
                    "reviewer": {
                        "name": "John Broadbent",
                        "email": "jebr@google.com",
                        "username": "jebr224"
                    },
                    "message": "I am not worried with technicalities, and there is no need to a apologies. \n\nMy goals is to write code that is easy to read and modify, while still being perforate. And shadowing the member variable with a parameter make the code more difficult to modifiy in the future. I made this mistake in patch-set one, and I thought I would fix it so future deveoplers are not also burned by this shadowing. \n\nhttps://gerrit.openbmc-project.xyz/c/openbmc/estoraged/+/52247/1/include/estoraged.hpp#57 \n\n\nThere is no discernible advantage to shadowing your member variables with parameters of the same. And, there is a very clear dis advantage, using the wrong one, (which I did, and other developers will do).\n\nEither ways, I am glad you are such a dedicated and thorough reviewer, thanks for all the hard-work you put in. Could you explain the pros, and cons you see to your shadow method."
                },
                {
                    "file": "include/estoraged.hpp",
                    "line": 48,
                    "reviewer": {
                        "name": "John Broadbent",
                        "email": "jebr@google.com",
                        "username": "jebr224"
                    },
                    "message": "Based on a conversation, I changed it back to shadow..."
                },
                {
                    "file": "include/estoraged.hpp",
                    "line": 59,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "which \"capacity\" are we setting here again? Is this one of the dbus property?"
                },
                {
                    "file": "include/estoraged.hpp",
                    "line": 59,
                    "reviewer": {
                        "name": "John Broadbent",
                        "email": "jebr@google.com",
                        "username": "jebr224"
                    },
                    "message": "yep, it is defined in the drive interface,\nsee: https://github.com/openbmc/phosphor-dbus-interfaces/blob/332a7b865b756ded61fd8eddd3c88b9e4a510a3b/yaml/xyz/openbmc_project/Inventory/Item/Drive.interface.yaml#L5"
                },
                {
                    "file": "include/estoraged.hpp",
                    "line": 59,
                    "reviewer": {
                        "name": "John Broadbent",
                        "email": "jebr@google.com",
                        "username": "jebr224"
                    },
                    "message": "done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "src/main.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                },
                {
                    "file": "include/estoraged.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -3
                },
                {
                    "file": "src/test/estoraged_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 27,
            "sizeDeletions": 7
        },
        {
            "number": 4,
            "revision": "57eebc98ca698cc6cdaa25143b13f7fb6e4fd3fd",
            "parents": [
                "a6e3b99df73312c465b4b174b167bb785e886a71"
            ],
            "ref": "refs/changes/47/52247/4",
            "uploader": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "createdOn": 1648085303,
            "author": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "src/main.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                },
                {
                    "file": "include/estoraged.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -3
                },
                {
                    "file": "src/test/estoraged_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 27,
            "sizeDeletions": 7
        },
        {
            "number": 5,
            "revision": "e35e73613719d1ef33fe6fa03bfb8f8d6ec64370",
            "parents": [
                "a6e3b99df73312c465b4b174b167bb785e886a71"
            ],
            "ref": "refs/changes/47/52247/5",
            "uploader": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "createdOn": 1648142457,
            "author": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "src/main.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                },
                {
                    "file": "include/estoraged.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -1
                },
                {
                    "file": "src/test/estoraged_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 25,
            "sizeDeletions": 5
        }
    ]
}