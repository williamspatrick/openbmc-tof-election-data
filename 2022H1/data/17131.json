{
    "project": "openbmc/meta-nuvoton",
    "branch": "master",
    "topic": "Nuvoton's Flash Image",
    "id": "Idcd7ab42fa358e44d3908410d6913d4a915d5faa",
    "number": 17131,
    "subject": "meta-nuvoton: generate full flash image.",
    "owner": {
        "name": "Oshri Alkoby",
        "email": "oshri.alkoby@nuvoton.com",
        "username": "oshalk"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/meta-nuvoton/+/17131",
    "commitMessage": "meta-nuvoton: generate full flash image.\n\nNuvoton's full flash image includes also a bootloader called Bootblock,\nand headers for it and for the u-boot. Generating headers and merging\nthe Bootblock and the u-boot are being done by Nuvoton's binary\ngenerator tool (Bingo), which uses external paramteres from XML files\nfor that.\n\nChange-Id: Idcd7ab42fa358e44d3908410d6913d4a915d5faa\nSigned-off-by: Oshri Alkoby (NTIL) <oshri.alkoby@nuvoton.com>\n",
    "createdOn": 1546897910,
    "lastUpdated": 1647071571,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1546897910,
            "reviewer": {
                "name": "Oshri Alkoby",
                "email": "oshri.alkoby@nuvoton.com",
                "username": "oshalk"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1546897925,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 1:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1547781691,
            "reviewer": {
                "name": "Samuel Jiang",
                "email": "chyishian.jiang@gmail.com",
                "username": "jiangchyishian"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1547849144,
            "reviewer": {
                "name": "Oshri Alkoby",
                "email": "oshri.alkoby@nuvoton.com",
                "username": "oshalk"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1547849161,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1547849173,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 2:\n\nBuild Started https://openpower.xyz/job/run-meta-ci/355/"
        },
        {
            "timestamp": 1547850028,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://openpower.xyz/job/run-meta-ci/355/ : SUCCESS"
        },
        {
            "timestamp": 1547850043,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 2:\n\nBuild Started \n\nReal hardware build started"
        },
        {
            "timestamp": 1547851186,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 2:\n\nReal Hardware Build Successful"
        },
        {
            "timestamp": 1550094913,
            "reviewer": {
                "name": "Brad Bishop",
                "email": "bradleyb@fuzziesquirrel.com",
                "username": "bradbishop"
            },
            "message": "Patch Set 2:\n\nThanks everyone for being patient.  Sorry about the delay.\n\nBen/Oshri - does this conflict with these changes: 12597 12596 12598?\n\nWhich ones do you want?"
        },
        {
            "timestamp": 1550095345,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 2:\n\n> Patch Set 2:\n> \n> Thanks everyone for being patient.  Sorry about the delay.\n> \n> Ben/Oshri - does this conflict with these changes: 12597 12596 12598?\n> \n> Which ones do you want?\n\nNuvoton has ported their official image generation tool to Linux (this change), so we should go ahead and use this one instead."
        },
        {
            "timestamp": 1550118584,
            "reviewer": {
                "name": "Brad Bishop",
                "email": "bradleyb@fuzziesquirrel.com",
                "username": "bradbishop"
            },
            "message": "Patch Set 2:\n\nBenjamin Fair wrote:\n\n> > Patch Set 2:\n> > \n> > Thanks everyone for being patient.  Sorry about the delay.\n> > \n> > Ben/Oshri - does this conflict with these changes: 12597 12596 12598?\n> > \n> > Which ones do you want?\n>\n> Nuvoton has ported their official image generation tool to Linux\n> (this change), so we should go ahead and use this one instead.\n\nThanks Ben.  Would it make sense to add a comment to all three of those and point them at this one?  Maybe abandon them too?"
        },
        {
            "timestamp": 1550161794,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1550162774,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 2:\n\n> Patch Set 2:\n> \n> Benjamin Fair wrote:\n> \n> > > Patch Set 2:\n> > > \n> > > Thanks everyone for being patient.  Sorry about the delay.\n> > > \n> > > Ben/Oshri - does this conflict with these changes: 12597 12596 12598?\n> > > \n> > > Which ones do you want?\n> >\n> > Nuvoton has ported their official image generation tool to Linux\n> > (this change), so we should go ahead and use this one instead.\n> \n> Thanks Ben.  Would it make sense to add a comment to all three of those and point them at this one?  Maybe abandon them too?\n\nAbandoned all but https://gerrit.openbmc-project.xyz/c/openbmc/meta-nuvoton/+/12596 which is still potentially useful."
        },
        {
            "timestamp": 1550177321,
            "reviewer": {
                "name": "Oshri Alkoby",
                "email": "oshri.alkoby@nuvoton.com",
                "username": "oshalk"
            },
            "message": "Patch Set 2:\n\n> (1 comment)\n\nSure, we can. The only problem is the dest filename which is bootblock.bin, while obmc-phosphor-image expects Poleg_bootblock.bin..."
        },
        {
            "timestamp": 1553634766,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 2:\n\n> Patch Set 2:\n> \n> > (1 comment)\n> \n> Sure, we can. The only problem is the dest filename which is bootblock.bin, while obmc-phosphor-image expects Poleg_bootblock.bin...\n\nThat's easily changeable.\n\nLet me know if you need help rebasing your patch on mine. You should be able to cherry-pick it into your local git repo like this:\n\ngit fetch \"https://gerrit.openbmc-project.xyz/openbmc/meta-nuvoton\" refs/changes/96/12596/3 && git cherry-pick FETCH_HEAD"
        },
        {
            "timestamp": 1553637111,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 2:\n\n(5 comments)\n\nSorry for the long delay in reviewing this."
        },
        {
            "timestamp": 1558624661,
            "reviewer": {
                "name": "Oshri Alkoby",
                "email": "oshri.alkoby@nuvoton.com",
                "username": "oshalk"
            },
            "message": "Patch Set 2:\n\n> Patch Set 2:\n> \n> (5 comments)\n> \n> Sorry for the long delay in reviewing this.\n\nSince the new changes are now under two different repos (meta-phosphor and meta-nuvoton), do I need to open a new change under openbmc/openbmc repo to include all of them, or to create one more separated change for meta-phosphor?"
        },
        {
            "timestamp": 1558938020,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 2:\n\n> Patch Set 2:\n> \n> > Patch Set 2:\n> > \n> > (5 comments)\n> > \n> > Sorry for the long delay in reviewing this.\n> \n> Since the new changes are now under two different repos (meta-phosphor and meta-nuvoton), do I need to open a new change under openbmc/openbmc repo to include all of them, or to create one more separated change for meta-phosphor?\n\nYou'll want to create a separate change in meta-phosphor. If the patches have build dependencies between them (i.e. the build will fail if one is included without the other) then you'll want to let Brad know so they can get merged in the proper order. Using a \"topic\" would also be a good idea to tie the patches together."
        },
        {
            "timestamp": 1558994001,
            "reviewer": {
                "name": "Oshri Alkoby",
                "email": "oshri.alkoby@nuvoton.com",
                "username": "oshalk"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1558994025,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1558994037,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 3:\n\nBuild Started https://openpower.xyz/job/run-meta-ci/2156/"
        },
        {
            "timestamp": 1558995137,
            "reviewer": {
                "name": "Jenkins",
                "email": "openbmc-ci-admin@ozlabs.org",
                "username": "jenkins-openbmc"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://openpower.xyz/job/run-meta-ci/2156/ : SUCCESS"
        },
        {
            "timestamp": 1558995557,
            "reviewer": {
                "name": "Oshri Alkoby",
                "email": "oshri.alkoby@nuvoton.com",
                "username": "oshalk"
            },
            "message": "Topic set to Nuvoton's Flash Image"
        },
        {
            "timestamp": 1559585440,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 3: Code-Review+1\n\nThis looks good!\n\nCould you add a little bit more context/information to the commit message though? Just a couple of sentences explaining what this commit contains and why (bootblock, bingo, xml files)."
        },
        {
            "timestamp": 1559676856,
            "reviewer": {
                "name": "Oshri Alkoby",
                "email": "oshri.alkoby@nuvoton.com",
                "username": "oshalk"
            },
            "message": "Uploaded patch set 4: Commit message was updated."
        },
        {
            "timestamp": 1559692789,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 4:\n\nLooks good! I think this is ready to merge now."
        },
        {
            "timestamp": 1560190083,
            "reviewer": {
                "name": "Brad Bishop",
                "email": "bradleyb@fuzziesquirrel.com",
                "username": "bradbishop"
            },
            "message": "Patch Set 4: Code-Review+2"
        },
        {
            "timestamp": 1560190087,
            "reviewer": {
                "name": "Brad Bishop",
                "email": "bradleyb@fuzziesquirrel.com",
                "username": "bradbishop"
            },
            "message": "Change has been successfully merged by Brad Bishop"
        },
        {
            "timestamp": 1647071571,
            "reviewer": {
                "name": "yijian550",
                "username": "yijian550"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "b744b6e09d5143836d970f541f56b7258366d06f",
            "parents": [
                "f0403cadf1a796fe04b0ba21b224ff66be591e9e"
            ],
            "ref": "refs/changes/31/17131/1",
            "uploader": {
                "name": "Oshri Alkoby",
                "email": "oshri.alkoby@nuvoton.com",
                "username": "oshalk"
            },
            "createdOn": 1546897910,
            "author": {
                "name": "Oshri Alkoby",
                "email": "oshri.alkoby@nuvoton.com",
                "username": "oshalk"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "recipes-phosphor/images/npcm750-bootblock.bb",
                    "line": 12,
                    "reviewer": {
                        "name": "Samuel Jiang",
                        "email": "chyishian.jiang@gmail.com",
                        "username": "jiangchyishian"
                    },
                    "message": "Should upgrade version to 10.09.5 for match runbmc-nuvoton machine?"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "recipes-phosphor/images/npcm7xx-igps-native.bb",
                    "type": "ADDED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "recipes-phosphor/images/npcm750-bootblock.bb",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "recipes-phosphor/images/files/001-igps-remove-sudo.patch",
                    "type": "ADDED",
                    "insertions": 39,
                    "deletions": 0
                },
                {
                    "file": "recipes-phosphor/images/obmc-phosphor-image.bbappend",
                    "type": "ADDED",
                    "insertions": 75,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 191,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "39b920c7d78a8532f95ff23a37bad0a54ff532f6",
            "parents": [
                "f0403cadf1a796fe04b0ba21b224ff66be591e9e"
            ],
            "ref": "refs/changes/31/17131/2",
            "uploader": {
                "name": "Oshri Alkoby",
                "email": "oshri.alkoby@nuvoton.com",
                "username": "oshalk"
            },
            "createdOn": 1547849144,
            "author": {
                "name": "Oshri Alkoby",
                "email": "oshri.alkoby@nuvoton.com",
                "username": "oshalk"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "recipes-phosphor/images/files/001-igps-remove-sudo.patch",
                    "line": 0,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "I'd prefer if this patch could be incorporated into igps itself, but I don't think having it here is that big of a deal."
                },
                {
                    "file": "recipes-phosphor/images/npcm750-bootblock.bb",
                    "line": 0,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Can we use my recipe instead? It makes it easier to select the desired bootblock version. https://gerrit.openbmc-project.xyz/c/openbmc/meta-nuvoton/+/12596\n\nFeel free to cherry-pick that change into your stack and take it over."
                },
                {
                    "file": "recipes-phosphor/images/npcm7xx-igps-native.bb",
                    "line": 35,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Why are you removing these folders?"
                },
                {
                    "file": "recipes-phosphor/images/obmc-phosphor-image.bbappend",
                    "line": 0,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "I'd prefer to keep phosphor-specific stuff out of meta-nuvoton, so that we can use the BSPs separately. Can you move this file to meta-phosphor/nuvoton-layer?"
                },
                {
                    "file": "recipes-phosphor/images/obmc-phosphor-image.bbappend",
                    "line": 9,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "These should be in conf/machine/include/npcm7xx.inc so they can be changed for future BMCs and to make it easier for machines to override them in their machine.conf files.\n\nAlso, could you add a FLASH_UBOOT_ENV_OFFSET to point to the u-boot environment partition?"
                },
                {
                    "file": "recipes-phosphor/images/obmc-phosphor-image.bbappend",
                    "line": 75,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "If you append \".merged\" to UBOOT_SUFFIX then the original symlink functions will still work.\n\nYou can see how I was doing it here: https://gerrit.openbmc-project.xyz/c/openbmc/meta-phosphor/+/13484"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "recipes-phosphor/images/npcm7xx-igps-native.bb",
                    "type": "ADDED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "recipes-phosphor/images/npcm750-bootblock.bb",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "recipes-phosphor/images/files/001-igps-remove-sudo.patch",
                    "type": "ADDED",
                    "insertions": 39,
                    "deletions": 0
                },
                {
                    "file": "recipes-phosphor/images/obmc-phosphor-image.bbappend",
                    "type": "ADDED",
                    "insertions": 75,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 191,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "60817ce02930f67c50e0d8cf172f41c7d4f0cd2c",
            "parents": [
                "407bea06b4b689ca21f42640a204561fde503a1e"
            ],
            "ref": "refs/changes/31/17131/3",
            "uploader": {
                "name": "Oshri Alkoby",
                "email": "oshri.alkoby@nuvoton.com",
                "username": "oshalk"
            },
            "createdOn": 1558994001,
            "author": {
                "name": "Oshri Alkoby",
                "email": "oshri.alkoby@nuvoton.com",
                "username": "oshalk"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "recipes-bsp/images/npcm7xx-bootblock.bb",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "recipes-bsp/images/npcm7xx-bingo-native.bb",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "recipes-bsp/images/files/UbootHeader_EB.xml",
                    "type": "ADDED",
                    "insertions": 194,
                    "deletions": 0
                },
                {
                    "file": "recipes-bsp/images/files/BootBlockAndHeader_EB.xml",
                    "type": "ADDED",
                    "insertions": 276,
                    "deletions": 0
                },
                {
                    "file": "recipes-bsp/images/files/mergedBootBlockAndUboot.xml",
                    "type": "ADDED",
                    "insertions": 35,
                    "deletions": 0
                },
                {
                    "file": "conf/machine/include/npcm7xx.inc",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 565,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "07a65b5a1cd4576367697ae5400482517e53d2d7",
            "parents": [
                "407bea06b4b689ca21f42640a204561fde503a1e"
            ],
            "ref": "refs/changes/31/17131/4",
            "uploader": {
                "name": "Oshri Alkoby",
                "email": "oshri.alkoby@nuvoton.com",
                "username": "oshalk"
            },
            "createdOn": 1559676856,
            "author": {
                "name": "Oshri Alkoby",
                "email": "oshri.alkoby@nuvoton.com",
                "username": "oshalk"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "yijian550",
                        "username": "yijian550"
                    },
                    "message": "hi, there,\n  is there any uboot for npcm8xx device?"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "recipes-bsp/images/npcm7xx-bootblock.bb",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "recipes-bsp/images/npcm7xx-bingo-native.bb",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "recipes-bsp/images/files/UbootHeader_EB.xml",
                    "type": "ADDED",
                    "insertions": 194,
                    "deletions": 0
                },
                {
                    "file": "recipes-bsp/images/files/BootBlockAndHeader_EB.xml",
                    "type": "ADDED",
                    "insertions": 276,
                    "deletions": 0
                },
                {
                    "file": "recipes-bsp/images/files/mergedBootBlockAndUboot.xml",
                    "type": "ADDED",
                    "insertions": 35,
                    "deletions": 0
                },
                {
                    "file": "conf/machine/include/npcm7xx.inc",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 571,
            "sizeDeletions": 0
        }
    ]
}