{
    "project": "openbmc/phosphor-dbus-interfaces",
    "branch": "master",
    "topic": "dhcpv6-update",
    "id": "I42a46549fed8b2d2187ea6a7eb7278c63b84bbef",
    "number": 50985,
    "subject": "Add additional DHCP configuration options",
    "owner": {
        "name": "Johnathan Mantey",
        "email": "johnathanx.mantey@intel.com",
        "username": "Howitzer105mm"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-dbus-interfaces/+/50985",
    "commitMessage": "Add additional DHCP configuration options\n\nThe existing D-Bus DHCPConf enumearation values do not allow IPv6\nStateless DHCP to be assigned. The IPv4 entries are sufficient, as\nDHCP for the v4 stack is truly a boolean.\n\nIPv6 is, at minimum, a ternary control. Adding new enumerations allows\nthe IPv6 configruation to be done in a more abstract fashion than the\ncurrent IPv6AcceptRA D-Bus entry. This D-Bus entry is a direct\nreflection of how systemd-networkd manages Routint Advertisement, and\nby extension DHCPv6. Only phosphor-network needs this knowledge.\n\nTested:\nThe changes compile.\nAlso, in combination with changes made to phosphor-network, many\nbusctl set/get property commands were issued to confirm the\nenumerations were performing as expected.\n\nChange-Id: I42a46549fed8b2d2187ea6a7eb7278c63b84bbef\nSigned-off-by: Johnathan Mantey <johnathanx.mantey@intel.com>\n",
    "createdOn": 1644274026,
    "lastUpdated": 1647888305,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1644274026,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1644274066,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1644274066,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1644274225,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Topic set to dhcpv6-update"
        },
        {
            "timestamp": 1644274482,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/36761/ : SUCCESS"
        },
        {
            "timestamp": 1644275247,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1645737176,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 1: Code-Review+1"
        },
        {
            "timestamp": 1646147752,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1646149419,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1647368133,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1647368151,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1647368151,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1647368166,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1647368381,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/39023/ : SUCCESS"
        },
        {
            "timestamp": 1647369998,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1647884955,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1647888300,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2: Code-Review+2"
        },
        {
            "timestamp": 1647888305,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Change has been successfully rebased and submitted as 8db5d8d74a8c74bf9ce4e9a95c062a5eec30835f"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "14d5740df1163e472e6c3c7f8245788fe43d7306",
            "parents": [
                "b9dae7bed1789f712a68d09609cc889954a4f86c"
            ],
            "ref": "refs/changes/85/50985/1",
            "uploader": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "createdOn": 1644274026,
            "author": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Adding internal reviewers"
                },
                {
                    "file": "yaml/xyz/openbmc_project/Network/EthernetInterface.interface.yaml",
                    "line": 115,
                    "reviewer": {
                        "name": "Vernon Mauery",
                        "email": "vernon.mauery@linux.intel.com",
                        "username": "vmauery"
                    },
                    "message": "Do we have knobs within systemd-networkd that can support only wanting stateful or stateless ipv6? In other words, if someone selects v6, but no dhcpv6 server is available, does the system still get a stateless address, or is there a way to prevent that?"
                },
                {
                    "file": "yaml/xyz/openbmc_project/Network/EthernetInterface.interface.yaml",
                    "line": 115,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "The systemd.network control for this is the DHCPv6Client entry. Setting this false blocks a DHCPv6 server on the link. The Routing Advertisement server can be configured to different modes that impact the BMC address assignment. The RA will have to be configured to allow the BMC systemd.network service to perform SLAAC."
                },
                {
                    "file": "yaml/xyz/openbmc_project/Network/EthernetInterface.interface.yaml",
                    "line": 115,
                    "reviewer": {
                        "name": "Vernon Mauery",
                        "email": "vernon.mauery@linux.intel.com",
                        "username": "vmauery"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 26,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/Network/EthernetInterface.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 41,
            "sizeDeletions": 3
        },
        {
            "number": 2,
            "revision": "444e365377a467bf5eee5fb97193d94c41d4eecc",
            "parents": [
                "0068be81997e7ca97332dfa196978b504e315755"
            ],
            "ref": "refs/changes/85/50985/2",
            "uploader": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "createdOn": 1647368133,
            "author": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "rebase only"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "May I get another review of this from the maintainers?\nI have two +1's from internal reviewers.\nThis commit needs to merge in order to have the remaining commits in the 'topic' build.\nI believe this can be merged without impacting existing code relying on the DHCP enumerations."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 26,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/Network/EthernetInterface.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 41,
            "sizeDeletions": 3
        },
        {
            "number": 3,
            "revision": "8db5d8d74a8c74bf9ce4e9a95c062a5eec30835f",
            "parents": [
                "6326b04e62bd7c28bfab5a4d428a399be6575d5f"
            ],
            "ref": "refs/changes/85/50985/3",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1647888305,
            "author": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 26,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/Network/EthernetInterface.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 41,
            "sizeDeletions": 3
        }
    ]
}