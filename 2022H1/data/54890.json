{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "Ia940a41aab8e17bac006ee7735b33132e211d5a0",
    "number": 54890,
    "subject": "log_services: use nlohmann::json::object_t",
    "owner": {
        "name": "Jason Bills",
        "email": "jason.m.bills@linux.intel.com",
        "username": "jmbills"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/54890",
    "commitMessage": "log_services: use nlohmann::json::object_t\n\nThis updates fillBMCJournalLogEntryJson() and the crashdump logEntry to\nuse the nlohmann::json::object_t type.\n\nTested:\nConfirmed that the journal and crashdump entries are still displayed\ncorrectly.\n\nChange-Id: Ia940a41aab8e17bac006ee7735b33132e211d5a0\nSigned-off-by: Jason M. Bills <jason.m.bills@intel.com>\n",
    "createdOn": 1656102922,
    "lastUpdated": 1656374826,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1656102922,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1656102970,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1656102970,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1656103479,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/45837/ : SUCCESS"
        },
        {
            "timestamp": 1656104257,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1: Code-Review+1"
        },
        {
            "timestamp": 1656105993,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1656106943,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1656107001,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 1: Code-Review+1"
        },
        {
            "timestamp": 1656107408,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1656115942,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1656232796,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Patch Set 1: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1656341730,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1656356866,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1656374793,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1656374796,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1: Code-Review+2"
        },
        {
            "timestamp": 1656374826,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully rebased and submitted as 3a48b3a27ffbe86d931fb4eb771baa136d5baf2b"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "261b457cc78c8abe228c8a120a5d287a0f583d28",
            "parents": [
                "5b6b7c252f30f73de428ed933def65b8249ef1a9"
            ],
            "ref": "refs/changes/90/54890/1",
            "uploader": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "createdOn": 1656102922,
            "author": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "Oh, I forgot to mention that the host logger has the same issues as the loggers that I fixed, but I don't use it, so I couldn't test it.  Should I just apply the same changes to the host logger code without testing, or leave it for someone else?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "What's the issue you refer to? \n\nhttps://gerrit.openbmc.org/c/openbmc/bmcweb/+/54856/5 or this commit?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "This and the child commits that fix various aspects of the event and journal loggers.  Those same fixes need to be applied to the host logger, but I wasn't sure if I should include those changes where I can't test them..."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Yeah, open a review with the changes, and mention exactly what you said above \"I don't use it so I can't test it\".  We'll either find someone to test it for you, or if there's no users, we'll merge it and pray/wait for someone to complain that it's broken."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 2180,
                    "reviewer": {
                        "name": "Jiaqing Zhao",
                        "email": "jiaqing.zhao@intel.com",
                        "username": "jiaqingz-intel"
                    },
                    "message": "nit: emplace_back is preferred in bmcweb, though it makes no difference for the std::move here"
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 2180,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "the old code used push_back, so this is no worse.  Up to Jason if he wants to change"
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 2180,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "If there's no preference, I think I'll leave it as push_back.  There's an interesting article here that posits that emplace_back can increase compile time even when the functional result is the same as push_back: https://quuxplusone.github.io/blog/2021/03/03/push-back-emplace-back/."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 2180,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Technically because we're using the push_back(nlohman::json::object_t&&) template overload instead of the the emplace_back(nlohmann::json::object_t&&) overload, this is technically worse, but my comment still stands, I'm not worried about it."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -7
                }
            ],
            "sizeInsertions": 27,
            "sizeDeletions": 7
        },
        {
            "number": 2,
            "revision": "3a48b3a27ffbe86d931fb4eb771baa136d5baf2b",
            "parents": [
                "de703c5d109061198dee7a9ea6ce64d5a8121dbb"
            ],
            "ref": "refs/changes/90/54890/2",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1656374826,
            "author": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -7
                }
            ],
            "sizeInsertions": 27,
            "sizeDeletions": 7
        }
    ]
}