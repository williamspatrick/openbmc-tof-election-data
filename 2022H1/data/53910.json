{
    "project": "openbmc/openpower-occ-control",
    "branch": "master",
    "id": "I48c5b41a48d0883a8d1e2916da8725391a7bcbc2",
    "number": 53910,
    "subject": "Add safe mode to user interface",
    "owner": {
        "name": "Sheldon Bailey",
        "email": "baileysh@us.ibm.com",
        "username": "baileysh"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/openpower-occ-control/+/53910",
    "commitMessage": "Add safe mode to user interface\n\nputting in code that puts safe mode onto dbus.\nTested: inject error that puts in safe mode, dbus CMD\nto read dbus safeMode.\nSigned-off-by: Sheldon Bailey <baileysh@us.ibm.com>\nChange-Id: I48c5b41a48d0883a8d1e2916da8725391a7bcbc2\n",
    "createdOn": 1653310126,
    "lastUpdated": 1654016203,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1653310126,
            "reviewer": {
                "name": "Sheldon Bailey",
                "email": "baileysh@us.ibm.com",
                "username": "baileysh"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1653310175,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1653310175,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1653310307,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/43612/ : SUCCESS"
        },
        {
            "timestamp": 1653330776,
            "reviewer": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "message": "Patch Set 1: Code-Review-1\n\n(2 comments)"
        },
        {
            "timestamp": 1653604362,
            "reviewer": {
                "name": "Sheldon Bailey",
                "email": "baileysh@us.ibm.com",
                "username": "baileysh"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1653604393,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1653604393,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1653604424,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/43964/ : FAILURE"
        },
        {
            "timestamp": 1653604426,
            "reviewer": {
                "name": "Sheldon Bailey",
                "email": "baileysh@us.ibm.com",
                "username": "baileysh"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1653604671,
            "reviewer": {
                "name": "Sheldon Bailey",
                "email": "baileysh@us.ibm.com",
                "username": "baileysh"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1653604713,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1653604713,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1653604744,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/43965/ : FAILURE"
        },
        {
            "timestamp": 1653604920,
            "reviewer": {
                "name": "Sheldon Bailey",
                "email": "baileysh@us.ibm.com",
                "username": "baileysh"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1653605149,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1653605150,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1653605238,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/43966/ : SUCCESS"
        },
        {
            "timestamp": 1653656047,
            "reviewer": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1653658281,
            "reviewer": {
                "name": "Martha Broyles",
                "username": "marthabroyles"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1653659397,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1654007414,
            "reviewer": {
                "name": "Sheldon Bailey",
                "email": "baileysh@us.ibm.com",
                "username": "baileysh"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1654014550,
            "reviewer": {
                "name": "Sheldon Bailey",
                "email": "baileysh@us.ibm.com",
                "username": "baileysh"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1654014584,
            "reviewer": {
                "name": "Sheldon Bailey",
                "email": "baileysh@us.ibm.com",
                "username": "baileysh"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1654014589,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1654014589,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1654014801,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/44089/ : SUCCESS"
        },
        {
            "timestamp": 1654015222,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 5: Code-Review+1"
        },
        {
            "timestamp": 1654015869,
            "reviewer": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "message": "Patch Set 5: Code-Review+1"
        },
        {
            "timestamp": 1654015965,
            "reviewer": {
                "name": "Edward A. James",
                "email": "eajames@us.ibm.com",
                "username": "eddiejames"
            },
            "message": "Patch Set 5: Code-Review+2"
        },
        {
            "timestamp": 1654016203,
            "reviewer": {
                "name": "Sheldon Bailey",
                "email": "baileysh@us.ibm.com",
                "username": "baileysh"
            },
            "message": "Change has been successfully rebased and submitted as 31a2f13a0c6800ad698398ac0daeb58a805cccf7"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "1dcd64e7361cce75df1efdae3456278b4097b386",
            "parents": [
                "7f89e4d1f8c819c1629d3e98435f0ab782a4fe32"
            ],
            "ref": "refs/changes/10/53910/1",
            "uploader": {
                "name": "Sheldon Bailey",
                "email": "baileysh@us.ibm.com",
                "username": "baileysh"
            },
            "createdOn": 1653310126,
            "author": {
                "name": "Sheldon Bailey",
                "email": "baileysh@us.ibm.com",
                "username": "baileysh"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "pldm.cpp",
                    "line": 170,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "I think we should only clear this when master OCC gets an active state (Active/Observation/Characterization)"
                },
                {
                    "file": "pldm.cpp",
                    "line": 170,
                    "reviewer": {
                        "name": "Sheldon Bailey",
                        "email": "baileysh@us.ibm.com",
                        "username": "baileysh"
                    },
                    "message": "Done"
                },
                {
                    "file": "powermode.cpp",
                    "line": 1069,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "If we were in safe mode, and our app got restarted, this value would be false.\nThen if OCCs went active, we would not update because it didn't change.\nMaybe read the dbus property when app restarts?"
                },
                {
                    "file": "powermode.cpp",
                    "line": 1069,
                    "reviewer": {
                        "name": "Sheldon Bailey",
                        "email": "baileysh@us.ibm.com",
                        "username": "baileysh"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "pldm.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -2
                },
                {
                    "file": "powermode.cpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "pldm.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "occ_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "occ_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": 0
                },
                {
                    "file": "powermode.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 65,
            "sizeDeletions": 2
        },
        {
            "number": 2,
            "revision": "d19d48f11c8211bc455c96ef41a8383a61a78c6b",
            "parents": [
                "c8dd45999f3f284b791eb226d0643e35a403c079"
            ],
            "ref": "refs/changes/10/53910/2",
            "uploader": {
                "name": "Sheldon Bailey",
                "email": "baileysh@us.ibm.com",
                "username": "baileysh"
            },
            "createdOn": 1653604362,
            "author": {
                "name": "Sheldon Bailey",
                "email": "baileysh@us.ibm.com",
                "username": "baileysh"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "pldm.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -2
                },
                {
                    "file": "powermode.cpp",
                    "type": "MODIFIED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "pldm.cpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "occ_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "occ_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "powermode.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 89,
            "sizeDeletions": 2
        },
        {
            "number": 3,
            "revision": "c00570136fb27511f27048821337fa74f658b4b1",
            "parents": [
                "c8dd45999f3f284b791eb226d0643e35a403c079"
            ],
            "ref": "refs/changes/10/53910/3",
            "uploader": {
                "name": "Sheldon Bailey",
                "email": "baileysh@us.ibm.com",
                "username": "baileysh"
            },
            "createdOn": 1653604671,
            "author": {
                "name": "Sheldon Bailey",
                "email": "baileysh@us.ibm.com",
                "username": "baileysh"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "pldm.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -2
                },
                {
                    "file": "powermode.cpp",
                    "type": "MODIFIED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "pldm.cpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "occ_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "occ_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "powermode.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 91,
            "sizeDeletions": 2
        },
        {
            "number": 4,
            "revision": "f4754802c73e0ff15ef9ecd5caa19434508ac93a",
            "parents": [
                "c8dd45999f3f284b791eb226d0643e35a403c079"
            ],
            "ref": "refs/changes/10/53910/4",
            "uploader": {
                "name": "Sheldon Bailey",
                "email": "baileysh@us.ibm.com",
                "username": "baileysh"
            },
            "createdOn": 1653604920,
            "author": {
                "name": "Sheldon Bailey",
                "email": "baileysh@us.ibm.com",
                "username": "baileysh"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "powermode.cpp",
                    "line": 1067,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "because the PowerMode class is derived from the ModeInterface, you will havee functions on the base class called bool safeMode() and bool safeMode(bool arg).\n\nsafeMode(bool)  will check if the values change as well I'm pretty sure, but I think this function, if you even want to keep it, can boil down to something like:\n\nif (safeMode() != safeMode())\n{\n   safeMode(safeMode)\n  }"
                },
                {
                    "file": "powermode.cpp",
                    "line": 1067,
                    "reviewer": {
                        "name": "Sheldon Bailey",
                        "email": "baileysh@us.ibm.com",
                        "username": "baileysh"
                    },
                    "message": "I have tried to figure out your comment,, and safeMode is a dbus and is not in any class.. so I am a little lost on how it gets to  bool safeMode() and bool safeMode(bool arg).  I have tried to qualify the function to PowerMode or ModeInterface, but so far nothing I try will compile."
                },
                {
                    "file": "powermode.cpp",
                    "line": 1067,
                    "reviewer": {
                        "name": "Sheldon Bailey",
                        "email": "baileysh@us.ibm.com",
                        "username": "baileysh"
                    },
                    "message": "Done"
                },
                {
                    "file": "powermode.cpp",
                    "line": 1083,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "you shouldn't need this function since you can just use the safeMode() in the derived class()"
                },
                {
                    "file": "powermode.cpp",
                    "line": 1083,
                    "reviewer": {
                        "name": "Sheldon Bailey",
                        "email": "baileysh@us.ibm.com",
                        "username": "baileysh"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "pldm.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -2
                },
                {
                    "file": "powermode.cpp",
                    "type": "MODIFIED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "pldm.cpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "occ_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "occ_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "powermode.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 93,
            "sizeDeletions": 2
        },
        {
            "number": 5,
            "revision": "c787027c7c44e9d33ab05a6c4563d3b272f90014",
            "parents": [
                "c8dd45999f3f284b791eb226d0643e35a403c079"
            ],
            "ref": "refs/changes/10/53910/5",
            "uploader": {
                "name": "Sheldon Bailey",
                "email": "baileysh@us.ibm.com",
                "username": "baileysh"
            },
            "createdOn": 1654014550,
            "author": {
                "name": "Sheldon Bailey",
                "email": "baileysh@us.ibm.com",
                "username": "baileysh"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "pldm.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -2
                },
                {
                    "file": "powermode.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "pldm.cpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "occ_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "occ_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "powermode.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 64,
            "sizeDeletions": 2
        },
        {
            "number": 6,
            "revision": "31a2f13a0c6800ad698398ac0daeb58a805cccf7",
            "parents": [
                "9789e71f254c4f543c5eabffb0c4ac963b605eb9"
            ],
            "ref": "refs/changes/10/53910/6",
            "uploader": {
                "name": "Sheldon Bailey",
                "email": "baileysh@us.ibm.com",
                "username": "baileysh"
            },
            "createdOn": 1654016203,
            "author": {
                "name": "Sheldon Bailey",
                "email": "baileysh@us.ibm.com",
                "username": "baileysh"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "pldm.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -2
                },
                {
                    "file": "powermode.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "pldm.cpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "occ_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "occ_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "powermode.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 64,
            "sizeDeletions": 2
        }
    ]
}