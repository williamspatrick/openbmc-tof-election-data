{
    "project": "openbmc/phosphor-logging",
    "branch": "master",
    "id": "Iaa56e2354e77deb268bfde0df95f873bc52eb28f",
    "number": 51483,
    "subject": "PEL: Add GPIOError to message_registry",
    "owner": {
        "email": "alpu8007@gmail.com",
        "username": "Alpana07"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-logging/+/51483",
    "commitMessage": "PEL: Add GPIOError to message_registry\n\nAny GPIO line failed to be found or read will log PEL\nwith this error interface.\nThis following commit introduced this new error-\nhttps://gerrit.openbmc-project.xyz/c/openbmc/openpower-vpd-parser/+/51475\n\nSigned-off-by: Alpana Kumari <alpankum@in.ibm.com>\nChange-Id: Iaa56e2354e77deb268bfde0df95f873bc52eb28f\n",
    "createdOn": 1645635169,
    "lastUpdated": 1646250668,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1645635169,
            "reviewer": {
                "email": "alpu8007@gmail.com",
                "username": "Alpana07"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1645635191,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1645635191,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1645635922,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/37899/ : SUCCESS"
        },
        {
            "timestamp": 1645731946,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1645732010,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1645766785,
            "reviewer": {
                "email": "alpu8007@gmail.com",
                "username": "Alpana07"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1645803808,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1646042575,
            "reviewer": {
                "email": "alpu8007@gmail.com",
                "username": "Alpana07"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1646068651,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1646107369,
            "reviewer": {
                "name": "Santosh Puranik",
                "email": "santosh.puranik@in.ibm.com",
                "username": "santoshpuranik"
            },
            "message": "Patch Set 1: Code-Review-1\n\n(2 comments)"
        },
        {
            "timestamp": 1646114644,
            "reviewer": {
                "email": "alpu8007@gmail.com",
                "username": "Alpana07"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1646135906,
            "reviewer": {
                "email": "alpu8007@gmail.com",
                "username": "Alpana07"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1646135919,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1646135919,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1646135963,
            "reviewer": {
                "email": "alpu8007@gmail.com",
                "username": "Alpana07"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1646136635,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/38223/ : SUCCESS"
        },
        {
            "timestamp": 1646137019,
            "reviewer": {
                "name": "Santosh Puranik",
                "email": "santosh.puranik@in.ibm.com",
                "username": "santoshpuranik"
            },
            "message": "Patch Set 2: Code-Review-1\n\n(2 comments)"
        },
        {
            "timestamp": 1646141820,
            "reviewer": {
                "email": "alpu8007@gmail.com",
                "username": "Alpana07"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1646141850,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1646141851,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1646142564,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/38233/ : SUCCESS"
        },
        {
            "timestamp": 1646156726,
            "reviewer": {
                "email": "alpu8007@gmail.com",
                "username": "Alpana07"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1646156848,
            "reviewer": {
                "name": "Santosh Puranik",
                "email": "santosh.puranik@in.ibm.com",
                "username": "santoshpuranik"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1646173432,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 3: Code-Review+2"
        },
        {
            "timestamp": 1646236965,
            "reviewer": {
                "email": "alpu8007@gmail.com",
                "username": "Alpana07"
            },
            "message": "Change has been successfully rebased and submitted as 074ec5b18a3250922d3ac181c1fd28d059020c2e"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "72a57361236af59c833f6127b5516097e0699586",
            "parents": [
                "31d78f77034a895c07a14475f67e4303aea08938"
            ],
            "ref": "refs/changes/83/51483/1",
            "uploader": {
                "email": "alpu8007@gmail.com",
                "username": "Alpana07"
            },
            "createdOn": 1645635169,
            "author": {
                "email": "alpu8007@gmail.com",
                "username": "Alpana07"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 3570,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "These errors may be different enough to need different PELs so the right callouts can be used.\n\nNot being able to be found sounds like a code problem, so you could add\n                    \"CalloutList\": [\n                        { \"Priority\": \"high\", \"Procedure\": \"bmc_code\" }\n                    ]\nhere.\n\nHowever I think a read failure is a hardware problem?\nThere's a few different ways to callout I2C failures if you just know bus details by setting things in the additional data fields:\nhttps://github.com/openbmc/phosphor-logging/tree/master/extensions/openpower-pels#callout_device_path-with-callout_errno.  note that we don't actually need the errno if it isn't available."
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 3570,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "I should add,glancing at the commit you referenced is what made me thing it was all I2C related."
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 3570,
                    "reviewer": {
                        "email": "alpu8007@gmail.com",
                        "username": "Alpana07"
                    },
                    "message": "Yes. this is I2C callout only\nwe are adding I2C details in PEL - https://gerrit.openbmc-project.xyz/c/openbmc/openpower-vpd-parser/+/51475/3/ibm_vpd_app.cpp#614\n\nThis error is defined with inherit iic callout-\nPDI- https://github.com/ibm-openbmc/phosphor-dbus-interfaces/pull/37"
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 3570,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Thanks.  Looks like that does happen, but only for one of the cases? \n\nWhat about the case where the GPIO just can't be found?  Seems like a BMC code callout would be good there."
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 3570,
                    "reviewer": {
                        "email": "alpu8007@gmail.com",
                        "username": "Alpana07"
                    },
                    "message": "No, this is same for all the cases.\nJust that doing it in all the cases will be repetitive code so I'm making the code optimised, that will come up with new patch set.\nSO in every gpios failure case we will callout respective I2C and it is approved by Santosh Puranik , he said he will score it +1"
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 3570,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "sounds good.\n\nSo is the \"couldn't be found\" scenario not applicable anymore, since that wouldn't need an IIC callout?  If so, could you remove it from the Message text just so it doesn't confuse people?"
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 3570,
                    "reviewer": {
                        "email": "alpu8007@gmail.com",
                        "username": "Alpana07"
                    },
                    "message": "Ack"
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 3575,
                    "reviewer": {
                        "name": "Santosh Puranik",
                        "email": "santosh.puranik@in.ibm.com",
                        "username": "santoshpuranik"
                    },
                    "message": "The grammar here could be cleaned up. How about:\n\n\"The BMC could not access a GPIO line. This generally means that the hardware had issues toggling the line and/or the device driver has not exposed the GPIO line to userspace due to underlying I2C issues. The I2C path will be called out.\""
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 3575,
                    "reviewer": {
                        "email": "alpu8007@gmail.com",
                        "username": "Alpana07"
                    },
                    "message": "Done"
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 3580,
                    "reviewer": {
                        "name": "Santosh Puranik",
                        "email": "santosh.puranik@in.ibm.com",
                        "username": "santoshpuranik"
                    },
                    "message": "Please clean up this TAB"
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 3580,
                    "reviewer": {
                        "email": "alpu8007@gmail.com",
                        "username": "Alpana07"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 39,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "da7b1f1da755d99c1d2793438126acfcf846903b",
            "parents": [
                "31d78f77034a895c07a14475f67e4303aea08938"
            ],
            "ref": "refs/changes/83/51483/2",
            "uploader": {
                "email": "alpu8007@gmail.com",
                "username": "Alpana07"
            },
            "createdOn": 1646135906,
            "author": {
                "email": "alpu8007@gmail.com",
                "username": "Alpana07"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Santosh Puranik",
                        "email": "santosh.puranik@in.ibm.com",
                        "username": "santoshpuranik"
                    },
                    "message": "Still have some TABS"
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 3575,
                    "reviewer": {
                        "name": "Santosh Puranik",
                        "email": "santosh.puranik@in.ibm.com",
                        "username": "santoshpuranik"
                    },
                    "message": "TABS"
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "line": 3575,
                    "reviewer": {
                        "email": "alpu8007@gmail.com",
                        "username": "Alpana07"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 39,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "6f3f45f0c486ca3936749c3461718f15e6075700",
            "parents": [
                "31d78f77034a895c07a14475f67e4303aea08938"
            ],
            "ref": "refs/changes/83/51483/3",
            "uploader": {
                "email": "alpu8007@gmail.com",
                "username": "Alpana07"
            },
            "createdOn": 1646141820,
            "author": {
                "email": "alpu8007@gmail.com",
                "username": "Alpana07"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 39,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "074ec5b18a3250922d3ac181c1fd28d059020c2e",
            "parents": [
                "c865ed9ffa06055df3d04811ab73e6b459d06e8d"
            ],
            "ref": "refs/changes/83/51483/4",
            "uploader": {
                "email": "alpu8007@gmail.com",
                "username": "Alpana07"
            },
            "createdOn": 1646236965,
            "author": {
                "email": "alpu8007@gmail.com",
                "username": "Alpana07"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "extensions/openpower-pels/registry/message_registry.json",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 39,
            "sizeDeletions": 0
        }
    ]
}