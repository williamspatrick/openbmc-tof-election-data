{
    "project": "openbmc/docs",
    "branch": "master",
    "id": "I13d20ac58da58371562da5b1904087c6bb8f5bdf",
    "number": 44547,
    "subject": "designs: add design for Redfish aggregation",
    "owner": {
        "name": "Deepak Kodihalli",
        "email": "deepak.kodihalli.83@gmail.com",
        "username": "dkodihal"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/docs/+/44547",
    "commitMessage": "designs: add design for Redfish aggregation\n\nThis design outlines a mechanism for a central BMC to aggregate Redfish\ncontent from satellite BMCs into its own Redfish model.\n\nSigned-off-by: Deepak Kodihalli <deepak.kodihalli.83@gmail.com>\nChange-Id: I13d20ac58da58371562da5b1904087c6bb8f5bdf\n",
    "createdOn": 1624972262,
    "lastUpdated": 1649898132,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1624972262,
            "reviewer": {
                "name": "Deepak Kodihalli",
                "email": "deepak.kodihalli.83@gmail.com",
                "username": "dkodihal"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1625528864,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "message": "Patch Set 1:\n\n(10 comments)\n\nNice doc Deepak, a big chunk of function that will add a great feature into OpenBMC."
        },
        {
            "timestamp": 1625615165,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(45 comments)\n\nLots of comments;  Overall I think this would be useful, but am I little worried about the details, and the amount of scope this one document is taking on.  I'm happy to discuss in individual patchsets as this is incrementally added, but please ensure that as you're doing this work, you're separating the new code from the refactored old code, as I suspect there will be a lot of conflicts."
        },
        {
            "timestamp": 1625615250,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\nAs an aside, this is one of those times where I wish we'd adopted the go-redfish (now called sailfish) model of tracking a \"real\" resource tree within the redfish implementation.  That would solve a lot of issues that are going to pop up with this design;  Part of me wonders if we could use the existing code to build the resource tree model directly, and deprecate the route handlers."
        },
        {
            "timestamp": 1625663629,
            "reviewer": {
                "name": "Deepak Kodihalli",
                "email": "deepak.kodihalli.83@gmail.com",
                "username": "dkodihal"
            },
            "message": "Patch Set 1:\n\nThanks for the review, Andrew and Ed. I will respond to comments asap."
        },
        {
            "timestamp": 1629897850,
            "reviewer": {
                "name": "Deepak Kodihalli",
                "email": "deepak.kodihalli.83@gmail.com",
                "username": "dkodihal"
            },
            "message": "Patch Set 1:\n\n(49 comments)"
        },
        {
            "timestamp": 1631224476,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 1:\n\n(5 comments)"
        },
        {
            "timestamp": 1631682766,
            "reviewer": {
                "name": "Deepak Kodihalli",
                "email": "deepak.kodihalli.83@gmail.com",
                "username": "dkodihal"
            },
            "message": "Patch Set 1:\n\n(4 comments)"
        },
        {
            "timestamp": 1632431919,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1632795607,
            "reviewer": {
                "name": "Josh Lehan",
                "email": "krellan@google.com",
                "username": "Krellan"
            },
            "message": "Patch Set 1: Code-Review+1\n\nLGTM - This is a good document."
        },
        {
            "timestamp": 1632796214,
            "reviewer": {
                "name": "Josh Lehan",
                "email": "krellan@google.com",
                "username": "Krellan"
            },
            "message": "Patch Set 1:\n\n(5 comments)"
        },
        {
            "timestamp": 1632799287,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1632931136,
            "reviewer": {
                "name": "Deepak Kodihalli",
                "email": "deepak.kodihalli.83@gmail.com",
                "username": "dkodihal"
            },
            "message": "Patch Set 1:\n\n(3 comments)"
        },
        {
            "timestamp": 1632931160,
            "reviewer": {
                "name": "Deepak Kodihalli",
                "email": "deepak.kodihalli.83@gmail.com",
                "username": "dkodihal"
            },
            "message": "Patch Set 1:\n\n> Patch Set 1: Code-Review+1\n> \n> LGTM - This is a good document.\n\nThanks. Will push an update to address some of the comments."
        },
        {
            "timestamp": 1632931188,
            "reviewer": {
                "name": "Deepak Kodihalli",
                "email": "deepak.kodihalli.83@gmail.com",
                "username": "dkodihal"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1632951999,
            "reviewer": {
                "name": "Josh Lehan",
                "email": "krellan@google.com",
                "username": "Krellan"
            },
            "message": "Patch Set 2: Code-Review+1\n\nLGTM - I read through the differences and it's a good improvement and adds clarity."
        },
        {
            "timestamp": 1633366414,
            "reviewer": {
                "name": "Milton D. Miller II",
                "email": "miltonm@us.ibm.com",
                "username": "mdmillerii"
            },
            "message": "Patch Set 2:\n\n(2 comments)\n\nI hven't gotten very far in this review but wanted to give first impressions of the start of the read."
        },
        {
            "timestamp": 1646357842,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1649898132,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "6f36aa329d7d3b3bbf8d2154c3708d5d70d126ce",
            "parents": [
                "49e1b0e34c7062b3d33831feb66c2d10870266cd"
            ],
            "ref": "refs/changes/47/44547/1",
            "uploader": {
                "name": "Deepak Kodihalli",
                "email": "deepak.kodihalli.83@gmail.com",
                "username": "dkodihal"
            },
            "createdOn": 1624972262,
            "author": {
                "name": "Deepak Kodihalli",
                "email": "deepak.kodihalli.83@gmail.com",
                "username": "dkodihal"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 14,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "nit: spelling"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 14,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 35,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "This is something addressed in this doc or something we could build on later if needed?"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 35,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "+1  This really feels like a secondary design once a \"simple\" aggregator is in place.  With that said, if it has design constraints for this, I'm ok with calling it out, but we should call out the design constraints as well."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 35,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "I think I will set the scope of this doc to a \"simple\" aggregator. Failover from one Aggregator to another (if relevant) can be a secondary design."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 39,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "nit: spelling"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 39,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 79,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Considering OpenBMC doesn't currently enable SSDP (ie redfish discovery), it would seem like an SSDP design doc would need to come first."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 79,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Right, I think that can be dealt with as a separate commit. For the \"simple\" aggregator, I will go with the Aggregator having prior knowledge (peer to peer link)."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 85,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Does this also include authorization for individual aggregated resources? The aggregating BMC may want to use different ACLs to control access to resources from the satellite BMCs than what is used by the satellite BMCs themselves."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 85,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Not sure I followed, can you provide an example?"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 85,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Let's say a satellite BMC is on a tray with a bunch of disks and the BMC firmware and Redfish implementation is provided by a third party. They've chosen particular permission levels to reset the disks, update their firmware, etc. but we disagree with those permissions when exposing the resources through our aggregation layer. Instead we want to enforce different permissions when an external user wants to reset the disks or update their firmware through the aggregated Redfish service."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 85,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "I got it. This is not included currently in the proposal. The satellite BMCs will implement standard authentication and authorizaion."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 86,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Is this a requirement?  Shouldn't each bmc be implementing its own authorization?\n\n\nAlso, lots more detail needed here on what's required."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 86,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 88,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Only doing top level seems incorrect."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 88,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 94,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Can we just call this out as \"all\".  This list implies we're going to pick and choose schemas, which we shouldn't be."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 94,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 98,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Can we rephrase this;  \"URI fix ups\" is a little fuzzy, can we just say something like:\n\n\"The Aggregator shall support cases where the satellite controller has similar URIs to the Host BMC.\""
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 98,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Borrowed the term from DSP0266. Will rephrase."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 100,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "This part worries me a bit. A lot of special code sprinkled throughout bmcweb. Anything we can do in the satellites to have them provide the right info from the beginning would be worthwhile."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 100,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "The satellites may not know about the Aggregator though. Need to think about this."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 102,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Similar to Andrews comment, I'd much rather we just call out what we want here.  \"Contains, ContainedBy, and CooledBy links shall be correct for a given system\".\n\nThere's some problem about where this data is going to come from, as the BMC doesn't necessarily just know these items."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 102,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 105,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit, this should be higher (probably requirement 1), because this is largely the point of the aggregator."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 105,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 114,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "How is this different than #4?"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 114,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "It's still an aggregation requirement. This is about aggregating services, which is different than aggregating resources alone."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 116,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "ok, so this is how the client knows which BMC is the aggregator?"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 116,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please don't use \"may\" in a requirement."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 116,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 116,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 120,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This sentence doesn't really add to the requirement.  Remove?"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 120,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 124,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I suspect this requirement isn't specific enough, and again uses \"may\".  If this is needed, please call out exactly what's required."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 124,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 135,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please remove.  This requirement is nowhere near specific enough.  If there are specific fan control resources that need exposed internally to OpenBMC, those should be called out."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 135,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 136,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "One thing we're adding more and more of is support for the Redfish Task service on long running things (like dumps or code updates). I assume the aggregator will have to support this for the satellites?"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 136,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Yes"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 141,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I suspect this can just be removed.  We will support anything that supports Redfish to the specification, and the specification does not require the use of globally unique IDs, so we should code against that.\n\nIf you think uris should be enforced to contain UUIDs, that's something to take up with DMTF."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 141,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 153,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "No, it can't.  bmcweb uses a single threaded async reactor model, libredfish uses libcurl.\n\nlibredfish also has significant license constraints that should be discussed at the TSC level before it's used within this project."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 153,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Could you elaborate on both these points? I'll look at libcurl, but is your point that it makes async IO impossible? What are the license constraints?"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 153,
                    "reviewer": {
                        "name": "Josh Lehan",
                        "email": "krellan@google.com",
                        "username": "Krellan"
                    },
                    "message": "This is a legal/license restriction, not a technical limitation, correct?"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 153,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Sorry for the late response, I didn't see this.  Yes, my point is that it makes async io (without threads and mutexes) impossible.  We have an HTTP client in bmcweb already using asio that's used for event service, we should abstract that code to make it a generic client, which it's pretty close to being already.\n\nThe legal restriction is because DMTF uses an odd license (BSD-3 clause with patent addition) that doesn't necessarily agree with most orgs automatically.  I don't fully understand the linking rules around BSD + apache 2, although these could likely be solved."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 153,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Revisit - libredfish only in impact."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 163,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "nit: spelling"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 163,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 164,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "I think you just need \"do\" here."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 164,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 165,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "If I read this right, you're saying we just hard code one of the BMC's to be the aggregator via an EEPROM value? What if that BMC is replaced or becomes non-functional? Could it be the BMC's all compare their value and the lowest or highest value becomes the aggregator?"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 165,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "I haven't described how a failover would happen in this doc."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 165,
                    "reviewer": {
                        "name": "Josh Lehan",
                        "email": "krellan@google.com",
                        "username": "Krellan"
                    },
                    "message": "Failover voting can be really non-trivial. There's lots of historical examples in NetBIOS (Windows Network Neighborhood) when the elected leader node suddenly goes offline and then things mysteriously break."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 167,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I read this, but I don't understand what it means.  Presumably all bmcweb implementations could be aggregators, and have no ill effects if there are no listed clients, right?"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 167,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "> Presumably all bmcweb implementations could be aggregators, and have no ill effects if there are no listed clients, right?\n\nYes, I'll reprhase."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 172,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Why does this need to be configurable?  Shouldn't a redfish server aggregate all known clients?"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 172,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Good point, will correct."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 177,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Redfish specifies SSDP.  If we're going to deviate, we should:\n\n1. Have a discussion with DMTF about our concerns.\n2. Have a design doc specifically about this discovery protocol"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 177,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 184,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Where will this interface be hosted?"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 184,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "I was thinking phosphor-networkd."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 194,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I thought session service was not required?  This seems like something we should bring up with dmtf and understand their intent."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 194,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Okay, DSP0266 says it is required. AuthNone is only in the context of HostInterface. Also see https://redfishforum.com/thread/501/applicability-hostinterface-schema."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 194,
                    "reviewer": {
                        "name": "Josh Lehan",
                        "email": "krellan@google.com",
                        "username": "Krellan"
                    },
                    "message": "It would be a challenge to pass through the authentication, especially if the satellite BMCs have different authentication needs from one another. We might need to require that all BMCs in an aggregation realm be consistent with respect to authentication."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 197,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This would imply that the credentials are hardcoded, which is against generally accepted security practices."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 197,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Agree, need to think of other mechanisms."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 216,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This is a ton of work, and probably deserves a design doc on its own.  Today bmcweb doesn't have an abstraction for generalized collections, or the resource model.  This effort would need to change that, which is non trivial.  I don't see any mention of the specifics around that."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 216,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 234,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This implies that bmcweb is now caching?  That might be ok, but we need an understanding of caching as a wholistic bmcweb thing, and not tied specifically to aggregated resources."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 234,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 236,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "See above, I don't believe the libredfish license or code is going to work inside bmcweb."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 244,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Connection pooling?  Error handling?  There looks like there's a few blocks missing here."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 244,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 245,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "nit: spaces"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 245,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 249,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Can we call this \"client\" or something more descriptive.  Presumably each of these is not a proxy."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 249,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 255,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "See above, I'm pretty certain this doesn't work in the current bmcweb design unless there's some kind of caching added, and in that case, I'd like to see it generalized, not specific to aggregation.\n\nSaid another way, bmcweb for the most part does not store state, I would not expect that to change after this design.  This design implies that it will change, but doesn't outright call it out, or explain the advantages of making bmcweb stateful."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 255,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 265,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit, typo."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 265,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 268,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This is more state that would need to be stored, I suspect we need a stateless solution here."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 268,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Will think about stateless."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 268,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "One way this could be done is in a deterministic way. e.g. just prefix with an identifier for the satellite BMC that's providing the resource"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 268,
                    "reviewer": {
                        "name": "Josh Lehan",
                        "email": "krellan@google.com",
                        "username": "Krellan"
                    },
                    "message": "Other text and examples seem to imply that the URL uniqueness requirement will be handled by having a \"subdirectory\" in the URL for each satellite BMC. This will also provide a way to uniquely name each satellite BMC, and imply that there needs to be a \"name\" field in the aggregator's configuration section for each satellite BMC."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 268,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 271,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I'm not understanding the PATCH part of this.  Can you elaborate?"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 271,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 307,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "These are both the same. Wouldn't this be an example of a URI fixup that the aggregator needs to do to prevent a collision?"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 307,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 336,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "My only concern on implementation is that bmcweb is already a large piece of software, and this is going to add some more. Whatever we can do not embed this in existing functions and make more testable is what I vote for."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 336,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "My suggestion would be that we should implement routes for all Redfish things, and handle 404 appropriately if aggregation is disabled, or if the client implementation doesn't support the resource in question."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 336,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Presumably this will be a completely separate path.  If it were me, I would expect that external entities would have a completely disparate URI path, so we can completely separate them out, but that's getting more into the details than we probably should in a design doc."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 336,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 338,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "No, they shouldn't.  bmcweb caching should be a global behavior, not specific to aggregated resources, as it breaks the stateless model of bmcweb, and I don't want to maintain X different caching mechanisms."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 338,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 357,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "When wrapped at 80 charsthis doesn't really help much.  Any chance you could look at this review and make it render better?"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 357,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 370,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Why is this called out explicitly?  Assuming we handle the forwarding properly, doesn't this \"just work\"?"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 370,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 404,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This seems like something important that we should discuss with DMTF.  This is going to expose N different users to the outside world, which seems like it would break the abstraction of looking like a single aggregator."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 404,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 412,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This wasnt called out in requirements."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 412,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 415,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This doesn't work if the aggregated client isn't routable to the outside network.  EventDestination is likely only accessible through the main bmc."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 415,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 417,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "SSE is currently non-functional on OpenBMC.  If you're interested, feel free to put patches to fix it."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 417,
                    "reviewer": {
                        "name": "Josh Lehan",
                        "email": "krellan@google.com",
                        "username": "Krellan"
                    },
                    "message": "What does SSE mean in this context? I'm assuming not SSE as in MMX/SSE instructions."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 425,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This probably deserves a design doc on its own, considering how complex it is."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 425,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 434,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Can this be treated as a second effort.  While I think this is useful, I suspect this is going to have a lot of design impacts we should discuss;  For example, should this be bmcweb responsible for doing sensor polling, or a separate service that also keys off the sattellite data?  what does the configuration look like?  Are all sensors exposed, or only a subset?"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 434,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 436,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Can you talk about the alternative of using a separate daemon instead of bmcweb, and why that approach is less desirable?"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 436,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 449,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This feels like a requirement, not an impact.  The impact is that bmcweb is now required to store secrets, which should be well understood in the security model somewhere."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 449,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 453,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "That's also probably a requirement, not an impact."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 453,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 456,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "and license, which for the moment is fairly incompatible with bmcweb and general openbmc due to the final clause.  This is outside the scope of this discussion though."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 461,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "One sentence isn't really an acceptable testing statement.  This is a major feature and will require lots of testing, including failure modes, which you should be prepared to simulate, given that the aggregator will need specific behaviors in the case of failures."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 461,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Will add details."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "type": "ADDED",
                    "insertions": 475,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 488,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "a1b473f27df74a09cb6056bf9950d62407e2d0f9",
            "parents": [
                "d55349e10ec2432886b26b00322ef0eaff2b919a"
            ],
            "ref": "refs/changes/47/44547/2",
            "uploader": {
                "name": "Deepak Kodihalli",
                "email": "deepak.kodihalli.83@gmail.com",
                "username": "dkodihal"
            },
            "createdOn": 1632931188,
            "author": {
                "name": "Deepak Kodihalli",
                "email": "deepak.kodihalli.83@gmail.com",
                "username": "dkodihal"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 51,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "I was confused by this paragraph introducing simple as an alias or synonym for implicit, especially with Ed's comment to line 35 for a simple complex scope.  I haven't gotten much further in my research other than to not find the term simple in the introductory text of the standard."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 170,
                    "reviewer": {
                        "name": "Milton D. Miller II",
                        "email": "miltonm@us.ibm.com",
                        "username": "mdmillerii"
                    },
                    "message": "Just a quick scan, but have you considered certificate / mTLS from the aggregator to the sattelite BMCs?   We may still need additional mechanisms to ensure user role / permissions are  enforced."
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 176,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "Would we not want to also provide the port #?"
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "line": 187,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "These should likely each be a stanza in the \"Exposes\" section with named properties for Hostname, AuthType, Username, etc.\n\ne.g.:\n\n\n```\n{\n    \"Exposes\": [\n        {\n            \"Hostname\": \"::1\",\n            \"Port\": \"443\",\n            \"AuthType\": \"session-login\",\n            \"Name\": \"aggregated0\",\n            \"Type\": \"SatelliteController\"\n        }\n    ],\n    \"Name\": \"MySmartTray\",\n    \"Probe\": \"TRUE\",\n    \"Type\": \"Board\",\n    \"xyz.openbmc_project.Inventory.Item.Chassis\": {\n        \"Type\": \"xyz.openbmc_project.Inventory.Item.Chassis.ChassisType.Tray\"\n    }\n}\n```"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "designs/redfish-aggregation.md",
                    "type": "ADDED",
                    "insertions": 434,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 447,
            "sizeDeletions": 0
        }
    ]
}