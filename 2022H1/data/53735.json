{
    "project": "openbmc/bios-bmc-smm-error-logger",
    "branch": "main",
    "id": "I75c98a39f43d3f7103583171979ce87515c9083d",
    "number": 53735,
    "subject": "Add basic main and meson.build",
    "owner": {
        "name": "Brandon Kim",
        "email": "brandonkim@google.com",
        "username": "brandonkimbk"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bios-bmc-smm-error-logger/+/53735",
    "commitMessage": "Add basic main and meson.build\n\nMain just runs very 1 second, based on the asio timer example.\n\nTested: Added a debug fprint and verified that it runs every 1 second\n\nSigned-off-by: Brandon Kim <brandonkim@google.com>\nChange-Id: I75c98a39f43d3f7103583171979ce87515c9083d\n",
    "createdOn": 1652654548,
    "lastUpdated": 1652815175,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1652654548,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1652654575,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Uploaded patch set 2: New patch set was added with same tree, parent, and commit message as Patch Set 1."
        },
        {
            "timestamp": 1652654595,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1652654791,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1652657585,
            "reviewer": {
                "name": "Kasun Athukorala",
                "email": "kasunath@google.com",
                "username": "kasunathg"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1652658679,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1652660622,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 5:\n\n(6 comments)"
        },
        {
            "timestamp": 1652668390,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 5:\n\n(6 comments)"
        },
        {
            "timestamp": 1652669424,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1652679289,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 6:\n\n(4 comments)"
        },
        {
            "timestamp": 1652739267,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 6:\n\n(4 comments)"
        },
        {
            "timestamp": 1652739504,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1652739513,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1652739513,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1652739566,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/43330/ : SUCCESS"
        },
        {
            "timestamp": 1652739623,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 7: Code-Review+2"
        },
        {
            "timestamp": 1652815175,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Change has been successfully merged"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "758cd1e5a0a03fc3ae49eb45b659594cff87cd9d",
            "parents": [
                "638384c516aea8b157cf45c4dac3900ead2140cb"
            ],
            "ref": "refs/changes/35/53735/1",
            "uploader": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "createdOn": 1652654548,
            "author": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "main.cpp",
                    "type": "ADDED",
                    "insertions": 26,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 52,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "c03cfca3d93482a63c209dfa67b0eb2f9802da33",
            "parents": [
                "638384c516aea8b157cf45c4dac3900ead2140cb"
            ],
            "ref": "refs/changes/35/53735/2",
            "uploader": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "createdOn": 1652654575,
            "author": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "kind": "NO_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "main.cpp",
                    "type": "ADDED",
                    "insertions": 26,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 52,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "69e26d91bba110d07e8d4fd06cadaa90e1706191",
            "parents": [
                "638384c516aea8b157cf45c4dac3900ead2140cb"
            ],
            "ref": "refs/changes/35/53735/3",
            "uploader": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "createdOn": 1652654595,
            "author": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "main.cpp",
                    "type": "ADDED",
                    "insertions": 26,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 52,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "f2c2a90bcee7306f6d3f97b70571dca73f8b3d81",
            "parents": [
                "638384c516aea8b157cf45c4dac3900ead2140cb"
            ],
            "ref": "refs/changes/35/53735/4",
            "uploader": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "createdOn": 1652654791,
            "author": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "src/main.cpp",
                    "type": "ADDED",
                    "insertions": 26,
                    "deletions": 0
                },
                {
                    "file": "src/meson.build",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 67,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "245eb34fd448d2e7f191bfee0c5bc696a2732a26",
            "parents": [
                "638384c516aea8b157cf45c4dac3900ead2140cb"
            ],
            "ref": "refs/changes/35/53735/5",
            "uploader": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "createdOn": 1652658679,
            "author": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/main.cpp",
                    "line": 4,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "nit: remove std::?"
                },
                {
                    "file": "src/main.cpp",
                    "line": 4,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Done + put this in an anonymous namespace"
                },
                {
                    "file": "src/main.cpp",
                    "line": 9,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "I think we want std::chrono now? I think the newer version of boost use std::chrono now. same with below."
                },
                {
                    "file": "src/main.cpp",
                    "line": 9,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Good point - changed to use std::chrono"
                },
                {
                    "file": "src/main.cpp",
                    "line": 10,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "`std::bind_front(read,t)` instead? same with below."
                },
                {
                    "file": "src/main.cpp",
                    "line": 10,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Neat, I didn't realize we got this new bind_front support from C++20 std::\n\nChanged."
                },
                {
                    "file": "src/main.cpp",
                    "line": 15,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "duplicate?"
                },
                {
                    "file": "src/main.cpp",
                    "line": 15,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Ah yeah will take this one out."
                },
                {
                    "file": "src/meson.build",
                    "line": 4,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "nit: should have space before it to line up with `dependencies`."
                },
                {
                    "file": "src/meson.build",
                    "line": 4,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/meson.build",
                    "line": 15,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "explicitly declare where it it installed. I am not sure what the default is."
                },
                {
                    "file": "src/meson.build",
                    "line": 15,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Yup, good point - default is bindir, but better to be explicit."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "src/main.cpp",
                    "type": "ADDED",
                    "insertions": 26,
                    "deletions": 0
                },
                {
                    "file": "src/meson.build",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 67,
            "sizeDeletions": 0
        },
        {
            "number": 6,
            "revision": "c6e2325875acc377d75e9eb19b38cceaa18d93eb",
            "parents": [
                "638384c516aea8b157cf45c4dac3900ead2140cb"
            ],
            "ref": "refs/changes/35/53735/6",
            "uploader": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "createdOn": 1652669424,
            "author": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/main.cpp",
                    "line": 2,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "not used anymore."
                },
                {
                    "file": "src/main.cpp",
                    "line": 2,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Yup good eye"
                },
                {
                    "file": "src/main.cpp",
                    "line": 11,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "let's just do this in this change.\n\nif you need a reference, you can take a look at `config.h` in https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-host-ipmid/+/47748/46/meson.build."
                },
                {
                    "file": "src/main.cpp",
                    "line": 11,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "I was thinking of having this set in a json config file instead - I'll make this a separate change.\n\nI guess I had this noted down in the internal design doc (which I should transfer to a README here instead)."
                },
                {
                    "file": "src/main.cpp",
                    "line": 26,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "this conversation should not be needed."
                },
                {
                    "file": "src/main.cpp",
                    "line": 26,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Ah yes, this was missed."
                },
                {
                    "file": "src/meson.build",
                    "line": 3,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "is this needed?"
                },
                {
                    "file": "src/meson.build",
                    "line": 3,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Let me try building again without it, I believe we needed it for async stuff.\n\nEdit: Yeah, underneath it, it uses pthread it looks like and requires this dependency:\n\n```\n[2/2] Linking target src/bios-bmc-smm-error-logger\nFAILED: src/bios-bmc-smm-error-logger\nc++  -o src/bios-bmc-smm-error-logger src/bios-bmc-smm-error-logger.p/main.cpp.o -Wl,--as-needed -Wl,--no-undefined\n/usr/bin/ld: src/bios-bmc-smm-error-logger.p/main.cpp.o: in function `boost::asio::detail::posix_event::posix_event()':\n/usr/include/boost/asio/detail/impl/posix_event.ipp:42: undefined reference to `pthread_condattr_setclock'\n```"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "src/main.cpp",
                    "type": "ADDED",
                    "insertions": 33,
                    "deletions": 0
                },
                {
                    "file": "src/meson.build",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 75,
            "sizeDeletions": 0
        },
        {
            "number": 7,
            "revision": "554fad0b4ae8d968cc1a49600aa04679c8763749",
            "parents": [
                "638384c516aea8b157cf45c4dac3900ead2140cb"
            ],
            "ref": "refs/changes/35/53735/7",
            "uploader": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "createdOn": 1652739504,
            "author": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "src/main.cpp",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "src/meson.build",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 73,
            "sizeDeletions": 0
        }
    ]
}