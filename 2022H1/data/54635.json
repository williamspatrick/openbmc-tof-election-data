{
    "project": "openbmc/openbmc-test-automation",
    "branch": "master",
    "id": "I7694d7bbb89bf1346236d7905fc53037777b2a07",
    "number": 54635,
    "subject": "Modified suite setup & teardown in test_bmc_network_conf",
    "owner": {
        "name": "aravinth0510",
        "email": "aravinthr@ami.com",
        "username": "aravinth0510"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/openbmc-test-automation/+/54635",
    "commitMessage": "Modified suite setup & teardown in test_bmc_network_conf\n\n- Updated Suite setup to check IPv4 AddressSource and set to static\nif it is in DHCP.\n\n- Added Suite teardown to restore IPv4 AddressSource to its\ninitial state .\n\nTested: Run robot redfish/managers/test_bmc_network_conf.robot\n\nSigned-off-by: Aravinth R  <aravinthr@ami.com>\nChange-Id: I7694d7bbb89bf1346236d7905fc53037777b2a07\n",
    "createdOn": 1655386355,
    "lastUpdated": 1657217669,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1655386355,
            "reviewer": {
                "name": "aravinth0510",
                "email": "aravinthr@ami.com",
                "username": "aravinth0510"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1655386381,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1655389105,
            "reviewer": {
                "name": "George Keishing",
                "email": "gkeishin@gmail.com",
                "username": "gkeishin"
            },
            "message": "Patch Set 1: Ok-To-Test+1"
        },
        {
            "timestamp": 1655389123,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/45147/ : SUCCESS"
        },
        {
            "timestamp": 1655390751,
            "reviewer": {
                "name": "Sweta Potthuri",
                "email": "spotthur@in.ibm.com",
                "username": "swe12345"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1655467755,
            "reviewer": {
                "name": "aravinth0510",
                "email": "aravinthr@ami.com",
                "username": "aravinth0510"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1655718094,
            "reviewer": {
                "name": "Sweta Potthuri",
                "email": "spotthur@in.ibm.com",
                "username": "swe12345"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1655789289,
            "reviewer": {
                "name": "Prashanth Katti",
                "email": "prkatti1@in.ibm.com",
                "username": "prkatti1"
            },
            "message": "Patch Set 1: Code-Review-1\n\n(1 comment)"
        },
        {
            "timestamp": 1656390973,
            "reviewer": {
                "name": "aravinth0510",
                "email": "aravinthr@ami.com",
                "username": "aravinth0510"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1656391022,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1656391072,
            "reviewer": {
                "name": "aravinth0510",
                "email": "aravinthr@ami.com",
                "username": "aravinth0510"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1656476873,
            "reviewer": {
                "name": "George Keishing",
                "email": "gkeishin@gmail.com",
                "username": "gkeishin"
            },
            "message": "Patch Set 2: Ok-To-Test+1"
        },
        {
            "timestamp": 1656476893,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/46106/ : SUCCESS"
        },
        {
            "timestamp": 1657032830,
            "reviewer": {
                "name": "Sridevi Ramesh",
                "email": "sridevra@in.ibm.com",
                "username": "SrideviRamesh"
            },
            "message": "Patch Set 2: Code-Review-1\n\n(7 comments)"
        },
        {
            "timestamp": 1657048706,
            "reviewer": {
                "name": "aravinth0510",
                "email": "aravinthr@ami.com",
                "username": "aravinth0510"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1657048805,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1657048896,
            "reviewer": {
                "name": "aravinth0510",
                "email": "aravinthr@ami.com",
                "username": "aravinth0510"
            },
            "message": "Patch Set 3:\n\n(7 comments)"
        },
        {
            "timestamp": 1657096431,
            "reviewer": {
                "name": "Prashanth Katti",
                "email": "prkatti1@in.ibm.com",
                "username": "prkatti1"
            },
            "message": "Patch Set 3: Code-Review-1\n\n(2 comments)"
        },
        {
            "timestamp": 1657099265,
            "reviewer": {
                "name": "aravinth0510",
                "email": "aravinthr@ami.com",
                "username": "aravinth0510"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1657099339,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1657099405,
            "reviewer": {
                "name": "aravinth0510",
                "email": "aravinthr@ami.com",
                "username": "aravinth0510"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1657101700,
            "reviewer": {
                "name": "George Keishing",
                "email": "gkeishin@gmail.com",
                "username": "gkeishin"
            },
            "message": "Patch Set 4: Ok-To-Test+1"
        },
        {
            "timestamp": 1657101722,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/46478/ : SUCCESS"
        },
        {
            "timestamp": 1657196902,
            "reviewer": {
                "name": "Prashanth Katti",
                "email": "prkatti1@in.ibm.com",
                "username": "prkatti1"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1657217666,
            "reviewer": {
                "name": "George Keishing",
                "email": "gkeishin@gmail.com",
                "username": "gkeishin"
            },
            "message": "Patch Set 4: Code-Review+2"
        },
        {
            "timestamp": 1657217669,
            "reviewer": {
                "name": "George Keishing",
                "email": "gkeishin@gmail.com",
                "username": "gkeishin"
            },
            "message": "Change has been successfully rebased and submitted as ca054eeea3a5df0923aebca014aa025b1143f427"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "ada474ce44458a13078b1d3e360608c16fb2229b",
            "parents": [
                "80ef5ca0bf08ac93d0f0ececf03d42d272389bd9"
            ],
            "ref": "refs/changes/35/54635/1",
            "uploader": {
                "name": "aravinth0510",
                "email": "aravinthr@ami.com",
                "username": "aravinth0510"
            },
            "createdOn": 1655386355,
            "author": {
                "name": "aravinth0510",
                "email": "aravinthr@ami.com",
                "username": "aravinth0510"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Prashanth Katti",
                        "email": "prkatti1@in.ibm.com",
                        "username": "prkatti1"
                    },
                    "message": "This is a good idea to run this suite on dhcp enabled BMC and restore BMC into original state/mode after execution.\nBut this code will bring system into non reachable state as soon as dhcp is disabled, if it is in DHCP mode. (If your BMC uses dynamic IP despite disabling DHCP you need to have defect)\nThese test cases are designed in such way that, primary IP address of BMC is untouched through out execution as to keep connectivity intact.\nSo same technique to be used here as well.\nIn suite setup:\n1. check if it is dhcp enabled\n2. If enabled, note down the IP & mode. Don't disable it.\n3. Configure Static IP on BMC, this IP should be the same IP that is noted down in step 2\n4. In suite teardown restore the mode."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "aravinth0510",
                        "email": "aravinthr@ami.com",
                        "username": "aravinth0510"
                    },
                    "message": "Have done the changes as suggested."
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 776,
                    "reviewer": {
                        "name": "Sweta Potthuri",
                        "email": "spotthur@in.ibm.com",
                        "username": "swe12345"
                    },
                    "message": "May be you can add a comment here that DHCP must be disabled by default.\n\nBut If the system is in DHCP mode, On setting the DHCP mode to false we might loose connection to the system as we need to assign a static IP address."
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 776,
                    "reviewer": {
                        "name": "aravinth0510",
                        "email": "aravinthr@ami.com",
                        "username": "aravinth0510"
                    },
                    "message": "Setting DHCP mode to false , the current IP address leased from DHCP will still be used as static IP address, so network connection lost is not happening in this case."
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 776,
                    "reviewer": {
                        "name": "Sweta Potthuri",
                        "email": "spotthur@in.ibm.com",
                        "username": "swe12345"
                    },
                    "message": "Got it. Thanks."
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 784,
                    "reviewer": {
                        "name": "Sweta Potthuri",
                        "email": "spotthur@in.ibm.com",
                        "username": "swe12345"
                    },
                    "message": "This is not required as if the system is not connected to a DHCP server we might loose the connection to the system right?"
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 784,
                    "reviewer": {
                        "name": "aravinth0510",
                        "email": "aravinthr@ami.com",
                        "username": "aravinth0510"
                    },
                    "message": "In teardown, the system IPv4 DHCP is enabled only if the IPAddressSource was initially in DHCP in SuiteSetup."
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 784,
                    "reviewer": {
                        "name": "Sweta Potthuri",
                        "email": "spotthur@in.ibm.com",
                        "username": "swe12345"
                    },
                    "message": "Got it. Thanks."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 64,
            "sizeDeletions": 3
        },
        {
            "number": 2,
            "revision": "9fe0d53b49e6935be91a76a686384c3233daba2c",
            "parents": [
                "80ef5ca0bf08ac93d0f0ececf03d42d272389bd9"
            ],
            "ref": "refs/changes/35/54635/2",
            "uploader": {
                "name": "aravinth0510",
                "email": "aravinthr@ami.com",
                "username": "aravinth0510"
            },
            "createdOn": 1656390973,
            "author": {
                "name": "aravinth0510",
                "email": "aravinthr@ami.com",
                "username": "aravinth0510"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 772,
                    "reviewer": {
                        "name": "Sridevi Ramesh",
                        "email": "sridevra@in.ibm.com",
                        "username": "SrideviRamesh"
                    },
                    "message": "Mention in points what are u doing in the suite"
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 772,
                    "reviewer": {
                        "name": "aravinth0510",
                        "email": "aravinthr@ami.com",
                        "username": "aravinth0510"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 775,
                    "reviewer": {
                        "name": "Sridevi Ramesh",
                        "email": "sridevra@in.ibm.com",
                        "username": "SrideviRamesh"
                    },
                    "message": "one line space after @775"
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 775,
                    "reviewer": {
                        "name": "aravinth0510",
                        "email": "aravinthr@ami.com",
                        "username": "aravinth0510"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 785,
                    "reviewer": {
                        "name": "Sridevi Ramesh",
                        "email": "sridevra@in.ibm.com",
                        "username": "SrideviRamesh"
                    },
                    "message": "Mention in points what are u doing in the suite teardown"
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 785,
                    "reviewer": {
                        "name": "aravinth0510",
                        "email": "aravinthr@ami.com",
                        "username": "aravinth0510"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 905,
                    "reviewer": {
                        "name": "Sridevi Ramesh",
                        "email": "sridevra@in.ibm.com",
                        "username": "SrideviRamesh"
                    },
                    "message": "Enable IPv4 DHCP Settings"
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 905,
                    "reviewer": {
                        "name": "aravinth0510",
                        "email": "aravinthr@ami.com",
                        "username": "aravinth0510"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 918,
                    "reviewer": {
                        "name": "Sridevi Ramesh",
                        "email": "sridevra@in.ibm.com",
                        "username": "SrideviRamesh"
                    },
                    "message": "add it in the same line @917"
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 918,
                    "reviewer": {
                        "name": "aravinth0510",
                        "email": "aravinthr@ami.com",
                        "username": "aravinth0510"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 926,
                    "reviewer": {
                        "name": "Sridevi Ramesh",
                        "email": "sridevra@in.ibm.com",
                        "username": "SrideviRamesh"
                    },
                    "message": "DHCP Enabled"
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 926,
                    "reviewer": {
                        "name": "aravinth0510",
                        "email": "aravinthr@ami.com",
                        "username": "aravinth0510"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 937,
                    "reviewer": {
                        "name": "Sridevi Ramesh",
                        "email": "sridevra@in.ibm.com",
                        "username": "SrideviRamesh"
                    },
                    "message": "Return DHCP"
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 937,
                    "reviewer": {
                        "name": "aravinth0510",
                        "email": "aravinthr@ami.com",
                        "username": "aravinth0510"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "type": "MODIFIED",
                    "insertions": 67,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 85,
            "sizeDeletions": 3
        },
        {
            "number": 3,
            "revision": "1874eab31b71786d8b56cf5dfb62a10f3fd67d3a",
            "parents": [
                "80ef5ca0bf08ac93d0f0ececf03d42d272389bd9"
            ],
            "ref": "refs/changes/35/54635/3",
            "uploader": {
                "name": "aravinth0510",
                "email": "aravinthr@ami.com",
                "username": "aravinth0510"
            },
            "createdOn": 1657048706,
            "author": {
                "name": "aravinth0510",
                "email": "aravinthr@ami.com",
                "username": "aravinth0510"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 785,
                    "reviewer": {
                        "name": "Prashanth Katti",
                        "email": "prkatti1@in.ibm.com",
                        "username": "prkatti1"
                    },
                    "message": "not checked it recently, hope you are able to configure same IP??"
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 785,
                    "reviewer": {
                        "name": "aravinth0510",
                        "email": "aravinthr@ami.com",
                        "username": "aravinth0510"
                    },
                    "message": "yes, tried setting same IP from DHCP address as static address and it works"
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 802,
                    "reviewer": {
                        "name": "Prashanth Katti",
                        "email": "prkatti1@in.ibm.com",
                        "username": "prkatti1"
                    },
                    "message": "this is not required, same IP is not guaranteed."
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "line": 802,
                    "reviewer": {
                        "name": "aravinth0510",
                        "email": "aravinthr@ami.com",
                        "username": "aravinth0510"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "type": "MODIFIED",
                    "insertions": 78,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 96,
            "sizeDeletions": 3
        },
        {
            "number": 4,
            "revision": "45a6c7e18c9b904d1644019c37e6711d50d62b8e",
            "parents": [
                "80ef5ca0bf08ac93d0f0ececf03d42d272389bd9"
            ],
            "ref": "refs/changes/35/54635/4",
            "uploader": {
                "name": "aravinth0510",
                "email": "aravinthr@ami.com",
                "username": "aravinth0510"
            },
            "createdOn": 1657099265,
            "author": {
                "name": "aravinth0510",
                "email": "aravinthr@ami.com",
                "username": "aravinth0510"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "type": "MODIFIED",
                    "insertions": 75,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 93,
            "sizeDeletions": 3
        },
        {
            "number": 5,
            "revision": "ca054eeea3a5df0923aebca014aa025b1143f427",
            "parents": [
                "5c7318d710f0820b6acd1dcb8799fc538418c66c"
            ],
            "ref": "refs/changes/35/54635/5",
            "uploader": {
                "name": "George Keishing",
                "email": "gkeishin@gmail.com",
                "username": "gkeishin"
            },
            "createdOn": 1657217669,
            "author": {
                "name": "aravinth0510",
                "email": "aravinthr@ami.com",
                "username": "aravinth0510"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "redfish/managers/test_bmc_network_conf.robot",
                    "type": "MODIFIED",
                    "insertions": 75,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 93,
            "sizeDeletions": 3
        }
    ]
}