{
    "project": "openbmc/phosphor-debug-collector",
    "branch": "master",
    "id": "I665485c7605b54fe4f361ec73e2bff9bba87c49e",
    "number": 50239,
    "subject": "Remove host running check for system dump",
    "owner": {
        "name": "Dhruvaraj S",
        "email": "dhruvaraj@gmail.com",
        "username": "dhruvibm"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-debug-collector/+/50239",
    "commitMessage": "Remove host running check for system dump\n\nThe check for host running was added for the\noperations on the dumps stored in the host\nbut in the case of request for offload The system dump\nis ready to offload as soon as it is ready in the host.\nThe state of the host in the BMC may not be updated by\nthen, so it is not reliable to depend on the host state\nin the BMC and if the host is not ready there will be an\nerror from PLDM.\n\nThis commit is for removing the host running check before\nsending the initiate offload request to host. The check\nfor other operations like delete or initiate will not\nbe impacted\n\nSigned-off-by: Dhruvaraj Subhashchandran <dhruvaraj@in.ibm.com>\nChange-Id: I665485c7605b54fe4f361ec73e2bff9bba87c49e\n",
    "createdOn": 1641805089,
    "lastUpdated": 1641880636,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1641805089,
            "reviewer": {
                "name": "Dhruvaraj S",
                "email": "dhruvaraj@gmail.com",
                "username": "dhruvibm"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1641805099,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1641805100,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1641805166,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/35145/ : SUCCESS"
        },
        {
            "timestamp": 1641805948,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1641807170,
            "reviewer": {
                "name": "Dhruvaraj S",
                "email": "dhruvaraj@gmail.com",
                "username": "dhruvibm"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1641808048,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1641809385,
            "reviewer": {
                "name": "Dhruvaraj S",
                "email": "dhruvaraj@gmail.com",
                "username": "dhruvibm"
            },
            "message": "Patch Set 2: Commit message was updated."
        },
        {
            "timestamp": 1641809407,
            "reviewer": {
                "name": "Dhruvaraj S",
                "email": "dhruvaraj@gmail.com",
                "username": "dhruvibm"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1641809681,
            "reviewer": {
                "name": "Dhruvaraj S",
                "email": "dhruvaraj@gmail.com",
                "username": "dhruvibm"
            },
            "message": "Uploaded patch set 3: New patch set was added with same tree, parent, and commit message as Patch Set 2."
        },
        {
            "timestamp": 1641809689,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1"
        },
        {
            "timestamp": 1641809690,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1641809690,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1641809755,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/35153/ : SUCCESS"
        },
        {
            "timestamp": 1641810549,
            "reviewer": {
                "name": "Dhruvaraj S",
                "email": "dhruvaraj@gmail.com",
                "username": "dhruvibm"
            },
            "message": "Uploaded patch set 4: New patch set was added with same tree, parent, and commit message as Patch Set 3."
        },
        {
            "timestamp": 1641810559,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1"
        },
        {
            "timestamp": 1641810571,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1641810571,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1641810646,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/35155/ : SUCCESS"
        },
        {
            "timestamp": 1641832122,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1641833396,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 4: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1641876910,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 4: Code-Review+2"
        },
        {
            "timestamp": 1641880636,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Change has been successfully merged"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "c895869d8db97d48a8d68186e3723c96499acd10",
            "parents": [
                "9b4716aef30b0e6f316d8aa91fbee59c1f73991b"
            ],
            "ref": "refs/changes/39/50239/1",
            "uploader": {
                "name": "Dhruvaraj S",
                "email": "dhruvaraj@gmail.com",
                "username": "dhruvibm"
            },
            "createdOn": 1641805089,
            "author": {
                "name": "Dhruvaraj S",
                "email": "dhruvaraj@gmail.com",
                "username": "dhruvibm"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-debug-collector/+/39163 is used to enable this check ;looks like that commit includes helper function. recverting is not going help here.\nPlease include additional info, why there iso no side-effect with this function removal. "
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Dhruvaraj S",
                        "email": "dhruvaraj@gmail.com",
                        "username": "dhruvibm"
                    },
                    "message": "This is not reverting that behavior but excluding only for the system dump offload the reson is \n- Only one system dump is allowed by PHYP\n- When the host is not up for offload there will be error from PLDM \n\nbut in the case of delete or initiate the behavior is diffetent when host is running or not"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "Commit i mention in the previous message \"Allow initiating or offloading host dumps only when host is up.\". To avoid confusion between thesze two commits add additioan details why you are reverting and hwo new design eworks as expected."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Dhruvaraj S",
                        "email": "dhruvaraj@gmail.com",
                        "username": "dhruvibm"
                    },
                    "message": "done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "dump-extensions/openpower-dumps/system_dump_entry.cpp",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -11
                }
            ],
            "sizeInsertions": 19,
            "sizeDeletions": 11
        },
        {
            "number": 2,
            "revision": "54d60cdbab23c4bf8942c9945f39b8dfc8d07438",
            "parents": [
                "9b4716aef30b0e6f316d8aa91fbee59c1f73991b"
            ],
            "ref": "refs/changes/39/50239/2",
            "uploader": {
                "name": "Dhruvaraj S",
                "email": "dhruvaraj@gmail.com",
                "username": "dhruvibm"
            },
            "createdOn": 1641809385,
            "author": {
                "name": "Dhruvaraj S",
                "email": "dhruvaraj@gmail.com",
                "username": "dhruvibm"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "dump-extensions/openpower-dumps/system_dump_entry.cpp",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -11
                }
            ],
            "sizeInsertions": 24,
            "sizeDeletions": 11
        },
        {
            "number": 3,
            "revision": "aade91c5de81eae56dc2d74470568dd36f4262e7",
            "parents": [
                "9b4716aef30b0e6f316d8aa91fbee59c1f73991b"
            ],
            "ref": "refs/changes/39/50239/3",
            "uploader": {
                "name": "Dhruvaraj S",
                "email": "dhruvaraj@gmail.com",
                "username": "dhruvibm"
            },
            "createdOn": 1641809681,
            "author": {
                "name": "Dhruvaraj S",
                "email": "dhruvaraj@gmail.com",
                "username": "dhruvibm"
            },
            "kind": "NO_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "dump-extensions/openpower-dumps/system_dump_entry.cpp",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -11
                }
            ],
            "sizeInsertions": 24,
            "sizeDeletions": 11
        },
        {
            "number": 4,
            "revision": "41b74cc763f0a1015ff30f70b82cb93a079f6b2f",
            "parents": [
                "9b4716aef30b0e6f316d8aa91fbee59c1f73991b"
            ],
            "ref": "refs/changes/39/50239/4",
            "uploader": {
                "name": "Dhruvaraj S",
                "email": "dhruvaraj@gmail.com",
                "username": "dhruvibm"
            },
            "createdOn": 1641810549,
            "author": {
                "name": "Dhruvaraj S",
                "email": "dhruvaraj@gmail.com",
                "username": "dhruvibm"
            },
            "kind": "NO_CHANGE",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "LGTM, though I'm hardly an expert in this area."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "dump-extensions/openpower-dumps/system_dump_entry.cpp",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -11
                }
            ],
            "sizeInsertions": 24,
            "sizeDeletions": 11
        }
    ]
}