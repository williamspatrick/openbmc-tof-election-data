{
    "project": "openbmc/openbmc",
    "branch": "master",
    "topic": "autobump",
    "id": "Ieabaacb93fb549846c6b1ca49fcd8a2dd7274582",
    "number": 54387,
    "subject": "phosphor-host-ipmid: srcrev bump 33d90e182d..ba9bbb6f6a",
    "owner": {
        "name": "Andrew Geissler",
        "email": "andrew@geissonator.com",
        "username": "geissonator"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/openbmc/+/54387",
    "commitMessage": "phosphor-host-ipmid: srcrev bump 33d90e182d..ba9bbb6f6a\n\nJian Zhang (1):\n      Add data types to Value to extend setDbusProperty\n\nWilly Tu (3):\n      cleanup: Remove all warning errors for the Meson build support\n      build: Add meson build for phosphor-host-ipmi\n      build: move all shared_library/module to library with version suffix\n\nChange-Id: Ieabaacb93fb549846c6b1ca49fcd8a2dd7274582\nSigned-off-by: Andrew Geissler <openbmcbump-github@yahoo.com>\nSigned-off-by: Willy Tu <wltu@google.com>\n",
    "createdOn": 1654727470,
    "lastUpdated": 1655478948,
    "open": false,
    "status": "ABANDONED",
    "comments": [
        {
            "timestamp": 1654727470,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1654727508,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1654727508,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1654727518,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/11233/"
        },
        {
            "timestamp": 1654728756,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/11233/ : FAILURE"
        },
        {
            "timestamp": 1654730146,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1654730156,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1654730190,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1654730190,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1654730198,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/11235/"
        },
        {
            "timestamp": 1654731128,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/11235/ : SUCCESS"
        },
        {
            "timestamp": 1654733339,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 2:\n\nBuild Failed \n\nIBM Hardware CI : witherspoon hardware test failed"
        },
        {
            "timestamp": 1654734206,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "message": "Patch Set 2: Code-Review-1\n\n(1 comment)"
        },
        {
            "timestamp": 1654734368,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1654734371,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Removed Code-Review+1 by Willy Tu <wltu@google.com>\n"
        },
        {
            "timestamp": 1654780421,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1654790022,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1654793992,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1654805223,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1655315895,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1655317078,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1655317148,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1655317148,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1655317155,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/11354/"
        },
        {
            "timestamp": 1655317172,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1655317199,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1655318570,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/11354/ : FAILURE"
        },
        {
            "timestamp": 1655478948,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "message": "Abandoned"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "5699f968032f5d80aab9970c9cb19a89238e5d45",
            "parents": [
                "781c6c4c12c0d926e41d836a92937b83271a4f45"
            ],
            "ref": "refs/changes/87/54387/1",
            "uploader": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "createdOn": 1654727470,
            "author": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-host.inc",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 19,
            "sizeDeletions": 1
        },
        {
            "number": 2,
            "revision": "654cdd1aa69ccb30718daa24b28cb2026bc237ea",
            "parents": [
                "781c6c4c12c0d926e41d836a92937b83271a4f45"
            ],
            "ref": "refs/changes/87/54387/2",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1654730146,
            "author": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "Witherspoon host booted ok to the OS this time, but the BootProgress did not get updated, causing the test to fail."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "nice, progress.\n\nWhat does the `BootProgress` use to get updated?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "andrew@geissonator.com",
                        "username": "geissonator"
                    },
                    "message": "It's just a IPMI sensor (or maybe SDR?) that host firmware sets as it boots via the inband IPMI path. That's then mapped to a D-Bus property (BootProgress).\n\nSome groking shows a mapping in https://grok.openbmc.org/xref/openbmc/openbmc/meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-sensor-inventory/config.yaml?r=9055051c#13 and then in some of the meta-* layers like https://grok.openbmc.org/xref/openbmc/openbmc/meta-ibm/recipes-phosphor/configuration/acx22-yaml-config/acx22-ipmi-sensors-mrw.yaml?r=b81ac417#126"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "ok, let me try it out. I was mostly testing the dynamic implementation of the ipmi sdr. Maybe I broke the static one."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "```\nipmitool sdr                                                                                                                                                                  \nipmitool: ipmi_sdr_get_record() failed                                                                                                                                                             \nipmitool: ipmi_sdr_get_record() failed                                                                                                                                                             \nipmitool: ipmi_sdr_get_record() failed                                                                                                                                                             \nipmitool: ipmi_sdr_get_record() failed                                                                                                                                                             \nipmitool: ipmi_sdr_get_record() failed                                                                                                                                                             \nipmitool: ipmi_sdr_get_record() failed                                                                                                                                                             \nipmitool: ipmi_sdr_get_record() failed                                                                                                                                                             \nipmitool: ipmi_sdr_get_record() failed                                                                                                                                                             \nipmitool: ipmi_sdr_get_record() failed \n```\noof. Yeah, 100% broken there."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "Seems like the dynamic-stack was enabled by default for some reason.\n\n```\nls -l /usr/lib/ipmid-providers/\n-rwxr-xr-x    1 root     root         42376 Apr  5  2011 libblobmanager.so\nlrwxrwxrwx    1 root     root            19 Apr  5  2011 libdynamiccmds.so -> libdynamiccmds.so.0\nlrwxrwxrwx    1 root     root            21 Apr  5  2011 libdynamiccmds.so.0 -> libdynamiccmds.so.0.1\n```\n\nThis caused anything that depends on static stack to not work.\n\nRemoving those library fixes it. https://gerrit.openbmc.org/c/openbmc/phosphor-host-ipmid/+/54446\n\nWorking sensors\n```\nipmitool sdr                                                                                                                                                                   \ni2cool_0         | 26.80 degrees C   | ok                                                                                                                                                          \ni2cool_1         | disabled          | ns                                                                                                                                                          \ni2cool_2         | 33.60 degrees C   | ok                                                                                                                                                          \ni2cool_3         | disabled          | ns\n...\n```"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Vernon Mauery",
                        "email": "vernon.mauery@linux.intel.com",
                        "username": "vmauery"
                    },
                    "message": "This can now be bumped again to include the latest dynamic sensors build change."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "Ack"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "yep, I have updated it in https://gerrit.openbmc.org/c/openbmc/openbmc/+/54603. Hopefully it works now."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "meta-amd/meta-ethanolx/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "meta-quanta/meta-olympus-nuvoton/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "meta-quanta/meta-s6q/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "meta-yadro/meta-nicole/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "meta-bytedance/meta-g220a/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "meta-ibm/meta-palmetto/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "meta-ibm/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -10
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-host_git.bb",
                    "type": "MODIFIED",
                    "insertions": 25,
                    "deletions": -25
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                },
                {
                    "file": "meta-ampere/meta-jade/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                },
                {
                    "file": "meta-inspur/meta-fp5280g2/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "meta-ibm/meta-romulus/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-host.inc",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "meta-ingrasys/meta-zaius/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 95,
            "sizeDeletions": 76
        },
        {
            "number": 3,
            "revision": "72558f8cd3e2417db9d6cdb5690e44581566ace9",
            "parents": [
                "4baad900c213d9f5439285c5a21e4fe11fd07a60"
            ],
            "ref": "refs/changes/87/54387/3",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1655317078,
            "author": {
                "name": "Andrew Geissler",
                "email": "andrew@geissonator.com",
                "username": "geissonator"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "should abandon this now. Moved it to https://gerrit.openbmc.org/c/openbmc/openbmc/+/54603 now."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "meta-amd/meta-ethanolx/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "meta-quanta/meta-olympus-nuvoton/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "meta-quanta/meta-s6q/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "meta-yadro/meta-nicole/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "meta-bytedance/meta-g220a/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "meta-ibm/meta-palmetto/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "meta-ibm/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -10
                },
                {
                    "file": "meta-phosphor/recipes-phosphor/ipmi/phosphor-ipmi-host_git.bb",
                    "type": "MODIFIED",
                    "insertions": 25,
                    "deletions": -25
                },
                {
                    "file": "meta-facebook/meta-bletchley/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                },
                {
                    "file": "meta-ampere/meta-jade/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                },
                {
                    "file": "meta-inspur/meta-fp5280g2/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "meta-ibm/meta-romulus/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "meta-ingrasys/meta-zaius/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -3
                },
                {
                    "file": "meta-quanta/meta-gbs/recipes-phosphor/ipmi/phosphor-ipmi-host_%.bbappend",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 94,
            "sizeDeletions": 75
        }
    ]
}