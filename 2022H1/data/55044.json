{
    "project": "openbmc/fb-ipmi-oem",
    "branch": "master",
    "id": "If557b57d3e02a926728330407f71abfa07e7d40f",
    "number": 55044,
    "subject": "meta-facebook: Refactored config file for meson.",
    "owner": {
        "name": "karthik-pasupathi",
        "email": "pkarthikeyan1509@gmail.com",
        "username": "karthik-pasupathi"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/fb-ipmi-oem/+/55044",
    "commitMessage": "meta-facebook: Refactored config file for meson.\n\nRefactored platform specific config file to support\nin meson upgradation.\n\nTested: Tested and verified with yosemitev2 and tiogapass\n        platform.\n\nSigned-off-by: Karthikeyan Pasupathi <pkarthikeyan1509@gmail.com>\nChange-Id: If557b57d3e02a926728330407f71abfa07e7d40f\n",
    "createdOn": 1656606195,
    "lastUpdated": 1657534410,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1656606195,
            "reviewer": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1656606277,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1656606277,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1656606459,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/46218/ : SUCCESS"
        },
        {
            "timestamp": 1657021304,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1657038040,
            "reviewer": {
                "name": "Michael Garner",
                "email": "garnermic@gmail.com",
                "username": "garnermic"
            },
            "message": "Patch Set 1: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1657113751,
            "reviewer": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1657198496,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1657202222,
            "reviewer": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1657202241,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1657202242,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1657202468,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/46588/ : SUCCESS"
        },
        {
            "timestamp": 1657203240,
            "reviewer": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1657284709,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1657374755,
            "reviewer": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1657374764,
            "reviewer": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1657374782,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1657374782,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1657374852,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/46721/ : FAILURE"
        },
        {
            "timestamp": 1657525324,
            "reviewer": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1657525375,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1657525375,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1657525484,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/46775/ : SUCCESS"
        },
        {
            "timestamp": 1657534403,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 4: Code-Review+2"
        },
        {
            "timestamp": 1657534410,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Change has been successfully merged"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "0d97967768b933620cc4cc48c436b5e1c217429c",
            "parents": [
                "17bd2eabd11366185ff6c23a0300302da9f87229"
            ],
            "ref": "refs/changes/44/55044/1",
            "uploader": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "createdOn": 1656606195,
            "author": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Why do we prefer moving the configs out of the repo?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Michael Garner",
                        "email": "garnermic@gmail.com",
                        "username": "garnermic"
                    },
                    "message": "Looks good to me."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "karthik-pasupathi",
                        "email": "pkarthikeyan1509@gmail.com",
                        "username": "karthik-pasupathi"
                    },
                    "message": "actually for coping machine-specific config file from meson is not coping properly.\nin existing fb-ipmi-oem (CMAKE) it would be like,\nif(BIC)\n               {\n                     set (CONFIG_FILES_YV2 yosemitev2/gpio_desc.json yosemitev2/cri_sensors.json)\n                     install (FILES ${CONFIG_FILES_YV2} DESTINATION ${PACKAGE_DIR})\n               }\nfor the same thing can't able to achieve in meson, that's why I removed here and added those files in yocto machine-layer.               \nand you suggested getting a machine from Inventory.Decorator.Compatible exposed by EM, am working on that too, if it is okay I'll proceed the same like to change those configs to yocto-machine-layer."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "> for the same thing can't able to achieve in meson, that's why I removed here and added those files in yocto machine-layer.               \n\nCan you expand on this?  I don't know why we cannot have conditional installs in meson.  You can also have a `machine` meson_option that selects which subdirectory we are installing from.\n\n> if it is okay I'll proceed the same like to change those configs to yocto-machine-layer.\n\nI don't understand this sentence.  Can you restate what you intend to do?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "karthik-pasupathi",
                        "email": "pkarthikeyan1509@gmail.com",
                        "username": "karthik-pasupathi"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "post_desc.json",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -296
                },
                {
                    "file": "cri_sensors.json",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -65
                },
                {
                    "file": "gpio_desc.json",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -13
                },
                {
                    "file": "yosemitev2/gpio_desc.json",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -13
                },
                {
                    "file": "yosemitev2/cri_sensors.json",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -47
                }
            ],
            "sizeInsertions": 13,
            "sizeDeletions": 434
        },
        {
            "number": 2,
            "revision": "44dc953397510f4700101ef9d20e39d174900dff",
            "parents": [
                "17bd2eabd11366185ff6c23a0300302da9f87229"
            ],
            "ref": "refs/changes/44/55044/2",
            "uploader": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "createdOn": 1657202222,
            "author": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "meson.build",
                    "line": 82,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Can't we just concatenate the 'machine' with the JSON file name?\n\nWhy don't we have the post_desc.json for yosemite?"
                },
                {
                    "file": "meson.build",
                    "line": 82,
                    "reviewer": {
                        "name": "karthik-pasupathi",
                        "email": "pkarthikeyan1509@gmail.com",
                        "username": "karthik-pasupathi"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "tiogapass/cri_sensors.json",
                    "fileOld": "cri_sensors.json",
                    "type": "RENAMED",
                    "insertions": 0,
                    "deletions": 0
                },
                {
                    "file": "tiogapass/gpio_desc.json",
                    "fileOld": "gpio_desc.json",
                    "type": "RENAMED",
                    "insertions": 0,
                    "deletions": 0
                },
                {
                    "file": "tiogapass/post_desc.json",
                    "fileOld": "post_desc.json",
                    "type": "RENAMED",
                    "insertions": 0,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 40,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "d3f486f0cbaf5b11f5b23860e18c285aaec72d3f",
            "parents": [
                "17bd2eabd11366185ff6c23a0300302da9f87229"
            ],
            "ref": "refs/changes/44/55044/3",
            "uploader": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "createdOn": 1657374755,
            "author": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "tiogapass/cri_sensors.json",
                    "fileOld": "cri_sensors.json",
                    "type": "RENAMED",
                    "insertions": 0,
                    "deletions": 0
                },
                {
                    "file": "tiogapass/gpio_desc.json",
                    "fileOld": "gpio_desc.json",
                    "type": "RENAMED",
                    "insertions": 0,
                    "deletions": 0
                },
                {
                    "file": "tiogapass/post_desc.json",
                    "fileOld": "post_desc.json",
                    "type": "RENAMED",
                    "insertions": 0,
                    "deletions": 0
                },
                {
                    "file": "yosemitev2/post_desc.json",
                    "fileOld": "post_desc.json",
                    "type": "COPIED",
                    "insertions": 0,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 32,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "3048dd5453457ab63f4d4708798ac8b0ff1b6a02",
            "parents": [
                "17bd2eabd11366185ff6c23a0300302da9f87229"
            ],
            "ref": "refs/changes/44/55044/4",
            "uploader": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "createdOn": 1657525324,
            "author": {
                "name": "karthik-pasupathi",
                "email": "pkarthikeyan1509@gmail.com",
                "username": "karthik-pasupathi"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                },
                {
                    "file": "tiogapass/cri_sensors.json",
                    "fileOld": "cri_sensors.json",
                    "type": "RENAMED",
                    "insertions": 0,
                    "deletions": 0
                },
                {
                    "file": "tiogapass/gpio_desc.json",
                    "fileOld": "gpio_desc.json",
                    "type": "RENAMED",
                    "insertions": 0,
                    "deletions": 0
                },
                {
                    "file": "tiogapass/post_desc.json",
                    "fileOld": "post_desc.json",
                    "type": "RENAMED",
                    "insertions": 0,
                    "deletions": 0
                },
                {
                    "file": "yosemitev2/post_desc.json",
                    "fileOld": "post_desc.json",
                    "type": "COPIED",
                    "insertions": 0,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 34,
            "sizeDeletions": 0
        }
    ]
}