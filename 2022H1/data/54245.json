{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "topic": "cert-redfish",
    "id": "I0489dc9e305f67ed7d0ef07fabda5f90fd2fdac4",
    "number": 54245,
    "subject": "certificate: Use ObjectMapper in getCertificateLocations",
    "owner": {
        "name": "Jiaqing Zhao",
        "email": "jiaqing.zhao@intel.com",
        "username": "jiaqingz-intel"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/54245",
    "commitMessage": "certificate: Use ObjectMapper in getCertificateLocations\n\nCurrently getCertificateLocations loops through the object paths of a\ncertificate service and adds those paths with numeric id to the list.\nTo get all three kinds of certificates, three calls are needed. This\npatch changes to use object mapper to get all paths that implements\n\"xyz.openbmc_project.Certs.Certificate\" interface to get all certs in\na single DBus call.\n\nTested:\nVerified all certificates installed on BMC are listed under /redfish\n/v1/CertificateService/CertificateLocations, and Redfish validator\npassed.\n\nChange-Id: I0489dc9e305f67ed7d0ef07fabda5f90fd2fdac4\nSigned-off-by: Jiaqing Zhao <jiaqing.zhao@intel.com>\n",
    "createdOn": 1654229452,
    "lastUpdated": 1656082680,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1654229452,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1654229472,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1654229472,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1654230199,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/44342/ : SUCCESS"
        },
        {
            "timestamp": 1654540317,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(3 comments)"
        },
        {
            "timestamp": 1654550355,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1654550441,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1654550473,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1654613933,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1654618150,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1654618167,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1654618207,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1654618207,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1654618718,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/44498/ : SUCCESS"
        },
        {
            "timestamp": 1654657307,
            "reviewer": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(2 comments)"
        },
        {
            "timestamp": 1654670333,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Uploaded patch set 3: Patch Set 2 was rebased."
        },
        {
            "timestamp": 1654670379,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1654670379,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1654670895,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/44558/ : SUCCESS"
        },
        {
            "timestamp": 1654702514,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1654702665,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1654741435,
            "reviewer": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "message": "Patch Set 3: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1654741761,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1654749672,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1654756550,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1654756578,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1654756589,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1654756589,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1654757103,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/44658/ : SUCCESS"
        },
        {
            "timestamp": 1655177568,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1655177618,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1655177618,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1655177692,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/44958/ : FAILURE"
        },
        {
            "timestamp": 1655183174,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1655183193,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1655183193,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1655183819,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/44967/ : SUCCESS"
        },
        {
            "timestamp": 1655208561,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1655208585,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1655225277,
            "reviewer": {
                "name": "John Broadbent",
                "email": "jebr@google.com",
                "username": "jebr224"
            },
            "message": "Patch Set 6: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1655251492,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 6: Code-Review+1"
        },
        {
            "timestamp": 1655663458,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(2 comments)"
        },
        {
            "timestamp": 1655698884,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1655698899,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1655698899,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1655698909,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Patch Set 7:\n\n(2 comments)"
        },
        {
            "timestamp": 1655699412,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/45325/ : SUCCESS"
        },
        {
            "timestamp": 1655824568,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 7: Code-Review+1"
        },
        {
            "timestamp": 1655834950,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 7: Code-Review+1"
        },
        {
            "timestamp": 1655868841,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Uploaded patch set 8: Patch Set 7 was rebased."
        },
        {
            "timestamp": 1655868885,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1655868885,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: -Ok-To-Test"
        },
        {
            "timestamp": 1655869210,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/45559/ : FAILURE"
        },
        {
            "timestamp": 1655942128,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 9: Patch Set 8 was rebased"
        },
        {
            "timestamp": 1655942185,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1655942186,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: -Ok-To-Test"
        },
        {
            "timestamp": 1655943220,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/45673/ : SUCCESS"
        },
        {
            "timestamp": 1655945828,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Uploaded patch set 10: New patch set was added with same tree, parent, and commit message as Patch Set 9."
        },
        {
            "timestamp": 1655945844,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Verified+1"
        },
        {
            "timestamp": 1655945865,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1655945865,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: -Ok-To-Test"
        },
        {
            "timestamp": 1655946374,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/45677/ : SUCCESS"
        },
        {
            "timestamp": 1656062367,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Uploaded patch set 11: Patch Set 10 was rebased."
        },
        {
            "timestamp": 1656062407,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1656062407,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: -Ok-To-Test"
        },
        {
            "timestamp": 1656062917,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/45782/ : SUCCESS"
        },
        {
            "timestamp": 1656082641,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 11: Code-Review+2"
        },
        {
            "timestamp": 1656082680,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully merged"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "0c09cc01501f311c1e7110f4b4c71459599b2d94",
            "parents": [
                "f848367f45e16f715b1df8b07cc6747e2f4b5aba"
            ],
            "ref": "refs/changes/45/54245/1",
            "uploader": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "createdOn": 1654229452,
            "author": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 18,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "I would also do Service Validator check."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 18,
                    "reviewer": {
                        "name": "Jiaqing Zhao",
                        "email": "jiaqing.zhao@intel.com",
                        "username": "jiaqingz-intel"
                    },
                    "message": "Done"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Glad to see others are interested in cleaning this up;  I had a patchset here:\n\nhttps://gerrit.openbmc.org/c/openbmc/bmcweb/+/47220\n\nTo start cleaning this up in a more generalized sense.  Could please help to review it?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Reasonable fix.\n\nNeed to fix the object path issue."
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "line": 954,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "The previous message seems more informative to me."
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "line": 954,
                    "reviewer": {
                        "name": "Jiaqing Zhao",
                        "email": "jiaqing.zhao@intel.com",
                        "username": "jiaqingz-intel"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "line": 964,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "These appear to be urls.  Please use the boost::urls::url object for handing urls and to avoid common error #12"
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "line": 964,
                    "reviewer": {
                        "name": "Jiaqing Zhao",
                        "email": "jiaqing.zhao@intel.com",
                        "username": "jiaqingz-intel"
                    },
                    "message": "The certURL here is what bmcweb returns to the client, not a user input value. I think it's safe to simply concatenate the url string here."
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "line": 964,
                    "reviewer": {
                        "name": "John Broadbent",
                        "email": "jebr@google.com",
                        "username": "jebr224"
                    },
                    "message": "They were strings before this change. But how heavy is boost::urls::url really.\n \nBut I don't have strong feelings either way."
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "line": 964,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> The certURL here is what bmcweb returns to the client, not a user input value.\n\nI'm not sure how that matters.  We use proper URL objects for cases where things are returned to the client, as well as for parsing user input.\n\n\n> They were strings before this change. But how heavy is boost::urls::url really.\n\nsizeof(boost::urls::url) ~= sizeof(std::string), given it's basically a bunch of helper functions around a string\n\n> I think it's safe to simply concatenate the url string here.\n\nMy general policy here is \"When dealing with urls, use the url objects\", which is documented in common errors.  If your opinion differs, can you please help to document in COMMON_ERRORS.md what you think the policy should be, and we can go from there?  Given that this is a url, and the above statements, it isn't clear where we should draw the line."
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "line": 964,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "It should be noted, this code definitely has escaping issues because of this.  On line 987, where you concatenate the url, if the dbus path contains any escaped characters (\\0 for example) this will return unescaped data to the json object in @odata.id."
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "line": 964,
                    "reviewer": {
                        "name": "John Broadbent",
                        "email": "jebr@google.com",
                        "username": "jebr224"
                    },
                    "message": "Hmmm, according the bus spec path requirements is unlikely\n```Each element must only contain the ASCII characters \"[A-Z][a-z][0-9]_\"```\n\nI understand that is not the point, the potential escape issue should be addressed. \n\nAnd boost::url does looks light wight, I would recommend using it here."
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "line": 964,
                    "reviewer": {
                        "name": "Jiaqing Zhao",
                        "email": "jiaqing.zhao@intel.com",
                        "username": "jiaqingz-intel"
                    },
                    "message": "The sdbusplus will automatically enacode these special characters, and decode it when calling filename(). URL also need to encode these special character. Eg. @ is encoded to _40 in Dbus, and it should be encoded to %40 in url. Using boost::url should be the right way, I will update this patch."
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "line": 964,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Wait, I thought the reason for using URL objects but not string manipulation is that we might get wrong in some cases. \n\nFor example, if some day we have additional objects like `/xyz/openbmc_project/certs/server/https/cert1/metadata`, it will still pass this \"starts_with\" check. \n\nInstead if we go with \"cert_object_url.parent() == httpsObjectPath\", we can avoid this error."
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "line": 964,
                    "reviewer": {
                        "name": "Jiaqing Zhao",
                        "email": "jiaqing.zhao@intel.com",
                        "username": "jiaqingz-intel"
                    },
                    "message": "> My general policy here is \"When dealing with urls, use the url objects\", which is documented in common errors.  If your opinion differs, can you please help to document in COMMON_ERRORS.md what you think the policy should be, and we can go from there?  Given that this is a url, and the above statements, it isn't clear where we should draw the line.\n\nI did some further investigation. boost::url mainly focuses on parsing URLs instead of creating URLs. The modifier can only replace the whole path with set_path(), which I think is not suitable for building the URL here.\n\nAnother problem is that crow's route parameter does not decode automatically, if there is a route /<str>, the parameter will be \"%3f1\" instead of \"?1\" when accessing /%3f1. If encoding is wanted, then such decoding must be implemented as well.\n\nFor now, I think it should be developer's responsibily to ensure the dbus filename is url-compliant when mapping it directly to a url.\n\nOr we can add a filename_raw() method to sdbusplus to return the undecoded filename directly. This will solve the url issue as the supported characters in dbus path is a subset of url.\n\n> Instead if we go with \"cert_object_url.parent() == httpsObjectPath\", we can avoid this error.\n\nDone"
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "line": 964,
                    "reviewer": {
                        "name": "Jiaqing Zhao",
                        "email": "jiaqing.zhao@intel.com",
                        "username": "jiaqingz-intel"
                    },
                    "message": "Okay I've found crow::utility::urlFromPieces, going to use this. Done."
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "line": 979,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please prefer to just do\n\n\nif (certUrl.empty()){\n  continue;\n}\n\n\nAs it saves horizontal space."
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "line": 979,
                    "reviewer": {
                        "name": "Jiaqing Zhao",
                        "email": "jiaqing.zhao@intel.com",
                        "username": "jiaqingz-intel"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 21,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -34
                }
            ],
            "sizeInsertions": 61,
            "sizeDeletions": 34
        },
        {
            "number": 2,
            "revision": "bde0baa7cdacf1ff0d3102d389d3cfc018d53f19",
            "parents": [
                "f848367f45e16f715b1df8b07cc6747e2f4b5aba"
            ],
            "ref": "refs/changes/45/54245/2",
            "uploader": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "createdOn": 1654618167,
            "author": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "John Broadbent",
                        "email": "jebr@google.com",
                        "username": "jebr224"
                    },
                    "message": "This looks good to me"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": -36
                }
            ],
            "sizeInsertions": 66,
            "sizeDeletions": 36
        },
        {
            "number": 3,
            "revision": "4b7d166d1e262167a0faffa8edd89ed438f76608",
            "parents": [
                "5b9e95a17fae7aaf9f8716b65345bb64ade5f403"
            ],
            "ref": "refs/changes/45/54245/3",
            "uploader": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "createdOn": 1654670333,
            "author": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": -36
                }
            ],
            "sizeInsertions": 66,
            "sizeDeletions": 36
        },
        {
            "number": 4,
            "revision": "3e8b19054b7cc5b746fd0ceb408db62cc8eeb587",
            "parents": [
                "5b9e95a17fae7aaf9f8716b65345bb64ade5f403"
            ],
            "ref": "refs/changes/45/54245/4",
            "uploader": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "createdOn": 1654756550,
            "author": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 43,
                    "deletions": -36
                }
            ],
            "sizeInsertions": 65,
            "sizeDeletions": 36
        },
        {
            "number": 5,
            "revision": "7cf8b7d634cb9ef1454f78cc47801a9a0f0c0d17",
            "parents": [
                "c7a6d66054deb891a224aac5c4ae0e66ddeb6769"
            ],
            "ref": "refs/changes/45/54245/5",
            "uploader": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "createdOn": 1655177568,
            "author": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 47,
                    "deletions": -36
                }
            ],
            "sizeInsertions": 69,
            "sizeDeletions": 36
        },
        {
            "number": 6,
            "revision": "295be608f4fa6725730bb2924cfba101cb400365",
            "parents": [
                "c7a6d66054deb891a224aac5c4ae0e66ddeb6769"
            ],
            "ref": "refs/changes/45/54245/6",
            "uploader": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "createdOn": 1655183174,
            "author": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "John Broadbent",
                        "email": "jebr@google.com",
                        "username": "jebr224"
                    },
                    "message": "Thanks for switiching to the boost URL"
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "line": 965,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This function can fail, and needs checked for empty string."
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "line": 965,
                    "reviewer": {
                        "name": "Jiaqing Zhao",
                        "email": "jiaqing.zhao@intel.com",
                        "username": "jiaqingz-intel"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "line": 991,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit, we try to use emplace_back everywhere."
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "line": 991,
                    "reviewer": {
                        "name": "Jiaqing Zhao",
                        "email": "jiaqing.zhao@intel.com",
                        "username": "jiaqingz-intel"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 47,
                    "deletions": -36
                }
            ],
            "sizeInsertions": 69,
            "sizeDeletions": 36
        },
        {
            "number": 7,
            "revision": "6822dce1b98f3a72bd2706e56c53dbfca404672e",
            "parents": [
                "eee0013e14f94300657c82019bd7d8cec7e2dbf8"
            ],
            "ref": "refs/changes/45/54245/7",
            "uploader": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "createdOn": 1655698884,
            "author": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 53,
                    "deletions": -36
                }
            ],
            "sizeInsertions": 75,
            "sizeDeletions": 36
        },
        {
            "number": 8,
            "revision": "065d3db3d41a772f615df261608ef68da5d8c210",
            "parents": [
                "4dd73a1cfa22ebf9b2ee2fd2aff6767eeb88e1c1"
            ],
            "ref": "refs/changes/45/54245/8",
            "uploader": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "createdOn": 1655868841,
            "author": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 53,
                    "deletions": -36
                }
            ],
            "sizeInsertions": 75,
            "sizeDeletions": 36
        },
        {
            "number": 9,
            "revision": "762e5a4a020e17298826e7a1e8a7e6ad4ab80ac7",
            "parents": [
                "fe04d49cb52d8989818561c71bdbd6ba676058a5"
            ],
            "ref": "refs/changes/45/54245/9",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1655942128,
            "author": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 53,
                    "deletions": -36
                }
            ],
            "sizeInsertions": 75,
            "sizeDeletions": 36
        },
        {
            "number": 10,
            "revision": "8a006ba66f55407f40976ccafcaf659b0192f4c7",
            "parents": [
                "fe04d49cb52d8989818561c71bdbd6ba676058a5"
            ],
            "ref": "refs/changes/45/54245/10",
            "uploader": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "createdOn": 1655945828,
            "author": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "kind": "NO_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 53,
                    "deletions": -36
                }
            ],
            "sizeInsertions": 75,
            "sizeDeletions": 36
        },
        {
            "number": 11,
            "revision": "c6a8dfb1abcc41a3f4123477802ba5d2ca0baabf",
            "parents": [
                "ceeba4f9684be6b705568718d9a1afd5886989cd"
            ],
            "ref": "refs/changes/45/54245/11",
            "uploader": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "createdOn": 1656062367,
            "author": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/certificate_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 53,
                    "deletions": -36
                }
            ],
            "sizeInsertions": 75,
            "sizeDeletions": 36
        }
    ]
}