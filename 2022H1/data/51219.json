{
    "project": "openbmc/phosphor-debug-collector",
    "branch": "master",
    "id": "Ic9434f34c040405f8664f7dc71109e7cb67a80c2",
    "number": 51219,
    "subject": "Don't allow new user-requested BMC dump while a user dump is in progress",
    "owner": {
        "name": "MARRI DEVENDER RAO",
        "email": "devenrao@in.ibm.com",
        "username": "devenrao"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-debug-collector/+/51219",
    "commitMessage": "Don't allow new user-requested BMC dump while a user dump is in progress\n\n1) We are forking a process and initiating dump process, in the\nmean time if another dump request comes another child process will\nbe forked and so on causing N of dumps collected in parallel. Adding\nrestriction to collect one dump at a time, as the contents of the\ndump will not vary if collected multiple times at the same time.\n\n2) System is running out of memory as N no of dumps are collected\nin the forked child processes. The check to see if space is available\nis missed as it done prior to dump collection in the parent process\nwhen the dump D-Bus entry is created.\n\n3) Modified to return Not allowed error if user initiated dump\nrequests received while one is in progress.\n\nTested:\nroot@p10bmc:~# busctl --verbose call xyz.openbmc_project.Dump.Manager\n/xyz/openbmc_project/dump/bmc xyz.openbmc_project.Dump.Create CreateDump a{sv} 0\nMESSAGE \"o\" {\n        OBJECT_PATH \"/xyz/openbmc_project/dump/bmc/entry/3\";\n};\n\nroot@p10bmc:~# busctl --verbose call xyz.openbmc_project.Dump.Manager\n/xyz/openbmc_project/dump/bmc xyz.openbmc_project.Dump.Create CreateDump a{sv} 0\nCall failed: The operation is not allowed\nroot@p10bmc:~# busctl --verbose call xyz.openbmc_project.Dump.Manager\n/xyz/openbmc_project/dump/bmc xyz.openbmc_project.Dump.Create CreateDump a{sv} 0\nCall failed: The operation is not allowed\nroot@p10bmc:~# busctl --verbose call xyz.openbmc_project.Dump.Manager\n/xyz/openbmc_project/dump/bmc xyz.openbmc_project.Dump.Create CreateDump a{sv} 0\nMESSAGE \"o\" {\n        OBJECT_PATH \"/xyz/openbmc_project/dump/bmc/entry/4\";\n};\n\nSigned-off-by: Marri Devender Rao <devenrao@in.ibm.com>\nChange-Id: Ic9434f34c040405f8664f7dc71109e7cb67a80c2\n",
    "createdOn": 1644938592,
    "lastUpdated": 1645685753,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1644938592,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1644938618,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1644938618,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1644938682,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/37297/ : SUCCESS"
        },
        {
            "timestamp": 1644990158,
            "reviewer": {
                "name": "Dhruvaraj S",
                "email": "dhruvaraj@gmail.com",
                "username": "dhruvibm"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1644990599,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 1:\n\n(3 comments)"
        },
        {
            "timestamp": 1644990613,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 1: Code-Review-1"
        },
        {
            "timestamp": 1644999877,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 1:\n\n(4 comments)"
        },
        {
            "timestamp": 1645004726,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 1:\n\n(3 comments)"
        },
        {
            "timestamp": 1645092240,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1645092248,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1645092248,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1645092315,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/37470/ : SUCCESS"
        },
        {
            "timestamp": 1645097944,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1645097979,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1645097979,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1645098042,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/37478/ : SUCCESS"
        },
        {
            "timestamp": 1645098059,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 3:\n\n(7 comments)"
        },
        {
            "timestamp": 1645098072,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Uploaded patch set 4: Commit message was updated."
        },
        {
            "timestamp": 1645098545,
            "reviewer": {
                "name": "Dhruvaraj S",
                "email": "dhruvaraj@gmail.com",
                "username": "dhruvibm"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1645098740,
            "reviewer": {
                "name": "Dhruvaraj S",
                "email": "dhruvaraj@gmail.com",
                "username": "dhruvibm"
            },
            "message": "Patch Set 4: -Code-Review"
        },
        {
            "timestamp": 1645098771,
            "reviewer": {
                "name": "Dhruvaraj S",
                "email": "dhruvaraj@gmail.com",
                "username": "dhruvibm"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1645099446,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1645099459,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1645099459,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1645099525,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/37486/ : SUCCESS"
        },
        {
            "timestamp": 1645113767,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 5:\n\n(2 comments)"
        },
        {
            "timestamp": 1645113857,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1645113869,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1645113870,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1645114193,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/37504/ : SUCCESS"
        },
        {
            "timestamp": 1645169083,
            "reviewer": {
                "name": "Ramesh Iyyar",
                "email": "rameshi1@in.ibm.com",
                "username": "RameshIyyar"
            },
            "message": "Patch Set 6: Code-Review-1\n\n(7 comments)"
        },
        {
            "timestamp": 1645423937,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 6:\n\n(5 comments)"
        },
        {
            "timestamp": 1645423957,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1645423972,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1645423972,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1645424038,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/37711/ : SUCCESS"
        },
        {
            "timestamp": 1645424440,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Uploaded patch set 8: Commit message was updated."
        },
        {
            "timestamp": 1645432629,
            "reviewer": {
                "name": "Ramesh Iyyar",
                "email": "rameshi1@in.ibm.com",
                "username": "RameshIyyar"
            },
            "message": "Patch Set 8: Code-Review+1\n\n(2 comments)"
        },
        {
            "timestamp": 1645437124,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Uploaded patch set 9."
        },
        {
            "timestamp": 1645437133,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1645437133,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: -Ok-To-Test"
        },
        {
            "timestamp": 1645437177,
            "reviewer": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "message": "Patch Set 9:\n\n(1 comment)"
        },
        {
            "timestamp": 1645437198,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/37713/ : SUCCESS"
        },
        {
            "timestamp": 1645685753,
            "reviewer": {
                "name": "Jayanth Othayoth",
                "email": "ojayanth@gmail.com",
                "username": "ojayanth"
            },
            "message": "Patch Set 9:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "6c0873d5da94f836f1172937416b4008515a0f44",
            "parents": [
                "41b74cc763f0a1015ff30f70b82cb93a079f6b2f"
            ],
            "ref": "refs/changes/19/51219/1",
            "uploader": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "createdOn": 1644938592,
            "author": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 14,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "I think , it is not ignoring right ? opertaion is not allowed here. please update commit message documentation accordingly."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 14,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "Done"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 16,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "avoid these details from commit message."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 16,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "Done"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "Key point need to look here is user initiate Dump request failure path hadling. Added few places. please beytter design to handle the failure Status flag reset.  Otherwise any failure is going to stop getter usre initated dump, going to be bigger issue for debug."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "> Key point need to look here is user initiate Dump request failure path hadling. Added few places. please beytter design to handle the failure Status flag reset.  Otherwise any failure is going to stop getter usre initated dump, going to be bigger issue for debug."
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "line": 115,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "Need to reset the flag here."
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "line": 115,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "Ack"
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "line": 131,
                    "reviewer": {
                        "name": "Dhruvaraj S",
                        "email": "dhruvaraj@gmail.com",
                        "username": "dhruvibm"
                    },
                    "message": "use this for passing dump"
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "line": 131,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "Done"
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "line": 139,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "Need to reset the flag here also."
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "line": 139,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "Done"
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "line": 151,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "Reset Flag Here also."
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "line": 151,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "yes here agreed"
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "line": 151,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "Done"
                },
                {
                    "file": "dump_manager_bmc.hpp",
                    "line": 149,
                    "reviewer": {
                        "name": "Dhruvaraj S",
                        "email": "dhruvaraj@gmail.com",
                        "username": "dhruvibm"
                    },
                    "message": "we may have one call back and type can be passed as a parameter right?"
                },
                {
                    "file": "dump_manager_bmc.hpp",
                    "line": 149,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "Done"
                },
                {
                    "file": "dump_manager_bmc.hpp",
                    "line": 181,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "Why we need this , Dump manager is single threaded application."
                },
                {
                    "file": "dump_manager_bmc.hpp",
                    "line": 181,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "as we are doing fork and this variable is accessed in interprocess we need mutex"
                },
                {
                    "file": "dump_manager_bmc.hpp",
                    "line": 181,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -2
                },
                {
                    "file": "dump_manager_bmc.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 103,
            "sizeDeletions": 2
        },
        {
            "number": 2,
            "revision": "81a1bea025f317721765df32e23d0bccb4efcaab",
            "parents": [
                "41b74cc763f0a1015ff30f70b82cb93a079f6b2f"
            ],
            "ref": "refs/changes/19/51219/2",
            "uploader": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "createdOn": 1645092240,
            "author": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "type": "MODIFIED",
                    "insertions": 27,
                    "deletions": -2
                },
                {
                    "file": "dump_manager_bmc.hpp",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 78,
            "sizeDeletions": 5
        },
        {
            "number": 3,
            "revision": "815c921164e7dcf8ffdc5738907e0c75a82e9c2b",
            "parents": [
                "41b74cc763f0a1015ff30f70b82cb93a079f6b2f"
            ],
            "ref": "refs/changes/19/51219/3",
            "uploader": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "createdOn": 1645097944,
            "author": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": -3
                },
                {
                    "file": "dump_manager_bmc.hpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 81,
            "sizeDeletions": 6
        },
        {
            "number": 4,
            "revision": "d6b2c7df7861a52709121694db2e2fdd6a132c33",
            "parents": [
                "41b74cc763f0a1015ff30f70b82cb93a079f6b2f"
            ],
            "ref": "refs/changes/19/51219/4",
            "uploader": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "createdOn": 1645098072,
            "author": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "dump_manager_bmc.cpp",
                    "line": 131,
                    "reviewer": {
                        "name": "Dhruvaraj S",
                        "email": "dhruvaraj@gmail.com",
                        "username": "dhruvibm"
                    },
                    "message": "passing pointer to a local variable?"
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "line": 131,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 36,
                    "deletions": 0
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": -3
                },
                {
                    "file": "dump_manager_bmc.hpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 79,
            "sizeDeletions": 6
        },
        {
            "number": 5,
            "revision": "9e499695e20a30d1b09100bce9379a55b50ae94f",
            "parents": [
                "41b74cc763f0a1015ff30f70b82cb93a079f6b2f"
            ],
            "ref": "refs/changes/19/51219/5",
            "uploader": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "createdOn": 1645099446,
            "author": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 36,
                    "deletions": 0
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -3
                },
                {
                    "file": "dump_manager_bmc.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 77,
            "sizeDeletions": 7
        },
        {
            "number": 6,
            "revision": "0f71f90c8fd816c6bc4d70a310ca2dbf3d3340a8",
            "parents": [
                "41b74cc763f0a1015ff30f70b82cb93a079f6b2f"
            ],
            "ref": "refs/changes/19/51219/6",
            "uploader": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "createdOn": 1645113857,
            "author": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 1,
                    "reviewer": {
                        "name": "Ramesh Iyyar",
                        "email": "rameshi1@in.ibm.com",
                        "username": "RameshIyyar"
                    },
                    "message": "Looks, Your intention is, \"Don't allow new user-requested BMC dump if another user-requested BMC type dump is in the progress to collect but, allow other types of BMC dump\"\n\nPlease update the commit message accordingly, it is confusing since PDC supports different types of BMC and Host dumps."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Ramesh Iyyar",
                        "email": "rameshi1@in.ibm.com",
                        "username": "RameshIyyar"
                    },
                    "message": "are you wondering about the dump manager consuming more CPU resources when multiple dumps collection happen in parallel? If so, what about other type of dumps? Or you are adding for some other reason? can you please elaborate?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 13,
                    "reviewer": {
                        "name": "Ramesh Iyyar",
                        "email": "rameshi1@in.ibm.com",
                        "username": "RameshIyyar"
                    },
                    "message": "So the caller need to take action like reattempt after sometime or it depends the user? I think, we are returning `NotAllowed` for different reason too, so do we need to care about new error code for this?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 13,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "New error code means changes here and also the redfish, \"Not allowed\" error with reason should be good enough for the user to know, as the error message will be displayed to the user."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 13,
                    "reviewer": {
                        "name": "Ramesh Iyyar",
                        "email": "rameshi1@in.ibm.com",
                        "username": "RameshIyyar"
                    },
                    "message": "> New error code means changes here and also the redfish,\n\nIf the end-user needs to take some action then, we need to make a change in the Redfish as well. If no action required by the end-user then, I am fine."
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "line": 78,
                    "reviewer": {
                        "name": "Ramesh Iyyar",
                        "email": "rameshi1@in.ibm.com",
                        "username": "RameshIyyar"
                    },
                    "message": "I think you need to cover all error cases between creation and collection to reset the added flag `fUserDumpInProgress` else permanently the dump manager won't allow the user requested BMC dump."
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "line": 78,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "Ack"
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "line": 122,
                    "reviewer": {
                        "name": "Ramesh Iyyar",
                        "email": "rameshi1@in.ibm.com",
                        "username": "RameshIyyar"
                    },
                    "message": "Please add that allocation deleted at the callback function."
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "line": 122,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "Ack"
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "line": 124,
                    "reviewer": {
                        "name": "Ramesh Iyyar",
                        "email": "rameshi1@in.ibm.com",
                        "username": "RameshIyyar"
                    },
                    "message": "is it correct, the `captureDump()` might called for some other types of BMC dump but, you are treating it as `UserRequested`, you need to use `type` variable, right?"
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "line": 124,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "wow good catch i intended to assign with type"
                },
                {
                    "file": "dump_manager_bmc.hpp",
                    "line": 153,
                    "reviewer": {
                        "name": "Ramesh Iyyar",
                        "email": "rameshi1@in.ibm.com",
                        "username": "RameshIyyar"
                    },
                    "message": "- Why new a class member for this? Cannot we use the `Status` property to get to know the dump state? that's already implemented for the BMC dump, right?. https://github.com/openbmc/phosphor-debug-collector/blob/ff92ffe29db4099fa44864fc22f40843f4ca1834/dump_entry.hpp#L26\n\n- Looks, Your intention is, \"Don't allow ONLY the new user-requested BMC dump if another user-requested BMC type dump is in the progress to collect\" but, the BMC dump manager does not know the type of BMC dump since it did not add in the BMC dump entries so (I guess) that's why you are adding the special member.\n\n- Cannot we add that BMC dump type in the BMC Dump entry interface and implement and use it in the BMC dump manager and slove what you are trying to do instead of adding the member and maintaining the state inside the program because the state in the program won't solve the problem if dump-manager restarts for some reason. (it will solve if we added into BMC dump entry since we preserved the dump details and restored those details when the dump manager starts)."
                },
                {
                    "file": "dump_manager_bmc.hpp",
                    "line": 153,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "created new issue here https://github.com/openbmc/phosphor-debug-collector/issues/19"
                },
                {
                    "file": "dump_manager_bmc.hpp",
                    "line": 153,
                    "reviewer": {
                        "name": "Ramesh Iyyar",
                        "email": "rameshi1@in.ibm.com",
                        "username": "RameshIyyar"
                    },
                    "message": "JS: Please add issue details in the comment as TODO, I guess that process is following in the PDC repo."
                },
                {
                    "file": "dump_manager_bmc.hpp",
                    "line": 153,
                    "reviewer": {
                        "name": "MARRI DEVENDER RAO",
                        "email": "devenrao@in.ibm.com",
                        "username": "devenrao"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 36,
                    "deletions": 0
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -3
                },
                {
                    "file": "dump_manager_bmc.hpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 76,
            "sizeDeletions": 7
        },
        {
            "number": 7,
            "revision": "4a442c775cf8a650f4128d7e11093672f154ee4f",
            "parents": [
                "41b74cc763f0a1015ff30f70b82cb93a079f6b2f"
            ],
            "ref": "refs/changes/19/51219/7",
            "uploader": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "createdOn": 1645423957,
            "author": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -3
                },
                {
                    "file": "dump_manager_bmc.hpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 80,
            "sizeDeletions": 7
        },
        {
            "number": 8,
            "revision": "6386e38fe0e315789829bfbf38a7de369c59ee55",
            "parents": [
                "41b74cc763f0a1015ff30f70b82cb93a079f6b2f"
            ],
            "ref": "refs/changes/19/51219/8",
            "uploader": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "createdOn": 1645424440,
            "author": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 43,
                    "deletions": 0
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -3
                },
                {
                    "file": "dump_manager_bmc.hpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 85,
            "sizeDeletions": 7
        },
        {
            "number": 9,
            "revision": "526b05db62b4de59d66e951cff5220a484954fc1",
            "parents": [
                "41b74cc763f0a1015ff30f70b82cb93a079f6b2f"
            ],
            "ref": "refs/changes/19/51219/9",
            "uploader": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "createdOn": 1645437124,
            "author": {
                "name": "MARRI DEVENDER RAO",
                "email": "devenrao@in.ibm.com",
                "username": "devenrao"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "dump_manager_bmc.cpp",
                    "line": 107,
                    "reviewer": {
                        "name": "Jayanth Othayoth",
                        "email": "ojayanth@gmail.com",
                        "username": "ojayanth"
                    },
                    "message": "Instead of setting status as false in failure palce you can throw exception and and set at one place in line 159 by moving 159 in try catch block?  all the places call elginternal failure."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 43,
                    "deletions": 0
                },
                {
                    "file": "dump_manager_bmc.cpp",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -3
                },
                {
                    "file": "dump_manager_bmc.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 86,
            "sizeDeletions": 7
        }
    ]
}