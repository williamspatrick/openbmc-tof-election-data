{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "topic": "dhcpv6-update",
    "id": "I39d7084263c6521946f7507fa19f2ca8553fbfd1",
    "number": 50986,
    "subject": "Enhance DHCP to permit IPv6 Stateless operation",
    "owner": {
        "name": "Johnathan Mantey",
        "email": "johnathanx.mantey@intel.com",
        "username": "Howitzer105mm"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/50986",
    "commitMessage": "Enhance DHCP to permit IPv6 Stateless operation\n\nDHCPv6 provides an additional mode of operation for assigning IPv6\naddresses to the NIC. Prior to this commit the BMCWeb code could only\nassign Stateful IPv6, or it could disable DHCPv6. The changes made\nhere in combination with changes made to phosphor-dbus-interfaces, and\nphosphor-network permit BMCWeb to also configure the BMC to use\nStateless DHCPv6 assignment.\n\nTested:\nIssued GET commands from a REST client after iterating through all of\nthe D-Bus elements using busctl. Confirmed the\nEthernetInterfaces/<nic> ROUTE displayed the state correctly.\n\nIssued PATCH commands to iterate through all DHCPv4 and DHCPv6\ncombinations. Confirmed the D-Bus values were set correctly. Confirmed\nthe systemd.networkd configuration file reflected the\nchanges. Confirmed the NIC settings were active using 'ip address'.\n\nChange-Id: I39d7084263c6521946f7507fa19f2ca8553fbfd1\nSigned-off-by: Johnathan Mantey <johnathanx.mantey@intel.com>\n",
    "createdOn": 1644274050,
    "lastUpdated": 1656049912,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1644274050,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1644274068,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1644274068,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1644274201,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Topic set to dhcpv6-update"
        },
        {
            "timestamp": 1644274456,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/36762/ : FAILURE"
        },
        {
            "timestamp": 1644275291,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1645737499,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 1: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1645774569,
            "reviewer": {
                "name": "Krzysztof Grobelny",
                "email": "krzysztof.grobelny@intel.com",
                "username": "krzysztof-i"
            },
            "message": "Patch Set 1: Code-Review+1"
        },
        {
            "timestamp": 1647889536,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 2: Patch Set 1 was rebased"
        },
        {
            "timestamp": 1647889548,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1647889548,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1647890026,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/39359/ : FAILURE"
        },
        {
            "timestamp": 1647898131,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1647898143,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1647898143,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1647898184,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1647898581,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/39370/ : FAILURE"
        },
        {
            "timestamp": 1647988702,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1647988715,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1647988715,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1647988774,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1647989301,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/39455/ : SUCCESS"
        },
        {
            "timestamp": 1648157153,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4:\n\n(6 comments)"
        },
        {
            "timestamp": 1648223882,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1648223896,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1648223897,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1648223976,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/39745/ : FAILURE"
        },
        {
            "timestamp": 1648226521,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1648226536,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1648226536,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1648227100,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/39746/ : SUCCESS"
        },
        {
            "timestamp": 1648227788,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 6:\n\n(6 comments)"
        },
        {
            "timestamp": 1648451660,
            "reviewer": {
                "name": "Krzysztof Grobelny",
                "email": "krzysztof.grobelny@intel.com",
                "username": "krzysztof-i"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1648452712,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1648489015,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 6:\n\n(2 comments)"
        },
        {
            "timestamp": 1648494436,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6: Code-Review+1\n\n(4 comments)"
        },
        {
            "timestamp": 1648494473,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1648496626,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 6:\n\n(3 comments)"
        },
        {
            "timestamp": 1648497176,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(2 comments)"
        },
        {
            "timestamp": 1648671545,
            "reviewer": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1651667686,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 6: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1651733586,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 6: -Code-Review\n\n(1 comment)"
        },
        {
            "timestamp": 1651733619,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 6: Code-Review-1"
        },
        {
            "timestamp": 1651754647,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1653973797,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 6: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1653981885,
            "reviewer": {
                "name": "Jiaqing Zhao",
                "email": "jiaqing.zhao@intel.com",
                "username": "jiaqingz-intel"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1656049912,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 6: Code-Review+1"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "5bef046c12c9182ccd04596810f7577fcf78ce0b",
            "parents": [
                "dcf2ebc020257bc298d948fcb4da761c284e84d7"
            ],
            "ref": "refs/changes/86/50986/1",
            "uploader": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "createdOn": 1644274050,
            "author": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Adding internal reviewers"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "Code looks okay to me but need to check the build failure."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/hypervisor_system.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -4
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 60,
                    "deletions": -37
                }
            ],
            "sizeInsertions": 90,
            "sizeDeletions": 41
        },
        {
            "number": 2,
            "revision": "1c290a217da7f6adabb5c3ed1995c26cff82484c",
            "parents": [
                "91ac2e57c416bbdf95fa9242eaf8e5f9e118d5ba"
            ],
            "ref": "refs/changes/86/50986/2",
            "uploader": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "createdOn": 1647889536,
            "author": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/hypervisor_system.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -4
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 60,
                    "deletions": -37
                }
            ],
            "sizeInsertions": 90,
            "sizeDeletions": 41
        },
        {
            "number": 3,
            "revision": "8ba68422379d4044d8f33d94b196c2c6f4eb533e",
            "parents": [
                "91ac2e57c416bbdf95fa9242eaf8e5f9e118d5ba"
            ],
            "ref": "refs/changes/86/50986/3",
            "uploader": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "createdOn": 1647898131,
            "author": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Modifications necessary for the Clang Tidy \"return after else\" configuration."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/hypervisor_system.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -4
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 81,
                    "deletions": -47
                }
            ],
            "sizeInsertions": 111,
            "sizeDeletions": 51
        },
        {
            "number": 4,
            "revision": "43e1e29927a5d78236d1ab32219ec75de17280f5",
            "parents": [
                "1c30e500c6f234ed53a8aa84f0f367e5d90eb02f"
            ],
            "ref": "refs/changes/86/50986/4",
            "uploader": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "createdOn": 1647988702,
            "author": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Attempt to appease clang-tidy, round 2."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Looking pretty good."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 124,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I realize that some of these were duplicated, but in practice the code before was a lot easier to read given all the strings were inline.  We've also seen cases where that optimized better when we inlined the strings.\n\nIf this is a reformatting you'd like to do, lets take it up in another patch, separate from adding ipv6 dhcp support, and we can discuss the advantages, but putting them both together is causing me trouble reviewing what the functional diff is because basically every call site has changed."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 124,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "I would not have messed with this at all but for the fact that clang-tidy disliked\n\nif ()\n  return \"lit_str\";\nelse if ()\n  return \"lit_str\";\n...\nreturn \"lit_str\";\n\nThus the constexpr and the var assignment model was my favored answer.\n\nI have this vague recollection that I may have tried to dedup these in the past, and you requested not to. \n\nI also like that the various code blocks get shorter, ala translateDHCPv4DbusToBool, and translateDHCPv6DbusToModeString.\n\nWill revert, just expect me to forget you prefer the inline vs the dedup."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 124,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> I would not have messed with this at all but for the fact that clang-tidy disliked\n> \n> if ()\n>   return \"lit_str\";\n> else if ()\n>   return \"lit_str\";\n> ...\n> return \"lit_str\";\n\nThat's.... odd.  We do that pattern other places and clang-tidy seems fine with it, do you remember what the error was?  Was it related to the return type of that method returning const char* instead of string or string_view?  (just guessing)\n\n> \n> Thus the constexpr and the var assignment model was my favored answer.\n> \n> I have this vague recollection that I may have tried to dedup these in the past, and you requested not to. \n\nThe main concern here is declaring things at global scope, then those things get used in another file over, and we end up with weird #include dependencies (as a real example, SensorCollection relied on AccountService) that take a long convoluted set of patches to resolve.  There is probably a pattern for these that might be reasonable to maintain, and I'm happy to have that discussion, just not in a patch that's also changing behavior, because it makes it hard to validate that we're getting the same optimization, binary size, and other stuff.\n\n> \n> I also like that the various code blocks get shorter, ala translateDHCPv4DbusToBool, and translateDHCPv6DbusToModeString.\n> \n> Will revert, just expect me to forget you prefer the inline vs the dedup.\n\nNo worries.  Like I said, it's largely about consistency, and FWIW, this file suffers from being one of the first we wrote, and having non-trivial dbus conversion, and so it does some strange things.  I'm not completely against non-inline variables, I'd just like them to be backed by the specification if we do them.\n\nAKA: https://gerrit.openbmc-project.xyz/c/openbmc/bmcweb/+/51993/2/redfish-core/include/redfish_defs.hpp\n\n\nIf you have strong opinions on this, I'd love your input on the above."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 124,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "WRT clang-tidy:\nhttps://clang.llvm.org/extra/clang-tidy/checks/readability-else-after-return.html\n\nWRT constexpr's, I don't suppose C++ would have allowed 'static' to prevent the module leak issue. Either way, thanks for guarding the intent of the change. It's so easy to lose sight of the minimum code required to complete the task.\n\nI'll take a look at that WIP commit. Redfish schemas are such a joy to manually parse that something that aids that would be appreciated. Of course the cure has to be a cure.... ;)"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 124,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> WRT clang-tidy:\n> https://clang.llvm.org/extra/clang-tidy/checks/readability-else-after-return.html\n> \n\nAh, that just means that you should do\n\nif ()\n   return \"lit_str\";\nif ()\n   return \"other_str\";\n\nit's just pointing out that the \"else\" is redundant when you return on the last line of the previous if.\n\n> WRT constexpr's, I don't suppose C++ would have allowed 'static' to prevent the module leak issue. Either way, thanks for guarding the intent of the change. It's so easy to lose sight of the minimum code required to complete the task.\n\nWe could do static, which would fix some of the concerns.  My preference would be an anonymous or details namspace, but the difference is negligeble between the two to the point of I'm not sure it matters.\n\n> \n> I'll take a look at that WIP commit. Redfish schemas are such a joy to manually parse that something that aids that would be appreciated. Of course the cure has to be a cure.... ;)\n\nYep, that was my thought too.  Let me know what you think.  In terms of \"incrementally better\" I do think it gets us closer, even if there are still footguns, they're smaller."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 138,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Same as below, camel case as Dbus please."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 138,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 144,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Typo.  ALso, please follow the naming convention.  D in dbus should be capitalized."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 144,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 159,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Did this name really have to change?  I'm not really sure what the word \"next\" has to do with it, but it's been added to all the parameters as well as the function name?  Maybe there's a good reason why it's the \"next\" one that I'm not understanding?  (seems likely)"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 159,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "I don't recall my thought process for this, thus can't/won't defend it."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 159,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "No worries.  It is naming, so it's not a bridge I'm going to stand on if you really want to call it next, I just didn't really get the reference."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 1281,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Can we avoid the terinary and stick with some normal conditionals here please?  It makes this code really tough to read."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 1281,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Not sure I agree with the readability angle. This is long established C form, unlike the gibberish extant in C++.\nChanging per your request."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 1281,
                    "reviewer": {
                        "name": "Krzysztof Grobelny",
                        "email": "krzysztof.grobelny@intel.com",
                        "username": "krzysztof-i"
                    },
                    "message": "I would vote for using value_or since dhcpv4Enabled is an std::optional\n\nconst bool nextv4DHCPState = v4dhcpParms.dhcpv4Enabled.value_or(translateDHCPv4dbusToBool(ethData.DHCPEnabled));"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 1281,
                    "reviewer": {
                        "name": "Jiaqing Zhao",
                        "email": "jiaqing.zhao@intel.com",
                        "username": "jiaqingz-intel"
                    },
                    "message": "I also suggest using `value_or` here"
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 1281,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "It appears value_or can throw an exception. BMCWeb is designed to avoid exceptions. I expect using syntax similar to the remaining statements in the function are preferred."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 1281,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "value_or doesn't throw exceptions so its use would be fine, with that said, there are zero uses of it in the bmcweb codebase to date, so I'm not going to require it on new patches, although it could've worked fine here."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 1281,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "I don't know when this is true/false:\n\"Any exception thrown by the selected constructor of the return value T.\"\n\nUsing the code as written clearly does NOT throw, and is preferred as a result."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 1281,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Basically what that's saying is \"If the constructor for T throws, value_or will throw as well when it tries to construct the object\"\n\nWhat's not written (but probably should be) is \"otherwise, this method doesn't throw\".  So, unless you write a class that throws in the constructor, value_or won't throw.  Technically almost all classes in bmcweb can throw out-of-memory, most of the time in their constructors, but considering that there's not really any reasonable recovery we can do at that point, it makes sense to just throw it all the way up."
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "line": 1281,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/hypervisor_system.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -4
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 72,
                    "deletions": -41
                }
            ],
            "sizeInsertions": 102,
            "sizeDeletions": 45
        },
        {
            "number": 5,
            "revision": "16d28fe7d76cdd605309975209b51d1c80be3d46",
            "parents": [
                "e76cd86812f29f1153a50c7de177945c7e4fb3e3"
            ],
            "ref": "refs/changes/86/50986/5",
            "uploader": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "createdOn": 1648223882,
            "author": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/hypervisor_system.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -4
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 66,
                    "deletions": -37
                }
            ],
            "sizeInsertions": 96,
            "sizeDeletions": 41
        },
        {
            "number": 6,
            "revision": "ff0665c9e07981e04a203d5715410531706a6ae2",
            "parents": [
                "e76cd86812f29f1153a50c7de177945c7e4fb3e3"
            ],
            "ref": "refs/changes/86/50986/6",
            "uploader": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "createdOn": 1648226521,
            "author": {
                "name": "Johnathan Mantey",
                "email": "johnathanx.mantey@intel.com",
                "username": "Howitzer105mm"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Updated per your review comments Ed."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Thanks for the suggestion. I am going to keep the non-throwing model unless a maintainer recommends otherwise."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Would like for someone with more understanding of the ipv6 dbus interfaces to review this, but to my eye, it looks right."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "LGTM"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Johnathan Mantey",
                        "email": "johnathanx.mantey@intel.com",
                        "username": "Howitzer105mm"
                    },
                    "message": "Answering a few of the questions."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "Looks good to me. Backend changes need to get in first"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "The schema https://redfish.dmtf.org/schemas/v1/EthernetInterface.v1_8_0.json deprecates \"Stateful\" and              \"Stateless\" values. Any strong reasons for implementing the deprecated changes in this commit?\n\nRedfish PATCH data to enable/disable the Stateless IPv6 should be '{\"StatelessAddressAutoConfig\u201d:{\"IPv6AutoConfigEnabled\": true}}'. I think its good to use this instead of the previous values\n"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "+1"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "From the commit https://gerrit.openbmc.org/c/openbmc/bmcweb/+/54011 - VLAN feature requires version 1.6.0. This has support for the Stateful and Stateless values. So i think we can go ahead with this considering that BMC is moving to 1.6.0 version of the schema and not taking the 1.8.0 version"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jiaqing Zhao",
                        "email": "jiaqing.zhao@intel.com",
                        "username": "jiaqingz-intel"
                    },
                    "message": "Though VLAN will currently stay on 1.6.0, but once Redfish spec implemented the schema for creating VLANs using EthernetInterface, I will submit stage-2 patches to use the new schema. At that time, it would be 1.8.0+. So if we merge this patch, it will only exist in a period of time.\n\nThe Redfish spec says\n> The control between 'stateful' and 'stateless' is managed by the DHCP server and not the client.\n\nI think this is right. Most situations this is configured in router."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/hypervisor_system.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "redfish-core/lib/ethernet.hpp",
                    "type": "MODIFIED",
                    "insertions": 66,
                    "deletions": -37
                }
            ],
            "sizeInsertions": 97,
            "sizeDeletions": 41
        }
    ]
}