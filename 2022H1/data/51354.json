{
    "project": "openbmc/openbmc",
    "branch": "master",
    "id": "I738d0d86b6a9729d488f22e841e207aaab219796",
    "number": 51354,
    "subject": "meta-quanta: s6q: add watchdog service",
    "owner": {
        "name": "Joseph Fu",
        "email": "joseph.fu@quantatw.com",
        "username": "JosephFu1023"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/openbmc/+/51354",
    "commitMessage": "meta-quanta: s6q: add watchdog service\n\nAdd service files to enable ipmitool watchdog command.\n\nTested:\n1.setting watchdog action hard reset\n~# ipmitool raw 0x06 0x24 0x01 0x01 0x01 0x02 0x64 0x00\nstarting reset\n~# ipmitool raw 0x06 0x22\n2.power off\n~# ipmitool raw 0x06 0x24 0x01 0x02 0x01 0x02 0x64 0x00\n~# ipmitool raw 0x06 0x22\n3.power cycle\n~# ipmitool raw 0x06 0x24 0x01 0x02 0x01 0x02 0x64 0x00\n~# ipmitool raw 0x06 0x22\nUse these commands to verify the result matches service settings.\n\nSigned-off-by: Joseph Fu <joseph.fu@quantatw.com>\nChange-Id: I738d0d86b6a9729d488f22e841e207aaab219796\n",
    "createdOn": 1645172513,
    "lastUpdated": 1645669239,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1645172513,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1645172551,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1645172551,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1645172557,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/9393/"
        },
        {
            "timestamp": 1645174295,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/9393/ : SUCCESS"
        },
        {
            "timestamp": 1645175692,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 1:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1645508988,
            "reviewer": {
                "name": "George Hung",
                "email": "george.hung@quantatw.com",
                "username": "georgehung1210"
            },
            "message": "Patch Set 1: Code-Review+1"
        },
        {
            "timestamp": 1645596837,
            "reviewer": {
                "name": "P. K. Lee",
                "email": "p.k.lee@quantatw.com",
                "username": "PKLee-Quanta"
            },
            "message": "Patch Set 1: Code-Review+1"
        },
        {
            "timestamp": 1645665488,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1645665978,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1645666016,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1645666016,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1645666025,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/9487/"
        },
        {
            "timestamp": 1645666284,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1645666782,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/9487/ : SUCCESS"
        },
        {
            "timestamp": 1645666993,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 2: Code-Review+2"
        },
        {
            "timestamp": 1645668392,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1645669237,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Change has been successfully rebased and submitted as 23e5d9b86c7ee816d87ded9c05385da4b96192bf"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "3b8b6cef24c9d98ee2f5a6a968d1dac118886bc6",
            "parents": [
                "18a6b18c34b9c651b96fa3fb5be956aee1604db9"
            ],
            "ref": "refs/changes/54/51354/1",
            "uploader": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "createdOn": 1645172513,
            "author": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "meta-quanta/meta-s6q/recipes-phosphor/watchdog/phosphor-watchdog_%.bbappend",
                    "line": 1,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "usually `prepend` is suggested so that your files here will override any of the same name in the base recipe"
                },
                {
                    "file": "meta-quanta/meta-s6q/recipes-phosphor/watchdog/phosphor-watchdog_%.bbappend",
                    "line": 1,
                    "reviewer": {
                        "name": "Joseph Fu",
                        "email": "joseph.fu@quantatw.com",
                        "username": "JosephFu1023"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 25,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-s6q/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-watchdog-host-powercycle.service",
                    "type": "ADDED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-s6q/recipes-phosphor/watchdog/phosphor-watchdog_%.bbappend",
                    "type": "ADDED",
                    "insertions": 8,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-s6q/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-watchdog.service",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-s6q/recipes-s6q/packagegroups/packagegroup-s6q-apps.bb",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-s6q/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-watchdog-host-reset.service",
                    "type": "ADDED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-s6q/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-watchdog-host-poweroff.service",
                    "type": "ADDED",
                    "insertions": 8,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 76,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "886d8b9ab3a9271b666ec849ad2adc1a2811852a",
            "parents": [
                "18a6b18c34b9c651b96fa3fb5be956aee1604db9"
            ],
            "ref": "refs/changes/54/51354/2",
            "uploader": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "createdOn": 1645665978,
            "author": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 25,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-s6q/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-watchdog-host-powercycle.service",
                    "type": "ADDED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-s6q/recipes-phosphor/watchdog/phosphor-watchdog_%.bbappend",
                    "type": "ADDED",
                    "insertions": 8,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-s6q/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-watchdog.service",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-s6q/recipes-s6q/packagegroups/packagegroup-s6q-apps.bb",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-s6q/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-watchdog-host-reset.service",
                    "type": "ADDED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-s6q/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-watchdog-host-poweroff.service",
                    "type": "ADDED",
                    "insertions": 8,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 76,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "23e5d9b86c7ee816d87ded9c05385da4b96192bf",
            "parents": [
                "26d53c5faa5cb22d02371ca8225ae8cdcfbf159a"
            ],
            "ref": "refs/changes/54/51354/3",
            "uploader": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "createdOn": 1645669237,
            "author": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 25,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-s6q/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-watchdog-host-powercycle.service",
                    "type": "ADDED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-s6q/recipes-phosphor/watchdog/phosphor-watchdog_%.bbappend",
                    "type": "ADDED",
                    "insertions": 8,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-s6q/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-watchdog.service",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-s6q/recipes-s6q/packagegroups/packagegroup-s6q-apps.bb",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-s6q/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-watchdog-host-reset.service",
                    "type": "ADDED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "meta-quanta/meta-s6q/recipes-phosphor/watchdog/phosphor-watchdog/phosphor-watchdog-host-poweroff.service",
                    "type": "ADDED",
                    "insertions": 8,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 76,
            "sizeDeletions": 0
        }
    ]
}