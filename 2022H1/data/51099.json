{
    "project": "openbmc/docs",
    "branch": "master",
    "id": "Ic1ce65d00d3c9761b361fba0f33965f26bf82b80",
    "number": 51099,
    "subject": "Make guidelines more clear on public repos",
    "owner": {
        "name": "Ed Tanous",
        "email": "ed@tanous.net",
        "username": "edtanous"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/docs/+/51099",
    "commitMessage": "Make guidelines more clear on public repos\n\nResolves openbmc/technical-oversight-forum#12.\n\nSigned-off-by: Ed Tanous <edtanous@google.com>\nChange-Id: Ic1ce65d00d3c9761b361fba0f33965f26bf82b80\n",
    "createdOn": 1644447766,
    "lastUpdated": 1651168104,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1644447766,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1644451329,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1644451476,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1644451555,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1644453504,
            "reviewer": {
                "name": "Brad Bishop",
                "email": "bradleyb@fuzziesquirrel.com",
                "username": "bradbishop"
            },
            "message": "Patch Set 1: Code-Review+1"
        },
        {
            "timestamp": 1644453656,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 1: Code-Review+1"
        },
        {
            "timestamp": 1644488755,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Patch Set 1:\n\n(3 comments)"
        },
        {
            "timestamp": 1644510416,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2: Published edit on patch set 1."
        },
        {
            "timestamp": 1644510427,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1644523190,
            "reviewer": {
                "name": "Brad Bishop",
                "email": "bradleyb@fuzziesquirrel.com",
                "username": "bradbishop"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1644527554,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1644530238,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1644612540,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1644617143,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1644617557,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1644618576,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1644619028,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1644619751,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1644621180,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1644659715,
            "reviewer": {
                "name": "Alexander Amelkin",
                "email": "a.amelkin@yadro.com",
                "username": "AlexanderAmelkin"
            },
            "message": "Patch Set 2: Code-Review-1\n\n(1 comment)"
        },
        {
            "timestamp": 1644725171,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1645548557,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1649882383,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1650383348,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1650991438,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1650991516,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1651168089,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 4: Commit message was updated."
        },
        {
            "timestamp": 1651168101,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 4: Verified+1 Code-Review+2"
        },
        {
            "timestamp": 1651168104,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Change has been successfully merged"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "324ca0c411ab3ca3dc240bbc131e7b97ef81fa36",
            "parents": [
                "81c37705a01d9f2c1b0447bfd55642c8d2064a5e"
            ],
            "ref": "refs/changes/99/51099/1",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1644447766,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "we should probably cc the TOF members? "
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I was planning to, just got distracted."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Done.  Messaged in discord."
                },
                {
                    "file": "meta-layer-guidelines.md",
                    "line": 99,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "yulei.sh@bytedance.com",
                        "username": "mine260309"
                    },
                    "message": "nit: Use upper case O here"
                },
                {
                    "file": "meta-layer-guidelines.md",
                    "line": 99,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Done"
                },
                {
                    "file": "meta-layer-guidelines.md",
                    "line": 115,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "yulei.sh@bytedance.com",
                        "username": "mine260309"
                    },
                    "message": "nit: Add . after project"
                },
                {
                    "file": "meta-layer-guidelines.md",
                    "line": 115,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Done"
                },
                {
                    "file": "meta-layer-guidelines.md",
                    "line": 122,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "yulei.sh@bytedance.com",
                        "username": "mine260309"
                    },
                    "message": "\"${AUTOREV}\""
                },
                {
                    "file": "meta-layer-guidelines.md",
                    "line": 122,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "meta-layer-guidelines.md",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 38,
            "sizeDeletions": 1
        },
        {
            "number": 2,
            "revision": "a64e0770f25be4a527b0c30cce6dd72e6c1bc3f6",
            "parents": [
                "81c37705a01d9f2c1b0447bfd55642c8d2064a5e"
            ],
            "ref": "refs/changes/99/51099/2",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1644510416,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "meta-layer-guidelines.md",
                    "line": 96,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I'm somewhat surprised to see the people that gave a +1 one this given the following:\n\n  $ git ls-files -- ':!:poky/**' ':!:meta-security/**' \\\n        ':!:meta-raspberrypi/**' ':!:meta-openembedded/**' | \\\n    xargs grep SRC_URI | grep github.com | grep -v openbmc | \\\n    sed \"s#/.*##\" | sort | uniq -c | sort -n\n      1 meta-aspeed\n      2 meta-hpe\n      2 meta-inspur\n      2 meta-quanta\n      3 meta-nuvoton\n      5 meta-google\n      6 meta-phosphor\n      7 meta-yadro\n     13 meta-openpower\n\nWouldn't most of these recipes start to be a violation of this guideline?  It seems like a fairly common pattern for openpower at least to put recipes pointing to elsewhere."
                },
                {
                    "file": "meta-layer-guidelines.md",
                    "line": 96,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "meta aspeed is on compliance, the only hit is socsec, which is intended to be a generic tool (admittedly targetted at aspeed bmcs, but not openbmc specific)\n\nmeta-google has a number of recipes, nanopb, glome, sslh, conf2struct, and mstp, none of which are openbmc specific or would violate this rule.\n\ngxp.... yeah.... points to a custom copy of u-boot.  That will need fixed to point to at least the openbmc fork of u-boot.\n\ninspur has a couple direct violations of the intent of this rule.\n\nNuvoton has its own copy of u-boot as well, the rest look like generic tools for their SOC and not openbmc specific.\n\nmeta-openpower looks like it's mostly generic tools, although I can't say that for sure for all of them.  Looking at it, I do recognize that guard is an openbmc-specific tool hosted in the github open-power org, I'm assuming that's just an oversight, as I do recall a design doc for it in openbmc upstream.\n\nfbterm and urart-render-controller seem generic.\n\nQuanta seems to have violated this rule with a couple repos.  I'll let them call out their plan here (and FWIW, read-margin-temp has been an issue for gbs in the past, so it's worth fixing).\n\nYardro also seems to have their own copies of several tools.\n\n\nComplete list is below (derived from your script):\ngit ls-files -- ':!:poky/**' ':!:meta-security/**' \\\n        ':!:meta-raspberrypi/**' ':!:meta-openembedded/**' | \\\n    xargs grep SRC_URI | grep github.com | grep -v openbmc    \ngrep: bitbake: Is a directory\ngrep: meta: Is a directory\nmeta-aspeed/recipes-aspeed/python/socsec.inc:SRC_URI = \"git://github.com/AspeedTech-BMC/socsec.git;protocol=https;branch=${BRANCH}\"\nmeta-google/recipes-extended/libconfig/conf2struct-native_git.bb:SRC_URI = \"git://github.com/yrutschle/conf2struct;branch=master;protocol=https\"\nmeta-google/recipes-extended/networking/mstpd_git.bb:SRC_URI = \"git://github.com/mstpd/mstpd;branch=master;protocol=https\"\nmeta-google/recipes-extended/networking/sslh_git.bb:SRC_URI = \"git://github.com/yrutschle/sslh;branch=master;protocol=https\"\nmeta-google/recipes-google/console/glome_git.bb:SRC_URI = \"git://github.com/google/glome.git;branch=master;protocol=https\"\nmeta-google/recipes-google/nanopb/nanopb_0.4.5.bb:SRC_URI = \"git://github.com/nanopb/nanopb;branch=master;protocol=https\"\nmeta-hpe/meta-gxp/classes/gxp-bootblock-n-poc.bbclass:SRC_URI = \"git://github.com/HewlettPackard/gxp-bootblock.git;branch=${BBRANCH};protocol=https\"\nmeta-hpe/meta-gxp/recipes-bsp/u-boot/u-boot-common-gxp_2020.10.inc:SRC_URI = \"git://github.com/HewlettPackard/gxp-uboot.git;branch=${UBRANCH};protocol=https\"\nmeta-inspur/meta-fp5280g2/recipes-phosphor/power/phosphor-fp5280g2-psu-update.bb:SRC_URI = \"git://github.com/inspur-bmc/fp5280g2-psu-update-tool;branch=master;protocol=https\"\nmeta-inspur/meta-on5263m5/recipes-inspur/inspur-uuid/inspur-uuid_git.bb:SRC_URI = \"git://github.com/inspur-bmc/inspur-uuid.git;branch=master;protocol=https\"\nmeta-nuvoton/recipes-bsp/images/npcm7xx-bingo-native_git.bb:SRC_URI += \"git://github.com/Nuvoton-Israel/bingo;branch=master;protocol=https\"\nmeta-nuvoton/recipes-bsp/u-boot/u-boot-common-nuvoton.inc:SRC_URI = \"git://github.com/Nuvoton-Israel/u-boot.git;branch=${UBRANCH};protocol=https\"\nmeta-nuvoton/recipes-nuvoton/loadsvf/loadsvf_git.bb:SRC_URI = \"git://github.com/Nuvoton-Israel/loadsvf.git;branch=master;protocol=https\"\nmeta-openpower/recipes-bsp/ecmd-pdbg/ecmd-pdbg_1.0.bb:SRC_URI = \"git://git@github.com/open-power/ecmd-pdbg.git;branch=master;protocol=https\"\nmeta-openpower/recipes-bsp/ecmd/croserver_git.bb:SRC_URI = \"git://github.com/open-power/eCMD.git;branch=master;protocol=https\"\nmeta-openpower/recipes-bsp/ecmd/libecmd_git.bb:SRC_URI = \"git://github.com/open-power/eCMD.git;branch=ecmd15;protocol=https\"\nmeta-openpower/recipes-bsp/ffs/ffs_git.bb:SRC_URI += \"git://github.com/open-power/ffs.git;branch=master;protocol=https\"\nmeta-openpower/recipes-bsp/fsidbg/fsidbg_git.bb:SRC_URI += \"git://github.com/eddiejames/fsidbg.git;branch=master;protocol=https\"\nmeta-openpower/recipes-bsp/guard/guard_git.bb:SRC_URI = \"git://git@github.com/open-power/guard;branch=\"main\";protocol=https\"\nmeta-openpower/recipes-bsp/ipl/ipl_git.bb:SRC_URI = \"git://git@github.com/open-power/ipl;branch=\"main\";protocol=https\"\nmeta-openpower/recipes-bsp/libekb/libekb_git.bb:SRC_URI = \"git://git@github.com/open-power/libekb_p10;branch=\"main\";name=libekb;protocol=https \\\nmeta-openpower/recipes-bsp/pdata/pdata_git.bb:SRC_URI = \"git://git@github.com/open-power/pdata;branch=\"main\";protocol=https\"\nmeta-openpower/recipes-bsp/pdbg/pdbg_3.4.bb:SRC_URI += \"git://github.com/open-power/pdbg.git;branch=master;protocol=https\"\nmeta-openpower/recipes-bsp/skiboot/skiboot.inc:SRC_URI += \"git://github.com/open-power/skiboot.git;branch=skiboot-6.5.x;protocol=https\"\nmeta-openpower/recipes-phosphor/host/aspeed-lpc-ctrl_git.bb:SRC_URI += \"git://github.com/shenki/aspeed-lpc-control;branch=master;protocol=https\"\nmeta-openpower/recipes-phosphor/logging/python3-sbe-log-parsers_git.bb:SRC_URI += \"git://git@github.com/open-power/sbe;branch=\"master-p10\";protocol=ssh;protocol=https\"\nmeta-phosphor/aspeed-layer/recipes-kernel/cf-fsi-firmware/cf-fsi-firmware_git.bb:SRC_URI = \"git://github.com/ozbenh/cf-fsi.git;branch=master;protocol=https\"\nmeta-phosphor/classes/mrw-rev.bbclass:MRW_API_SRC_URI ?= \"git://github.com/open-power/serverwiz.git;branch=master;protocol=https\"\nmeta-phosphor/recipes-devtools/iotools/iotools_1.6.bb:SRC_URI = \"git://git@github.com/jonmayergoogle/iotools.git;protocol=https;branch=master\"\nmeta-phosphor/recipes-phosphor/ipmi/ipmitool_%.bbappend:SRC_URI = \"git://github.com/ipmitool/ipmitool.git;protocol=https;branch=master\"\ngrep: meta-poky: Is a directory\ngrep: meta-skeleton: Is a directory\ngrep: scripts: Is a directory\nmeta-phosphor/recipes-phosphor/video/fbterm_git.bb:SRC_URI += \"git://github.com/jk-ozlabs/fbterm.git;nobranch=1;protocol=https\"\nmeta-phosphor/recipes-phosphor/video/uart-render-controller_git.bb:SRC_URI += \"git://github.com/jk-ozlabs/uart-render-controller;branch=master;protocol=https\"\nmeta-quanta/meta-common/recipes-quanta/fans/read-margin-temp_git.bb:SRC_URI = \"git://github.com/quanta-bmc/read-margin-temp.git;branch=master;protocol=https\"\nmeta-quanta/meta-common/recipes-quanta/network/mac-address_git.bb:SRC_URI = \"git://github.com/quanta-bmc/mac-address.git;protocol=https;branch=master\"\nmeta-yadro/meta-nicole/recipes-phosphor/logging/openpower-esel-parser_git.bb:SRC_URI = \"gitsm://github.com/YADRO-KNS/openpower-esel-parser;branch=master;protocol=https\"\nmeta-yadro/recipes-yadro/cli/obmc-yadro-backup_git.bb:SRC_URI = \"git://github.com/YADRO-KNS/obmc-yadro-backup.git;branch=master;protocol=https\"\nmeta-yadro/recipes-yadro/cli/obmc-yadro-cli_git.bb:SRC_URI = \"git://github.com/YADRO-KNS/obmc-yadro-cli;branch=master;protocol=https\"\nmeta-yadro/recipes-yadro/cli/obmc-yadro-fwupdate_git.bb:SRC_URI = \"git://github.com/YADRO-KNS/obmc-yadro-fwupdate;branch=master;protocol=https\"\nmeta-yadro/recipes-yadro/cli/obmc-yadro-lsinventory_git.bb:SRC_URI = \"git://github.com/YADRO-KNS/obmc-yadro-lsinventory.git;branch=master;protocol=https\"\nmeta-yadro/recipes-yadro/cli/obmc-yadro-lssensors_git.bb:SRC_URI = \"git://github.com/YADRO-KNS/obmc-yadro-lssensors.git;branch=master;protocol=https\"\nmeta-yadro/recipes-yadro/cli/obmc-yadro-netconfig_git.bb:SRC_URI = \"git://github.com/YADRO-KNS/obmc-yadro-netconfig.git;branch=master;protocol=https\""
                },
                {
                    "file": "meta-layer-guidelines.md",
                    "line": 96,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "The openpower repos are used to interact with the openpower hardware and other firmware entities in the system.  For example pdbg is shared across at least 3 different firmware entities in the system so they can understand each other."
                },
                {
                    "file": "meta-layer-guidelines.md",
                    "line": 96,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "> The openpower repos are used to interact with the openpower hardware and other firmware entities in the system.  For example pdbg is shared across at least 3 different firmware entities in the system so they can understand each other.\n\nHow do we differentiate those cases?  Is the language being proposed here sufficient?\n\nI'm wanting to make sure we have a crisp definition here because we recently rejected some commits from HPE because they had their own repositories.  Knowing what they were trying to do and having enough background on the open-power repositories, I don't see a big difference between pdbg+ecmd+libekb+ipl and at least one of the repositories that HPE tried to add a recipe for.\n\nThese two also stood out to me:\n\n  meta-openpower/recipes-bsp/fsidbg/fsidbg_git.bb:SRC_URI += \"git://github.com/eddiejames/fsidbg.git;branch=master;protocol=https\"\n  meta-openpower/recipes-phosphor/host/aspeed-lpc-ctrl_git.bb:SRC_URI += \"git://github.com/shenki/aspeed-lpc-control;branch=master;protocol=https\""
                },
                {
                    "file": "meta-layer-guidelines.md",
                    "line": 96,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "> How do we differentiate those cases?  Is the language being proposed here sufficient?\nYea I guess since they aren't openbmc specific they don't violate this rule.\nI'd have to check on those last two though."
                },
                {
                    "file": "meta-layer-guidelines.md",
                    "line": 96,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> > The openpower repos are used to interact with the openpower hardware and other firmware entities in the system.  For example pdbg is shared across at least 3 different firmware entities in the system so they can understand each other.\n> \n> How do we differentiate those cases?  Is the language being proposed here sufficient?\n\nI think it is;  If the library is used in 3 different firmwares (presumably 2 are non-openbmc), then it probably doesn't rely on openbmc dbus interfaces, so it doesn't hit rule 1.  It's used outside of openbmc, so doesn't hit on rule 2.  Rule 3 might be questionable, but again, if it's used outside of openbmc, clearly it can perform its primary function without openbmc specifics.\n\n> \n> I'm wanting to make sure we have a crisp definition here because we recently rejected some commits from HPE because they had their own repositories.  Knowing what they were trying to do and having enough background on the open-power repositories, I don't see a big difference between pdbg+ecmd+libekb+ipl and at least one of the repositories that HPE tried to add a recipe for.\n\nI'll take an AR to go look at that patchset again.  I thought all of HP recipes were either forks of openbmc repos, or in-house openbmc-specific tools, but it's quite possible I made a mistake there, and some of them would've been fine.\n\n> \n> These two also stood out to me:\n> \n>   meta-openpower/recipes-bsp/fsidbg/fsidbg_git.bb:SRC_URI += \"git://github.com/eddiejames/fsidbg.git;branch=master;protocol=https\"\n>   meta-openpower/recipes-phosphor/host/aspeed-lpc-ctrl_git.bb:SRC_URI += \"git://github.com/shenki/aspeed-lpc-control;branch=master;protocol=https\"\n\nfair point."
                },
                {
                    "file": "meta-layer-guidelines.md",
                    "line": 96,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "> If the library is used in 3 different firmwares (presumably 2 are non-openbmc), then it probably doesn't rely on openbmc dbus interfaces, so it doesn't hit rule 1.\n\nI suspect there are cases where the code is written with something like 'meson -Dopenbmc=yes' and then it enables code that uses some OpenBMC APIs instead of \"other firmware APIs\".  This would cause it, to me, to violate rule 1.\n\nIt is pretty rare that any code would be completely free-standing unless it were only triggered via systemd-service files that it itself installed.  Even then you have a dependency with the phosphor-state-manager service/target order.\n\nI suppose \"this code provides a library API that some openbmc process uses\" would be a design where the code wouldn't violate rule 1.  In which case, I guess if we really run into trouble with the code failing to compile with the latest GCC, etc. we can patch it just like we would with any Yocto recipes.\n\n> I'll take an AR to go look at that patchset again.  I thought all of HP recipes were either forks of openbmc repos, or in-house openbmc-specific tools, but it's quite possible I made a mistake there, and some of them would've been fine.\n\nMany of them were forks, yes, which would be a no-go and I'm fine with that.  There was CHIF which seemed like an HPE-specific PLDM-like thing and that's what I was thinking of in this case."
                },
                {
                    "file": "meta-layer-guidelines.md",
                    "line": 96,
                    "reviewer": {
                        "name": "Alexander Amelkin",
                        "email": "a.amelkin@yadro.com",
                        "username": "AlexanderAmelkin"
                    },
                    "message": "Ed, codewise Yadro's repos are not copies of anything. They are rather replacement for openbmc components that we aren't satisfied with, but that we don't have resources to run through the community review process, or that we are quite sure the community would not accept.\n\nWe in general are, and I personally am strictly against limiting vendors from using links to their own repos as long as they are public. I believe that every vendor is actually willing to upstream as much as they can as soon as they are able to. If they are not doing so, they have their reasons, sometimes of commercial/business nature, that OpenBMC community has neither authority, nor power, nor moral right to influence. Forcing the vendors to use only the community hosted repos is just a way to spawn more forks like Intel-OpenBMC that may never then be merged back. The other probablity is that you will force vendors to make their private forks that the public will never even know of. I don't think openbmc is going to benefit from any of that."
                },
                {
                    "file": "meta-layer-guidelines.md",
                    "line": 96,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> Ed, codewise Yadro's repos are not copies of anything.\n\nFair point, \"reimplementation\" would've been a better word to use.\n\n> They are rather replacement for openbmc components that we aren't satisfied with, but that we don't have resources to run through the community review process, or that we are quite sure the community would not accept.\n\nIMO, going through the community review process is part of what it means to upstream code;  It means it follows a quality, and is generally useful to others.\n\n> \n> We in general are, and I personally am strictly against limiting vendors from using links to their own repos as long as they are public. I believe that every vendor is actually willing to upstream as much as they can as soon as they are able to. If they are not doing so, they have their reasons, sometimes of commercial/business nature, that OpenBMC community has neither authority, nor power, nor moral right to influence.\n> Forcing the vendors to use only the community hosted repos is just a way to spawn more forks like Intel-OpenBMC that may never then be merged back.\n\nI pretty adamantly disagree here\n\n2 very important points here that I think you could phrase more directly;  First, nobody is forcing vendors to use only the community hosted repos.  Vendors are free to use whatever repos they see fit, and redistribute them however they like under the license for the repos.  The only thing being discussed here is in concerns to what the upstream repos point to, and while I would like to make everyone happy as much as possible, those that are unhappy are free to fork, and make (more importantly support and rebase) whatever changes they like.  IMO, the fact that Intel-BMC and other forks exist means that we're developing a healthy community, with lots of possibility for community input and collaboration as we compare the various solutions.  For example, when we were selecting a Redfish implementation, there were 5 competing codebases from various vendors, and we had some excellent discussions about pros and cons of each.  Many things that at one point were in Intel-BMC have been pulled in as major openbmc features within openbmc after community input.  The most recent is the linux kernel accepting the peci subsystem.  That's great, and I think the way these things should go.\n\n> The other probablity is that you will force vendors to make their private forks that the public will never even know of.\n\nThis already happens today, so I don't think this policy is going to be the seed of that.  I'm aware of at least two dozen private forks of the openbmc codebase.  Given that most things are apache licensed, that is their right.\n\n> I don't think openbmc is going to benefit from any of that.\n\nThis statement is where I struggle.  In terms of things openbmc won't benefit from, I think every platform inventing their own copies of subsystems, and not having any sort of model to make changes is a much larger detriment to the project than the potential of forks.  Companies have already forked.\n\n\nWith that said, lets dig a little deeper into what your idea is, maybe there's some common ground.  If repos are allowed to be pointed to unmaintained company repos how would OpenBMC:\n1. Ensure that quality standards are met (code reviews, static analysis, ect)?\n2. Ensure that there is a method to submit patches to the repos?  (with this rule, it would just use gerrit).\n3. Ensure that the code of conduct is enforced on activities happening in that repo?\n4. Provide an escalation path (like the TSC or TOF) for resolving interpersonal, and company politics in regards to the code?\n5. Ensure that the codebase remains buildable in the event a particular company had a \"change of heart\" and made their repos private?\n\n\n\nOne more thing I would like to understand is, if a company is going to create their own new features, not make an attempt to upstream them, and apply them to only a single vendors system, why is it so important they're upstream?  If those projects aren't engaging with the community it means they're self-supported and self-developed, so it's not clear why OpenBMC hosting a recipe file is that important.  Can you elaborate?"
                },
                {
                    "file": "meta-layer-guidelines.md",
                    "line": 96,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Any more input here?"
                },
                {
                    "file": "meta-layer-guidelines.md",
                    "line": 96,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "meta-layer-guidelines.md",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 38,
            "sizeDeletions": 1
        },
        {
            "number": 3,
            "revision": "ed92d7ee021e45a197cf757082556b9af4542678",
            "parents": [
                "261191136f2fe69a3034158cac5a594fd233c940"
            ],
            "ref": "refs/changes/99/51099/3",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1650991438,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Rebased on top of master with the formatting changes and removed the RFC from the title;  TOF vote has majority;  I suspect this can merge."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-layer-guidelines.md",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 43,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "d3b3bf70f5e4ea1c2d2dba7c6626f1c80250d4e6",
            "parents": [
                "261191136f2fe69a3034158cac5a594fd233c940"
            ],
            "ref": "refs/changes/99/51099/4",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1651168089,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "meta-layer-guidelines.md",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 42,
            "sizeDeletions": 0
        }
    ]
}