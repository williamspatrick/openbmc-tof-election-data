{
    "project": "openbmc/google-ipmi-sys",
    "branch": "master",
    "id": "Id8a6049550631c30c68a536313b81a8d800fede0",
    "number": 64697,
    "subject": "Add flags for bmc  modes transitions",
    "owner": {
        "name": "Hao Zhou",
        "email": "haoooamazing@google.com",
        "username": "hzhou07"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/google-ipmi-sys/+/64697",
    "hashtags": [],
    "createdOn": 1688684220,
    "lastUpdated": 1689029749,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1688684220,
            "reviewer": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1688684248,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1688684248,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1688684542,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/70339/ : SUCCESS"
        },
        {
            "timestamp": 1688687406,
            "reviewer": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "message": "Uploaded patch set 2: Commit message was updated.\n\nCopied Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1688687418,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1688687418,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1688687712,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/70340/ : SUCCESS"
        },
        {
            "timestamp": 1688689563,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1688706869,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1688750453,
            "reviewer": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1688766074,
            "reviewer": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "message": "Uploaded patch set 3: Commit message was updated.\n\nCopied Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1688766103,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1688766103,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1688766230,
            "reviewer": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "message": "Uploaded patch set 4: Commit message was updated.\n\nCopied Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1688766253,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1688766253,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1688766254,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/70421/ : ABORTED"
        },
        {
            "timestamp": 1688766436,
            "reviewer": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "message": "Uploaded patch set 5.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1688766453,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1688766453,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1688766454,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/70422/ : ABORTED"
        },
        {
            "timestamp": 1688766470,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/70423/ : FAILURE"
        },
        {
            "timestamp": 1688766477,
            "reviewer": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1688767080,
            "reviewer": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "message": "Uploaded patch set 6.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1688767118,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1688767118,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1688767570,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/70425/ : SUCCESS"
        },
        {
            "timestamp": 1688768220,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 6:\n\n(2 comments)"
        },
        {
            "timestamp": 1688769116,
            "reviewer": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "message": "Uploaded patch set 7: Commit message was updated.\n\nCopied Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1688769134,
            "reviewer": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "message": "Patch Set 7:\n\n(2 comments)"
        },
        {
            "timestamp": 1688769143,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1688769143,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1688769468,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1688769587,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/70428/ : SUCCESS"
        },
        {
            "timestamp": 1688775757,
            "reviewer": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1689010410,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 7: Code-Review+1"
        },
        {
            "timestamp": 1689028453,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 7: Code-Review+2"
        },
        {
            "timestamp": 1689029749,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Change has been successfully merged"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "a858b812f439a33254ed250ce8aeeaa860d0a295",
            "parents": [
                "dd04017914c3c656bbebc22e7899c40a79e520fc"
            ],
            "ref": "refs/changes/97/64697/1",
            "uploader": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "createdOn": 1688684220,
            "author": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 43,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 62,
            "sizeDeletions": 5
        },
        {
            "number": 2,
            "revision": "5e101222c12c20eff14512f80eb63c1acf27ace1",
            "parents": [
                "dd04017914c3c656bbebc22e7899c40a79e520fc"
            ],
            "ref": "refs/changes/97/64697/2",
            "uploader": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "createdOn": 1688687406,
            "author": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "handler.cpp",
                    "line": 71,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "should be lowerCamelCase.\n\nhttps://github.com/openbmc/docs/blob/master/cpp-style-and-conventions.md#constants"
                },
                {
                    "file": "handler.cpp",
                    "line": 71,
                    "reviewer": {
                        "name": "Hao Zhou",
                        "email": "haoooamazing@google.com",
                        "username": "hzhou07"
                    },
                    "message": "Done"
                },
                {
                    "file": "handler.cpp",
                    "line": 78,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Could we add unit tests? (apologies, this wasn't done in earlier changes). \n\nThey can be added separately in a later CL"
                },
                {
                    "file": "handler.cpp",
                    "line": 78,
                    "reviewer": {
                        "name": "Hao Zhou",
                        "email": "haoooamazing@google.com",
                        "username": "hzhou07"
                    },
                    "message": "Sure I will make a separate CL for unit testing"
                },
                {
                    "file": "handler.cpp",
                    "line": 97,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "needs to check if this passed."
                },
                {
                    "file": "handler.cpp",
                    "line": 97,
                    "reviewer": {
                        "name": "Hao Zhou",
                        "email": "haoooamazing@google.com",
                        "username": "hzhou07"
                    },
                    "message": "Oh do you mean checking ec?\n\nI see this comment `// We're uninterested in the state of ec.` in other spot where ec is used. I guess this is intended? @Brandon"
                },
                {
                    "file": "handler.cpp",
                    "line": 97,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "I am just wondering what if the ranamed failed... then it won't be in BM_MODE mode when we expected it to be."
                },
                {
                    "file": "handler.cpp",
                    "line": 97,
                    "reviewer": {
                        "name": "Hao Zhou",
                        "email": "haoooamazing@google.com",
                        "username": "hzhou07"
                    },
                    "message": "Oh I see. Good point. \n\nActually that's why rename method with ec as the last argument is used since it guarantee noexcept. So even if this failed, it will continue return BM_MODE a few lines later. So I think this won't be a problem if I understand correctly"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 43,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 62,
            "sizeDeletions": 5
        },
        {
            "number": 3,
            "revision": "c822f4e9f30109d535b124ee56a18c763476dc7e",
            "parents": [
                "dd04017914c3c656bbebc22e7899c40a79e520fc"
            ],
            "ref": "refs/changes/97/64697/3",
            "uploader": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "createdOn": 1688766074,
            "author": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 36,
                    "deletions": 0
                },
                {
                    "file": "handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 43,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 79,
            "sizeDeletions": 5
        },
        {
            "number": 4,
            "revision": "d8cd61896d87a89b550fdda33ea6dbf0c479f2b4",
            "parents": [
                "dd04017914c3c656bbebc22e7899c40a79e520fc"
            ],
            "ref": "refs/changes/97/64697/4",
            "uploader": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "createdOn": 1688766230,
            "author": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 43,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 81,
            "sizeDeletions": 5
        },
        {
            "number": 5,
            "revision": "adc2cb2b1a82cb08ccf23dd99aef758921c84c76",
            "parents": [
                "dd04017914c3c656bbebc22e7899c40a79e520fc"
            ],
            "ref": "refs/changes/97/64697/5",
            "uploader": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "createdOn": 1688766436,
            "author": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 43,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 81,
            "sizeDeletions": 5
        },
        {
            "number": 6,
            "revision": "a1f7317ee3771a95735e28b0816ec82bd96a853a",
            "parents": [
                "dd04017914c3c656bbebc22e7899c40a79e520fc"
            ],
            "ref": "refs/changes/97/64697/6",
            "uploader": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "createdOn": 1688767080,
            "author": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 31,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "nit: done"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 31,
                    "reviewer": {
                        "name": "Hao Zhou",
                        "email": "haoooamazing@google.com",
                        "username": "hzhou07"
                    },
                    "message": "Done"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Thanks for adding the tested section. Let's try to add unit test here or in the next CL to make sure we have coverage for this (as mentioned in the other comment)"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 42,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 80,
            "sizeDeletions": 5
        },
        {
            "number": 7,
            "revision": "4baf41c8d22b975d5bfb65fccb5e1cb1ae2efd3d",
            "parents": [
                "dd04017914c3c656bbebc22e7899c40a79e520fc"
            ],
            "ref": "refs/changes/97/64697/7",
            "uploader": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "createdOn": 1688769116,
            "author": {
                "name": "Hao Zhou",
                "email": "haoooamazing@google.com",
                "username": "hzhou07"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "handler.cpp",
                    "type": "MODIFIED",
                    "insertions": 42,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 80,
            "sizeDeletions": 5
        }
    ]
}