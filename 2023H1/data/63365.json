{
    "project": "openbmc/obmc-console",
    "branch": "master",
    "topic": "multiple_consoles_support",
    "id": "I2444b1083cf26536f43c6f6b4b0857a2921c4f78",
    "number": 63365,
    "subject": "Add Connect() method to console DBUS object",
    "owner": {
        "name": "Ninad Palsule",
        "email": "ninad@linux.ibm.com",
        "username": "ninadpalsule"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/obmc-console/+/63365",
    "hashtags": [],
    "createdOn": 1683754918,
    "lastUpdated": 1684308534,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1683754918,
            "reviewer": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1683754954,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1683754954,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1683755080,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/66129/ : FAILURE"
        },
        {
            "timestamp": 1683756867,
            "reviewer": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "message": "Uploaded patch set 2: Commit message was updated.\n\nCopied Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1683756894,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1683756895,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1683756917,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/66134/ : FAILURE"
        },
        {
            "timestamp": 1683856738,
            "reviewer": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1683856788,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1683856788,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1683856809,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/66307/ : FAILURE"
        },
        {
            "timestamp": 1683920225,
            "reviewer": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "message": "Topic set to multiple_consoles_support"
        },
        {
            "timestamp": 1683920916,
            "reviewer": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1683920942,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1683920942,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1683920993,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/66404/ : SUCCESS"
        },
        {
            "timestamp": 1683921010,
            "reviewer": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "message": "Uploaded patch set 5: Commit message was updated.\n\nCopied Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1683921030,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1683921030,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1683921045,
            "reviewer": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "message": "Set Ready For Review"
        },
        {
            "timestamp": 1683921066,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/66406/ : SUCCESS"
        },
        {
            "timestamp": 1684117178,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1684119695,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Patch Set 5: Code-Review+1\n\n(2 comments)"
        },
        {
            "timestamp": 1684181327,
            "reviewer": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "message": "Patch Set 5:\n\n(2 comments)"
        },
        {
            "timestamp": 1684191108,
            "reviewer": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "message": "Uploaded patch set 6.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1684191142,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1684191142,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1684191165,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/66487/ : FAILURE"
        },
        {
            "timestamp": 1684191234,
            "reviewer": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "message": "Uploaded patch set 7.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1684191257,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1684191257,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1684191287,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/66488/ : SUCCESS"
        },
        {
            "timestamp": 1684212550,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 7:\n\n(8 comments)"
        },
        {
            "timestamp": 1684248525,
            "reviewer": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "message": "Uploaded patch set 8.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1684248539,
            "reviewer": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "message": "Patch Set 8:\n\n(7 comments)"
        },
        {
            "timestamp": 1684248548,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1684248548,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: -Ok-To-Test"
        },
        {
            "timestamp": 1684248573,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/66522/ : SUCCESS"
        },
        {
            "timestamp": 1684285337,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 8:\n\n(3 comments)"
        },
        {
            "timestamp": 1684287754,
            "reviewer": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "message": "Uploaded patch set 9.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1684287796,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1684287797,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: -Ok-To-Test"
        },
        {
            "timestamp": 1684287826,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/66586/ : SUCCESS"
        },
        {
            "timestamp": 1684287827,
            "reviewer": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "message": "Patch Set 8:\n\n(3 comments)"
        },
        {
            "timestamp": 1684308518,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 9: Verified+1 Code-Review+2\n\n(1 comment)"
        },
        {
            "timestamp": 1684308534,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Change has been successfully rebased and submitted as bd992c9f62dbf127a21de26714662f92eabd0156"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "abd911d65d6e2f7d82821f91fa8eef836cdcd5ff",
            "parents": [
                "4ee702a86592edcd1a1dd2c2ab94a50e0a49ee0d"
            ],
            "ref": "refs/changes/65/63365/1",
            "uploader": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "createdOn": 1683754918,
            "author": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": -12
                },
                {
                    "file": "dbus-handler.c",
                    "type": "ADDED",
                    "insertions": 290,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 348,
            "sizeDeletions": 12
        },
        {
            "number": 2,
            "revision": "0e99559abbfddbebeb737a62fe0bd97bdb2bb5a1",
            "parents": [
                "4ee702a86592edcd1a1dd2c2ab94a50e0a49ee0d"
            ],
            "ref": "refs/changes/65/63365/2",
            "uploader": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "createdOn": 1683756867,
            "author": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": -12
                },
                {
                    "file": "dbus-handler.c",
                    "type": "ADDED",
                    "insertions": 290,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 350,
            "sizeDeletions": 12
        },
        {
            "number": 3,
            "revision": "4e3f7d15af3e337b6d8beff4b1906bee191edf6e",
            "parents": [
                "ae2460d0b8e808078ba130d63514b20b66cd3375"
            ],
            "ref": "refs/changes/65/63365/3",
            "uploader": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "createdOn": 1683856738,
            "author": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "socket-handler.c",
                    "type": "MODIFIED",
                    "insertions": 25,
                    "deletions": -21
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": -12
                },
                {
                    "file": "dbus-handler.c",
                    "type": "ADDED",
                    "insertions": 204,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 310,
            "sizeDeletions": 33
        },
        {
            "number": 4,
            "revision": "791740ed6855c8d8c31d1b02a05351bf6bc706fa",
            "parents": [
                "123ad6ca0a79628d4a61ca5601872b66ea94253c"
            ],
            "ref": "refs/changes/65/63365/4",
            "uploader": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "createdOn": 1683920916,
            "author": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 48,
                    "deletions": 0
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -12
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "dbus-handler.c",
                    "type": "ADDED",
                    "insertions": 192,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 274,
            "sizeDeletions": 12
        },
        {
            "number": 5,
            "revision": "4ae798c59404c0433e6478255375f2fd6745174b",
            "parents": [
                "123ad6ca0a79628d4a61ca5601872b66ea94253c"
            ],
            "ref": "refs/changes/65/63365/5",
            "uploader": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "createdOn": 1683921010,
            "author": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "console-dbus.c",
                    "line": 136,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "the message isn't guaranteed to be sent at this point. If it hasn't been, this will be close()-ing the FD before the message was sent, and you'd be sending an invalid fd.\n\nThis *should* be handled by the reply being free-ed internally by sd_bus; the free will close any FDs marshalled in the message. If that's not happening, we should work out why."
                },
                {
                    "file": "console-dbus.c",
                    "line": 136,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "Ah! sd_bus's `message_push_fd` will dup the fd internally, and that's the one that gets closed.\n\nSo, all good here. The new fd will stay open long enough for the message to be sent."
                },
                {
                    "file": "console-dbus.c",
                    "line": 136,
                    "reviewer": {
                        "name": "Ninad Palsule",
                        "email": "ninad@linux.ibm.com",
                        "username": "ninadpalsule"
                    },
                    "message": "Ack\n\nI tried using sd_event_add_defer() but it did not fire."
                },
                {
                    "file": "dbus-handler.c",
                    "line": 61,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "what happens if `NDEBUG` is defined?"
                },
                {
                    "file": "dbus-handler.c",
                    "line": 61,
                    "reviewer": {
                        "name": "Ninad Palsule",
                        "email": "ninad@linux.ibm.com",
                        "username": "ninadpalsule"
                    },
                    "message": "If idx is greater than n_clients then it will write beyond the array size. I used the same logic as socket-handler.c"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 48,
                    "deletions": 0
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -12
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "dbus-handler.c",
                    "type": "ADDED",
                    "insertions": 192,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 274,
            "sizeDeletions": 12
        },
        {
            "number": 6,
            "revision": "7249fadd456bd5fd8ce401bb677b5b5f4a8eaa82",
            "parents": [
                "ae2460d0b8e808078ba130d63514b20b66cd3375"
            ],
            "ref": "refs/changes/65/63365/6",
            "uploader": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "createdOn": 1684191108,
            "author": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 48,
                    "deletions": 0
                },
                {
                    "file": "socket-handler.c",
                    "type": "MODIFIED",
                    "insertions": 89,
                    "deletions": 0
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -12
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 170,
            "sizeDeletions": 12
        },
        {
            "number": 7,
            "revision": "4406784469d1d6beb8e140391a3bb1848904f92a",
            "parents": [
                "ae2460d0b8e808078ba130d63514b20b66cd3375"
            ],
            "ref": "refs/changes/65/63365/7",
            "uploader": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "createdOn": 1684191234,
            "author": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Made a few comments."
                },
                {
                    "file": "socket-handler.c",
                    "line": 349,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "nit: I think we should just return the file descriptor directly. Passing a pointer makes the UX a bit of a hassle."
                },
                {
                    "file": "socket-handler.c",
                    "line": 349,
                    "reviewer": {
                        "name": "Ninad Palsule",
                        "email": "ninad@linux.ibm.com",
                        "username": "ninadpalsule"
                    },
                    "message": "Done"
                },
                {
                    "file": "socket-handler.c",
                    "line": 358,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Generally I try not to assign through pointers unless I know we've succeeded with whatever we're doing. That way we're not unnecessarily modifying caller-supplied memory."
                },
                {
                    "file": "socket-handler.c",
                    "line": 358,
                    "reviewer": {
                        "name": "Ninad Palsule",
                        "email": "ninad@linux.ibm.com",
                        "username": "ninadpalsule"
                    },
                    "message": "Done"
                },
                {
                    "file": "socket-handler.c",
                    "line": 368,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "`method_connect()` in `console-dbus.c` expects the return value to be less than zero on error, so this should be negated."
                },
                {
                    "file": "socket-handler.c",
                    "line": 368,
                    "reviewer": {
                        "name": "Ninad Palsule",
                        "email": "ninad@linux.ibm.com",
                        "username": "ninadpalsule"
                    },
                    "message": "Done"
                },
                {
                    "file": "socket-handler.c",
                    "line": 375,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Just use `warn()` rather than `warnx()` here and the `strerror(errno)` is automatically tacked on:\n\n> The `err()`, `verr()`, `warn()`, and `vwarn()` functions append an error\n> message obtained from `strerror(3)` based on the global variable\n> errno, preceded by another colon and space unless the `fmt`\n> argument is `NULL`.\n\nhttps://man7.org/linux/man-pages/man3/warn.3.html"
                },
                {
                    "file": "socket-handler.c",
                    "line": 375,
                    "reviewer": {
                        "name": "Ninad Palsule",
                        "email": "ninad@linux.ibm.com",
                        "username": "ninadpalsule"
                    },
                    "message": "Done"
                },
                {
                    "file": "socket-handler.c",
                    "line": 376,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "we can avoid the `rc = errno` above entirely - just do `return -errno`."
                },
                {
                    "file": "socket-handler.c",
                    "line": 376,
                    "reviewer": {
                        "name": "Ninad Palsule",
                        "email": "ninad@linux.ibm.com",
                        "username": "ninadpalsule"
                    },
                    "message": "Done"
                },
                {
                    "file": "socket-handler.c",
                    "line": 405,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Can you please fix up the indentation style here? I'm honestly not sure why clang-format is okay with that, but it certainly looks strange."
                },
                {
                    "file": "socket-handler.c",
                    "line": 405,
                    "reviewer": {
                        "name": "Ninad Palsule",
                        "email": "ninad@linux.ibm.com",
                        "username": "ninadpalsule"
                    },
                    "message": "Done"
                },
                {
                    "file": "socket-handler.c",
                    "line": 419,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "This is a dead store as `client` is stack-local. We can delete this assignment."
                },
                {
                    "file": "socket-handler.c",
                    "line": 419,
                    "reviewer": {
                        "name": "Ninad Palsule",
                        "email": "ninad@linux.ibm.com",
                        "username": "ninadpalsule"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 48,
                    "deletions": 0
                },
                {
                    "file": "socket-handler.c",
                    "type": "MODIFIED",
                    "insertions": 82,
                    "deletions": 0
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -12
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 163,
            "sizeDeletions": 12
        },
        {
            "number": 8,
            "revision": "605072abbd19ac2326c2de152b61a0ae97f87404",
            "parents": [
                "4e44c790ada85a0af47e0766471658e9f6cbc0b2"
            ],
            "ref": "refs/changes/65/63365/8",
            "uploader": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "createdOn": 1684248525,
            "author": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Can we drop this sentence? It's a copy of the patch subject."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Ninad Palsule",
                        "email": "ninad@linux.ibm.com",
                        "username": "ninadpalsule"
                    },
                    "message": "Done"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 42,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "I don't think it's super useful to demonstrate this as the resulting file descriptor can't be used (due to termination of `busctl`)."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 42,
                    "reviewer": {
                        "name": "Ninad Palsule",
                        "email": "ninad@linux.ibm.com",
                        "username": "ninadpalsule"
                    },
                    "message": "removed."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "One final request is that you update the CHANGELOG.md file to note the addition of this feature. At the moment I've just been copying the patch subject line and adding it to the numbered list under the `Added` header."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ninad Palsule",
                        "email": "ninad@linux.ibm.com",
                        "username": "ninadpalsule"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 48,
                    "deletions": 0
                },
                {
                    "file": "socket-handler.c",
                    "type": "MODIFIED",
                    "insertions": 75,
                    "deletions": 0
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -12
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 156,
            "sizeDeletions": 12
        },
        {
            "number": 9,
            "revision": "0568e0aa17c056a16ce90c4e76da207b94b70d67",
            "parents": [
                "4e44c790ada85a0af47e0766471658e9f6cbc0b2"
            ],
            "ref": "refs/changes/65/63365/9",
            "uploader": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "createdOn": 1684287754,
            "author": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Tested on a p10bmc build under qemu using [1]. Briefly inspected client and server behaviour with strace\n\n[1] https://gist.github.com/amboar/7bb5b9c457a2bbe042766b6c30cfcf76"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "socket-handler.c",
                    "type": "MODIFIED",
                    "insertions": 75,
                    "deletions": 0
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -12
                },
                {
                    "file": "CHANGELOG.md",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 153,
            "sizeDeletions": 12
        },
        {
            "number": 10,
            "revision": "bd992c9f62dbf127a21de26714662f92eabd0156",
            "parents": [
                "5ba20b5bf1351a3550b56c2a6eca7045336d8001"
            ],
            "ref": "refs/changes/65/63365/10",
            "uploader": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "createdOn": 1684308534,
            "author": {
                "name": "Ninad Palsule",
                "email": "ninad@linux.ibm.com",
                "username": "ninadpalsule"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "socket-handler.c",
                    "type": "MODIFIED",
                    "insertions": 75,
                    "deletions": 0
                },
                {
                    "file": "console-dbus.c",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -12
                },
                {
                    "file": "CHANGELOG.md",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "console-server.h",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 153,
            "sizeDeletions": 12
        }
    ]
}