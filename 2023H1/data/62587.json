{
    "project": "openbmc/obmc-console",
    "branch": "master",
    "id": "I9a14867c7ec8bfb6f25edcc8f383afd44f8ee3ad",
    "number": 62587,
    "subject": "Do not truncate log files after reboot",
    "owner": {
        "name": "John Wang",
        "email": "wangzhiqiang02@ieisystem.com",
        "username": "wangzqbj"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/obmc-console/+/62587",
    "hashtags": [],
    "createdOn": 1681805325,
    "lastUpdated": 1686897518,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1681805325,
            "reviewer": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1681805373,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1681805373,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1681805397,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/64363/ : SUCCESS"
        },
        {
            "timestamp": 1681852200,
            "reviewer": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "message": "Patch Set 1:\n\n(4 comments)"
        },
        {
            "timestamp": 1681865017,
            "reviewer": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1681865067,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1681865067,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1681865088,
            "reviewer": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1681865092,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/64395/ : SUCCESS"
        },
        {
            "timestamp": 1681918126,
            "reviewer": {
                "name": "Jonathan Doman",
                "email": "jonathan.doman@intel.com",
                "username": "jonathan-doman"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1681919803,
            "reviewer": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1682215444,
            "reviewer": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1682215491,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1682215491,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1682215517,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/64756/ : SUCCESS"
        },
        {
            "timestamp": 1682216075,
            "reviewer": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1682216200,
            "reviewer": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "message": "Uploaded patch set 4: Patch Set 3 was rebased.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1682216241,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1682216242,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1682216262,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/64757/ : FAILURE"
        },
        {
            "timestamp": 1682225126,
            "reviewer": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "message": "Uploaded patch set 5.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1682225207,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1682225207,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1682225228,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/64759/ : FAILURE"
        },
        {
            "timestamp": 1682226333,
            "reviewer": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "message": "Uploaded patch set 6.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1682226377,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1682226377,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1682226403,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/64760/ : FAILURE"
        },
        {
            "timestamp": 1682226488,
            "reviewer": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "message": "Uploaded patch set 7.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1682226527,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1682226527,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1682226553,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/64761/ : FAILURE"
        },
        {
            "timestamp": 1682226619,
            "reviewer": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "message": "Uploaded patch set 8.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1682226642,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1682226642,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: -Ok-To-Test"
        },
        {
            "timestamp": 1682226677,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/64762/ : SUCCESS"
        },
        {
            "timestamp": 1682624354,
            "reviewer": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1682650093,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1682652632,
            "reviewer": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "message": "Uploaded patch set 9.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1682652643,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1682652644,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: -Ok-To-Test"
        },
        {
            "timestamp": 1682652679,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/65315/ : SUCCESS"
        },
        {
            "timestamp": 1682653253,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 9:\n\n(3 comments)"
        },
        {
            "timestamp": 1682656985,
            "reviewer": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "message": "Patch Set 9:\n\n(1 comment)"
        },
        {
            "timestamp": 1682657033,
            "reviewer": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "message": "Uploaded patch set 10.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1682657094,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1682657094,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: -Ok-To-Test"
        },
        {
            "timestamp": 1682657128,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/65320/ : SUCCESS"
        },
        {
            "timestamp": 1682662964,
            "reviewer": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1683078350,
            "reviewer": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1686197439,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1686617380,
            "reviewer": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "message": "Uploaded patch set 11.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1686617407,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1686617408,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: -Ok-To-Test"
        },
        {
            "timestamp": 1686617420,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/68575/ : FAILURE"
        },
        {
            "timestamp": 1686617718,
            "reviewer": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "message": "Uploaded patch set 12.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1686617747,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1686617747,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: -Ok-To-Test"
        },
        {
            "timestamp": 1686617775,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/68577/ : SUCCESS"
        },
        {
            "timestamp": 1686617822,
            "reviewer": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "message": "Patch Set 12:\n\n(1 comment)"
        },
        {
            "timestamp": 1686700472,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 12: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1686896457,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Patch Set 12: Code-Review+1\n\n(2 comments)"
        },
        {
            "timestamp": 1686896594,
            "reviewer": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "message": "Patch Set 12:\n\n(1 comment)"
        },
        {
            "timestamp": 1686897518,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 12: -Code-Review\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "b906332d5ef00386d6b4eefe4fa0d3a3eb6da1e6",
            "parents": [
                "cc07530fdb356b7750f58c2a6b35c9cf180ed99c"
            ],
            "ref": "refs/changes/87/62587/1",
            "uploader": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "createdOn": 1681805325,
            "author": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "Few small issues, otherwise lgtm"
                },
                {
                    "file": "log-handler.c",
                    "line": 131,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "Spacing"
                },
                {
                    "file": "log-handler.c",
                    "line": 131,
                    "reviewer": {
                        "name": "John Wang",
                        "email": "wangzhiqiang02@ieisystem.com",
                        "username": "wangzqbj"
                    },
                    "message": "Done"
                },
                {
                    "file": "log-handler.c",
                    "line": 146,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "Spacing"
                },
                {
                    "file": "log-handler.c",
                    "line": 146,
                    "reviewer": {
                        "name": "John Wang",
                        "email": "wangzhiqiang02@ieisystem.com",
                        "username": "wangzqbj"
                    },
                    "message": "Done"
                },
                {
                    "file": "log-handler.c",
                    "line": 188,
                    "reviewer": {
                        "name": "Jonathan Doman",
                        "email": "jonathan.doman@intel.com",
                        "username": "jonathan-doman"
                    },
                    "message": "Spacing"
                },
                {
                    "file": "log-handler.c",
                    "line": 188,
                    "reviewer": {
                        "name": "John Wang",
                        "email": "wangzhiqiang02@ieisystem.com",
                        "username": "wangzqbj"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "log-handler.c",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -6
                }
            ],
            "sizeInsertions": 46,
            "sizeDeletions": 6
        },
        {
            "number": 2,
            "revision": "d9511ae7bdc64f58bb579cfe33f68fb785e9495b",
            "parents": [
                "cc07530fdb356b7750f58c2a6b35c9cf180ed99c"
            ],
            "ref": "refs/changes/87/62587/2",
            "uploader": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "createdOn": 1681865017,
            "author": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "log-handler.c",
                    "line": 144,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "Perhaps I'm missing something, but would `open(O_RWDR | O_CREAT | O_APPEND)` be a simpler way to achieve pretty much the same thing?"
                },
                {
                    "file": "log-handler.c",
                    "line": 144,
                    "reviewer": {
                        "name": "John Wang",
                        "email": "wangzhiqiang02@ieisystem.com",
                        "username": "wangzqbj"
                    },
                    "message": "log_create is used to get the fd/size of the log file\n\nIt uses stat function to check if log file exists, and if doesn't, create a new one.\n\nif it does, open the file with O_APPEND flag"
                },
                {
                    "file": "log-handler.c",
                    "line": 144,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "But what does that manual sequence achieve that a single `open(O_RDWR | O_CREAT | O_APPEND)` wouldn't?\n\nAnd actually on a separate note, I see the `O_RDWR` is in the existing code and not introduced in this patch, but it's not clear to me why we even need `O_RDWR` instead of `O_WRONLY`..."
                },
                {
                    "file": "log-handler.c",
                    "line": 144,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Prior to `93fd8a39d8d2 (\"log_trim: Rotate log instead of truncate\")` the algorithm for maintaining the log `mmap()`ed the log file storage to implement a ring-buffer. The referenced patch changed that to the rename approach we now use, which is closer to logrotate. `O_RDWR` is a hangover from the `mmap()` days.\n\nI agree with @zev the implementation should now use `open(..., O_WRONLY | O_CREAT | O_APPEND)` and save on the complexity proposed here."
                },
                {
                    "file": "log-handler.c",
                    "line": 144,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "log-handler.c",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -6
                }
            ],
            "sizeInsertions": 46,
            "sizeDeletions": 6
        },
        {
            "number": 3,
            "revision": "904a7508154eac46c7f011d7d554d7417d0e4b3a",
            "parents": [
                "cc07530fdb356b7750f58c2a6b35c9cf180ed99c"
            ],
            "ref": "refs/changes/87/62587/3",
            "uploader": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "createdOn": 1682215444,
            "author": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "log-handler.c",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -6
                }
            ],
            "sizeInsertions": 47,
            "sizeDeletions": 6
        },
        {
            "number": 4,
            "revision": "c60ebfffd70ddfb52d67b925f298cc37f63dffd2",
            "parents": [
                "86e3fd70f003264a05a09452c60ea8b9da6be287"
            ],
            "ref": "refs/changes/87/62587/4",
            "uploader": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "createdOn": 1682216200,
            "author": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "log-handler.c",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -6
                }
            ],
            "sizeInsertions": 47,
            "sizeDeletions": 6
        },
        {
            "number": 5,
            "revision": "952f17bf70981ba2801be0f64c17eb92f90e4286",
            "parents": [
                "86e3fd70f003264a05a09452c60ea8b9da6be287"
            ],
            "ref": "refs/changes/87/62587/5",
            "uploader": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "createdOn": 1682225126,
            "author": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "log-handler.c",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -6
                }
            ],
            "sizeInsertions": 48,
            "sizeDeletions": 6
        },
        {
            "number": 6,
            "revision": "7c7d87f5baf30101577e01eeeecb4957c5962cc4",
            "parents": [
                "86e3fd70f003264a05a09452c60ea8b9da6be287"
            ],
            "ref": "refs/changes/87/62587/6",
            "uploader": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "createdOn": 1682226333,
            "author": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "log-handler.c",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -6
                }
            ],
            "sizeInsertions": 48,
            "sizeDeletions": 6
        },
        {
            "number": 7,
            "revision": "8ebf240042be35223eba46c7b99cc486baf0cddb",
            "parents": [
                "86e3fd70f003264a05a09452c60ea8b9da6be287"
            ],
            "ref": "refs/changes/87/62587/7",
            "uploader": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "createdOn": 1682226488,
            "author": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "log-handler.c",
                    "type": "MODIFIED",
                    "insertions": 33,
                    "deletions": -6
                }
            ],
            "sizeInsertions": 49,
            "sizeDeletions": 6
        },
        {
            "number": 8,
            "revision": "dfb547c061cffdc250c3ab7c6ef3af5ddf4ce342",
            "parents": [
                "86e3fd70f003264a05a09452c60ea8b9da6be287"
            ],
            "ref": "refs/changes/87/62587/8",
            "uploader": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "createdOn": 1682226619,
            "author": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "log-handler.c",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": -6
                }
            ],
            "sizeInsertions": 50,
            "sizeDeletions": 6
        },
        {
            "number": 9,
            "revision": "418653119e2bd623baa18bc4118a499363f5a618",
            "parents": [
                "86e3fd70f003264a05a09452c60ea8b9da6be287"
            ],
            "ref": "refs/changes/87/62587/9",
            "uploader": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "createdOn": 1682652632,
            "author": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "This looks better. I found one further issue regarding consistency of `open()` flags."
                },
                {
                    "file": "log-handler.c",
                    "line": 65,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "The open flags need to be the same here as below. Perhaps use a macro or add a flags member to `struct log_handler` so we can't make them inconsistent."
                },
                {
                    "file": "log-handler.c",
                    "line": 65,
                    "reviewer": {
                        "name": "John Wang",
                        "email": "wangzhiqiang02@ieisystem.com",
                        "username": "wangzqbj"
                    },
                    "message": "Maybe\n\nopen(lh->log_filename, O_WRONLY | O_CREAT | O_TRUNC, 0644); \uff1ftruncate log file\uff08creat a new file\uff09 and set the lh->size = 0. \n\nO_APPEND and set lh->size = 0, looks a bit weird"
                },
                {
                    "file": "log-handler.c",
                    "line": 65,
                    "reviewer": {
                        "name": "John Wang",
                        "email": "wangzhiqiang02@ieisystem.com",
                        "username": "wangzqbj"
                    },
                    "message": "or Maybe I don't understand your comment :("
                },
                {
                    "file": "log-handler.c",
                    "line": 65,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "I think what Andrew meant was just that we should ensure we always use the same set of flags when we open the log file.  Because there are two places that call `open()` to do that, we need to make sure that both places pass the same flags.  One option for a clean way of achieving that would be to do something like:\n\n```\n#define LOGFILE_O_FLAGS (O_WRONLY | O_CREAT | O_TRUNC)\n```\n\nand then just pass `LOGFILE_O_FLAGS` to `open()` in both places."
                },
                {
                    "file": "log-handler.c",
                    "line": 65,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Sorry for taking so long to get back to this, but yes, what Zev said above \ud83d\ude0a"
                },
                {
                    "file": "log-handler.c",
                    "line": 65,
                    "reviewer": {
                        "name": "John Wang",
                        "email": "wangzhiqiang02@ieisystem.com",
                        "username": "wangzqbj"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "log-handler.c",
                    "type": "MODIFIED",
                    "insertions": 29,
                    "deletions": -7
                }
            ],
            "sizeInsertions": 45,
            "sizeDeletions": 7
        },
        {
            "number": 10,
            "revision": "5b12d3cf282115967eedaee849ea4fd2f4838ced",
            "parents": [
                "86e3fd70f003264a05a09452c60ea8b9da6be287"
            ],
            "ref": "refs/changes/87/62587/10",
            "uploader": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "createdOn": 1682657033,
            "author": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "log-handler.c",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -8
                }
            ],
            "sizeInsertions": 46,
            "sizeDeletions": 8
        },
        {
            "number": 11,
            "revision": "e561d59a4bdbe8be5c5c0c47865d0bb63f27aa6d",
            "parents": [
                "dfda5afb4ff7c76c4df3ebebbf496fdbda0fbbae"
            ],
            "ref": "refs/changes/87/62587/11",
            "uploader": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "createdOn": 1686617380,
            "author": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "log-handler.c",
                    "type": "MODIFIED",
                    "insertions": 33,
                    "deletions": -8
                }
            ],
            "sizeInsertions": 49,
            "sizeDeletions": 8
        },
        {
            "number": 12,
            "revision": "4ad6741f99e7fa720053887e0b044dc904b49382",
            "parents": [
                "dfda5afb4ff7c76c4df3ebebbf496fdbda0fbbae"
            ],
            "ref": "refs/changes/87/62587/12",
            "uploader": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "createdOn": 1686617718,
            "author": {
                "name": "John Wang",
                "email": "wangzhiqiang02@ieisystem.com",
                "username": "wangzqbj"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Needs some testing, but from a quick look seems okay."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "I'm okay with the change, but if you do end up re-submitting for another reason, there's a suggestion inline for a clarification."
                },
                {
                    "file": "log-handler.c",
                    "line": 140,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "Combined with the message below, this reads like you're actually trying to seek the file (ie, change the file position pointer), rather than query it.\n\nI'm okay with the code, but it might be handy to comment this, and/or change the error message to something like:\n\n    \"Can't query log position for file %s\".\n\n(or, you could SEEK_END instead, and drop O_APPEND from the file open flags; might be a bit more obvious about what you're doing)."
                },
                {
                    "file": "log-handler.c",
                    "line": 143,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "I think these two lines should be swapped so that `warn()` prints the error message from `lseek()` instead of `close()`."
                },
                {
                    "file": "log-handler.c",
                    "line": 143,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "+1"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "log-handler.c",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -8
                }
            ],
            "sizeInsertions": 48,
            "sizeDeletions": 8
        }
    ]
}