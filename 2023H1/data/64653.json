{
    "project": "openbmc/phosphor-state-manager",
    "branch": "master",
    "id": "I9530c4a7e26b1cd8cd6ab1ef0610a874be998958",
    "number": 64653,
    "subject": "target: Add target for host release magement",
    "owner": {
        "name": "Willy Tu",
        "email": "wltu@google.com",
        "username": "wltu"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-state-manager/+/64653",
    "hashtags": [],
    "createdOn": 1688591673,
    "lastUpdated": 1689090980,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1688591673,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1688591687,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1688591687,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1688591770,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 2: Commit message was updated."
        },
        {
            "timestamp": 1688591792,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1688591792,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1688591793,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/70252/ : ABORTED"
        },
        {
            "timestamp": 1688591947,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/70253/ : SUCCESS"
        },
        {
            "timestamp": 1688592567,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1688592637,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1688592933,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1688593144,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1689090980,
            "reviewer": {
                "name": "Andrew Geissler",
                "email": "geissonator@yahoo.com",
                "username": "geissonator"
            },
            "message": "Patch Set 2:\n\n(4 comments)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "f835f734ec41be0dba285ea20033e673971ad740",
            "parents": [
                "2038e4925b56c4c7471c763794d02b4bf94f3ae8"
            ],
            "ref": "refs/changes/53/64653/1",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1688591673,
            "author": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "target_files/obmc-pre-host-ready.target",
                    "type": "ADDED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "target_files/obmc-host-release.target",
                    "type": "ADDED",
                    "insertions": 5,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 33,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "fe5d8c935ab4ba9620fb5ebea8cc6669785da7a6",
            "parents": [
                "2038e4925b56c4c7471c763794d02b4bf94f3ae8"
            ],
            "ref": "refs/changes/53/64653/2",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1688591770,
            "author": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "target_files/obmc-host-release.target",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "Should be called \"obmc-host-release@.target\" as PSM supports multiple instances of the host firmware."
                },
                {
                    "file": "target_files/obmc-host-release.target",
                    "line": 2,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "nit:released"
                },
                {
                    "file": "target_files/obmc-pre-host-ready.target",
                    "line": 0,
                    "reviewer": {
                        "name": "William A. Kennington III",
                        "email": "wak@google.com",
                        "username": "wak-google"
                    },
                    "message": "Should be called `obmc-host-release-pre.target` to match typical target naming conventions."
                },
                {
                    "file": "target_files/obmc-pre-host-ready.target",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "+1 (with a @ for host instance support)"
                },
                {
                    "file": "target_files/obmc-pre-host-ready.target",
                    "line": 3,
                    "reviewer": {
                        "name": "William A. Kennington III",
                        "email": "wak@google.com",
                        "username": "wak-google"
                    },
                    "message": "We wouldn't want this to start the service if undesired, it should only order after."
                },
                {
                    "file": "target_files/obmc-pre-host-ready.target",
                    "line": 4,
                    "reviewer": {
                        "name": "William A. Kennington III",
                        "email": "wak@google.com",
                        "username": "wak-google"
                    },
                    "message": "We probably need to figure out if we can agree on a common set of dependencies to wait for"
                },
                {
                    "file": "target_files/obmc-pre-host-ready.target",
                    "line": 4,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Yeah, blocking on the IPMI host service is likely not a great idea as some systems don't use IPMI already.  We might need that specific dependency to become machine or MACHINE_FEATURE dependent and installed as a config.d-style."
                },
                {
                    "file": "target_files/obmc-pre-host-ready.target",
                    "line": 4,
                    "reviewer": {
                        "name": "William A. Kennington III",
                        "email": "wak@google.com",
                        "username": "wak-google"
                    },
                    "message": "Well, if you don't use it, it wouldn't be running and so systemd would just drop the dependency silently.\n\nIt's more that anyone who expects their host to start quickly and not wait for ipmid even though they are running it would get bitten."
                },
                {
                    "file": "target_files/obmc-pre-host-ready.target",
                    "line": 4,
                    "reviewer": {
                        "name": "Andrew Geissler",
                        "email": "geissonator@yahoo.com",
                        "username": "geissonator"
                    },
                    "message": "Yeah if we get rid of the Wants I think we'd be ok. I could add a After for the pldmd service for our boxes."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "target_files/obmc-pre-host-ready.target",
                    "type": "ADDED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "target_files/obmc-host-release.target",
                    "type": "ADDED",
                    "insertions": 5,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 39,
            "sizeDeletions": 0
        }
    ]
}