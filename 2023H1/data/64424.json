{
    "project": "openbmc/phosphor-networkd",
    "branch": "master",
    "id": "I79fc7b9cef491cdc30c51a17f2f323faa84af54f",
    "number": 64424,
    "subject": "ethernet_interface: Validate linklocal addresses",
    "owner": {
        "name": "isha309",
        "email": "isha.sahni1@ibm.com",
        "username": "isha309"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-networkd/+/64424",
    "hashtags": [],
    "createdOn": 1687813562,
    "lastUpdated": 1689065499,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1687813562,
            "reviewer": {
                "name": "isha309",
                "email": "isha.sahni1@ibm.com",
                "username": "isha309"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1687813599,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1687813599,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1687813805,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/69580/ : SUCCESS"
        },
        {
            "timestamp": 1687814106,
            "reviewer": {
                "name": "isha309",
                "email": "isha.sahni1@ibm.com",
                "username": "isha309"
            },
            "message": "Uploaded patch set 2: Patch Set 1 was rebased.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1687814124,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1687814124,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1687814322,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/69583/ : SUCCESS"
        },
        {
            "timestamp": 1687814405,
            "reviewer": {
                "name": "isha309",
                "email": "isha.sahni1@ibm.com",
                "username": "isha309"
            },
            "message": "Patch Set 3: Commit message was updated.\n\nCopied Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1687814419,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1687814419,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1687814515,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/69586/ : SUCCESS"
        },
        {
            "timestamp": 1688105592,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1688106946,
            "reviewer": {
                "name": "isha309",
                "email": "isha.sahni1@ibm.com",
                "username": "isha309"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1688112974,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1688363795,
            "reviewer": {
                "name": "Rajiv S",
                "username": "rsnair"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1688381331,
            "reviewer": {
                "name": "Prashanth Katti",
                "email": "prkatti1@in.ibm.com",
                "username": "prkatti1"
            },
            "message": "Patch Set 3: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1688550504,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1688567374,
            "reviewer": {
                "name": "Prashanth Katti",
                "email": "prkatti1@in.ibm.com",
                "username": "prkatti1"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1688595260,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1688737059,
            "reviewer": {
                "name": "Prashanth Katti",
                "email": "prkatti1@in.ibm.com",
                "username": "prkatti1"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1688759389,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1689065499,
            "reviewer": {
                "name": "Prashanth Katti",
                "email": "prkatti1@in.ibm.com",
                "username": "prkatti1"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "c8dfccbcc8a615bb23c26e2670a1c55082e105e5",
            "parents": [
                "e9e2eac6f6f6069782d284b33eeb27ef287ccd76"
            ],
            "ref": "refs/changes/24/64424/1",
            "uploader": {
                "name": "isha309",
                "email": "isha.sahni1@ibm.com",
                "username": "isha309"
            },
            "createdOn": 1687813562,
            "author": {
                "name": "isha309",
                "email": "isha.sahni1@ibm.com",
                "username": "isha309"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "test/test_ethernet_interface.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -4
                },
                {
                    "file": "src/util.hpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -3
                },
                {
                    "file": "test/test_util.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 24,
            "sizeDeletions": 12
        },
        {
            "number": 2,
            "revision": "eb6e49832e755dfc29c0c40849fb3780ddb3f737",
            "parents": [
                "90bd5e5461dba3b2986ba168223cf831cca70003"
            ],
            "ref": "refs/changes/24/64424/2",
            "uploader": {
                "name": "isha309",
                "email": "isha.sahni1@ibm.com",
                "username": "isha309"
            },
            "createdOn": 1687814106,
            "author": {
                "name": "isha309",
                "email": "isha.sahni1@ibm.com",
                "username": "isha309"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "test/test_ethernet_interface.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -4
                },
                {
                    "file": "src/util.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                },
                {
                    "file": "test/test_util.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 23,
            "sizeDeletions": 11
        },
        {
            "number": 3,
            "revision": "d76f14763b976d550f3b3d04595e31f7ff55cf78",
            "parents": [
                "90bd5e5461dba3b2986ba168223cf831cca70003"
            ],
            "ref": "refs/changes/24/64424/3",
            "uploader": {
                "name": "isha309",
                "email": "isha.sahni1@ibm.com",
                "username": "isha309"
            },
            "createdOn": 1687814405,
            "author": {
                "name": "isha309",
                "email": "isha.sahni1@ibm.com",
                "username": "isha309"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "William A. Kennington III",
                        "email": "wak@google.com",
                        "username": "wak-google"
                    },
                    "message": "We assign link local addresses this way. There is no reason they shouldn't be assignable since they aren't necessarily tied to anything. They are still usable addresses on a local network. Auto generation is just one way they are assigned.\n\nIf some BMCs decide they want this (I'm not really sure why), we can figure out how to make runtime policies for it."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "isha309",
                        "email": "isha.sahni1@ibm.com",
                        "username": "isha309"
                    },
                    "message": "RFC 3927 describes the automatic assignment of IPv4 link-local addresses . And mentions that manual assignment should not be performed."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "William A. Kennington III",
                        "email": "wak@google.com",
                        "username": "wak-google"
                    },
                    "message": "Yeah, but people still want to be able to manually assign them even if you shouldn't. Just like you shouldn't be able to manually assign non-admin MACs, but we have to provide that functionality."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Rajiv S",
                        "username": "rsnair"
                    },
                    "message": "Agree with William - RFC 3927 isn't prohibiting the manual/dhcp assignment for IPv4 link-local. Also, note that \"SHOULD/SHOULD NOT\"[ref RFC 2119] in any RFC is only a recommendation and not a mandate."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Prashanth Katti",
                        "email": "prkatti1@in.ibm.com",
                        "username": "prkatti1"
                    },
                    "message": "when it is automatically getting configured, why would user wants to configure same again?? if at all he wants to assign or configure static v6 he can take from valid static v6 address pool."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "Since it is auto configured - there is no need for a user to manually set LinkLocal IP again. \nBut As William said - if someone in community wants a way to set it manually, then lets not block it with this commit. We can leave this responsibility to the user to choose the IP address wisely. Even the RFC does not mandate to block this."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Prashanth Katti",
                        "email": "prkatti1@in.ibm.com",
                        "username": "prkatti1"
                    },
                    "message": "Why again user wants to configure it manually when it is already there always & auto configured by system."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "William A. Kennington III",
                        "email": "wak@google.com",
                        "username": "wak-google"
                    },
                    "message": "Depends on the user, we have a fixed link local address as well as one that is autogenerated."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Prashanth Katti",
                        "email": "prkatti1@in.ibm.com",
                        "username": "prkatti1"
                    },
                    "message": "OK, I'm OK allowing to statically configure link-local.\nDo user has any use case or use to have multiple link-local IPs on same interface??"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "William A. Kennington III",
                        "email": "wak@google.com",
                        "username": "wak-google"
                    },
                    "message": "Yes"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Prashanth Katti",
                        "email": "prkatti1@in.ibm.com",
                        "username": "prkatti1"
                    },
                    "message": "Sure, then it makes sense. Curious to know what use case that would be."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "test/test_ethernet_interface.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -4
                },
                {
                    "file": "src/util.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                },
                {
                    "file": "test/test_util.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -5
                }
            ],
            "sizeInsertions": 23,
            "sizeDeletions": 11
        }
    ]
}