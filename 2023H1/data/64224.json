{
    "project": "openbmc/phosphor-dbus-interfaces",
    "branch": "master",
    "id": "I08511a1a70396e1c6fb979febfa8fb7343235e9d",
    "number": 64224,
    "subject": "network/client: add TCP/UDP as Transport Protocol for Client",
    "owner": {
        "name": "Ivan Mikhaylov",
        "email": "fr0st61te@gmail.com",
        "username": "fr0st61te"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-dbus-interfaces/+/64224",
    "hashtags": [],
    "createdOn": 1686834419,
    "lastUpdated": 1687377869,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1686834419,
            "reviewer": {
                "name": "Ivan Mikhaylov",
                "email": "fr0st61te@gmail.com",
                "username": "fr0st61te"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1686834458,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1686834459,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1686834721,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/69010/ : FAILURE"
        },
        {
            "timestamp": 1686836087,
            "reviewer": {
                "name": "Ivan Mikhaylov",
                "email": "fr0st61te@gmail.com",
                "username": "fr0st61te"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1686836122,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1686836122,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1686836572,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/69012/ : SUCCESS"
        },
        {
            "timestamp": 1686918695,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1686921254,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1686935806,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1686942842,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1686949758,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1687151063,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1687181308,
            "reviewer": {
                "name": "Ivan Mikhaylov",
                "email": "fr0st61te@gmail.com",
                "username": "fr0st61te"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1687208236,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1687215389,
            "reviewer": {
                "name": "Ivan Mikhaylov",
                "email": "fr0st61te@gmail.com",
                "username": "fr0st61te"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1687215919,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1687281180,
            "reviewer": {
                "name": "Ivan Mikhaylov",
                "email": "fr0st61te@gmail.com",
                "username": "fr0st61te"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1687377861,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2: Code-Review+2"
        },
        {
            "timestamp": 1687377869,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Change has been successfully rebased and submitted as e6718c5e42ec886e4c1d3e4dd1a4be093721c548"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "88235c317757938c5b5749f12f55f8c3152305b3",
            "parents": [
                "3826910ef8f91c05562a716929221745c92dd9d7"
            ],
            "ref": "refs/changes/24/64224/1",
            "uploader": {
                "name": "Ivan Mikhaylov",
                "email": "fr0st61te@gmail.com",
                "username": "fr0st61te"
            },
            "createdOn": 1686834419,
            "author": {
                "name": "Ivan Mikhaylov",
                "email": "fr0st61te@gmail.com",
                "username": "fr0st61te"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/Network/Client.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 28,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "9d97aa8ca6fb4c3eca58a516e4206b8f535ef6d3",
            "parents": [
                "3826910ef8f91c05562a716929221745c92dd9d7"
            ],
            "ref": "refs/changes/24/64224/2",
            "uploader": {
                "name": "Ivan Mikhaylov",
                "email": "fr0st61te@gmail.com",
                "username": "fr0st61te"
            },
            "createdOn": 1686836087,
            "author": {
                "name": "Ivan Mikhaylov",
                "email": "fr0st61te@gmail.com",
                "username": "fr0st61te"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Adding maintainers of phosphor-snmp, phosphor-logging, phosphor-networkd for opinions."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "Need to make sure that Phosphor-SNMP should not be broken. It should reflect the correct protocol type for the registered clients."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Do you have suggestions on how to go about doing that?  Are you aware of any existing clients that are UDP?  I would expect them to be TCP right now.\n\nIs there any change necessary in phosphor-snmp to expose the protocol on the SNMP response?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "Hi Patrick, SNMP as a protocol uses UDP for Event notification, So we can not make TCP.\nFor SNMP clients this D-bus property default value should be UDP."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ivan Mikhaylov",
                        "email": "fr0st61te@gmail.com",
                        "username": "fr0st61te"
                    },
                    "message": "Ratan, this field have no use at phosphor-snmp for now, it is possible to add it on Client instantiation: \n\nthis->transportProtocol(NetworkClient::TransportProtocol::UDP);\n\nin snmp-client.cpp. I've checked, this changed yaml doesn't break anything related phosphor-snmp at run-time or compile-time, Client will be TCP by default without any changes in it."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "> in snmp-client.cpp. I've checked, this changed yaml doesn't break anything related phosphor-snmp at run-time or compile-time, Client will be TCP by default without any changes in it.\n\nIsn't the concern that the wrong value will then be given for the SNMP daemon?  Would you be willing to put up a small change to make it UDP in snmp-client.cpp?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ivan Mikhaylov",
                        "email": "fr0st61te@gmail.com",
                        "username": "fr0st61te"
                    },
                    "message": "> Isn't the concern that the wrong value will then be given for the SNMP daemon?\n\nI don't see any, it shouldn't break anything in current workflow.\n\n> Would you be willing to put up a small change to make it UDP in snmp-client.cpp?\n\nSure, I don't see any problem here. Should I provide it before pushing interface in?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "> I don't see any, it shouldn't break anything in current workflow.\n\nIt might not \"break\" anything but it will be wrong.  It is reasonable for the maintainer to raise this concern.\n\n> Sure, I don't see any problem here. Should I provide it before pushing interface in?\n\nYes, please push up a patch for that even though it will fail to compile (until this one is merged).  That way we know the work is ready to go."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ivan Mikhaylov",
                        "email": "fr0st61te@gmail.com",
                        "username": "fr0st61te"
                    },
                    "message": "Done with https://gerrit.openbmc.org/c/openbmc/phosphor-snmp/+/64297"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/Network/Client.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 28,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "e6718c5e42ec886e4c1d3e4dd1a4be093721c548",
            "parents": [
                "7720dd643bc7a6e59ba53ce218559b72189b9710"
            ],
            "ref": "refs/changes/24/64224/3",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1687377869,
            "author": {
                "name": "Ivan Mikhaylov",
                "email": "fr0st61te@gmail.com",
                "username": "fr0st61te"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/Network/Client.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 28,
            "sizeDeletions": 0
        }
    ]
}