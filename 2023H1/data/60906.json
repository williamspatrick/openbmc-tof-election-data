{
    "project": "openbmc/phosphor-host-ipmid",
    "branch": "master",
    "id": "Ifd76a53485de8d92af955e2bb4d4268b3e891110",
    "number": 60906,
    "subject": "Add compact sensor data record and fix sdr count",
    "owner": {
        "name": "selvaganapathim",
        "email": "selvaganapathim@ami.com",
        "username": "selvaganapathim"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-host-ipmid/+/60906",
    "hashtags": [],
    "createdOn": 1676339927,
    "lastUpdated": 1679302881,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1676339927,
            "reviewer": {
                "name": "selvaganapathim",
                "email": "selvaganapathim@ami.com",
                "username": "selvaganapathim"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1676339963,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1676339963,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1676340206,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/60857/ : SUCCESS"
        },
        {
            "timestamp": 1676501094,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 1:\n\n(3 comments)"
        },
        {
            "timestamp": 1676501326,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1676567196,
            "reviewer": {
                "name": "selvaganapathim",
                "email": "selvaganapathim@ami.com",
                "username": "selvaganapathim"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1676567233,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1676567233,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1676567475,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/61136/ : SUCCESS"
        },
        {
            "timestamp": 1676610002,
            "reviewer": {
                "name": "selvaganapathim",
                "email": "selvaganapathim@ami.com",
                "username": "selvaganapathim"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1677756945,
            "reviewer": {
                "name": "selvaganapathim",
                "email": "selvaganapathim@ami.com",
                "username": "selvaganapathim"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1677756969,
            "reviewer": {
                "name": "selvaganapathim",
                "email": "selvaganapathim@ami.com",
                "username": "selvaganapathim"
            },
            "message": "Patch Set 3: Patch Set 2 was rebased\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1677756994,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1677756994,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1677757239,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/62035/ : SUCCESS"
        },
        {
            "timestamp": 1678143972,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 3: Code-Review+2"
        },
        {
            "timestamp": 1679058996,
            "reviewer": {
                "name": "selvaganapathim",
                "email": "selvaganapathim@ami.com",
                "username": "selvaganapathim"
            },
            "message": "Patch Set 4: Patch Set 3 was rebased\n\nCopied Votes:\n* Code-Review+2 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1679059036,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1679059036,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1679059123,
            "reviewer": {
                "name": "selvaganapathim",
                "email": "selvaganapathim@ami.com",
                "username": "selvaganapathim"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1679059278,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/62847/ : SUCCESS"
        },
        {
            "timestamp": 1679302791,
            "reviewer": {
                "name": "Thang Q. Nguyen",
                "email": "thang@os.amperecomputing.com",
                "username": "thangqn-ampere"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1679302881,
            "reviewer": {
                "name": "selvaganapathim",
                "email": "selvaganapathim@ami.com",
                "username": "selvaganapathim"
            },
            "message": "Change has been successfully merged\n\n3 is the latest approved patch-set.\nNo files were changed between the latest approved patch-set and the submitted one.\n"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "1378b771fcb7f0f85d1ede1ca1e16ee8f6e94710",
            "parents": [
                "a42ee6be9b65c30505e53a7311f1be8494a06b65"
            ],
            "ref": "refs/changes/06/60906/1",
            "uploader": {
                "name": "selvaganapathim",
                "email": "selvaganapathim@ami.com",
                "username": "selvaganapathim"
            },
            "createdOn": 1676339927,
            "author": {
                "name": "selvaganapathim",
                "email": "selvaganapathim@ami.com",
                "username": "selvaganapathim"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "dbus-sdr/sensorcommands.cpp",
                    "line": 2003,
                    "reviewer": {
                        "name": "Vernon Mauery",
                        "email": "vernon.mauery@linux.intel.com",
                        "username": "vmauery"
                    },
                    "message": "I am not sure I understand the motivation of changing the .end() to .begin(). If the vector is empty, it shouldn't make a difference. If the vector is not empty, this seems like strange behavior."
                },
                {
                    "file": "dbus-sdr/sensorcommands.cpp",
                    "line": 2003,
                    "reviewer": {
                        "name": "Vernon Mauery",
                        "email": "vernon.mauery@linux.intel.com",
                        "username": "vmauery"
                    },
                    "message": "I didn't fully understand the commit message until after I wrote this comment. I think that a better solution is to reset() the vector at the top of getSensorDataRecord so that the size() and contents match up. Otherwise, inserting at begin() will still increase the size of the vector, just with the bytes at the beginning instead of the end."
                },
                {
                    "file": "dbus-sdr/sensorcommands.cpp",
                    "line": 2003,
                    "reviewer": {
                        "name": "selvaganapathim",
                        "email": "selvaganapathim@ami.com",
                        "username": "selvaganapathim"
                    },
                    "message": "Done"
                },
                {
                    "file": "dbus-sdr/sensorcommands.cpp",
                    "line": 2004,
                    "reviewer": {
                        "name": "Vernon Mauery",
                        "email": "vernon.mauery@linux.intel.com",
                        "username": "vmauery"
                    },
                    "message": "I recognize you did not add the c-style casts here, but since you are modifying the statement, please update it to use c++ style casts (in this case reinterpret_cast is the correct one.)\n\nSame comment for the next three chunks."
                },
                {
                    "file": "dbus-sdr/sensorcommands.cpp",
                    "line": 2004,
                    "reviewer": {
                        "name": "selvaganapathim",
                        "email": "selvaganapathim@ami.com",
                        "username": "selvaganapathim"
                    },
                    "message": "Done"
                },
                {
                    "file": "dbus-sdr/sensorcommands.cpp",
                    "line": 2178,
                    "reviewer": {
                        "name": "Vernon Mauery",
                        "email": "vernon.mauery@linux.intel.com",
                        "username": "vmauery"
                    },
                    "message": "since all three if statements after this line all depend on hdr as non-NULL, maybe make a single check up here that just continues if hdr is NULL and remove the check from below."
                },
                {
                    "file": "dbus-sdr/sensorcommands.cpp",
                    "line": 2178,
                    "reviewer": {
                        "name": "selvaganapathim",
                        "email": "selvaganapathim@ami.com",
                        "username": "selvaganapathim"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 37,
                    "deletions": 0
                },
                {
                    "file": "sensorhandler.hpp",
                    "type": "MODIFIED",
                    "insertions": 39,
                    "deletions": 0
                },
                {
                    "file": "dbus-sdr/sensorcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 96,
            "sizeDeletions": 4
        },
        {
            "number": 2,
            "revision": "309eb8e382203edb6a2041fa7e16a6e29fec6be3",
            "parents": [
                "a42ee6be9b65c30505e53a7311f1be8494a06b65"
            ],
            "ref": "refs/changes/06/60906/2",
            "uploader": {
                "name": "selvaganapathim",
                "email": "selvaganapathim@ami.com",
                "username": "selvaganapathim"
            },
            "createdOn": 1676567196,
            "author": {
                "name": "selvaganapathim",
                "email": "selvaganapathim@ami.com",
                "username": "selvaganapathim"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "selvaganapathim",
                        "email": "selvaganapathim@ami.com",
                        "username": "selvaganapathim"
                    },
                    "message": "@Vernon Mauery,\n\nPlease review the changes"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 37,
                    "deletions": 0
                },
                {
                    "file": "sensorhandler.hpp",
                    "type": "MODIFIED",
                    "insertions": 39,
                    "deletions": 0
                },
                {
                    "file": "dbus-sdr/sensorcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -9
                }
            ],
            "sizeInsertions": 107,
            "sizeDeletions": 9
        },
        {
            "number": 3,
            "revision": "19798c0b96ee55eccf98698545a4502a1bc7be28",
            "parents": [
                "5d2142028ae97e2c7c537cc979fd69ec966c8194"
            ],
            "ref": "refs/changes/06/60906/3",
            "uploader": {
                "name": "selvaganapathim",
                "email": "selvaganapathim@ami.com",
                "username": "selvaganapathim"
            },
            "createdOn": 1677756969,
            "author": {
                "name": "selvaganapathim",
                "email": "selvaganapathim@ami.com",
                "username": "selvaganapathim"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 37,
                    "deletions": 0
                },
                {
                    "file": "sensorhandler.hpp",
                    "type": "MODIFIED",
                    "insertions": 39,
                    "deletions": 0
                },
                {
                    "file": "dbus-sdr/sensorcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -9
                }
            ],
            "sizeInsertions": 107,
            "sizeDeletions": 9
        },
        {
            "number": 4,
            "revision": "7b2e5504f97744d635cfde1803fc7321628e8b18",
            "parents": [
                "55cbf552439fc440ff12299e9cb1b8d485207b36"
            ],
            "ref": "refs/changes/06/60906/4",
            "uploader": {
                "name": "selvaganapathim",
                "email": "selvaganapathim@ami.com",
                "username": "selvaganapathim"
            },
            "createdOn": 1679058996,
            "author": {
                "name": "selvaganapathim",
                "email": "selvaganapathim@ami.com",
                "username": "selvaganapathim"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "selvaganapathim",
                        "email": "selvaganapathim@ami.com",
                        "username": "selvaganapathim"
                    },
                    "message": "@Vernon Mauery\nCan you please merge this?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Thang Q. Nguyen",
                        "email": "thang@os.amperecomputing.com",
                        "username": "thangqn-ampere"
                    },
                    "message": "Vernon already gave +2. You can click on the Submit button to merge"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 37,
                    "deletions": 0
                },
                {
                    "file": "sensorhandler.hpp",
                    "type": "MODIFIED",
                    "insertions": 39,
                    "deletions": 0
                },
                {
                    "file": "dbus-sdr/sensorcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -9
                }
            ],
            "sizeInsertions": 107,
            "sizeDeletions": 9
        }
    ]
}