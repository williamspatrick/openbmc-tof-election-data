{
    "project": "openbmc/dbus-sensors",
    "branch": "master",
    "id": "Ieec22e0b320d6e609cff20bbc9ad2ea4d812d8fb",
    "number": 60042,
    "subject": "fansensor: add zone layer for setting all PWMs in the zone",
    "owner": {
        "name": "DelphineCCChiu",
        "email": "Delphine_CC_Chiu@wiwynn.com",
        "username": "DelphineCCChiu"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/dbus-sensors/+/60042",
    "hashtags": [],
    "createdOn": 1672907395,
    "lastUpdated": 1683610003,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1672907395,
            "reviewer": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1672907421,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1672907421,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1672907438,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/58610/ : FAILURE"
        },
        {
            "timestamp": 1672907739,
            "reviewer": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1672907770,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1672907770,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1672908185,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/58611/ : SUCCESS"
        },
        {
            "timestamp": 1673214084,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1673316977,
            "reviewer": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1673512278,
            "reviewer": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1675143624,
            "reviewer": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1675143635,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1675143636,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1675143898,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/59869/ : SUCCESS"
        },
        {
            "timestamp": 1675144372,
            "reviewer": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1675163192,
            "reviewer": {
                "name": "Josh Lehan",
                "email": "krellan@google.com",
                "username": "Krellan"
            },
            "message": "Patch Set 3:\n\n(6 comments)"
        },
        {
            "timestamp": 1676009957,
            "reviewer": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1676010016,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1676010016,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1676010031,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/60660/ : FAILURE"
        },
        {
            "timestamp": 1676010192,
            "reviewer": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "message": "Uploaded patch set 5.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1676010226,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1676010226,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1676010458,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/60661/ : SUCCESS"
        },
        {
            "timestamp": 1676010544,
            "reviewer": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "message": "Patch Set 5:\n\n(5 comments)"
        },
        {
            "timestamp": 1676107323,
            "reviewer": {
                "name": "Josh Lehan",
                "email": "krellan@google.com",
                "username": "Krellan"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1676253807,
            "reviewer": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1676510494,
            "reviewer": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1677041482,
            "reviewer": {
                "name": "Josh Lehan",
                "email": "krellan@google.com",
                "username": "Krellan"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1677184871,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 5:\n\n(2 comments)"
        },
        {
            "timestamp": 1677202244,
            "reviewer": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "message": "Uploaded patch set 6.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1677202256,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1677202256,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1677202537,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/61521/ : SUCCESS"
        },
        {
            "timestamp": 1677203066,
            "reviewer": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "message": "Patch Set 6:\n\n(2 comments)"
        },
        {
            "timestamp": 1677242295,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 6: Code-Review+1"
        },
        {
            "timestamp": 1681435660,
            "reviewer": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1681482253,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 7: Patch Set 6 was rebased\n\nCopied Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1681482287,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1681482288,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1681482602,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/64267/ : SUCCESS"
        },
        {
            "timestamp": 1682987955,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 7:\n\n(4 comments)"
        },
        {
            "timestamp": 1683277774,
            "reviewer": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1683589516,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1683610003,
            "reviewer": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "0867258fd1c44b994a57ad0e1739f34c0e6e24c9",
            "parents": [
                "ead7e927675d28e0e1b7bbc5d47e9bbcdda4da2e"
            ],
            "ref": "refs/changes/42/60042/1",
            "uploader": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "createdOn": 1672907395,
            "author": {
                "name": "BonnieLo-wiwynn",
                "email": "Bonnie_Lo@wiwynn.com",
                "username": "BonnieLo"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 124,
                    "deletions": 0
                },
                {
                    "file": "include/PwmSensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "src/PwmSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 63,
                    "deletions": -9
                },
                {
                    "file": "src/FanMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 224,
            "sizeDeletions": 9
        },
        {
            "number": 2,
            "revision": "530c9f3079c59adab29e2fcf5f16047a1882825a",
            "parents": [
                "ead7e927675d28e0e1b7bbc5d47e9bbcdda4da2e"
            ],
            "ref": "refs/changes/42/60042/2",
            "uploader": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "createdOn": 1672907739,
            "author": {
                "name": "BonnieLo-wiwynn",
                "email": "Bonnie_Lo@wiwynn.com",
                "username": "BonnieLo"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "I think phosphor-pid-control supports this already. If not, it should be added there."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "I think phosphor-pid-control doesn't support this feature.\n\nWe discussed with Patrick and Josh in this commit: https://gerrit.openbmc.org/c/openbmc/phosphor-dbus-interfaces/+/58427\n\nWe think that it is better to support this feature by adding Zone layer in fan sensors."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "Resolved. If there is any question, please let us know. Thanks!"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 124,
                    "deletions": 0
                },
                {
                    "file": "include/PwmSensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "src/PwmSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 62,
                    "deletions": -9
                },
                {
                    "file": "src/FanMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 223,
            "sizeDeletions": 9
        },
        {
            "number": 3,
            "revision": "f111408690b4c1afac2284e5179132ea48eb3966",
            "parents": [
                "6747eba5e06ce8f7b407193410aa7d04eb5b833c"
            ],
            "ref": "refs/changes/42/60042/3",
            "uploader": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "createdOn": 1675143624,
            "author": {
                "name": "BonnieLo-wiwynn",
                "email": "Bonnie_Lo@wiwynn.com",
                "username": "BonnieLo"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "Hi All,\nRebased master and fixed the conflict.\nPlease help to review agarin. Thanks!"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Josh Lehan",
                        "email": "krellan@google.com",
                        "username": "Krellan"
                    },
                    "message": "This looks promising. Also, it could be a step towards the idea mentioned here: https://github.com/openbmc/phosphor-pid-control/issues/27"
                },
                {
                    "file": "src/FanMain.cpp",
                    "line": 544,
                    "reviewer": {
                        "name": "Josh Lehan",
                        "email": "krellan@google.com",
                        "username": "Krellan"
                    },
                    "message": "This code is performing a prepend, not an append. Please correct this comment."
                },
                {
                    "file": "src/FanMain.cpp",
                    "line": 544,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/FanMain.cpp",
                    "line": 553,
                    "reviewer": {
                        "name": "Josh Lehan",
                        "email": "krellan@google.com",
                        "username": "Krellan"
                    },
                    "message": "I am concerned about this changing the syntax of the control/fanpwm and sensors/fan_pwm pathnames. There are many scripts and other programs in the field that depend on these pathnames. I do not want to break them.\n\nWould it be possible to preserve the old syntax, that did not require the user to know the zone number in order to address a particular PWM by name? Maybe create two pathnames, aliased to each other, to avoid breaking existing users?"
                },
                {
                    "file": "src/FanMain.cpp",
                    "line": 553,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "The zone layer will be added only if the user adds config in entity-manager. it  should be fine if someone don't want to use this feature."
                },
                {
                    "file": "src/FanMain.cpp",
                    "line": 553,
                    "reviewer": {
                        "name": "Josh Lehan",
                        "email": "krellan@google.com",
                        "username": "Krellan"
                    },
                    "message": "What is meant by \"only if the user adds config in entity-manager\"? It seems that this code, as it stands now, would require all existing zones in entity-manager Inventory objects to follow this new object path naming scheme. That would break a lot of existing configurations in the field.\n\nI like the idea of the new feature, but breaking existing configurations is unacceptable. People have scripts and other tools that depend on the existing device path layout. Perhaps have a flag that can be given at compile time, to opt into this new behavior, such as https://gerrit.openbmc.org/c/openbmc/phosphor-pid-control/+/58009\n\nThat way, the existing object path layout, which are depended upon by many people, will not need to suddenly change."
                },
                {
                    "file": "src/FanMain.cpp",
                    "line": 553,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "It is not required of configuring existing zones in entity-manager inventory. We tested function with and without zones configured in entity-manager.\n\nWith zones configured, the object path will be like:\n```\n         `-/xyz\n          `-/xyz/openbmc_project\n            |-/xyz/openbmc_project/control\n            | `-/xyz/openbmc_project/control/fanpwm\n            |   `-/xyz/openbmc_project/control/fanpwm/Zone_0\n            |     |-/xyz/openbmc_project/control/fanpwm/Zone_0/Pwm_1\n            |     |-/xyz/openbmc_project/control/fanpwm/Zone_0/Pwm_2\n            |     |-/xyz/openbmc_project/control/fanpwm/Zone_0/Pwm_3\n            |     `-/xyz/openbmc_project/control/fanpwm/Zone_0/Pwm_4\n            `-/xyz/openbmc_project/sensors\n              |-/xyz/openbmc_project/sensors/fan_pwm\n              | `-/xyz/openbmc_project/sensors/fan_pwm/Zone_0\n              |   |-/xyz/openbmc_project/sensors/fan_pwm/Zone_0/Pwm_1\n              |   |-/xyz/openbmc_project/sensors/fan_pwm/Zone_0/Pwm_2\n              |   |-/xyz/openbmc_project/sensors/fan_pwm/Zone_0/Pwm_3\n              |   `-/xyz/openbmc_project/sensors/fan_pwm/Zone_0/Pwm_4\n              `-/xyz/openbmc_project/sensors/fan_tach\n                |-/xyz/openbmc_project/sensors/fan_tach/BB_FAN0_TACH_RPM\n                |-/xyz/openbmc_project/sensors/fan_tach/BB_FAN1_TACH_RPM\n                |-/xyz/openbmc_project/sensors/fan_tach/BB_FAN2_TACH_RPM\n                `-/xyz/openbmc_project/sensors/fan_tach/BB_FAN3_TACH_RPM\n```\n\nWithout zones configured:\n```\n        `-/xyz\n          `-/xyz/openbmc_project\n            |-/xyz/openbmc_project/control\n            | `-/xyz/openbmc_project/control/fanpwm\n            |   `-/xyz/openbmc_project/control/fanpwm\n            |     |-/xyz/openbmc_project/control/fanpwm/Pwm_1\n            |     |-/xyz/openbmc_project/control/fanpwm/Pwm_2\n            |     |-/xyz/openbmc_project/control/fanpwm/Pwm_3\n            |     `-/xyz/openbmc_project/control/fanpwm/Pwm_4\n            `-/xyz/openbmc_project/sensors\n              |-/xyz/openbmc_project/sensors/fan_pwm\n              | `-/xyz/openbmc_project/sensors/fan_pwm\n              |   |-/xyz/openbmc_project/sensors/fan_pwm/Pwm_1\n              |   |-/xyz/openbmc_project/sensors/fan_pwm/Pwm_2\n              |   |-/xyz/openbmc_project/sensors/fan_pwm/Pwm_3\n              |   `-/xyz/openbmc_project/sensors/fan_pwm/Pwm_4\n              `-/xyz/openbmc_project/sensors/fan_tach\n                |-/xyz/openbmc_project/sensors/fan_tach/BB_FAN0_TACH_RPM\n                |-/xyz/openbmc_project/sensors/fan_tach/BB_FAN1_TACH_RPM\n                |-/xyz/openbmc_project/sensors/fan_tach/BB_FAN2_TACH_RPM\n                `-/xyz/openbmc_project/sensors/fan_tach/BB_FAN3_TACH_RPM\n```"
                },
                {
                    "file": "src/FanMain.cpp",
                    "line": 553,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "Marked resolved. Feel free to leave more feedback if you have any."
                },
                {
                    "file": "src/PwmSensor.cpp",
                    "line": 40,
                    "reviewer": {
                        "name": "Josh Lehan",
                        "email": "krellan@google.com",
                        "username": "Krellan"
                    },
                    "message": "I recommend changing sysPath to be vector<string> sysPaths. Then, you can have a vector of strings, instead of having to use a space-separated string."
                },
                {
                    "file": "src/PwmSensor.cpp",
                    "line": 40,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "Change to vector. It did affect codes at different place and we also modified them."
                },
                {
                    "file": "src/PwmSensor.cpp",
                    "line": 180,
                    "reviewer": {
                        "name": "Josh Lehan",
                        "email": "krellan@google.com",
                        "username": "Krellan"
                    },
                    "message": "I am curious why Zone types do not want their association created."
                },
                {
                    "file": "src/PwmSensor.cpp",
                    "line": 180,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "Added Zone type to assiciation creation."
                },
                {
                    "file": "src/PwmSensor.cpp",
                    "line": 204,
                    "reviewer": {
                        "name": "Josh Lehan",
                        "email": "krellan@google.com",
                        "username": "Krellan"
                    },
                    "message": "I recommend using a member variable that is vector<string> instead of \"space separated strings\".\nThis will save the overhead of having to recover the vector from the space-separated string every time."
                },
                {
                    "file": "src/PwmSensor.cpp",
                    "line": 204,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 124,
                    "deletions": 0
                },
                {
                    "file": "src/PwmSensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "src/PwmSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 62,
                    "deletions": -9
                },
                {
                    "file": "src/FanMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 223,
            "sizeDeletions": 9
        },
        {
            "number": 4,
            "revision": "e72a5ceff49027c27a315cd9abff5713f4f545a4",
            "parents": [
                "6747eba5e06ce8f7b407193410aa7d04eb5b833c"
            ],
            "ref": "refs/changes/42/60042/4",
            "uploader": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "createdOn": 1676009957,
            "author": {
                "name": "BonnieLo-wiwynn",
                "email": "Bonnie_Lo@wiwynn.com",
                "username": "BonnieLo"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 124,
                    "deletions": 0
                },
                {
                    "file": "src/PwmSensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -2
                },
                {
                    "file": "src/PwmSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 27,
                    "deletions": -10
                },
                {
                    "file": "src/FanMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 33,
                    "deletions": -1
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 191,
            "sizeDeletions": 14
        },
        {
            "number": 5,
            "revision": "258976660a62a7d67c16a934d0ed2aa83d9c813e",
            "parents": [
                "6747eba5e06ce8f7b407193410aa7d04eb5b833c"
            ],
            "ref": "refs/changes/42/60042/5",
            "uploader": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "createdOn": 1676010192,
            "author": {
                "name": "BonnieLo-wiwynn",
                "email": "Bonnie_Lo@wiwynn.com",
                "username": "BonnieLo"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Josh Lehan",
                        "email": "krellan@google.com",
                        "username": "Krellan"
                    },
                    "message": "Thanks. I am still concerned about the fact this changes the location of objects already well-established in the field."
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 258,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Don't early declare variables.  You defined this 20+ lines earlier than the first use.\n\nWhy not this?\n\n  std::vector<std::string> pwmPaths({ pwmPathStr });"
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 258,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "Change to std::vector<std::string> pwmPaths({ pwmPathStr }); and moved to line 280."
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 283,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Or just change it to `{ pwmPaths }` here."
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 283,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 124,
                    "deletions": 0
                },
                {
                    "file": "src/PwmSensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -2
                },
                {
                    "file": "src/PwmSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": -10
                },
                {
                    "file": "src/FanMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 33,
                    "deletions": -1
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 192,
            "sizeDeletions": 14
        },
        {
            "number": 6,
            "revision": "65afbbe257d96358406aeceb39b7dd2b3654c40d",
            "parents": [
                "c61a4a43296880ce49b8850f1f11c21b35286ff8"
            ],
            "ref": "refs/changes/42/60042/6",
            "uploader": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "createdOn": 1677202244,
            "author": {
                "name": "BonnieLo-wiwynn",
                "email": "Bonnie_Lo@wiwynn.com",
                "username": "BonnieLo"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "Gentle reminder: please help to review again. Thanks."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 124,
                    "deletions": 0
                },
                {
                    "file": "src/PwmSensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -2
                },
                {
                    "file": "src/PwmSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": -10
                },
                {
                    "file": "src/FanMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 33,
                    "deletions": -1
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 190,
            "sizeDeletions": 14
        },
        {
            "number": 7,
            "revision": "abbc0e5c1a307c9ec949cd538438bc4e03d65ff3",
            "parents": [
                "e46b4444708a8b32e68b7d03465f46bb62fc40ed"
            ],
            "ref": "refs/changes/42/60042/7",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1681482253,
            "author": {
                "name": "BonnieLo-wiwynn",
                "email": "Bonnie_Lo@wiwynn.com",
                "username": "BonnieLo"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "src/FanMain.cpp",
                    "line": 566,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "This zone pwmSensor also has the sensor.value  interface. Have you checked on redfish sensors URI and ipmitool sdr?. I think it would show up an another sensor in both places. Is that what we want? I think that is a little confusing."
                },
                {
                    "file": "src/FanMain.cpp",
                    "line": 566,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "We found that the redfish sensors URI didn't show up another sensor for it. The ipmi sdr shew up another sensor for it. We think it should be fine because the zone sensor is the largest value of the pwm sensor's in zone.\n\nHowever, we did find a bug when getting sensor reading via redfish URI. We revise the code and the dbus path will be like:\n```\nbusctl tree xyz.openbmc_project.FanSensor\n`-/xyz\n  `-/xyz/openbmc_project\n    |-/xyz/openbmc_project/control\n    | `-/xyz/openbmc_project/control/fanpwm\n    |   |-/xyz/openbmc_project/control/fanpwm/Pwm_1\n    |   |-/xyz/openbmc_project/control/fanpwm/Pwm_2\n    |   |-/xyz/openbmc_project/control/fanpwm/Pwm_3\n    |   |-/xyz/openbmc_project/control/fanpwm/Pwm_4\n    |   |-/xyz/openbmc_project/control/fanpwm/Zone_0\n    |   | |-/xyz/openbmc_project/control/fanpwm/Zone_0/Pwm_1\n    |   | `-/xyz/openbmc_project/control/fanpwm/Zone_0/Pwm_2\n    |   `-/xyz/openbmc_project/control/fanpwm/Zone_1\n    |     |-/xyz/openbmc_project/control/fanpwm/Zone_1/Pwm_3\n    |     `-/xyz/openbmc_project/control/fanpwm/Zone_1/Pwm_4\n    |-/xyz/openbmc_project/inventory\n    `-/xyz/openbmc_project/sensors\n      |-/xyz/openbmc_project/sensors/fan_pwm\n      | |-/xyz/openbmc_project/sensors/fan_pwm/Pwm_1\n      | |-/xyz/openbmc_project/sensors/fan_pwm/Pwm_2\n      | |-/xyz/openbmc_project/sensors/fan_pwm/Pwm_3\n      | |-/xyz/openbmc_project/sensors/fan_pwm/Pwm_4\n      | |-/xyz/openbmc_project/sensors/fan_pwm/Zone_0\n      | | |-/xyz/openbmc_project/sensors/fan_pwm/Zone_0/Pwm_1\n      | | `-/xyz/openbmc_project/sensors/fan_pwm/Zone_0/Pwm_2\n      | `-/xyz/openbmc_project/sensors/fan_pwm/Zone_1\n      |   |-/xyz/openbmc_project/sensors/fan_pwm/Zone_1/Pwm_3\n      |   `-/xyz/openbmc_project/sensors/fan_pwm/Zone_1/Pwm_4\n      `-/xyz/openbmc_project/sensors/fan_tach\n        |-/xyz/openbmc_project/sensors/fan_tach/BB_FAN0_TACH_RPM\n        |-/xyz/openbmc_project/sensors/fan_tach/BB_FAN1_TACH_RPM\n        |-/xyz/openbmc_project/sensors/fan_tach/BB_FAN2_TACH_RPM\n        `-/xyz/openbmc_project/sensors/fan_tach/BB_FAN3_TACH_RPM\n```\n\nDo you have any concern about this implementation?"
                },
                {
                    "file": "src/FanMain.cpp",
                    "line": 566,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "I will give this a try and report back"
                },
                {
                    "file": "src/FanMain.cpp",
                    "line": 566,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "Shall we upload the new patch for this change first?"
                },
                {
                    "file": "src/PwmSensor.cpp",
                    "line": 213,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "function return type is uint32_t\nic - it is an existing bug.  Would be nice to fix it, no changes are made to this function"
                },
                {
                    "file": "src/PwmSensor.cpp",
                    "line": 218,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "same here"
                },
                {
                    "file": "src/PwmSensor.cpp",
                    "line": 239,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "should error condition return na?"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 124,
                    "deletions": 0
                },
                {
                    "file": "src/PwmSensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -2
                },
                {
                    "file": "src/PwmSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": -10
                },
                {
                    "file": "src/FanMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 33,
                    "deletions": -1
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 190,
            "sizeDeletions": 14
        }
    ]
}