{
    "project": "openbmc/entity-manager",
    "branch": "master",
    "topic": "ChassisType",
    "id": "If01f3795c55200e28cd77474e1fb2b7b6e99eead",
    "number": 60425,
    "subject": "Add chassisType in json file",
    "owner": {
        "name": "Jayashree Dhanapal",
        "email": "jayashree-d@hcl.com",
        "username": "Jayashree-D"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/entity-manager/+/60425",
    "hashtags": [],
    "createdOn": 1674538254,
    "lastUpdated": 1679659902,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1674538254,
            "reviewer": {
                "name": "Jayashree Dhanapal",
                "email": "jayashree-d@hcl.com",
                "username": "Jayashree-D"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1674538295,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1674538295,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1674538312,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/59586/ : FAILURE"
        },
        {
            "timestamp": 1674538648,
            "reviewer": {
                "name": "Jayashree Dhanapal",
                "email": "jayashree-d@hcl.com",
                "username": "Jayashree-D"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1674538680,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1674538680,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1674538718,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/59587/ : FAILURE"
        },
        {
            "timestamp": 1674549540,
            "reviewer": {
                "name": "Jayashree Dhanapal",
                "email": "jayashree-d@hcl.com",
                "username": "Jayashree-D"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1674549550,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1674549550,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1674549818,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/59604/ : SUCCESS"
        },
        {
            "timestamp": 1674595706,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 3: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1674603196,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1674603645,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1674619303,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1674619400,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1676619137,
            "reviewer": {
                "name": "Jayashree Dhanapal",
                "email": "jayashree-d@hcl.com",
                "username": "Jayashree-D"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1676651280,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1676651280,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1676651595,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/61210/ : SUCCESS"
        },
        {
            "timestamp": 1676658968,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1678446007,
            "reviewer": {
                "name": "Jayashree Dhanapal",
                "email": "jayashree-d@hcl.com",
                "username": "Jayashree-D"
            },
            "message": "Topic set to ChassisType"
        },
        {
            "timestamp": 1679412478,
            "reviewer": {
                "name": "Jayashree Dhanapal",
                "email": "jayashree-d@hcl.com",
                "username": "Jayashree-D"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1679659594,
            "reviewer": {
                "name": "Jayashree Dhanapal",
                "email": "jayashree-d@hcl.com",
                "username": "Jayashree-D"
            },
            "message": "Patch Set 5: Patch Set 4 was rebased\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1679659638,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1679659638,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1679659902,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/63124/ : SUCCESS"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "b4a13f88b47bf0567b0dc05fb187a27a6b34cfd2",
            "parents": [
                "9e92c96b323160cb81d9964e3aeda5f2687fda63"
            ],
            "ref": "refs/changes/25/60425/1",
            "uploader": {
                "name": "Jayashree Dhanapal",
                "email": "jayashree-d@hcl.com",
                "username": "Jayashree-D"
            },
            "createdOn": 1674538254,
            "author": {
                "name": "Jayashree Dhanapal",
                "email": "jayashree-d@hcl.com",
                "username": "Jayashree-D"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "configurations/fbyv2.json",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "schemas/openbmc-dbus.json",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -1
                },
                {
                    "file": "configurations/twinlake.json",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 30,
            "sizeDeletions": 1
        },
        {
            "number": 2,
            "revision": "9ae00b15e4301dba5c2176aaea31414c346d09ff",
            "parents": [
                "9e92c96b323160cb81d9964e3aeda5f2687fda63"
            ],
            "ref": "refs/changes/25/60425/2",
            "uploader": {
                "name": "Jayashree Dhanapal",
                "email": "jayashree-d@hcl.com",
                "username": "Jayashree-D"
            },
            "createdOn": 1674538648,
            "author": {
                "name": "Jayashree Dhanapal",
                "email": "jayashree-d@hcl.com",
                "username": "Jayashree-D"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "configurations/fbyv2.json",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "schemas/openbmc-dbus.json",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": 0
                },
                {
                    "file": "configurations/twinlake.json",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 29,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "76c0bcade61088f119c026d66f9f58dbc60391fb",
            "parents": [
                "9e92c96b323160cb81d9964e3aeda5f2687fda63"
            ],
            "ref": "refs/changes/25/60425/3",
            "uploader": {
                "name": "Jayashree Dhanapal",
                "email": "jayashree-d@hcl.com",
                "username": "Jayashree-D"
            },
            "createdOn": 1674549540,
            "author": {
                "name": "Jayashree Dhanapal",
                "email": "jayashree-d@hcl.com",
                "username": "Jayashree-D"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "lgtm"
                },
                {
                    "file": "configurations/fbyv2.json",
                    "line": 585,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Seems like you could make the same argument here about \"why do you have a chassis and a board\".  Again the chassis + board serial are the same and contained on the same EEPROM (the board is simply screwed into the sheet metal to make a chassis).\n\nThe Yv2 baseboard contains the EEPROM, which contains the serial number.  By nature of it being a baseboard we can assume it is also screwed into a chassis.  Are you suggesting we need a separate path?"
                },
                {
                    "file": "configurations/fbyv2.json",
                    "line": 585,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> Seems like you could make the same argument here about \"why do you have a chassis and a board\".  Again the chassis + board serial are the same and contained on the same EEPROM (the board is simply screwed into the sheet metal to make a chassis).\n> \n> The Yv2 baseboard contains the EEPROM, which contains the serial number.  By nature of it being a baseboard we can assume it is also screwed into a chassis.  Are you suggesting we need a separate path?\n\nYes.  In the simplest example, the serial number of the chassis is not the same as the serial number of the motherboard, so they need separate paths to represent the components (even if you might not have the chassis serial number available)."
                },
                {
                    "file": "configurations/fbyv2.json",
                    "line": 585,
                    "reviewer": {
                        "name": "Jayashree Dhanapal",
                        "email": "jayashree-d@hcl.com",
                        "username": "Jayashree-D"
                    },
                    "message": "In Redfish, both Item.Board and Item.Chassis interface is used to display the board name under /redfish/v1/Chassis/<board>. \n\nI have tried creating two separate paths in json file for the interface Item.Board and Item.Chassis. In entity-manager, two dbus paths are created in the name of Twin_Lakes_1 (board type) and Twin_Lakes_1_Chassis (chassis type).\n\nIn redfish, 8 paths is created under /redfish/v1/Chassis, Since it fetches xyz.openbmc_project.Inventory.Item.Board and xyz.openbmc_project.Inventory.Item.Chassis interface under /redfish/v1/Chassis.\n\nExample:\n\n/redfish/v1/Chassis/Twin_Lakes_1\n/redfish/v1/Chassis/Twin_Lakes_2\n/redfish/v1/Chassis/Twin_Lakes_3\n/redfish/v1/Chassis/Twin_Lakes_4\n/redfish/v1/Chassis/Twin_Lakes_1_Chassis\n/redfish/v1/Chassis/Twin_Lakes_2_Chassis\n/redfish/v1/Chassis/Twin_Lakes_3_Chassis\n/redfish/v1/Chassis/Twin_Lakes_4_Chassis"
                },
                {
                    "file": "configurations/twinlake.json",
                    "line": 21,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Type: Board, Then exposing Item.Chassis doesn't seem correct."
                },
                {
                    "file": "configurations/twinlake.json",
                    "line": 21,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Do we need it to generate as separate path for the Chassis itself then?  There isn't any identifying information (FRU) for the Chassis, really and I'm not sure if you would call the bits of plastic much of a Chassis anyhow.\n\n\nTwinlakes is a compute card which plugs into a Yv2.  It is a board but it also acts as a sub-chassis (blade).  I'm not sure the best way to model that."
                },
                {
                    "file": "configurations/twinlake.json",
                    "line": 21,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> Do we need it to generate as separate path for the Chassis itself then?  There isn't any identifying information (FRU) for the Chassis, really and I'm not sure if you would call the bits of plastic much of a Chassis anyhow.\n\nYes.  If you can hold something in your hand separately, then it gets its own file.  Just because it's not FRU detectable doesn't change that.  There are probe statements designed for \"I know this thing is present, so I know this other thing is present as well\" (ie, the present probe type).\n\n> \n> \n> Twinlakes is a compute card which plugs into a Yv2.  It is a board but it also acts as a sub-chassis (blade).  I'm not sure the best way to model that.\n\nTwo files, one for the motherboard itself, and one for the sub chassis.  If the sub chassis isn't detectable through a field on the IPMI eeprom FRU (usually chassis section vs board section), then just probe on the motherboard existing."
                },
                {
                    "file": "configurations/twinlake.json",
                    "line": 21,
                    "reviewer": {
                        "name": "Jayashree Dhanapal",
                        "email": "jayashree-d@hcl.com",
                        "username": "Jayashree-D"
                    },
                    "message": "Type is changed from Board to Chassis. Hence, ChassisType can be exposed in the inventory only under Inventory.Item.Chassis."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "configurations/fbyv2.json",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "schemas/openbmc-dbus.json",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "configurations/twinlake.json",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 28,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "41d3eafed36722469e9b9c53a9b1988c5e72e813",
            "parents": [
                "73963328a21f45f45c4dc482bed97894d3e0281b"
            ],
            "ref": "refs/changes/25/60425/4",
            "uploader": {
                "name": "Jayashree Dhanapal",
                "email": "jayashree-d@hcl.com",
                "username": "Jayashree-D"
            },
            "createdOn": 1676619137,
            "author": {
                "name": "Jayashree Dhanapal",
                "email": "jayashree-d@hcl.com",
                "username": "Jayashree-D"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "configurations/fbyv2.json",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                },
                {
                    "file": "schemas/openbmc-dbus.json",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "configurations/twinlake.json",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 30,
            "sizeDeletions": 2
        },
        {
            "number": 5,
            "revision": "d4991b16d1f04fdfb1d2628d472e54913a3255cf",
            "parents": [
                "aa497edfc5dd4bcc7e3508498378d0747c622088"
            ],
            "ref": "refs/changes/25/60425/5",
            "uploader": {
                "name": "Jayashree Dhanapal",
                "email": "jayashree-d@hcl.com",
                "username": "Jayashree-D"
            },
            "createdOn": 1679659594,
            "author": {
                "name": "Jayashree Dhanapal",
                "email": "jayashree-d@hcl.com",
                "username": "Jayashree-D"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "configurations/fbyv2.json",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                },
                {
                    "file": "schemas/openbmc-dbus.json",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                },
                {
                    "file": "configurations/twinlake.json",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 30,
            "sizeDeletions": 2
        }
    ]
}