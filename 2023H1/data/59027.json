{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "I9aa8099a947a36b5ce914bc07ae60f1ebf0d209b",
    "number": 59027,
    "subject": "Fix sensor override",
    "owner": {
        "name": "Ed Tanous",
        "email": "ed@tanous.net",
        "username": "edtanous"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/59027",
    "hashtags": [],
    "createdOn": 1669759996,
    "lastUpdated": 1673387845,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1669759996,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1669760015,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 2: Patch Set 1 was rebased."
        },
        {
            "timestamp": 1669760027,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1669760027,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1669761738,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/56319/ : SUCCESS"
        },
        {
            "timestamp": 1670344769,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3: Published edit on patch set 2."
        },
        {
            "timestamp": 1670344801,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1670344801,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1670346580,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/56817/ : SUCCESS"
        },
        {
            "timestamp": 1670408351,
            "reviewer": {
                "name": "Jayaprakash Mutyala",
                "email": "mutyalax.jayaprakash@intel.com",
                "username": "jayaprakashmutyala"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1670450960,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1670451187,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1670451218,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1670451218,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1670452136,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1670453033,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/56985/ : SUCCESS"
        },
        {
            "timestamp": 1670456448,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1670456488,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1670456489,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1670457765,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1670457794,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1670457794,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1670457795,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/56993/ : ABORTED"
        },
        {
            "timestamp": 1670457820,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/57004/ : FAILURE"
        },
        {
            "timestamp": 1670525488,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1670525505,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1670525505,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1670527598,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/57243/ : SUCCESS"
        },
        {
            "timestamp": 1670532379,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1670541424,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1670594968,
            "reviewer": {
                "name": "Jayaprakash Mutyala",
                "email": "mutyalax.jayaprakash@intel.com",
                "username": "jayaprakashmutyala"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1670876714,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1670878025,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1670957703,
            "reviewer": {
                "name": "Jayaprakash Mutyala",
                "email": "mutyalax.jayaprakash@intel.com",
                "username": "jayaprakashmutyala"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1670965636,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1670965790,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1670991879,
            "reviewer": {
                "name": "AppaRao Puli",
                "email": "apparao.puli@intel.com",
                "username": "apuli1"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1671039288,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1672256600,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8: Commit message was updated.\n\nCopied Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1672256642,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1672256642,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1672256642,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: -Ok-To-Test"
        },
        {
            "timestamp": 1672256982,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/58341/ : FAILURE"
        },
        {
            "timestamp": 1672257490,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 9: Patch Set 8 was rebased\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1672257532,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1672257532,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: -Ok-To-Test"
        },
        {
            "timestamp": 1672259447,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/58342/ : SUCCESS"
        },
        {
            "timestamp": 1672286573,
            "reviewer": {
                "name": "Jayaprakash Mutyala",
                "email": "mutyalax.jayaprakash@intel.com",
                "username": "jayaprakashmutyala"
            },
            "message": "Patch Set 9: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1672763582,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 9: Code-Review+2"
        },
        {
            "timestamp": 1672763595,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully rebased and submitted as c71d61258bd3cd8573166011b450a1eecce2c572"
        },
        {
            "timestamp": 1673387845,
            "reviewer": {
                "name": "Jayaprakash Mutyala",
                "email": "mutyalax.jayaprakash@intel.com",
                "username": "jayaprakashmutyala"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "07084b170dd77018f0648ad68d6b344fb8564b59",
            "parents": [
                "229764ea82be8bf87415cda2cc6c4dbd74c2ab8a"
            ],
            "ref": "refs/changes/27/59027/1",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1669759996,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": -16
                }
            ],
            "sizeInsertions": 58,
            "sizeDeletions": 16
        },
        {
            "number": 2,
            "revision": "23025eb91e67f961b233d429e000544186ef4a20",
            "parents": [
                "2138483c183b367bb5657d3f4c7354708e67cc47"
            ],
            "ref": "refs/changes/27/59027/2",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1669760015,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": -16
                }
            ],
            "sizeInsertions": 58,
            "sizeDeletions": 16
        },
        {
            "number": 3,
            "revision": "c122e65c041472d7768bcfdf5dff4ecdb61c1c62",
            "parents": [
                "2138483c183b367bb5657d3f4c7354708e67cc47"
            ],
            "ref": "refs/changes/27/59027/3",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1670344769,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jayaprakash Mutyala",
                        "email": "mutyalax.jayaprakash@intel.com",
                        "username": "jayaprakashmutyala"
                    },
                    "message": "Hi Ed, below is the response getting from Senors url.\nGET: https://<BMC-IP>/redfish/v1/Chassis/<Baseboard>/Sensors/fantach_Fan_1\n{\n    \"@odata.id\": \"/redfish/v1/Chassis/<Baseboard>/Sensors/fantach_Fan_1\",\n    \"@odata.type\": \"#Sensor.v1_2_0.Sensor\",\n    \"Id\": \"Sensors_Fan_1\",\n    \"Name\": \"Fan 1\",\n    \"Reading\": 13468.0,\n    \"ReadingRangeMax\": 25000.0,\n    \"ReadingRangeMin\": 0.0,\n    \"ReadingType\": \"Rotational\",\n    \"ReadingUnits\": \"RPM\",\n    \"Status\": {\n        \"Health\": \"OK\",\n        \"State\": \"Enabled\"\n    }\n}\n\nDid not observed any difference before and after this change. So I pushed change in different patch.\n59131: Fix sensor Id name change | https://gerrit.openbmc.org/c/openbmc/bmcweb/+/59131"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This commit was trying to fix the PATCH case, not the GET case.  Can you try the PATCH case again?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I've also updated this patch to fix your GET case that you pointed out.  Can you test again?"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "type": "MODIFIED",
                    "insertions": 30,
                    "deletions": -16
                }
            ],
            "sizeInsertions": 54,
            "sizeDeletions": 16
        },
        {
            "number": 4,
            "revision": "bd8f5eb0036c60ea9d1b31837611beadde1ad59c",
            "parents": [
                "47827383270de5777b49775bb69bf7d37ec7384e"
            ],
            "ref": "refs/changes/27/59027/4",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1670451187,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -17
                }
            ],
            "sizeInsertions": 55,
            "sizeDeletions": 17
        },
        {
            "number": 5,
            "revision": "f09ca73ea4b66a391f6d643a333355257b0e2581",
            "parents": [
                "47827383270de5777b49775bb69bf7d37ec7384e"
            ],
            "ref": "refs/changes/27/59027/5",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1670456448,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -16
                }
            ],
            "sizeInsertions": 55,
            "sizeDeletions": 16
        },
        {
            "number": 6,
            "revision": "aa75bc8a460b633f8fe1104b5b7a83e5c921b535",
            "parents": [
                "47827383270de5777b49775bb69bf7d37ec7384e"
            ],
            "ref": "refs/changes/27/59027/6",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1670457765,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "test/redfish-core/lib/sensors_test.cpp",
                    "type": "ADDED",
                    "insertions": 37,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -16
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 94,
            "sizeDeletions": 16
        },
        {
            "number": 7,
            "revision": "c93beda77db7d9880fc950fa5cd50a037a0417f2",
            "parents": [
                "47827383270de5777b49775bb69bf7d37ec7384e"
            ],
            "ref": "refs/changes/27/59027/7",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1670525488,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "line": 813,
                    "reviewer": {
                        "name": "Jayaprakash Mutyala",
                        "email": "mutyalax.jayaprakash@intel.com",
                        "username": "jayaprakashmutyala"
                    },
                    "message": "Hi Ed, \nPatch is working fine with this change but my concern is while patching the sensor Id, user has to remove the prefix of SensorType from \"Id\". Then only able to patch. \n\nExample: \nURL: PATCH: https://<bmc-ip>/redfish/v1/Chassis/<Baseboard>/Sensors/fantach_Fan_1\nBody while patching sensor value:\n{\n    \"Id\": \"fantach_Fan_1\",\n    \"Reading\": 13466.0\n}\nResponse:\n{\n    \"@odata.id\": \"/redfish/v1/Chassis/<Baseboard>/Sensors\",\n    \"@odata.type\": \"#SensorCollection.SensorCollection\",\n    \"Description\": \"Collection of Sensors for this Chassis\",\n    \"Members\": [],\n    \"Members@odata.count\": 0,\n    \"Name\": \"Sensors\",\n    \"error\": {\n        \"@Message.ExtendedInfo\": [\n            {\n                \"@odata.type\": \"#Message.v1_1_1.Message\",\n                \"Message\": \"The requested resource of type Reading named 'fantach_Fan_1' was not found.\",\n                \"MessageArgs\": [\n                    \"Reading\",\n                    \"fantach_Fan_1\"\n                ],\n                \"MessageId\": \"Base.1.13.0.ResourceNotFound\",\n                \"MessageSeverity\": \"Critical\",\n                \"Resolution\": \"Provide a valid resource identifier and resubmit the request.\"\n            }\n        ],\n        \"code\": \"Base.1.13.0.ResourceNotFound\",\n        \"message\": \"The requested resource of type Reading named 'fantach_Fan_1' was not found.\"\n    }\n}\n\n\nIf Sensortype removed from \"Id\", then only user is able to patch the sensor value.\n\nPATCH: https://<bmc-ip>/redfish/v1/Chassis/<Baseboard>/Sensors/fantach_Fan_1\nBody:\n{\n    \"Id\": \"Fan_1\",\n    \"Reading\": 13466.0\n}\n\nResponse:\n{\n    \"@odata.id\": \"/redfish/v1/Chassis/<Baseboard>/Sensors\",\n    \"@odata.type\": \"#SensorCollection.SensorCollection\",\n    \"Description\": \"Collection of Sensors for this Chassis\",\n    \"Members\": [],\n    \"Members@odata.count\": 0,\n    \"Name\": \"Sensors\"\n}\n\nSo should we need this prepending SensorType while using GET method? So User can directly use \"Id\" from GET method response to patch."
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "line": 813,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> If Sensortype removed from \"Id\", then only user is able to patch the sensor value.\n\n\nThis definitely isn't the intent of this patch.  The intent is that we strip the sensor type from the ID on line 2771;  Can you leave a comment on that line of what you think isn't working.  The code looks correct to me, but I don't have a way to test, because I don't have those features enabled on any upstream platform."
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "line": 813,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> So should we need this prepending SensorType while using GET method?\n\nThis part is already done I believe."
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "line": 813,
                    "reviewer": {
                        "name": "Jayaprakash Mutyala",
                        "email": "mutyalax.jayaprakash@intel.com",
                        "username": "jayaprakashmutyala"
                    },
                    "message": "Patching of sensor value is working as expected. \n** The intent is that we strip the sensor type from the ID on line 2771;\nMy point is here: if SensorType is not added in GET method, user can use that \"Id\" directly without striping the SensorType from Id to patch sensor value. So no confusion to patch Sensor value. \n\nAs a developer we know the functionality to patch by striping this sensorType, but tester will blindly copy the Id from Get method response.\n\nExample: \nGET method response:\n\n    \"Id\": \"power_CPU2_South_VR_Input_Power\",\n    \"Name\": \"CPU2 South VR Input Power\",\n    \"Reading\": -0.122876,\n    \n But while patching sensor Id \"Power\" need to stripe from Id.\n \n So patch body:\n {\n    \"Id\": \"CPU2_South_VR_Input_Power\",\n    \"Reading\": -0.122876\n }\n \n if you do not agree this, we can proceed with same as with current implementation."
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "line": 813,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I'm very sorry, but I'm still not understanding.\n\n> if SensorType is not added in GET method\n\nSensorType is added to the ID to significantly increase the performance.  If we don't add it, we need to look up ALL sensors to find any one sensor.  In terms of tradeoffs, this seems like we should avoid really expensive lookups.\n\nI would've expected the PATCH body to be:\n{\n    \"Id\": \"power_CPU2_South_VR_Input_Power\",\n    \"Reading\": -0.122876\n}\n\nCan you try that and see if it works?  Based on inspection of this patch, it should work, but I can't really test it."
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "line": 813,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": ">  But while patching sensor Id \"Power\" need to stripe from Id.\n\nNo client should ever have to strip an ID.  That's not the intent."
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "line": 813,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@intel.com",
                        "username": "apuli1"
                    },
                    "message": "I agree with Ed.\n\nGET on sensors are prefixing with \"<type>_\" in both URI & ID fields(This is done for performance improvement). \nExample:\nURI: /redfish/v1/Chassis/AVC_Baseboard/Sensors/temperature_PSU1_Temperature\nID: \"Sensors_PSU1_Temperature\"\n\nPatch on sensors, users can use same ID & URI as is. Stripping of prefix (<type>_\" can be handled inside code wile patching for D-BUS object formation. The API  \"splitSensorNameAndType()\" is doing same and that should solve the issue with sensor override.\n\nWhile doing patch user uses same ID which is there in GET.\n{\n   \"Id\": \"Sensors_PSU1_Temperature\",\n   \"Reading\": 20\n}\n\nThanks Ed for details, We will discuss internally and get back on this."
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "line": 813,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Thanks Appu!"
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "line": 813,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Any responses?  I'm tempted to get this on master, to get it unbroken, and if there's additional followup, we can handle that later.  Seem reasonable?"
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "line": 813,
                    "reviewer": {
                        "name": "Jayaprakash Mutyala",
                        "email": "mutyalax.jayaprakash@intel.com",
                        "username": "jayaprakashmutyala"
                    },
                    "message": "I agree with you Ed. Anyway same logic is applied while sending the data to dbus. So no issue while patching SensorId. Thank you."
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "line": 2722,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Wasn't this orginally behind a flag?\n\nhttps://github.com/openbmc/bmcweb/commit/91e130a365a0d3b93357e6efa0a5be8a0b53c6d1"
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "line": 2722,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "It is;  At some point the flag got moved from bmcweb to the sensor implementation, which has a better ability to slice and dice which sensors should be settable.\n\n91e130a365a0d3b93357e6efa0a5be8a0b53c6d1"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "test/redfish-core/lib/sensors_test.cpp",
                    "type": "ADDED",
                    "insertions": 36,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -16
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 93,
            "sizeDeletions": 16
        },
        {
            "number": 8,
            "revision": "c4e034b3289d781e90745e0099e50a9c2fdaef0a",
            "parents": [
                "47827383270de5777b49775bb69bf7d37ec7384e"
            ],
            "ref": "refs/changes/27/59027/8",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1672256600,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "test/redfish-core/lib/sensors_test.cpp",
                    "type": "ADDED",
                    "insertions": 36,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -16
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 91,
            "sizeDeletions": 16
        },
        {
            "number": 9,
            "revision": "71ebf159612d3c17d1860077c8262e974451ca7e",
            "parents": [
                "ed194be4aff97177c6062bad9e2372099f07cd3e"
            ],
            "ref": "refs/changes/27/59027/9",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1672257490,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "test/redfish-core/lib/sensors_test.cpp",
                    "type": "ADDED",
                    "insertions": 36,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -16
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 91,
            "sizeDeletions": 16
        },
        {
            "number": 10,
            "revision": "c71d61258bd3cd8573166011b450a1eecce2c572",
            "parents": [
                "7f57f19593fc87da79caa9d7da77976622c933ae"
            ],
            "ref": "refs/changes/27/59027/10",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1672763595,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "line": 774,
                    "reviewer": {
                        "name": "Jayaprakash Mutyala",
                        "email": "mutyalax.jayaprakash@intel.com",
                        "username": "jayaprakashmutyala"
                    },
                    "message": "Hi Ed, This is regarding  \"@odata.type\" in Redfish get method response.\nCurrently for all the types of sensors code is hitting in  if (chassisSubNode == sensors::node::sensors) only. \nSo here \"@odata.type\" is will show same for all the sensor types ( i,e temperature ,power, fan ... etc sensors). Based on sensor type need to change \"@odata.type\"as well right in Redfish response. (Since else case will not hit ).\nPlease confirm on expectation on this change.\n\nexample: if sensor type is Temperature sensor\n\"@odata.type\": \"#Thermal.v1_3_0.Temperature\";\n\nIf sensor type is fan sensor then\n\"@odata.type\": \"#Thermal.v1_3_0.Fan\";"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "test/redfish-core/lib/sensors_test.cpp",
                    "type": "ADDED",
                    "insertions": 36,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/sensors.hpp",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -16
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 91,
            "sizeDeletions": 16
        }
    ]
}