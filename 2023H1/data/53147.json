{
    "project": "openbmc/openbmc",
    "branch": "master",
    "topic": "genesis3",
    "id": "I6a4db9ff4612115394bfa59db2d84056c4bd58ae",
    "number": 53147,
    "subject": "meta-ibm: Add u-boot for genesis3",
    "owner": {
        "name": "Patrick Rudolph",
        "email": "patrick.rudolph@9elements.com",
        "username": "PatrickRudolph"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/openbmc/+/53147",
    "hashtags": [],
    "createdOn": 1650460830,
    "lastUpdated": 1685432416,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1650460830,
            "reviewer": {
                "name": "Patrick Rudolph",
                "email": "patrick.rudolph@9elements.com",
                "username": "PatrickRudolph"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1650460930,
            "reviewer": {
                "name": "Patrick Rudolph",
                "email": "patrick.rudolph@9elements.com",
                "username": "PatrickRudolph"
            },
            "message": "Topic set to genesis3"
        },
        {
            "timestamp": 1650461032,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1652101646,
            "reviewer": {
                "name": "Patrick Rudolph",
                "email": "patrick.rudolph@9elements.com",
                "username": "PatrickRudolph"
            },
            "message": "Uploaded patch set 2: Patch Set 1 was rebased."
        },
        {
            "timestamp": 1652101954,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1652101954,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1652103048,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/10758/"
        },
        {
            "timestamp": 1652104868,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/10758/ : FAILURE"
        },
        {
            "timestamp": 1683103301,
            "reviewer": {
                "name": "Patrick Rudolph",
                "email": "patrick.rudolph@9elements.com",
                "username": "PatrickRudolph"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1683103350,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1683103350,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1683103356,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/17173/"
        },
        {
            "timestamp": 1683109160,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/17173/ : FAILURE"
        },
        {
            "timestamp": 1683166535,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3:\n\n(4 comments)"
        },
        {
            "timestamp": 1683166961,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1683168844,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1683168937,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1685416451,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1685424639,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1685432416,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "afee3766b4a65fd58103ff3ce72ca111ad17fd5d",
            "parents": [
                "783ac5a062fa6d54fa4abd413c8aca0cea0daab7"
            ],
            "ref": "refs/changes/47/53147/1",
            "uploader": {
                "name": "Patrick Rudolph",
                "email": "patrick.rudolph@9elements.com",
                "username": "PatrickRudolph"
            },
            "createdOn": 1650460830,
            "author": {
                "name": "Patrick Rudolph",
                "email": "patrick.rudolph@9elements.com",
                "username": "PatrickRudolph"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-ibm/meta-genesis3/conf/machine/genesis3.conf",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 16,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "4fe67e199e4e9ab4e238c4c005215a3170e4c6d1",
            "parents": [
                "efc272142e093c759cdba167ef3b411daa7897ce"
            ],
            "ref": "refs/changes/47/53147/2",
            "uploader": {
                "name": "Patrick Rudolph",
                "email": "patrick.rudolph@9elements.com",
                "username": "PatrickRudolph"
            },
            "createdOn": 1652101646,
            "author": {
                "name": "Patrick Rudolph",
                "email": "patrick.rudolph@9elements.com",
                "username": "PatrickRudolph"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-ibm/meta-genesis3/conf/machine/genesis3.conf",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 16,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "4dee378d6c624abf1414c429004f0ea103fc3e2a",
            "parents": [
                "11903ddea02f49c039453375e22fe912a3acb2dc"
            ],
            "ref": "refs/changes/47/53147/3",
            "uploader": {
                "name": "Patrick Rudolph",
                "email": "patrick.rudolph@9elements.com",
                "username": "PatrickRudolph"
            },
            "createdOn": 1683103301,
            "author": {
                "name": "Patrick Rudolph",
                "email": "patrick.rudolph@9elements.com",
                "username": "PatrickRudolph"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 13,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I asked Andrew Jeffery to look into the situation here."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 13,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Right, we need work out how to make progress with the patches on the list and get them into the u-boot tree. `repotest` is doing the right thing here."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This failed CI because we reject patches in machine meta-layers in the `repotest` stage.  We need to work through how critical these patches are and figure out why they're not being accepted."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Looking at this again now."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "As a stepping stone I've sent this PR so we don't have a mismatch between the Aspeed and OpenBMC config symbols:\n\nhttps://github.com/AspeedTech-BMC/u-boot/pull/18"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "The dts is now also integrated into openbmc/u-boot:\n\nhttps://gerrit.openbmc.org/c/openbmc/openbmc/+/63803\n\nNote that I did make some changes to the dts on the way. I've left notes in the commit message as to what happened."
                },
                {
                    "file": "meta-ibm/recipes-bsp/u-boot/u-boot-aspeed-sdk/genesis3/0001-arm-dts-Add-IBM-Genesis3-board.patch",
                    "line": 46,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This DTS seems rather useless, so I could see why it might not have been accepted.  There isn't really any additional content here that is required from what I can tell.  Is there any reason that the `ast2500-evb.dts` doesn't boot on your board directly?"
                },
                {
                    "file": "meta-ibm/recipes-bsp/u-boot/u-boot-aspeed-sdk/genesis3/0002-arm-mach-aspeed-Add-support-for-CONFIG_ASPEED_ROUTE_.patch",
                    "line": 46,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Doesn't this also seem similarly unnecessary.  All we've done is change from one name to another one?\n\n```\n$ git grep CONFIG_DRAM_UART_TO_UART1\narch/arm/mach-aspeed/ast2500/platform.S: *    CONFIG_DRAM_UART_TO_UART1   // route UART5 to UART port1\narch/arm/mach-aspeed/ast2500/platform.S:#ifdef CONFIG_DRAM_UART_TO_UART1\n```"
                },
                {
                    "file": "meta-ibm/recipes-bsp/u-boot/u-boot-aspeed-sdk/genesis3/0002-arm-mach-aspeed-Add-support-for-CONFIG_ASPEED_ROUTE_.patch",
                    "line": 46,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Well, I think the original name was kinda poor anyway. The patch adds the Kconfig to hook it all up as well. It seems like a good outcome."
                },
                {
                    "file": "meta-ibm/recipes-bsp/u-boot/u-boot-aspeed-sdk/genesis3/0002-arm-mach-aspeed-Add-support-for-CONFIG_ASPEED_ROUTE_.patch",
                    "line": 46,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "\ud83d\udc4d"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "meta-ibm/recipes-bsp/u-boot/u-boot-aspeed-sdk/genesis3/0001-arm-dts-Add-IBM-Genesis3-board.patch",
                    "type": "ADDED",
                    "insertions": 64,
                    "deletions": 0
                },
                {
                    "file": "meta-ibm/recipes-bsp/u-boot/u-boot-aspeed-sdk_2019.04.bbappend",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": 0
                },
                {
                    "file": "meta-ibm/recipes-bsp/u-boot/files/genesis3.cfg",
                    "type": "ADDED",
                    "insertions": 76,
                    "deletions": 0
                },
                {
                    "file": "meta-ibm/meta-genesis3/conf/machine/genesis3.conf",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -5
                },
                {
                    "file": "meta-ibm/recipes-bsp/u-boot/u-boot-aspeed-sdk/genesis3/0002-arm-mach-aspeed-Add-support-for-CONFIG_ASPEED_ROUTE_.patch",
                    "type": "ADDED",
                    "insertions": 52,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 216,
            "sizeDeletions": 5
        }
    ]
}