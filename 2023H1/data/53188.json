{
    "project": "openbmc/foxconn-ipmi-oem",
    "branch": "master",
    "id": "If2919509d11eb68b3dc657bb0ca6c57e804b3c63",
    "number": 53188,
    "subject": "systemcommands: Add SSIF compatibility command",
    "owner": {
        "name": "Avenash Asai Thambi",
        "email": "avenash.thambi@fii-usa.com",
        "username": "avenash-thambi"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/foxconn-ipmi-oem/+/53188",
    "hashtags": [],
    "createdOn": 1650553926,
    "lastUpdated": 1677524800,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1650553926,
            "reviewer": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1650554516,
            "reviewer": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "message": "Patch Set 2: Commit message was updated."
        },
        {
            "timestamp": 1650554716,
            "reviewer": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1650554897,
            "reviewer": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "message": "Removed reviewer Mustafa Shehabi."
        },
        {
            "timestamp": 1650565448,
            "reviewer": {
                "name": "Benjamin Fair",
                "email": "benjaminfair@google.com",
                "username": "BenjaminFair"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1650570154,
            "reviewer": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1650570441,
            "reviewer": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "message": "Patch Set 5: Published edit on patch set 4."
        },
        {
            "timestamp": 1650570708,
            "reviewer": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1650572738,
            "reviewer": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1650574030,
            "reviewer": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1650574708,
            "reviewer": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "message": "Patch Set 8: Commit message was updated."
        },
        {
            "timestamp": 1657778706,
            "reviewer": {
                "name": "Chuong Tran",
                "email": "chuong.tran@amperecomputing.com",
                "username": "chuongtranle"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1661810530,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1665083827,
            "reviewer": {
                "name": "Vivekanand Veeracholan",
                "email": "vveerach@google.com",
                "username": "viarand"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1677524800,
            "reviewer": {
                "name": "Charles Boyer",
                "email": "Charles.Boyer@fii-usa.com",
                "username": "boyercee"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "3e9da1078ec3f9436453ffdd16b59c859f3cc626",
            "parents": [
                "9d6c4010b58049070afcb39ef4c2a965633e2e9c"
            ],
            "ref": "refs/changes/88/53188/1",
            "uploader": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "createdOn": 1650553926,
            "author": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "src/systemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": -40
                }
            ],
            "sizeInsertions": 71,
            "sizeDeletions": 40
        },
        {
            "number": 2,
            "revision": "4a4a4a8d41b517ddb31a403806655b91043bab65",
            "parents": [
                "9d6c4010b58049070afcb39ef4c2a965633e2e9c"
            ],
            "ref": "refs/changes/88/53188/2",
            "uploader": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "createdOn": 1650554516,
            "author": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "src/systemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": -40
                }
            ],
            "sizeInsertions": 71,
            "sizeDeletions": 40
        },
        {
            "number": 3,
            "revision": "1a7af7fef4791d3e0f16305b2ff711d86e57338d",
            "parents": [
                "9d6c4010b58049070afcb39ef4c2a965633e2e9c"
            ],
            "ref": "refs/changes/88/53188/3",
            "uploader": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "createdOn": 1650554716,
            "author": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/systemcommands.cpp",
                    "line": 24,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Please do the reformatting in a separate patch so it's clear what's being changed here"
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 24,
                    "reviewer": {
                        "name": "Avenash Asai Thambi",
                        "email": "avenash.thambi@fii-usa.com",
                        "username": "avenash-thambi"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 63,
                    "reviewer": {
                        "name": "Benjamin Fair",
                        "email": "benjaminfair@google.com",
                        "username": "BenjaminFair"
                    },
                    "message": "Shouldn't this be implemented by the ssifbridge daemon, since that's what actually knows the capabilities?"
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 63,
                    "reviewer": {
                        "name": "Chuong Tran",
                        "email": "chuong.tran@amperecomputing.com",
                        "username": "chuongtranle"
                    },
                    "message": "ssifbridge daemon just acts like a bridge between kernel bmc-ssif driver and ipmid in userland to send requests and receive responses. This command as defined by IPMI 2.0 spec is used to provide the System Interface capabilities supported in this BMC then host can be aware of what are supported in this interface. For example, SSIF/KCS/SMIC, and if it's SSIF, whether Multi-part read/write supported?, maximum size of IPMI message for a transaction?, PEC supported?. I think the BMC itself should provide that information and this is the right place to put. Moreover, the command be read out-of-band, not only inband."
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 63,
                    "reviewer": {
                        "name": "Charles Boyer",
                        "email": "Charles.Boyer@fii-usa.com",
                        "username": "boyercee"
                    },
                    "message": "This sounds like it should be considered for phosphor-host-ipmid package. Especially if the command is ready to be out-of-band and in-band and capable of supporting multiple interfaces. Perhaps you can use an option for backwards compatibility."
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 63,
                    "reviewer": {
                        "name": "Vivekanand Veeracholan",
                        "email": "vveerach@google.com",
                        "username": "viarand"
                    },
                    "message": "this has to be a separate IPMI library which is hosted in the SSIF bridge repo. \nAlso the problem I have with this is, the capabilities that are being presented (multi part, PEC..) here are actually controlled at the kernel driver level. \nIf kernel driver can expose these parameters in sysfs then that will be the best approach. We can have the IPMI lib in the SSIF bridge repo that reads the kernel sysfs and populates these fields."
                },
                {
                    "file": "src/systemcommands.cpp",
                    "line": 63,
                    "reviewer": {
                        "name": "Charles Boyer",
                        "email": "Charles.Boyer@fii-usa.com",
                        "username": "boyercee"
                    },
                    "message": "Hello Chuong,\nIs there an update?"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "src/systemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 59,
                    "deletions": -40
                }
            ],
            "sizeInsertions": 72,
            "sizeDeletions": 40
        },
        {
            "number": 4,
            "revision": "935f75552868ef3c3ce9021ad5cabb36678b44e0",
            "parents": [
                "9d6c4010b58049070afcb39ef4c2a965633e2e9c"
            ],
            "ref": "refs/changes/88/53188/4",
            "uploader": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "createdOn": 1650570154,
            "author": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "src/systemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 31,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "bd57de4be6fc2f5520424fe967830185ec1ffa7b",
            "parents": [
                "9d6c4010b58049070afcb39ef4c2a965633e2e9c"
            ],
            "ref": "refs/changes/88/53188/5",
            "uploader": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "createdOn": 1650570441,
            "author": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "src/systemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 32,
            "sizeDeletions": 0
        },
        {
            "number": 6,
            "revision": "da5a1a9cc4d94ba0081e63db022c2a2fca7e50e7",
            "parents": [
                "9d6c4010b58049070afcb39ef4c2a965633e2e9c"
            ],
            "ref": "refs/changes/88/53188/6",
            "uploader": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "createdOn": 1650572738,
            "author": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "src/systemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 57,
                    "deletions": -40
                }
            ],
            "sizeInsertions": 70,
            "sizeDeletions": 40
        },
        {
            "number": 7,
            "revision": "e72e7e2b205877a7dfaa8b1b9a6a28100a46f7f6",
            "parents": [
                "9d6c4010b58049070afcb39ef4c2a965633e2e9c"
            ],
            "ref": "refs/changes/88/53188/7",
            "uploader": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "createdOn": 1650574030,
            "author": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "src/systemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 32,
            "sizeDeletions": 0
        },
        {
            "number": 8,
            "revision": "5bad974f544d8ca78d046f983516ff0add1a9de9",
            "parents": [
                "9d6c4010b58049070afcb39ef4c2a965633e2e9c"
            ],
            "ref": "refs/changes/88/53188/8",
            "uploader": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "createdOn": 1650574708,
            "author": {
                "name": "Avenash Asai Thambi",
                "email": "avenash.thambi@fii-usa.com",
                "username": "avenash-thambi"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "src/systemcommands.cpp",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 32,
            "sizeDeletions": 0
        }
    ]
}