{
    "project": "openbmc/phosphor-dbus-interfaces",
    "branch": "master",
    "id": "Ia5b29aedc5cb8fb8677bd7b9fb5d36950b1698ed",
    "number": 60519,
    "subject": "NVMe: Add CreateVolume and properties",
    "owner": {
        "name": "Matt Johnston",
        "email": "matt@codeconstruct.com.au",
        "username": "mkj"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-dbus-interfaces/+/60519",
    "hashtags": [],
    "createdOn": 1675063540,
    "lastUpdated": 1676265004,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1675063540,
            "reviewer": {
                "name": "Matt Johnston",
                "email": "matt@codeconstruct.com.au",
                "username": "mkj"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1675063561,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1675063561,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1675063811,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/59812/ : FAILURE"
        },
        {
            "timestamp": 1675067745,
            "reviewer": {
                "name": "Matt Johnston",
                "email": "matt@codeconstruct.com.au",
                "username": "mkj"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1675067776,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1675067776,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1675068067,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/59818/ : SUCCESS"
        },
        {
            "timestamp": 1675831331,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2:\n\n(5 comments)"
        },
        {
            "timestamp": 1675845367,
            "reviewer": {
                "name": "Matt Johnston",
                "email": "matt@codeconstruct.com.au",
                "username": "mkj"
            },
            "message": "Patch Set 2:\n\n(5 comments)"
        },
        {
            "timestamp": 1675863244,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1676265004,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "446997ddf259b020b2b347e6f9f05af950d3fcfa",
            "parents": [
                "04baa9ca2812abd55457cf9da134c2925dc870b2"
            ],
            "ref": "refs/changes/19/60519/1",
            "uploader": {
                "name": "Matt Johnston",
                "email": "matt@codeconstruct.com.au",
                "username": "mkj"
            },
            "createdOn": 1675063540,
            "author": {
                "name": "Matt Johnston",
                "email": "matt@codeconstruct.com.au",
                "username": "mkj"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "gen/xyz/openbmc_project/Nvme/Controller/meson.build",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/Nvme/Storage.interface.yaml",
                    "type": "ADDED",
                    "insertions": 35,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/Nvme/Volume.interface.yaml",
                    "type": "ADDED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "gen/xyz/openbmc_project/Nvme/Storage/meson.build",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "gen/xyz/openbmc_project/Nvme/Volume/meson.build",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "gen/xyz/openbmc_project/Nvme/meson.build",
                    "type": "MODIFIED",
                    "insertions": 45,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/Nvme/Controller.interface.yaml",
                    "type": "ADDED",
                    "insertions": 32,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 177,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "46efac8c9c4002e17b83cb60e469f8d59ded4ec7",
            "parents": [
                "04baa9ca2812abd55457cf9da134c2925dc870b2"
            ],
            "ref": "refs/changes/19/60519/2",
            "uploader": {
                "name": "Matt Johnston",
                "email": "matt@codeconstruct.com.au",
                "username": "mkj"
            },
            "createdOn": 1675067745,
            "author": {
                "name": "Matt Johnston",
                "email": "matt@codeconstruct.com.au",
                "username": "mkj"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Who are the domain experts / destination repository?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Matt Johnston",
                        "email": "matt@codeconstruct.com.au",
                        "username": "mkj"
                    },
                    "message": "The server is intended to be implemented in dbus-sensors, nvmesensor binary. It is used by bmcweb to expose Redfish (Swordfish) interfaces for NVMe management."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Adding Andrew and Zhikui then."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "I can't say I'm an NVMe expert, I kinda just hacked things together enough with nvmesensor to meet our requirements (drive temperature monitoring)."
                },
                {
                    "file": "yaml/xyz/openbmc_project/Nvme/Controller.interface.yaml",
                    "line": 8,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "default=Unknown please."
                },
                {
                    "file": "yaml/xyz/openbmc_project/Nvme/Controller.interface.yaml",
                    "line": 8,
                    "reviewer": {
                        "name": "Matt Johnston",
                        "email": "matt@codeconstruct.com.au",
                        "username": "mkj"
                    },
                    "message": "Ack"
                },
                {
                    "file": "yaml/xyz/openbmc_project/Nvme/Storage.interface.yaml",
                    "line": 28,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Is size good enough for all of these or do you need uint64 anywhere?"
                },
                {
                    "file": "yaml/xyz/openbmc_project/Nvme/Storage.interface.yaml",
                    "line": 28,
                    "reviewer": {
                        "name": "Matt Johnston",
                        "email": "matt@codeconstruct.com.au",
                        "username": "mkj"
                    },
                    "message": "These are disk block sizes so `size` should be sufficient"
                },
                {
                    "file": "yaml/xyz/openbmc_project/Nvme/Storage.interface.yaml",
                    "line": 30,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Is index necessary?  Isn't the array location itself an index?"
                },
                {
                    "file": "yaml/xyz/openbmc_project/Nvme/Storage.interface.yaml",
                    "line": 30,
                    "reviewer": {
                        "name": "Matt Johnston",
                        "email": "matt@codeconstruct.com.au",
                        "username": "mkj"
                    },
                    "message": "The `index` corresponds to a \"LBA Format\" exposed by the NVMe device (LBAF0-LBAF15, or extended to 64 formats in NVMe 2.0). This then is exposed as an enum in Swordfish. In some cases clients may want to know the underlying LBA Format number so it's kept as a value here. \n\nI can rename it for clarity."
                },
                {
                    "file": "yaml/xyz/openbmc_project/Nvme/Storage.interface.yaml",
                    "line": 30,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Maybe `lba_format` then?"
                },
                {
                    "file": "yaml/xyz/openbmc_project/Nvme/Volume.interface.yaml",
                    "line": 5,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Does this come from a protocol spec where it is required to be u32?  Or is size more appropriate?"
                },
                {
                    "file": "yaml/xyz/openbmc_project/Nvme/Volume.interface.yaml",
                    "line": 5,
                    "reviewer": {
                        "name": "Matt Johnston",
                        "email": "matt@codeconstruct.com.au",
                        "username": "mkj"
                    },
                    "message": "It's from the NVMe Specification as a u32"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "gen/xyz/openbmc_project/Nvme/Controller/meson.build",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/Nvme/Storage.interface.yaml",
                    "type": "ADDED",
                    "insertions": 33,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/Nvme/Volume.interface.yaml",
                    "type": "ADDED",
                    "insertions": 7,
                    "deletions": 0
                },
                {
                    "file": "gen/xyz/openbmc_project/Nvme/Storage/meson.build",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "gen/xyz/openbmc_project/Nvme/Volume/meson.build",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "gen/xyz/openbmc_project/Nvme/meson.build",
                    "type": "MODIFIED",
                    "insertions": 45,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/Nvme/Controller.interface.yaml",
                    "type": "ADDED",
                    "insertions": 32,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 175,
            "sizeDeletions": 0
        }
    ]
}