{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "I37f76894dce44bfbad8e08959e336db7c5b738f3",
    "number": 61659,
    "subject": "Image directory made as configurable parameter",
    "owner": {
        "name": "V-Sanjana",
        "email": "sanjana.v@intel.com",
        "username": "V-Sanjana"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/61659",
    "hashtags": [],
    "createdOn": 1678850752,
    "lastUpdated": 1686261301,
    "open": false,
    "status": "ABANDONED",
    "comments": [
        {
            "timestamp": 1678850752,
            "reviewer": {
                "name": "V-Sanjana",
                "email": "sanjana.v@intel.com",
                "username": "V-Sanjana"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1678850794,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1678850794,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1678850824,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/62672/ : FAILURE"
        },
        {
            "timestamp": 1678853797,
            "reviewer": {
                "name": "V-Sanjana",
                "email": "sanjana.v@intel.com",
                "username": "V-Sanjana"
            },
            "message": "Abandoned"
        },
        {
            "timestamp": 1678872115,
            "reviewer": {
                "name": "V-Sanjana",
                "email": "sanjana.v@intel.com",
                "username": "V-Sanjana"
            },
            "message": "Restored"
        },
        {
            "timestamp": 1678873324,
            "reviewer": {
                "name": "V-Sanjana",
                "email": "sanjana.v@intel.com",
                "username": "V-Sanjana"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1678873377,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1678873378,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1678875201,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/62693/ : SUCCESS"
        },
        {
            "timestamp": 1678895972,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2: Code-Review-1\n\n(2 comments)"
        },
        {
            "timestamp": 1678910649,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1679090470,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1679388705,
            "reviewer": {
                "name": "V-Sanjana",
                "email": "sanjana.v@intel.com",
                "username": "V-Sanjana"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1686130370,
            "reviewer": {
                "name": "Divya Jyoti",
                "email": "divya1.jyoti@intel.com",
                "username": "jyotidiv"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1686155980,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1686261301,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Abandoned\n\nNo response since march.  Please reopen if this is still needed."
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "15065d4a39566426339afaa95e706e7dd115281b",
            "parents": [
                "39662a3be1877afd893b70d78a449f91ba36c260"
            ],
            "ref": "refs/changes/59/61659/1",
            "uploader": {
                "name": "V-Sanjana",
                "email": "sanjana.v@intel.com",
                "username": "V-Sanjana"
            },
            "createdOn": 1678850752,
            "author": {
                "name": "V-Sanjana",
                "email": "sanjana.v@intel.com",
                "username": "V-Sanjana"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -13
                },
                {
                    "file": "config/bmcweb_config.h.in",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                },
                {
                    "file": "config/meson.build",
                    "type": "MODIFIED",
                    "insertions": 48,
                    "deletions": -38
                },
                {
                    "file": "include/image_upload.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/lib/update_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 100,
            "sizeDeletions": 54
        },
        {
            "number": 2,
            "revision": "7b218e2f9f167d4d993164ad55d81b7f5fbe3c52",
            "parents": [
                "6ce82fabeba1f2549b98c3ad2f8542c6879682c8"
            ],
            "ref": "refs/changes/59/61659/2",
            "uploader": {
                "name": "V-Sanjana",
                "email": "sanjana.v@intel.com",
                "username": "V-Sanjana"
            },
            "createdOn": 1678873324,
            "author": {
                "name": "V-Sanjana",
                "email": "sanjana.v@intel.com",
                "username": "V-Sanjana"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please add more details about this \"need\" and why the existing folder doesn't meet that need.\n\nGenerally, if we wanted to make this configurable, we would do this over a dbus file descriptor today, which gives the backend daemon complete control, and limits the possibility for bmcweb deadlocks.\n\nAs written, I don't think this patchset can go forward until it's either moved to a dbus file descriptor, or the write calls are using non-blocking calls, per the developing guide.\n\nTHe existing blocking calls are allowed because tmpfs is ram, and should never block.  If this is now configurable, the write might block, which would deadlock bmcweb, and be a safety issue."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Also, keep in mind, services are free to take that file in /tmp, and move it to wherever they like, and that would generally be the expected approach to avoid issues in the webserver writing files directly."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 21,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Which firmware update backend was this tested against?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 23,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Please use your full name here, not a username \nFrom https://github.com/openbmc/docs/blob/master/CONTRIBUTING.md#formatting-commit-messages \n\nAll commit messages must include a \"Signed-off-by\" line, which indicates that you the contributor have agreed to the Developer Certificate of Origin (see below). This line must include the full name you commonly use, often a given name and a family name or surname. (ok: Sam Samuelsson, Robert A. Heinlein; not ok: xXthorXx, Sam, RAH)"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "V-Sanjana",
                        "email": "sanjana.v@intel.com",
                        "username": "V-Sanjana"
                    },
                    "message": "Hi Ed,\nThank you for the inputs.\nI will have internal discussion with the team and will get back to you on this."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Is this still being worked?"
                },
                {
                    "file": "config/bmcweb_config.h.in",
                    "line": 18,
                    "reviewer": {
                        "name": "Divya Jyoti",
                        "email": "divya1.jyoti@intel.com",
                        "username": "jyotidiv"
                    },
                    "message": "Where IMAGE_UPLOAD_DIR is defined ?"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": 0
                },
                {
                    "file": "config/bmcweb_config.h.in",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "config/meson.build",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "include/image_upload.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/lib/update_service.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 40,
            "sizeDeletions": 4
        }
    ]
}