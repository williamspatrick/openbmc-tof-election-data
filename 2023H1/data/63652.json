{
    "project": "openbmc/pldm",
    "branch": "master",
    "id": "I366f079082b102cfc0e90db0f62208581eb8693e",
    "number": 63652,
    "subject": "pldmd: Convert to using libpldm transport APIs",
    "owner": {
        "name": "Rashmica K Gupta",
        "email": "rashmica@linux.ibm.com",
        "username": "RashmicaG"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/pldm/+/63652",
    "hashtags": [],
    "createdOn": 1684735803,
    "lastUpdated": 1686804236,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1684735803,
            "reviewer": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1684735819,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1684735819,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1684735838,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/66913/ : FAILURE"
        },
        {
            "timestamp": 1684735938,
            "reviewer": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "message": "Uploaded patch set 2: New patch set was added with same tree, parent tree, and commit message as Patch Set 1.\n\nCopied Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1684735979,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1684735979,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1684735997,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/66915/ : FAILURE"
        },
        {
            "timestamp": 1684736121,
            "reviewer": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1684736149,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1684736149,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1684736175,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/66916/ : FAILURE"
        },
        {
            "timestamp": 1684741705,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/66965/ : FAILURE"
        },
        {
            "timestamp": 1684904970,
            "reviewer": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1684904997,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1684904997,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1684905024,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/67279/ : FAILURE"
        },
        {
            "timestamp": 1684905988,
            "reviewer": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "message": "Uploaded patch set 5.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1684906006,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1684906007,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1684906359,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/67280/ : SUCCESS"
        },
        {
            "timestamp": 1684906645,
            "reviewer": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "message": "Set Ready For Review"
        },
        {
            "timestamp": 1684909572,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 5:\n\n(8 comments)"
        },
        {
            "timestamp": 1685754028,
            "reviewer": {
                "name": "Thu Nguyen",
                "email": "thu@os.amperecomputing.com",
                "username": "ThuBaNguyen"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1685793078,
            "reviewer": {
                "name": "Thu Nguyen",
                "email": "thu@os.amperecomputing.com",
                "username": "ThuBaNguyen"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1685944986,
            "reviewer": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "message": "Patch Set 5:\n\n(7 comments)"
        },
        {
            "timestamp": 1686804024,
            "reviewer": {
                "name": "Thu Nguyen",
                "email": "thu@os.amperecomputing.com",
                "username": "ThuBaNguyen"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1686804236,
            "reviewer": {
                "name": "Thu Nguyen",
                "email": "thu@os.amperecomputing.com",
                "username": "ThuBaNguyen"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "9ce0463ab872687ffd366a63de6690fd4804e027",
            "parents": [
                "c021401c696cb33e42e132785825d0705b2306a0"
            ],
            "ref": "refs/changes/52/63652/1",
            "uploader": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "createdOn": 1684735803,
            "author": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "fw-update/test/inventory_manager_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "requester/handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -7
                },
                {
                    "file": "requester/test/handler_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -3
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -26
                },
                {
                    "file": "requester/test/request_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -4
                },
                {
                    "file": "requester/request.hpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": -4
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -2
                },
                {
                    "file": "requester/test/mock_request.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 87,
            "sizeDeletions": 48
        },
        {
            "number": 2,
            "revision": "5e282b470c0ba1a4fea9ffa6b5596a0f3663f742",
            "parents": [
                "c021401c696cb33e42e132785825d0705b2306a0"
            ],
            "ref": "refs/changes/52/63652/2",
            "uploader": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "createdOn": 1684735938,
            "author": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "kind": "NO_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "fw-update/test/inventory_manager_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "requester/handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -7
                },
                {
                    "file": "requester/test/handler_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -3
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -26
                },
                {
                    "file": "requester/test/request_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -4
                },
                {
                    "file": "requester/request.hpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": -4
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -2
                },
                {
                    "file": "requester/test/mock_request.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 87,
            "sizeDeletions": 48
        },
        {
            "number": 3,
            "revision": "f9f1552bafbbaf7fae77f247ea9881f26657f0c4",
            "parents": [
                "c021401c696cb33e42e132785825d0705b2306a0"
            ],
            "ref": "refs/changes/52/63652/3",
            "uploader": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "createdOn": 1684736121,
            "author": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "fw-update/test/inventory_manager_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                },
                {
                    "file": "requester/handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -7
                },
                {
                    "file": "requester/test/handler_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -9
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -26
                },
                {
                    "file": "requester/test/request_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": -8
                },
                {
                    "file": "requester/request.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -6
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -2
                },
                {
                    "file": "requester/test/mock_request.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 101,
            "sizeDeletions": 61
        },
        {
            "number": 4,
            "revision": "5d54ba9ee6d7da008f761874bcba13226e717a0b",
            "parents": [
                "c021401c696cb33e42e132785825d0705b2306a0"
            ],
            "ref": "refs/changes/52/63652/4",
            "uploader": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "createdOn": 1684904970,
            "author": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "fw-update/test/inventory_manager_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                },
                {
                    "file": "requester/handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -7
                },
                {
                    "file": "requester/test/handler_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -9
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -26
                },
                {
                    "file": "requester/test/request_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": -8
                },
                {
                    "file": "requester/request.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -6
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -2
                },
                {
                    "file": "requester/test/mock_request.hpp",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 106,
            "sizeDeletions": 61
        },
        {
            "number": 5,
            "revision": "eefefcf832abb1701d173d05fe7c1981231e3d70",
            "parents": [
                "c021401c696cb33e42e132785825d0705b2306a0"
            ],
            "ref": "refs/changes/52/63652/5",
            "uploader": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "createdOn": 1684905988,
            "author": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Woohoo!"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Thu Nguyen",
                        "email": "thu@os.amperecomputing.com",
                        "username": "ThuBaNguyen"
                    },
                    "message": "To convert pldmd to use transport APIs, we should start with using tid in handler https://github.com/openbmc/pldm/blob/2b85d7844c6a0731a25fa103aebd5f5d53475500/requester/handler.hpp#L39 and requester code https://github.com/openbmc/pldm/blob/2b85d7844c6a0731a25fa103aebd5f5d53475500/requester/request.hpp#L154\nwithout this changing we will be mess-up between TID and EID.\nThe idea is change all of code use EID to TID, in PLDM repo we should only concern about TID."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Rashmica K Gupta",
                        "email": "rashmica@linux.ibm.com",
                        "username": "RashmicaG"
                    },
                    "message": "Ideally yes we want to be using the TID, but where do we get the TID from to use?\n\nThe `pldm_transport` APIs expect a TID as this is what we should be using as per the spec, however the pldm code is not yet in the right place to use the actual TID. So for the `pldm_transport` APIs we are using the EID as the TID.\n\nI didn't want to start using the variable `tid` in pldmd (except for setting up the transport) if we don't actually have a mechanism yet to get the actual TID. This way we are under no illusions that we have the TID and it is clear that we are still using the EID.\n\nIt's a bit clunky, but we are just moving piece by piece towards fixing up pldm/libpldm to have a logical separation of concepts :)"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Thu Nguyen",
                        "email": "thu@os.amperecomputing.com",
                        "username": "ThuBaNguyen"
                    },
                    "message": "There are two options for TID:\n\n1. You can include static TID equivalent with the configured EID in the configuration file.\nhttps://github.com/openbmc/pldm/blob/2b85d7844c6a0731a25fa103aebd5f5d53475500/pldmd/pldmd.cpp#L227\n\n2. Get the TID from the terminus in discovery phase.\n\n3. Use static TID."
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "line": 180,
                    "reviewer": {
                        "name": "Thu Nguyen",
                        "email": "thu@os.amperecomputing.com",
                        "username": "ThuBaNguyen"
                    },
                    "message": "This is great workaround to have the TID for pldm_transport_mctp_demux_map_tid()."
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "line": 314,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Hmmm. I didn't even think of this. We should put this in libpldm in `pldm_transport_mctp_demux_init()` before we get any further with exploiting the new transport API."
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "line": 314,
                    "reviewer": {
                        "name": "Rashmica K Gupta",
                        "email": "rashmica@linux.ibm.com",
                        "username": "RashmicaG"
                    },
                    "message": "It's already in `pldm_transport_mctp_demux_open()` so we can get rid of this."
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "line": 363,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "I think this should be converted to `pldm_transport_recv_msg()`?"
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "line": 363,
                    "reviewer": {
                        "name": "Rashmica K Gupta",
                        "email": "rashmica@linux.ibm.com",
                        "username": "RashmicaG"
                    },
                    "message": "Yeah we can do that if we make the transport APIs not requester specific. https://gerrit.openbmc.org/c/openbmc/libpldm/+/63841"
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "line": 372,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "I do wonder if we can get away without this check. It should never fail.\n\nAlso we've never validated if `peekedLength > 1`, only that `peekedLength > 0` \ud83d\ude1e"
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "line": 416,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "This should probably go in the specific transport implementations"
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "line": 416,
                    "reviewer": {
                        "name": "Rashmica K Gupta",
                        "email": "rashmica@linux.ibm.com",
                        "username": "RashmicaG"
                    },
                    "message": "Done"
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "line": 419,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "This should be `pldm_transport_send_msg()`?\n\nBy refactoring the `sendmsg()` and `recv()` (asymmetry?) parts to be in terms of `pldm_transport_*` APIs we shouldn't need the fd any more either?"
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "line": 419,
                    "reviewer": {
                        "name": "Thu Nguyen",
                        "email": "thu@os.amperecomputing.com",
                        "username": "ThuBaNguyen"
                    },
                    "message": "It should be the same for this code. https://github.com/openbmc/pldm/blob/master/requester/request.hpp#L199"
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "line": 419,
                    "reviewer": {
                        "name": "Rashmica K Gupta",
                        "email": "rashmica@linux.ibm.com",
                        "username": "RashmicaG"
                    },
                    "message": "We could do that, or we could use `pldm_transport_send_msg` after https://gerrit.openbmc.org/c/openbmc/libpldm/+/63841 is merged."
                },
                {
                    "file": "requester/handler.hpp",
                    "line": 93,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Why do we still need the fd if we're passing in a `pldm_transport&`?"
                },
                {
                    "file": "requester/handler.hpp",
                    "line": 93,
                    "reviewer": {
                        "name": "Rashmica K Gupta",
                        "email": "rashmica@linux.ibm.com",
                        "username": "RashmicaG"
                    },
                    "message": "Because of below, and the handler makes requests."
                },
                {
                    "file": "requester/request.hpp",
                    "line": 146,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Why do we still need the fd if we're passing in a `pldm_transport&`?"
                },
                {
                    "file": "requester/request.hpp",
                    "line": 146,
                    "reviewer": {
                        "name": "Rashmica K Gupta",
                        "email": "rashmica@linux.ibm.com",
                        "username": "RashmicaG"
                    },
                    "message": "We need the fd to resize the send buf of the socket if the message is bigger than the send buf. \n\nWe can only get the fd from `struct pldm_transport_mctp_demux` via `pldm_transport_mctp_demux_init_pollfd` but atm we're passing around the generic  `struct pldm_transport`. We currently don't have a mechanism to get from the generic to the specific struct.\n\nWhat makes more sense though is for the resizing of the socket sendbuf to be in libpldm, which I'm slowly slowly working on (https://gerrit.openbmc.org/c/openbmc/libpldm/+/63842)."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "fw-update/test/inventory_manager_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -2
                },
                {
                    "file": "requester/handler.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -7
                },
                {
                    "file": "requester/test/handler_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -9
                },
                {
                    "file": "pldmd/pldmd.cpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -26
                },
                {
                    "file": "requester/test/request_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -4
                },
                {
                    "file": "requester/request.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -6
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -2
                },
                {
                    "file": "requester/test/mock_request.hpp",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 101,
            "sizeDeletions": 57
        }
    ]
}