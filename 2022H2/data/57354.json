{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "Iae6711ae587115d3e159a48a6fc46a903ed6c403",
    "number": 57354,
    "subject": "Fix content-type return behavior for */*",
    "owner": {
        "name": "Ed Tanous",
        "email": "ed@tanous.net",
        "username": "edtanous"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/57354",
    "hashtags": [],
    "createdOn": 1663802192,
    "lastUpdated": 1663879059,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1663802192,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1663802276,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1663802276,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1663803021,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/52190/ : SUCCESS"
        },
        {
            "timestamp": 1663803475,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2: Commit message was updated."
        },
        {
            "timestamp": 1663803481,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3: Patch Set 2 was rebased"
        },
        {
            "timestamp": 1663803491,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1"
        },
        {
            "timestamp": 1663803493,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1663803493,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1663804022,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/52193/ : SUCCESS"
        },
        {
            "timestamp": 1663875902,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 3:\n\n(3 comments)"
        },
        {
            "timestamp": 1663876324,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(3 comments)"
        },
        {
            "timestamp": 1663876441,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1663876514,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1663876514,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1663877171,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/52300/ : SUCCESS"
        },
        {
            "timestamp": 1663877252,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1663877602,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5: Published edit on patch set 4."
        },
        {
            "timestamp": 1663877634,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1663877634,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1663877696,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1663877794,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1663877794,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1663877794,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/52306/ : ABORTED"
        },
        {
            "timestamp": 1663877802,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\n(2 comments)"
        },
        {
            "timestamp": 1663878001,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 6: Code-Review+1"
        },
        {
            "timestamp": 1663878039,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 6:\n\n(2 comments)"
        },
        {
            "timestamp": 1663878280,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6: Code-Review+2\n\n(1 comment)"
        },
        {
            "timestamp": 1663878442,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/52307/ : SUCCESS"
        },
        {
            "timestamp": 1663879059,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Change has been successfully rebased and submitted as 4a0e1a0cf378e7bf4909c2ea8fc6e77e0d77ca6d"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "9801f92c09fcdfbcbb0a76648a5c4164ff4f061b",
            "parents": [
                "f5e10c3a6b3978be130788c0b4b46b7ada0893c6"
            ],
            "ref": "refs/changes/54/57354/1",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1663802192,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 32,
                    "deletions": 0
                },
                {
                    "file": "include/http_utility.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -6
                },
                {
                    "file": "include/ut/http_utility_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -15
                },
                {
                    "file": "include/forward_unauthorized.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 67,
            "sizeDeletions": 25
        },
        {
            "number": 2,
            "revision": "221869b5bc4b7abb2c9e4f66cf06343b622a3063",
            "parents": [
                "f5e10c3a6b3978be130788c0b4b46b7ada0893c6"
            ],
            "ref": "refs/changes/54/57354/2",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1663803475,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 34,
                    "deletions": 0
                },
                {
                    "file": "include/http_utility.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -6
                },
                {
                    "file": "include/ut/http_utility_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -15
                },
                {
                    "file": "include/forward_unauthorized.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 69,
            "sizeDeletions": 25
        },
        {
            "number": 3,
            "revision": "c1dd759de2036a20b8516c467f0f4a7f788f3d17",
            "parents": [
                "5a5be53743f82ab35e13ab251b413c0c4a31da70"
            ],
            "ref": "refs/changes/54/57354/3",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1663803481,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "NO_CHANGE",
            "comments": [
                {
                    "file": "include/http_utility.hpp",
                    "line": 100,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Should you default this to true?"
                },
                {
                    "file": "include/http_utility.hpp",
                    "line": 100,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I really dislike default params, especially in this case because if you're calling this, you REALLY should be explicit about what you want the behavior to be.  Because of the problems we've been seeing with this, I would probably argue that anything new should use false, just because that's what the security guidelines say you're supposed to do."
                },
                {
                    "file": "include/http_utility.hpp",
                    "line": 100,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "That is fine."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1678,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "I think we would want this true, we would allow the wildcard character to mean we accept ContentType::OctetStream"
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1678,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "We should be setting it explicitly, right?  Otherwise it defeats the purpose if you can just give a user a url to point at and make them download a binary thing."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1678,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Having this be false, defeats the purpose of https://gerrit.openbmc.org/c/openbmc/bmcweb/+/50879 which I did to allow the GUI to download the event log. Firefox's Accept header looks like \n\"Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8\"\n\nAnd the GUI has code to download the additional data URI: \nHere is the GUI code attempting to download the additional data:\nhttps://github.com/openbmc/webui-vue/blob/9b79a6e7e3df3d3cbaf9a7750bbe343628022026/src/views/Logs/EventLogs/EventLogs.vue#L155\nhttps://github.com/openbmc/webui-vue/blob/9b79a6e7e3df3d3cbaf9a7750bbe343628022026/src/locales/en-US.json#L251"
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1678,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Changed to true;  Lets keep discussing outside of this patch though."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 1678,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Ack"
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 3569,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Same here, I think we would want this as true"
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 3569,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Tracking in the other thread."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 3569,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Changed to true."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 3569,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 34,
                    "deletions": 0
                },
                {
                    "file": "include/http_utility.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -6
                },
                {
                    "file": "include/ut/http_utility_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -15
                },
                {
                    "file": "include/forward_unauthorized.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 69,
            "sizeDeletions": 25
        },
        {
            "number": 4,
            "revision": "03e2225b316b1c058cfb82d4986a8d4be709b0ab",
            "parents": [
                "c33a039b56fc5789ae71289adaca1e572a48d318"
            ],
            "ref": "refs/changes/54/57354/4",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1663876441,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 34,
                    "deletions": 0
                },
                {
                    "file": "include/http_utility.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -6
                },
                {
                    "file": "test/include/http_utility_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -15
                },
                {
                    "file": "include/forward_unauthorized.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 69,
            "sizeDeletions": 25
        },
        {
            "number": 5,
            "revision": "0578bbcd496577bace887fcd63fb4107afa94f57",
            "parents": [
                "c33a039b56fc5789ae71289adaca1e572a48d318"
            ],
            "ref": "refs/changes/54/57354/5",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1663877602,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 34,
                    "deletions": 0
                },
                {
                    "file": "include/http_utility.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -6
                },
                {
                    "file": "test/include/http_utility_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -15
                },
                {
                    "file": "include/forward_unauthorized.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 85,
                    "deletions": -14
                }
            ],
            "sizeInsertions": 152,
            "sizeDeletions": 37
        },
        {
            "number": 6,
            "revision": "5404b2d6ab627deacd4de077b86be85bf77938a1",
            "parents": [
                "c33a039b56fc5789ae71289adaca1e572a48d318"
            ],
            "ref": "refs/changes/54/57354/6",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1663877696,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "There's lots of discussion about this in discord, and we will continue to discuss over time.  Merging quickly to unbreak master and get the bump through."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 34,
                    "deletions": 0
                },
                {
                    "file": "include/http_utility.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -6
                },
                {
                    "file": "test/include/http_utility_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -15
                },
                {
                    "file": "include/forward_unauthorized.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 69,
            "sizeDeletions": 25
        },
        {
            "number": 7,
            "revision": "4a0e1a0cf378e7bf4909c2ea8fc6e77e0d77ca6d",
            "parents": [
                "656472d942f46194bcd6f59c6eca4658fee20c71"
            ],
            "ref": "refs/changes/54/57354/7",
            "uploader": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "createdOn": 1663879059,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 34,
                    "deletions": 0
                },
                {
                    "file": "include/http_utility.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -6
                },
                {
                    "file": "test/include/http_utility_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 20,
                    "deletions": -15
                },
                {
                    "file": "include/forward_unauthorized.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 69,
            "sizeDeletions": 25
        }
    ]
}