{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "I9cc442966df2ed301b14547727a5eb727c0c3a29",
    "number": 51013,
    "subject": "Optimize resource event schema",
    "owner": {
        "name": "Ed Tanous",
        "email": "ed@tanous.net",
        "username": "edtanous"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/51013",
    "hashtags": [],
    "createdOn": 1644344288,
    "lastUpdated": 1660058614,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1644344288,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1644344317,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1644344317,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1644344854,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/36847/ : SUCCESS"
        },
        {
            "timestamp": 1644349736,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 2: Patch Set 1 was rebased."
        },
        {
            "timestamp": 1644349780,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1644349781,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1644350016,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/36868/ : FAILURE"
        },
        {
            "timestamp": 1644351147,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 3: Patch Set 2 was rebased."
        },
        {
            "timestamp": 1644351187,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1644351188,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1644351805,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/36887/ : SUCCESS"
        },
        {
            "timestamp": 1646695587,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1646695603,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1646695603,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1646696201,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/38578/ : SUCCESS"
        },
        {
            "timestamp": 1659530306,
            "reviewer": {
                "name": "Krzysztof Grobelny",
                "email": "krzysztof.grobelny@intel.com",
                "username": "krzysztof-i"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1659563262,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1659563370,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1659563418,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659563418,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1659564025,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48330/ : SUCCESS"
        },
        {
            "timestamp": 1659564720,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1659564747,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659564747,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1659565259,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48332/ : SUCCESS"
        },
        {
            "timestamp": 1659636853,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 6: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1659723543,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1659723582,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1659723601,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 6: Code-Review+1"
        },
        {
            "timestamp": 1659739715,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1659740714,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1659740741,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1659740755,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659740756,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1659741257,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48678/ : SUCCESS"
        },
        {
            "timestamp": 1660058606,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 7: Code-Review+2"
        },
        {
            "timestamp": 1660058614,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully rebased and submitted as 65e4f1f7f44677ebaa0373f153084b97ba1a1194"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "49e4601ec6f684383c124bd47b2274cb2bd687eb",
            "parents": [
                "1c35b9e2dc5c0950b9e8ec82380526a2be1c0206"
            ],
            "ref": "refs/changes/13/51013/1",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1644344288,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/src/error_messages.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -26
                },
                {
                    "file": "redfish-core/include/resource_messages.hpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -21
                },
                {
                    "file": "redfish-core/include/registries.hpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 66,
            "sizeDeletions": 47
        },
        {
            "number": 2,
            "revision": "44ad781aa79ed2c78f7ab6df99c0381508b63ace",
            "parents": [
                "273bd6b54d709dcb37695c89f44d54e19c865b12"
            ],
            "ref": "refs/changes/13/51013/2",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1644349736,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/src/error_messages.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -26
                },
                {
                    "file": "redfish-core/include/resource_messages.hpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -21
                },
                {
                    "file": "redfish-core/include/registries.hpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 66,
            "sizeDeletions": 47
        },
        {
            "number": 3,
            "revision": "e8c06c5f775140b9dc6278b1e2042dd7fc00113f",
            "parents": [
                "b880133b6d14c938b287177ad831519e1da5addb"
            ],
            "ref": "refs/changes/13/51013/3",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1644351147,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/src/error_messages.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -26
                },
                {
                    "file": "redfish-core/include/resource_messages.hpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -21
                },
                {
                    "file": "redfish-core/include/registries.hpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 66,
            "sizeDeletions": 47
        },
        {
            "number": 4,
            "revision": "8adc2249895ed54f46da9e422645f44f7fc6c9eb",
            "parents": [
                "5f2b84ee090bb9d361de9c294aa85cecf3962c11"
            ],
            "ref": "refs/changes/13/51013/4",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1646695587,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/include/resource_messages.hpp",
                    "line": 24,
                    "reviewer": {
                        "name": "Krzysztof Grobelny",
                        "email": "krzysztof.grobelny@intel.com",
                        "username": "krzysztof-i"
                    },
                    "message": "Some additional unit tests could replace testing on specific hardware. If new tests are added for resourceChanged, resourceCreated, resourceRemoved, getLog that check exact result of this functions then code is refactored we can be 100% sure that there was no changes in output."
                },
                {
                    "file": "redfish-core/include/resource_messages.hpp",
                    "line": 24,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> Some additional unit tests could replace testing on specific hardware\n> If new tests are added for resourceChanged, resourceCreated, resourceRemoved, getLog that check exact result of this functions then code is refactored we can be 100% sure that there was no changes in output.\n\n\nNo disagreement, but we'd need some significant refactoring of these files to avoid having to have a unit test per message type.  We do have unit tests for the underlying functions this calls.\n\nConsidering that these files were generated from the standard, I'm not sure how to avoid just duplicating the message registry in the unit tests for all cases.  Any ideas there?"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/src/error_messages.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -20
                },
                {
                    "file": "redfish-core/include/resource_messages.hpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -21
                },
                {
                    "file": "redfish-core/include/registries.hpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 71,
            "sizeDeletions": 41
        },
        {
            "number": 5,
            "revision": "cceeacad73ac2d872cd8461969fe1831eb425cfb",
            "parents": [
                "aefe3786057499a767c5627b0106f0248fa3762d"
            ],
            "ref": "refs/changes/13/51013/5",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1659563370,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/src/error_messages.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -22
                },
                {
                    "file": "redfish-core/include/resource_messages.hpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -21
                },
                {
                    "file": "redfish-core/include/registries.hpp",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 71,
            "sizeDeletions": 43
        },
        {
            "number": 6,
            "revision": "a0a1e1144bff2ec70f3050fcb887e4ea29ce25f6",
            "parents": [
                "aefe3786057499a767c5627b0106f0248fa3762d"
            ],
            "ref": "refs/changes/13/51013/6",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1659564720,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "does this commit save binary size?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I didn't measure, but given the number of strings we dropped, it's possible, although we did it by adding about same amount of code, so it could go either way."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "It seems reasonable to me "
                },
                {
                    "file": "redfish-core/include/resource_messages.hpp",
                    "line": 3,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "#include <nlohmann/json.hpp>"
                },
                {
                    "file": "redfish-core/include/resource_messages.hpp",
                    "line": 3,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/src/error_messages.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -22
                },
                {
                    "file": "redfish-core/include/resource_messages.hpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -21
                },
                {
                    "file": "redfish-core/include/registries.hpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 74,
            "sizeDeletions": 43
        },
        {
            "number": 7,
            "revision": "d53f582529574897a69808b72f75c2652fc4d8ab",
            "parents": [
                "aefe3786057499a767c5627b0106f0248fa3762d"
            ],
            "ref": "refs/changes/13/51013/7",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1659740714,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/src/error_messages.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -22
                },
                {
                    "file": "redfish-core/include/resource_messages.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -21
                },
                {
                    "file": "redfish-core/include/registries.hpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 75,
            "sizeDeletions": 43
        },
        {
            "number": 8,
            "revision": "65e4f1f7f44677ebaa0373f153084b97ba1a1194",
            "parents": [
                "4e7776689b7d66cfb3c199985c9e70fea7be77c2"
            ],
            "ref": "refs/changes/13/51013/8",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1660058614,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/src/error_messages.cpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -22
                },
                {
                    "file": "redfish-core/include/resource_messages.hpp",
                    "type": "MODIFIED",
                    "insertions": 23,
                    "deletions": -21
                },
                {
                    "file": "redfish-core/include/registries.hpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 75,
            "sizeDeletions": 43
        }
    ]
}