{
    "project": "openbmc/dbus-sensors",
    "branch": "master",
    "id": "Ia2b71d897a27ee7c7955e233d060ad14d62be3a8",
    "number": 58075,
    "subject": "intrusionsensor: Add hwmon reading method",
    "owner": {
        "name": "Chau Ly",
        "email": "chaul@amperecomputing.com",
        "username": "chaul-ampere"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/dbus-sensors/+/58075",
    "hashtags": [],
    "createdOn": 1666525209,
    "lastUpdated": 1672831480,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1666525209,
            "reviewer": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1666527232,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1666527232,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1666527445,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/53883/ : SUCCESS"
        },
        {
            "timestamp": 1670316025,
            "reviewer": {
                "name": "Thu Nguyen",
                "email": "thu@os.amperecomputing.com",
                "username": "ThuBaNguyen"
            },
            "message": "Patch Set 1:\n\n(4 comments)"
        },
        {
            "timestamp": 1670333624,
            "reviewer": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "message": "Patch Set 1:\n\n(4 comments)"
        },
        {
            "timestamp": 1670383536,
            "reviewer": {
                "name": "Thu Nguyen",
                "email": "thu@os.amperecomputing.com",
                "username": "ThuBaNguyen"
            },
            "message": "Patch Set 1:\n\n(3 comments)"
        },
        {
            "timestamp": 1670572957,
            "reviewer": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1670572971,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1670572971,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1670573181,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/57306/ : SUCCESS"
        },
        {
            "timestamp": 1670573690,
            "reviewer": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1670573716,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1670573716,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1670573794,
            "reviewer": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1670573881,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/57309/ : FAILURE"
        },
        {
            "timestamp": 1670952295,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1670988897,
            "reviewer": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1670988928,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1670988928,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1670988942,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/57686/ : FAILURE"
        },
        {
            "timestamp": 1670997731,
            "reviewer": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "message": "Patch Set 5: Patch Set 4 was rebased"
        },
        {
            "timestamp": 1670997753,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1670997753,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1670997995,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/57693/ : SUCCESS"
        },
        {
            "timestamp": 1671302686,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 5:\n\n(3 comments)"
        },
        {
            "timestamp": 1671442584,
            "reviewer": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1671443669,
            "reviewer": {
                "name": "Meghan Saitwal",
                "username": "msaitwal"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1671557287,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Patch Set 5:\n\n(4 comments)"
        },
        {
            "timestamp": 1672304699,
            "reviewer": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "message": "Uploaded patch set 6.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1672304739,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1672304740,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1672304947,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/58380/ : SUCCESS"
        },
        {
            "timestamp": 1672305060,
            "reviewer": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "message": "Patch Set 6:\n\n(7 comments)"
        },
        {
            "timestamp": 1672313165,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Patch Set 6:\n\n(2 comments)"
        },
        {
            "timestamp": 1672488029,
            "reviewer": {
                "name": "Arun Lal K M",
                "email": "arun.lal@intel.com",
                "username": "arunlalkm-intel"
            },
            "message": "Patch Set 6:\n\n(16 comments)"
        },
        {
            "timestamp": 1672831480,
            "reviewer": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "message": "Patch Set 6:\n\n(12 comments)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "f67af79281609e63cb8f2fae625184597fc985bc",
            "parents": [
                "61baea42b86c74f5c6350f669f889d9d2a728be4"
            ],
            "ref": "refs/changes/75/58075/1",
            "uploader": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "createdOn": 1666525209,
            "author": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "include/ChassisIntrusionSensor.hpp",
                    "line": 43,
                    "reviewer": {
                        "name": "Thu Nguyen",
                        "email": "thu@os.amperecomputing.com",
                        "username": "ThuBaNguyen"
                    },
                    "message": "Don't need to update this variable, just add new timer mHwmonPollTimer"
                },
                {
                    "file": "include/ChassisIntrusionSensor.hpp",
                    "line": 43,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "I think this would cause confusion so I modified it. Is it not good to change an existing variable name?"
                },
                {
                    "file": "include/ChassisIntrusionSensor.hpp",
                    "line": 43,
                    "reviewer": {
                        "name": "Thu Nguyen",
                        "email": "thu@os.amperecomputing.com",
                        "username": "ThuBaNguyen"
                    },
                    "message": "Ack"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 354,
                    "reviewer": {
                        "name": "Thu Nguyen",
                        "email": "thu@os.amperecomputing.com",
                        "username": "ThuBaNguyen"
                    },
                    "message": "Is the HwmonPath always the first path in the list?"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 354,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "Currently or temporarily, there seems to be only one chassis intrusion sensor in a Chassis. I assume there can be only one file with the specified name in hwmon."
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 354,
                    "reviewer": {
                        "name": "Thu Nguyen",
                        "email": "thu@os.amperecomputing.com",
                        "username": "ThuBaNguyen"
                    },
                    "message": "In that case, please add one warning message for two chassis sensors in one Chassis case."
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 354,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/IntrusionSensorMain.cpp",
                    "line": 167,
                    "reviewer": {
                        "name": "Thu Nguyen",
                        "email": "thu@os.amperecomputing.com",
                        "username": "ThuBaNguyen"
                    },
                    "message": "Please apply the if...else...\nif (*pType == IntrusionSensorType::pch)\n{\n}\nelse if (*pType == IntrusionSensorType::hwmon)\n{\n}"
                },
                {
                    "file": "src/IntrusionSensorMain.cpp",
                    "line": 167,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "Should I also change to else if(*pType == IntrusionSensorType::gpio)?"
                },
                {
                    "file": "src/IntrusionSensorMain.cpp",
                    "line": 167,
                    "reviewer": {
                        "name": "Thu Nguyen",
                        "email": "thu@os.amperecomputing.com",
                        "username": "ThuBaNguyen"
                    },
                    "message": "Yes, I think so."
                },
                {
                    "file": "src/IntrusionSensorMain.cpp",
                    "line": 167,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/IntrusionSensorMain.cpp",
                    "line": 201,
                    "reviewer": {
                        "name": "Thu Nguyen",
                        "email": "thu@os.amperecomputing.com",
                        "username": "ThuBaNguyen"
                    },
                    "message": "\"can't find matched I2C, GPIO or Hwmon configuration \" is better in this case."
                },
                {
                    "file": "src/IntrusionSensorMain.cpp",
                    "line": 201,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "include/ChassisIntrusionSensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -3
                },
                {
                    "file": "src/IntrusionSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -7
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 138,
                    "deletions": -8
                }
            ],
            "sizeInsertions": 225,
            "sizeDeletions": 18
        },
        {
            "number": 2,
            "revision": "b1d878ac064e002c497d5f41302ec28aff85f2c9",
            "parents": [
                "61baea42b86c74f5c6350f669f889d9d2a728be4"
            ],
            "ref": "refs/changes/75/58075/2",
            "uploader": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "createdOn": 1670572957,
            "author": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "include/ChassisIntrusionSensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -3
                },
                {
                    "file": "src/IntrusionSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -7
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 144,
                    "deletions": -8
                }
            ],
            "sizeInsertions": 231,
            "sizeDeletions": 18
        },
        {
            "number": 3,
            "revision": "8c4ba64aaa9e118b97967afd9e15a7f5f56dcb6e",
            "parents": [
                "61baea42b86c74f5c6350f669f889d9d2a728be4"
            ],
            "ref": "refs/changes/75/58075/3",
            "uploader": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "createdOn": 1670573690,
            "author": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "Please address the build failure"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "include/ChassisIntrusionSensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -3
                },
                {
                    "file": "src/IntrusionSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": -9
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 144,
                    "deletions": -8
                }
            ],
            "sizeInsertions": 229,
            "sizeDeletions": 20
        },
        {
            "number": 4,
            "revision": "6d1f895b4993e9b67336eaed04e5386bbe7fdfb9",
            "parents": [
                "61baea42b86c74f5c6350f669f889d9d2a728be4"
            ],
            "ref": "refs/changes/75/58075/4",
            "uploader": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "createdOn": 1670988897,
            "author": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "include/ChassisIntrusionSensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -3
                },
                {
                    "file": "src/IntrusionSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -7
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 144,
                    "deletions": -8
                }
            ],
            "sizeInsertions": 231,
            "sizeDeletions": 18
        },
        {
            "number": 5,
            "revision": "847e90bdf5180ba35cf87cb22a855d8469251c4a",
            "parents": [
                "9bbeff75a4d202510901a4a464854cd0b387d1de"
            ],
            "ref": "refs/changes/75/58075/5",
            "uploader": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "createdOn": 1670997731,
            "author": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 18,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "Is this newly proposed entity-manager config? https://github.com/openbmc/entity-manager/tree/master/schemas needs to be updated to support this"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 18,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "Because the hwmon name is specfied in Aspeed's driver, so I will hardcode it in the source code and eliminate the \"Input\" option without updating the schema."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 23,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "can you link to the said driver? Is it supported in https://github.com/openbmc/linux?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 23,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "Hi, thanks for your review. The driver is still in Aspeed's linux https://github.com/AspeedTech-BMC/linux/blob/aspeed-master-v5.15/drivers/hwmon/aspeed-chassis.c"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 23,
                    "reviewer": {
                        "name": "Meghan Saitwal",
                        "username": "msaitwal"
                    },
                    "message": "Is there any plan to upstream?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 23,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "They confirmed the driver will be upstreamed in the future."
                },
                {
                    "file": "include/ChassisIntrusionSensor.hpp",
                    "line": 70,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "Instead of just copying and duplicating the functions, please refactor the code to use inheritance and function override."
                },
                {
                    "file": "include/ChassisIntrusionSensor.hpp",
                    "line": 70,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "Sure, I will try it in another patch. Do you think I should refactor it first or wait until all of these are merged?"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 289,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "Can we keep only second log message dropping first one. Same information is conveyed by both lines."
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 289,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "ACK but I will keep the first log to acknowledge the hwmon value."
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 290,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "This be if constexpr. constexpr version will save on binary size."
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 290,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "Sorry, I don't get it. Can you clarify?"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 290,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "My bad. I missed \"can\" in comment.\nIf check can be constexpr. constexpr gets executed at compile time that will save on binary size if debug is disabled. Example\nhttps://github.com/openbmc/dbus-sensors/blob/master/src/ExitAirTempSensor.cpp#L415"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 290,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "Ack"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 296,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "newValue can either be \"HardwareIntrusion\" or \"Normal\" making comparison with \"unknown\" redundant. First part of if check will always be true."
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 296,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "At first, I did not want to change much of what the author had done, but he seems to be out of all of this so ACK."
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 386,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "Depending on first argument type only subset of later argument will be meaningful. There doesn't seem to be any meaning of having gpioInterted, slaveAddr, busId if howmon is going to be used used for intrusion. Similarly pollSensorStatusByPch and pollSensorStatusByGpio will be dead code.\nChassisIntrusionSensor is holding three classes PCHIntrusionSensor, GPIOIntrusionSensor and now hwmonIntrusionSensor. Is this observation correct ? if so shouldn't we keep three separate classes rather pushing three things in one class with \"type\" as field to differentiate ? Would like to others thought on this."
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 386,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "@Zhikui also suggested refactoring this so I think I will create a base class and 3 child classes to inherit it. I also think I should do the work in another patch because there's a lot to change. Is it OK?"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 386,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "IMO it's better to use same PR. That way history of review discussion remains intact. @Zhikui what is your thought ?"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 386,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "include/ChassisIntrusionSensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": -3
                },
                {
                    "file": "src/IntrusionSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -7
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 144,
                    "deletions": -8
                }
            ],
            "sizeInsertions": 231,
            "sizeDeletions": 18
        },
        {
            "number": 6,
            "revision": "203db32646c8e0811b58b747e46e2e94259396a5",
            "parents": [
                "9bbeff75a4d202510901a4a464854cd0b387d1de"
            ],
            "ref": "refs/changes/75/58075/6",
            "uploader": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "createdOn": 1672304699,
            "author": {
                "name": "Chau Ly",
                "email": "chaul@amperecomputing.com",
                "username": "chaul-ampere"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 41,
                    "reviewer": {
                        "name": "Arun Lal K M",
                        "email": "arun.lal@intel.com",
                        "username": "arunlalkm-intel"
                    },
                    "message": "nit\nSuggest you to move this to function initHwmonDevicePath, as it is used there."
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 41,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "ACK. Hi, one question. Some people are requesting to refactor this sensor because there are a lot of redundant functions and function arguments here when the sensor can only be one out of 3 types at a time (old comments of the patch). I've already worked on it but I wonder if I should do this within this patch review for consistency or create another?"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 164,
                    "reviewer": {
                        "name": "Arun Lal K M",
                        "email": "arun.lal@intel.com",
                        "username": "arunlalkm-intel"
                    },
                    "message": "What happens to the newValue != \"unknown\" check?"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 164,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "The initialized values of newValue and mValue are both \"unknown\", so if the newValue is still unknown, the condition will not be reached, providing that mValue won't be changed anywhere except for inside updateValue()."
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 197,
                    "reviewer": {
                        "name": "Arun Lal K M",
                        "email": "arun.lal@intel.com",
                        "username": "arunlalkm-intel"
                    },
                    "message": "Same as line 164"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 265,
                    "reviewer": {
                        "name": "Arun Lal K M",
                        "email": "arun.lal@intel.com",
                        "username": "arunlalkm-intel"
                    },
                    "message": "I see many places wer this function can fail. \nCan we use bool return type and make sure if readHwmon fails it is handled properly?"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 284,
                    "reviewer": {
                        "name": "Arun Lal K M",
                        "email": "arun.lal@intel.com",
                        "username": "arunlalkm-intel"
                    },
                    "message": "What is the logic here?"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 284,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "the value of the hwmon file is 1 if there is an intrusion and 0 if the chassis cover is closed."
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 290,
                    "reviewer": {
                        "name": "Arun Lal K M",
                        "email": "arun.lal@intel.com",
                        "username": "arunlalkm-intel"
                    },
                    "message": "if mValue == newValue then do you need to write 0 to refout?\nor not required?"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 290,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "We do need, cuz if the current value in hwmon is 1, it won't be updated until we reset it to 0 (according to the driver)."
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 292,
                    "reviewer": {
                        "name": "Arun Lal K M",
                        "email": "arun.lal@intel.com",
                        "username": "arunlalkm-intel"
                    },
                    "message": "Question:\nDo you see logs in journal if std::cout is used?"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 292,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "I do. I noticed that I have to use std::cerr instead in setSensorValue() for the logs to be seen."
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 305,
                    "reviewer": {
                        "name": "Arun Lal K M",
                        "email": "arun.lal@intel.com",
                        "username": "arunlalkm-intel"
                    },
                    "message": "This can be kept out of try block rt?"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 305,
                    "reviewer": {
                        "name": "Arun Lal K M",
                        "email": "arun.lal@intel.com",
                        "username": "arunlalkm-intel"
                    },
                    "message": "Magic number."
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 305,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "Do you mean I  should pre-define the number?"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 305,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "Yeah, it should be reset even when we can't read from it."
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 307,
                    "reviewer": {
                        "name": "Arun Lal K M",
                        "email": "arun.lal@intel.com",
                        "username": "arunlalkm-intel"
                    },
                    "message": "nit\nCan we log the error details we caught too."
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 307,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "Sure"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 313,
                    "reviewer": {
                        "name": "Arun Lal K M",
                        "email": "arun.lal@intel.com",
                        "username": "arunlalkm-intel"
                    },
                    "message": "nit \nYou can remove this"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 313,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "Ack"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 319,
                    "reviewer": {
                        "name": "Arun Lal K M",
                        "email": "arun.lal@intel.com",
                        "username": "arunlalkm-intel"
                    },
                    "message": "It is not recommended to do this. \nIf you really need to pass this pointer to lambda use weak pointer. \nElse it causes scope issues."
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 326,
                    "reviewer": {
                        "name": "Arun Lal K M",
                        "email": "arun.lal@intel.com",
                        "username": "arunlalkm-intel"
                    },
                    "message": "What if we get an ec which is not boost::asio::error::operation_aborted? \nShouldn't that be handled or logged??\n\nShould pollSensorStatusByHwmon be called in such case?"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 333,
                    "reviewer": {
                        "name": "Arun Lal K M",
                        "email": "arun.lal@intel.com",
                        "username": "arunlalkm-intel"
                    },
                    "message": "Refer to ADC sensor to get a better understanding."
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 333,
                    "reviewer": {
                        "name": "Arun Lal K M",
                        "email": "arun.lal@intel.com",
                        "username": "arunlalkm-intel"
                    },
                    "message": "pollSensorStatusByHwmon should be called from readHwmon. This is so that if you have let's say 110 sensors and read takes around 0.01 sec per sensor. Then total time taken = 110*0.01 = 11sec \n\nlet's assume intrusionSensorPollSec = 10sec. Which means every 10 sec 110 sensor reads will be invoked. \n\nNow the issues is that we are pushing more read than we can process. So read a sensor only after it's previous read is completed + intrusionSensorPollSec later."
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 357,
                    "reviewer": {
                        "name": "Arun Lal K M",
                        "email": "arun.lal@intel.com",
                        "username": "arunlalkm-intel"
                    },
                    "message": "why only taking one?"
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "line": 357,
                    "reviewer": {
                        "name": "Chau Ly",
                        "email": "chaul@amperecomputing.com",
                        "username": "chaul-ampere"
                    },
                    "message": "Because I assume we can only have 1 chassis intrusion-detecting hardware sensor at a time?! Is it correct?"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                },
                {
                    "file": "include/ChassisIntrusionSensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": -2
                },
                {
                    "file": "src/IntrusionSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 14,
                    "deletions": -2
                },
                {
                    "file": "src/ChassisIntrusionSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 138,
                    "deletions": -10
                }
            ],
            "sizeInsertions": 191,
            "sizeDeletions": 14
        }
    ]
}