{
    "project": "openbmc/phosphor-dbus-interfaces",
    "branch": "master",
    "topic": "associated-subtree-mapper-wltu",
    "id": "I079adf41a5775f80b9c773e8e9e319d46be924ea",
    "number": 57821,
    "subject": "mapper: Add Associated subtree method definition",
    "owner": {
        "name": "Willy Tu",
        "email": "wltu@google.com",
        "username": "wltu"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-dbus-interfaces/+/57821",
    "hashtags": [],
    "createdOn": 1665522100,
    "lastUpdated": 1666632215,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1665522100,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1665522140,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1665522140,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1665522173,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Topic set to associated-subtree-mapper-wltu"
        },
        {
            "timestamp": 1665522566,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/53327/ : SUCCESS"
        },
        {
            "timestamp": 1665612333,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1665612630,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 2: Published edit on patch set 1."
        },
        {
            "timestamp": 1665612635,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1665612651,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1665612651,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1665612867,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1665613147,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/53431/ : SUCCESS"
        },
        {
            "timestamp": 1666225659,
            "reviewer": {
                "name": "Brad Bishop",
                "email": "bradleyb@fuzziesquirrel.com",
                "username": "bradbishop"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1666364460,
            "reviewer": {
                "name": "Brad Bishop",
                "email": "bradleyb@fuzziesquirrel.com",
                "username": "bradbishop"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1666364840,
            "reviewer": {
                "name": "Brad Bishop",
                "email": "bradleyb@fuzziesquirrel.com",
                "username": "bradbishop"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1666366378,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1666632204,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2: Code-Review+2"
        },
        {
            "timestamp": 1666632215,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Change has been successfully rebased and submitted as 8e56f4cde158d64cece38e9b45f9b76e55128213"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "78892fa002d48c8d8b0e9d061282066ac2ef25d5",
            "parents": [
                "bed657a128eac2b6e56417ee6545bfd3d6bc10d8"
            ],
            "ref": "refs/changes/21/57821/1",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1665522100,
            "author": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "yaml/xyz/openbmc_project/ObjectMapper.interface.yaml",
                    "line": 101,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "how about:  that are an association endpoint on associatedPath"
                },
                {
                    "file": "yaml/xyz/openbmc_project/ObjectMapper.interface.yaml",
                    "line": 101,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/ObjectMapper.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 59,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 100,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "3d04b372a628f9ae46adb3573cf97d7bcb1137a7",
            "parents": [
                "bed657a128eac2b6e56417ee6545bfd3d6bc10d8"
            ],
            "ref": "refs/changes/21/57821/2",
            "uploader": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "createdOn": 1665612630,
            "author": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Sounds like this would be a handy interface to have, so I'm not against it."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Brad Bishop",
                        "email": "bradleyb@fuzziesquirrel.com",
                        "username": "bradbishop"
                    },
                    "message": "As proposed, associatedPath is just another results filter, like the depth and interfaces parameters.\n\nI wonder if these methods should go in a new interface.  Or if we should version the API.  Use of the mapper seems fundamental and ubiquitous enough that I would not be opposed to helping those that will never upstream their mapper client code to introspect the mapper interfaces in the conventional DBus ways."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Brad Bishop",
                        "email": "bradleyb@fuzziesquirrel.com",
                        "username": "bradbishop"
                    },
                    "message": "Thinking about this more...\n\nAny pre-existing client code will continue to work going forward, without changes, using the old interfaces.  On the flip side, I can't think of how anyone would get themselves in the situation of new client code making use of the new interfaces, simultaneously paired with a deployment of the old mapper.\n\nThis is entering bikeshedding territory but the only other thing I can think of to consider is, is it more or less confusing to have 2 sets of methods that do the same thing (the new ones can satisfy all the use cases of the old ones) vs one set of methods but two versions?  I think for most OpenBMC developers it is probably the former.  Given that, +1 from me."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "Thanks for the feedback Brad,\n\nYeah, I think replacing the existing mapper method/interface (GetSubTree/GetSubTreePaths) will cause more issue in the migrations across all repos. Although having two set of methods doing similar things are somewhat confusing, I do think that having the different method names help explain how it differs."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/ObjectMapper.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 59,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 100,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "8e56f4cde158d64cece38e9b45f9b76e55128213",
            "parents": [
                "f3e6ff19da471f8dbdd31e17e2636819dfdfec9a"
            ],
            "ref": "refs/changes/21/57821/3",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1666632215,
            "author": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 41,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/ObjectMapper.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 59,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 100,
            "sizeDeletions": 0
        }
    ]
}