{
    "project": "openbmc/docs",
    "branch": "master",
    "id": "Icffcfcdac04d0f8de4ba5cd5aeaa9ecc847f0172",
    "number": 57934,
    "subject": "Add a design for entity-manager: blacklist function extension",
    "owner": {
        "name": "BonnieLo-wiwynn",
        "email": "Bonnie_Lo@wiwynn.com",
        "username": "BonnieLo"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/docs/+/57934",
    "hashtags": [],
    "createdOn": 1665729840,
    "lastUpdated": 1667248100,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1665729840,
            "reviewer": {
                "name": "BonnieLo-wiwynn",
                "email": "Bonnie_Lo@wiwynn.com",
                "username": "BonnieLo"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1665729928,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1665729928,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1665729945,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/53583/ : SUCCESS"
        },
        {
            "timestamp": 1665733453,
            "reviewer": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "message": "Patch Set 1:\n\n(4 comments)"
        },
        {
            "timestamp": 1665970930,
            "reviewer": {
                "name": "BonnieLo-wiwynn",
                "email": "Bonnie_Lo@wiwynn.com",
                "username": "BonnieLo"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1665971001,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1665971006,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1665971525,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/53647/ : SUCCESS"
        },
        {
            "timestamp": 1665972083,
            "reviewer": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1666937967,
            "reviewer": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1666957822,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(4 comments)"
        },
        {
            "timestamp": 1667194300,
            "reviewer": {
                "name": "BonnieLo-wiwynn",
                "email": "Bonnie_Lo@wiwynn.com",
                "username": "BonnieLo"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1667194385,
            "reviewer": {
                "name": "DelphineCCChiu",
                "email": "Delphine_CC_Chiu@wiwynn.com",
                "username": "DelphineCCChiu"
            },
            "message": "Patch Set 3:\n\n(3 comments)"
        },
        {
            "timestamp": 1667225657,
            "reviewer": {
                "name": "Michael Garner",
                "email": "garnermic@gmail.com",
                "username": "garnermic"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1667241145,
            "reviewer": {
                "name": "Brad Bishop",
                "email": "bradleyb@fuzziesquirrel.com",
                "username": "bradbishop"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1667243906,
            "reviewer": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1667248100,
            "reviewer": {
                "name": "Brad Bishop",
                "email": "bradleyb@fuzziesquirrel.com",
                "username": "bradbishop"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "910311b42a62a75fa7feddc74c60be98fa7eb225",
            "parents": [
                "6147515382bb95237725d0e40e02f51e47c7a8af"
            ],
            "ref": "refs/changes/34/57934/1",
            "uploader": {
                "name": "BonnieLo-wiwynn",
                "email": "Bonnie_Lo@wiwynn.com",
                "username": "BonnieLo"
            },
            "createdOn": 1665729840,
            "author": {
                "name": "BonnieLo-wiwynn",
                "email": "Bonnie_Lo@wiwynn.com",
                "username": "BonnieLo"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "I don't know if this is a large enough thing to really merit a dedicated design doc to be honest (I expect it'd probably be alright to just proceed with an implementation)..."
                },
                {
                    "file": "designs/entity-manager-extend-blacklist-for-address.md.md",
                    "line": 10,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "If this does actually stick around as a document added to the docs repository, please wrap this into a paragraph instead of leaving it as one long line."
                },
                {
                    "file": "designs/entity-manager-extend-blacklist-for-address.md.md",
                    "line": 10,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/entity-manager-extend-blacklist-for-address.md.md",
                    "line": 45,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "What about systems that want to retain the current behavior of skipping scanning on an entire bus?  With this design it seems like they'd have to explicitly enumerate all the addresses on that bus -- I think there should be some sort of provision for allowing that to be expressed concisely.  Two options I can see offhand:\n\n - have the \"addresses\" key map to either an array of addresses like you've got for an explicit list, or the string \"*\" to mean \"all addresses\"\n \n - leave the top-level \"buses\" key as-is (an array of bus numbers to skip entirely), and add your new more fine-grained structure as a separate entry under its own key (e.g. \"bus-addresses\" or something).\n \nThe latter would have the advantage of also be backwards-compatible, so I think it would probably be the better option."
                },
                {
                    "file": "designs/entity-manager-extend-blacklist-for-address.md.md",
                    "line": 45,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "Thank for advise. We updated the doc for json example. The user can simply fill in with numbers for buses(which is current function) and certain addresses on bus."
                },
                {
                    "file": "designs/entity-manager-extend-blacklist-for-address.md.md",
                    "line": 45,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/entity-manager-extend-blacklist-for-address.md.md",
                    "line": 50,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "I'd say there's an impact in that (at least as described here currently) this looks like a backwards-compatibility break with existing configs.  If/when this change gets merged, please make sure all configs in the tree get updated as needed."
                },
                {
                    "file": "designs/entity-manager-extend-blacklist-for-address.md.md",
                    "line": 50,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "This should not impact current user with this json design."
                },
                {
                    "file": "designs/entity-manager-extend-blacklist-for-address.md.md",
                    "line": 50,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "designs/entity-manager-extend-blacklist-for-address.md.md",
                    "type": "ADDED",
                    "insertions": 53,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 66,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "75db0b699393955050f4e6a0c8e07aaa40b9b71e",
            "parents": [
                "6147515382bb95237725d0e40e02f51e47c7a8af"
            ],
            "ref": "refs/changes/34/57934/2",
            "uploader": {
                "name": "BonnieLo-wiwynn",
                "email": "Bonnie_Lo@wiwynn.com",
                "username": "BonnieLo"
            },
            "createdOn": 1665970930,
            "author": {
                "name": "BonnieLo-wiwynn",
                "email": "Bonnie_Lo@wiwynn.com",
                "username": "BonnieLo"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Overall this is a simple enough proposal that I'm not sure we need to merge this design document.  Is there a simple update to the blocklist documentation in fru-device?\n\n@Ed, are you accepting of this direction?"
                },
                {
                    "file": "designs/entity-manager-extend-blacklist-for-address.md.md",
                    "line": 10,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Check whitespace."
                },
                {
                    "file": "designs/entity-manager-extend-blacklist-for-address.md.md",
                    "line": 10,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/entity-manager-extend-blacklist-for-address.md.md",
                    "line": 26,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "```json"
                },
                {
                    "file": "designs/entity-manager-extend-blacklist-for-address.md.md",
                    "line": 26,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/entity-manager-extend-blacklist-for-address.md.md",
                    "line": 28,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Replace tabs with spaces please."
                },
                {
                    "file": "designs/entity-manager-extend-blacklist-for-address.md.md",
                    "line": 28,
                    "reviewer": {
                        "name": "DelphineCCChiu",
                        "email": "Delphine_CC_Chiu@wiwynn.com",
                        "username": "DelphineCCChiu"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "designs/entity-manager-extend-blacklist-for-address.md.md",
                    "type": "ADDED",
                    "insertions": 52,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 65,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "887cc6a1a533c554f1f32b6a201aa72176146b21",
            "parents": [
                "6147515382bb95237725d0e40e02f51e47c7a8af"
            ],
            "ref": "refs/changes/34/57934/3",
            "uploader": {
                "name": "BonnieLo-wiwynn",
                "email": "Bonnie_Lo@wiwynn.com",
                "username": "BonnieLo"
            },
            "createdOn": 1667194300,
            "author": {
                "name": "BonnieLo-wiwynn",
                "email": "Bonnie_Lo@wiwynn.com",
                "username": "BonnieLo"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Brad Bishop",
                        "email": "bradleyb@fuzziesquirrel.com",
                        "username": "bradbishop"
                    },
                    "message": "It would be nice to see this submitted to the entity-manager repository as a documentation update there.  It will probably get the entity-manager maintainers visibility faster too."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "Note that an implementation patch has now been posted to the E-M repo (https://gerrit.openbmc.org/c/openbmc/entity-manager/+/58210); I'm not sure if there's much point in continuing with the docs patch?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Brad Bishop",
                        "email": "bradleyb@fuzziesquirrel.com",
                        "username": "bradbishop"
                    },
                    "message": "And I see the documentation in that patch; that is all I was after.  Agreed."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "designs/entity-manager-extend-blacklist-for-address.md",
                    "type": "ADDED",
                    "insertions": 52,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 65,
            "sizeDeletions": 0
        }
    ]
}