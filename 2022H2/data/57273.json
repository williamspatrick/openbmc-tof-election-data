{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "Icaefb0129bc6fe8c91bd93aa2e1ec967e5ecfeb4",
    "number": 57273,
    "subject": "remove build script including docker",
    "owner": {
        "name": "Nan Zhou",
        "email": "nanzhoumails@gmail.com",
        "username": "FighterNan"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/57273",
    "hashtags": [],
    "createdOn": 1663695637,
    "lastUpdated": 1664390857,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1663695637,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1663695656,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1663695657,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1663696259,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/51991/ : SUCCESS"
        },
        {
            "timestamp": 1663698903,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1663707195,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1663707265,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1663719988,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1663720168,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1663720925,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 2: Patch Set 1 was rebased."
        },
        {
            "timestamp": 1663720964,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1663720964,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1663721490,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/52066/ : SUCCESS"
        },
        {
            "timestamp": 1663732201,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1663773790,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1663779515,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1664388203,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2: Code-Review+2\n\n(1 comment)"
        },
        {
            "timestamp": 1664388206,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully rebased and submitted as 0af99542b31a7ac59f9d76568c74a160a63baff2"
        },
        {
            "timestamp": 1664390857,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "199391a1a1fd72a201e002dd00331e2b31465efd",
            "parents": [
                "6e5a32691a861ef54f7b2e9abd90181a369085d6"
            ],
            "ref": "refs/changes/73/57273/1",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1663695637,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This script is ancient, but just so I understand, which assumption did it make incorrectly?  Arguably, all the dependencies should be tracked in meson subprojects these days, but I know that's not exactly what we do."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Answered in other thread."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Done"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Added the authors to the review. \nI am okay with this but lets see if there are dissenting opinions."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Overall, this patchset roughly mimicks my feelings when these docker images were merged, that they would go out of date quickly, and not be useful to folks.  That seems to have been accurate, so overall, I'm fine with removing this stuff.  build_x86.sh actually predates bmcweb being an OpenBMC-specific application, so this might hold the record for the oldest file to be deleted \ud83c\udf89 \ud83d\ude02"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Overall, I'm in support of this.  Going to leave in review for a bit to see if someone still wants to maintain this, but if it doesn't build, and there's no process for keeping it maintained, there's no sense in having it.  If someone wants to maintain it later, it's in the git history, so it isn't lost.\n\nThanks for this cleanup!"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "\ud83d\udc4d"
                },
                {
                    "file": "build_x86.sh",
                    "line": 2,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "These are assumptions the script made: only these dependencies are missing.\n\nHowever, it really depends what base image the workstation is using. For example, what if the base image is missing Python3?\n\nSee the Dockerfile, it installed more dependencies\n\n```\nRUN apt-get update && DEBIAN_FRONTEND=noninteractive \\\n    apt-get install -y libpam0g-dev libssl-dev zlib1g-dev pkg-config xxd cmake \\\n    libgtest-dev libgmock-dev ninja-build python3 autoconf-archive autoconf \\\n    build-essential git libsystemd-dev systemd libtinyxml2-dev python3-wheel python3-pip \\\n    python3-yaml python3-mako python3-inflection python3-setuptools && \\\n    pip3 install meson\n```"
                },
                {
                    "file": "build_x86.sh",
                    "line": 2,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> For example, what if the base image is missing Python3?\n\nThe build doesn't use python3 anywhere in bmcweb, so I'm not sure why this would matter?\n\nAs far as the dockerfile, a lot of them look like dev dependencies that someone copy-pasted from another one.  We are missing systemd-dev for sure, so that's at least one.  Gotcha."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 25,
                    "deletions": 0
                },
                {
                    "file": "build_x86.sh",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -5
                },
                {
                    "file": "build_x86_docker.sh",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -15
                },
                {
                    "file": "Dockerfile",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -11
                },
                {
                    "file": "Dockerfile.base",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -15
                }
            ],
            "sizeInsertions": 25,
            "sizeDeletions": 46
        },
        {
            "number": 2,
            "revision": "0ba1b7d970da94c461c3cea2cdc01580afc897e4",
            "parents": [
                "3590bd1dee5a0e56d4d282f0a1e3cf2c8804dfa1"
            ],
            "ref": "refs/changes/73/57273/2",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1663720925,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Let's hold off merging for a few business days, giving others time to review"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I was actually thinking a week or two just to make sure nobody is using it.  I guess if we do end up deleting it, it's easy enough to put back, so maybe I'm over thinking it."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Been a week, and no comments on removing this.  It's possible merging it will force a discussion if someone is using it, but in the meantime, lets just clean this up."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 25,
                    "deletions": 0
                },
                {
                    "file": "build_x86.sh",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -5
                },
                {
                    "file": "build_x86_docker.sh",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -15
                },
                {
                    "file": "Dockerfile",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -11
                },
                {
                    "file": "Dockerfile.base",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -15
                }
            ],
            "sizeInsertions": 25,
            "sizeDeletions": 46
        },
        {
            "number": 3,
            "revision": "0af99542b31a7ac59f9d76568c74a160a63baff2",
            "parents": [
                "009c64529dd10424099c2cf385ec6d396595da22"
            ],
            "ref": "refs/changes/73/57273/3",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1664388206,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 25,
                    "deletions": 0
                },
                {
                    "file": "build_x86.sh",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -5
                },
                {
                    "file": "build_x86_docker.sh",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -15
                },
                {
                    "file": "Dockerfile",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -11
                },
                {
                    "file": "Dockerfile.base",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -15
                }
            ],
            "sizeInsertions": 25,
            "sizeDeletions": 46
        }
    ]
}