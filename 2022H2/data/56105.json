{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "If9f09db8c76e4e1abb6fa9b760be3816d9eb9f96",
    "number": 56105,
    "subject": "query: $select : use trie",
    "owner": {
        "name": "Nan Zhou",
        "email": "nanzhoumails@gmail.com",
        "username": "FighterNan"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/56105",
    "hashtags": [],
    "createdOn": 1659538385,
    "lastUpdated": 1659633699,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1659538385,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1659538433,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659538433,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1659538509,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1659538872,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/48292/ : FAILURE"
        },
        {
            "timestamp": 1659540011,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(8 comments)"
        },
        {
            "timestamp": 1659555386,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1659555438,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659555438,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1659555763,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/48315/ : FAILURE"
        },
        {
            "timestamp": 1659556014,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 1:\n\n(6 comments)"
        },
        {
            "timestamp": 1659556070,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1659556112,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659556112,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1659556149,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1659556200,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1659556232,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659556232,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1659556232,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/48317/ : ABORTED"
        },
        {
            "timestamp": 1659556303,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1659556419,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 5: Commit message was updated."
        },
        {
            "timestamp": 1659556466,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1659556508,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1659556741,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48318/ : SUCCESS"
        },
        {
            "timestamp": 1659557682,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\n(6 comments)"
        },
        {
            "timestamp": 1659557692,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1659561988,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1659561994,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 5:\n\n(5 comments)"
        },
        {
            "timestamp": 1659562032,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659562032,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1659562630,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48324/ : SUCCESS"
        },
        {
            "timestamp": 1659633697,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6: Code-Review+2\n\n(2 comments)"
        },
        {
            "timestamp": 1659633699,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully rebased and submitted as 827c4902835d3175a36d90808a51304f744203ce"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "253aeed668ff116e4b33d5db0a29a5831cc5ba30",
            "parents": [
                "1d8d9a3f8d6f7be032cae9f2d89c1048d7dfbadb"
            ],
            "ref": "refs/changes/05/56105/1",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1659538385,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/include/query.hpp",
                    "line": 37,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Why don't we just make our objects copyable?"
                },
                {
                    "file": "redfish-core/include/query.hpp",
                    "line": 37,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Copying a Trie doesn't make sense and is not efficient. But yes, as long as we can make sure the Trie here is always moved, making it copiable is not a big deal. Done."
                },
                {
                    "file": "redfish-core/include/query.hpp",
                    "line": 37,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Fair point, why don't we just move the Trie (and query object) into the lambda?"
                },
                {
                    "file": "redfish-core/include/query.hpp",
                    "line": 37,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Yes, that's exactly what I am doing now."
                },
                {
                    "file": "redfish-core/include/query.hpp",
                    "line": 37,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "\ud83d\udc4d"
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 93,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Would it make more sense to use empty() as the indication that this is a leaf?  And drop the leaf variable completely?"
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 93,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "There might be case where we have properties = {/a, /a/b}. We still need to set leaf to true for the \"/a\" node.\n\nMaybe rename |leaf| to |selected| to avoid confusion? WDYT?\n\nDone. I have renamed this variable."
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 107,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "If you use std::map, could these be values?\n\nstd::map would also give us a future optimization where we could single walk the tree."
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 107,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Oh, this something I don't know. Why does std::map accept incomplete types?\n\nChanged to std::map, but kept this thread open for my question."
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 107,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> Why does std::map accept incomplete types? \n\nMy understanding (which is imperfect and someone that knows better feel free to jump in.) is that because std::map is a linked list implementation, the values are pointers anyway, so they can be incomplete and resolved at runtime.\n\nstd::unordered_map might require a std::move, which means it needs a concrete implementation in memory."
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 107,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "\ud83d\udc4d\n\nThanks. Will do more research"
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 142,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Would it be better to do this with find('/') at each level?  That would save quite a few allocations, and drop the dependency on boost."
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 142,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Makes sense.\n\nDone."
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 151,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This is duplicating a hash lookup here and on currNode->insert\n\nShould we be using emplace() here, to do a \"create if doesn't exist\" operation?"
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 151,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "I actually missed this comment. But yes, |insertIfNotExist| is exactly what I am doing now. If also makes the constness correct."
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 163,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Pretty sure this can be a value, which I think solves your movable problem?"
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 163,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "This can be a value. But we also need the map inside the node to be values."
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 246,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Should SelectTrie have a clear() method to avoid this extra construction?"
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 246,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Yes. Done."
                },
                {
                    "file": "redfish-core/include/utils/query_param_test.cpp",
                    "line": 271,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "These changes are because we now check properties while constructing the tree."
                },
                {
                    "file": "redfish-core/include/utils/query_param_test.cpp",
                    "line": 271,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "\ud83d\udc4d"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 39,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/query.hpp",
                    "type": "MODIFIED",
                    "insertions": 22,
                    "deletions": -3
                },
                {
                    "file": "redfish-core/include/utils/query_param_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 69,
                    "deletions": -42
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "type": "MODIFIED",
                    "insertions": 131,
                    "deletions": -96
                }
            ],
            "sizeInsertions": 261,
            "sizeDeletions": 141
        },
        {
            "number": 2,
            "revision": "f815174310da1a69152131b09475aa1dc0c7a83f",
            "parents": [
                "1d8d9a3f8d6f7be032cae9f2d89c1048d7dfbadb"
            ],
            "ref": "refs/changes/05/56105/2",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1659555386,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 39,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/query.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/include/utils/query_param_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 69,
                    "deletions": -42
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "type": "MODIFIED",
                    "insertions": 146,
                    "deletions": -96
                }
            ],
            "sizeInsertions": 257,
            "sizeDeletions": 139
        },
        {
            "number": 3,
            "revision": "c9ae5c4f420b320a6b913870a2f3b7873e441ce9",
            "parents": [
                "1d8d9a3f8d6f7be032cae9f2d89c1048d7dfbadb"
            ],
            "ref": "refs/changes/05/56105/3",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1659556070,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 39,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/query.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/include/utils/query_param_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 69,
                    "deletions": -43
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "type": "MODIFIED",
                    "insertions": 146,
                    "deletions": -96
                }
            ],
            "sizeInsertions": 257,
            "sizeDeletions": 140
        },
        {
            "number": 4,
            "revision": "ddd645c799a9caf0d9cd7cb318edb79311ee7ba5",
            "parents": [
                "1d8d9a3f8d6f7be032cae9f2d89c1048d7dfbadb"
            ],
            "ref": "refs/changes/05/56105/4",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1659556200,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 39,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/query.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/include/utils/query_param_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 69,
                    "deletions": -43
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "type": "MODIFIED",
                    "insertions": 145,
                    "deletions": -96
                }
            ],
            "sizeInsertions": 256,
            "sizeDeletions": 140
        },
        {
            "number": 5,
            "revision": "d1eed261265a849715809ebf9bb51d0e85bece5d",
            "parents": [
                "1d8d9a3f8d6f7be032cae9f2d89c1048d7dfbadb"
            ],
            "ref": "refs/changes/05/56105/5",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1659556419,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Bunch of minor stuff.  Looking pretty clean!"
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 26,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I don't see a usage of this?"
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 26,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Reran IWYU.\n\nWe have to keep this. It says\n\n```\n../redfish-core/include/utils/query_param.hpp should add these lines:\n#include <compare>                                    // for operator>, comp...\n```\n\nMy guess is we have an operator overload which needs this header."
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 26,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I still think it's incorrect if we're #including it, but there's no usage, but sure, it's not that big of a deal."
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 80,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit: should we make this match std containers and make this emplace()?"
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 80,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Done. Also simplified the code via std::map::emplace()"
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 111,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "would it make sense to use empty() as the same thing as \"isSelected\"?  We could keep the same behavior and drop a bool from the struct.\n\nJust a thought that could make it simpler, not required."
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 111,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Oh, you made a similar comment in previous patchset. I replied but I guess you missed that.\n\nWe do need a boolean to handle cases like properties={\"/a\", \"/a/b\"}. Where \"a\" has a child but we still need to select \"a\"."
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 111,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "AH, I missed that.  ACK.  Makes sense."
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 114,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nit. When declaring a std::map in a c++20 daemon, always fill in the third argument as less<>.  This means that string_view lookups will be possible (even if they aren't used until the future).\n\nOptionally, you could also make your find() call work with string_view, but up to you."
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 114,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Oh, that's really cool. I will do that.\n\nThis is aligned with https://stackoverflow.com/questions/35525777/use-of-string-view-for-map-lookup\n\nDone"
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 157,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I don't think you need this conditional;  substr(0, std::string_view::npos) will return to the end of the string to make this code easier to write."
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "line": 157,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Yes. Realized it. Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 39,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/query.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/include/utils/query_param_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 69,
                    "deletions": -43
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "type": "MODIFIED",
                    "insertions": 145,
                    "deletions": -96
                }
            ],
            "sizeInsertions": 256,
            "sizeDeletions": 140
        },
        {
            "number": 6,
            "revision": "708b3c4931a5b09cf01d372d2540605afa43afb0",
            "parents": [
                "1d8d9a3f8d6f7be032cae9f2d89c1048d7dfbadb"
            ],
            "ref": "refs/changes/05/56105/6",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1659561988,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 39,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/query.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/include/utils/query_param_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 69,
                    "deletions": -43
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "type": "MODIFIED",
                    "insertions": 134,
                    "deletions": -96
                }
            ],
            "sizeInsertions": 245,
            "sizeDeletions": 140
        },
        {
            "number": 7,
            "revision": "827c4902835d3175a36d90808a51304f744203ce",
            "parents": [
                "1e31259812dd195015f4e415675ed97b804829a6"
            ],
            "ref": "refs/changes/05/56105/7",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1659633699,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 39,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/include/query.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/include/utils/query_param_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 69,
                    "deletions": -43
                },
                {
                    "file": "redfish-core/include/utils/query_param.hpp",
                    "type": "MODIFIED",
                    "insertions": 134,
                    "deletions": -96
                }
            ],
            "sizeInsertions": 245,
            "sizeDeletions": 140
        }
    ]
}