{
    "project": "openbmc/docs",
    "branch": "master",
    "topic": "ibm-mc-docs",
    "id": "I67987206a7b96eaf4192ca67cd36847d4afb4813",
    "number": 24158,
    "subject": "Design: Know your management client",
    "owner": {
        "name": "Ratan Gupta",
        "email": "ratankgupta31@gmail.com",
        "username": "ratagupt"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/docs/+/24158",
    "hashtags": [],
    "createdOn": 1565005901,
    "lastUpdated": 1665658005,
    "open": false,
    "status": "ABANDONED",
    "comments": [
        {
            "timestamp": 1565005901,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1565100015,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1565104019,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 2:\n\n(4 comments)"
        },
        {
            "timestamp": 1565175692,
            "reviewer": {
                "name": "Sivas SRR",
                "email": "sivas.srr@in.ibm.com",
                "username": "sivassrr"
            },
            "message": "Patch Set 2:\n\n(5 comments)"
        },
        {
            "timestamp": 1566379331,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 2:\n\n(6 comments)"
        },
        {
            "timestamp": 1569240366,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1569470297,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1569561879,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 3: Code-Review-1\n\n(13 comments)"
        },
        {
            "timestamp": 1569586581,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 3:\n\n(9 comments)"
        },
        {
            "timestamp": 1570136781,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1571104878,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1571864500,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 3: Code-Review-1\n\n(1 comment)\n\nSee done but don't see a new patch set"
        },
        {
            "timestamp": 1572531024,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1575886871,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Uploaded patch set 4: Patch Set 3 was rebased."
        },
        {
            "timestamp": 1576823050,
            "reviewer": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "message": "Topic set to ibm-mc-docs"
        },
        {
            "timestamp": 1580464230,
            "reviewer": {
                "name": "Sunitha Harish",
                "email": "sunithaharish04@gmail.com",
                "username": "sunharis"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1612171464,
            "reviewer": {
                "name": "ManojKiran Eda",
                "email": "manojkiran.eda@gmail.com",
                "username": "manojkiraneda"
            },
            "message": "Removed reviewer ManojKiran Eda."
        },
        {
            "timestamp": 1665658005,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Abandoned\n\nclose due to inactivity"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "c2a9acf5df65c25e9775c1d661c57dc08ab202d0",
            "parents": [
                "b8b33bbd78438dae39429ededbb7c73a923e3105"
            ],
            "ref": "refs/changes/58/24158/1",
            "uploader": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "createdOn": 1565005901,
            "author": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "type": "ADDED",
                    "insertions": 105,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 115,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "f071c62cb028908e5623b725da21fc11692c4eb8",
            "parents": [
                "b8b33bbd78438dae39429ededbb7c73a923e3105"
            ],
            "ref": "refs/changes/58/24158/2",
            "uploader": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "createdOn": 1565100015,
            "author": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 9,
                    "reviewer": {
                        "name": "Sivas SRR",
                        "email": "sivas.srr@in.ibm.com",
                        "username": "sivassrr"
                    },
                    "message": "https://github.com/kimchi-project/ginger and XCAT also clients, right. \nCould you please consider them as well in your requirement.\nPlease make it as Requirements."
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 14,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "from. I would recommend running this through a grammar/spell checker like https://app.grammarly.com or microsoft word"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 14,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 22,
                    "reviewer": {
                        "name": "Sivas SRR",
                        "email": "sivas.srr@in.ibm.com",
                        "username": "sivassrr"
                    },
                    "message": "https://github.com/xcat2/xcat-core/wiki/Redfish_support  - XCAT also started supported Redfish. We can consider XCAT as well."
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 22,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "Any client having support for redfish can connect to the BMC."
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 30,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "why do you need the ClientID? Why the OEM?"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 30,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "Client ID tells the HMC unique identifier which will tell that How many unique HMC are connected to the BMC."
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 44,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Why do you need a Redfish manager resource for the HMC?"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 44,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "this was the second option for the scalability if HMC needs to set some properties specific to HMC.\nLike Id,IP address etc."
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 84,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Why does Certificate-based authentication not work?"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 84,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "What will be the uniqness in the certificate which will tell that this is the certifiate of HMC.\n\nFor that we need to mention the username in the certificate which will tell that this certificate belongs to the HMC. \n\nDesign doc:\nhttps://github.com/openbmc/docs/blob/master/designs/redfish-tls-user-authentication.md\n\nSo any how we need the pre-existing user on the BMC."
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 92,
                    "reviewer": {
                        "name": "Sivas SRR",
                        "email": "sivas.srr@in.ibm.com",
                        "username": "sivassrr"
                    },
                    "message": "can we say 412 (Precondition Failed) instead of 401."
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 92,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "No.It would be 401"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 94,
                    "reviewer": {
                        "name": "Sivas SRR",
                        "email": "sivas.srr@in.ibm.com",
                        "username": "sivassrr"
                    },
                    "message": "Nice point."
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 106,
                    "reviewer": {
                        "name": "Sivas SRR",
                        "email": "sivas.srr@in.ibm.com",
                        "username": "sivassrr"
                    },
                    "message": "May be we should add \"412 (Precondition Failed)\" or session time out related."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "type": "ADDED",
                    "insertions": 118,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 128,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "5b6aa279d3f5c0d79e6a9158e779625ae7b319e0",
            "parents": [
                "024e2dd141edfb0ad38bb24d993fadfc12e37c34"
            ],
            "ref": "refs/changes/58/24158/3",
            "uploader": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "createdOn": 1569240366,
            "author": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 0,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "These are going under designs/management-console but https://gerrit.openbmc-project.xyz/c/openbmc/docs/+/23419 isn't ?"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 11,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "bullets needs to be corrected"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 11,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 14,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "multiple sessions to the BMC through redfish/REST"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 14,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 15,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I am trying to understand this design.  Is this design simply adding an OEM property (namely: IBM HMC ClientID) to the Redfish SessionResource?  I didn't see any content beyond that.\n\nDoes this design assume all BMC Redfish clients will cooperate (meaning that all clients will supply a clientID).  I didn't see any enforcement of this condition.\n\nThe POST /redfish/v1/SessionService/Sessions seems to follow the Redfish Resource extensibility specification (section 9.7).\nShould this design follow the Redfish (section 9.8.2.1) Extended object information and return the ClientID in a Session@Message.ExtendedInfo object?\n\nRedfish section numbers referenced above refer to: https://www.dmtf.org/sites/default/files/standards/documents/DSP0266_1.8.0.pdf"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 15,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "> I am trying to understand this design.  Is this design simply adding an OEM property (namely: IBM HMC ClientID) to the Redfish SessionResource?  I didn't see any content beyond that.\n\nYes,we are trying to add the OEM property here.\n\n> Does this design assume all BMC Redfish clients will cooperate (meaning that all clients will supply a clientID).  I didn't see any enforcement of this condition.\n\nIn Redfish OEM section would be an optional property,Client may give or not, In our case, MC has to supply the HMC ID so that MC an uniquely identify which HMC is managing the server.\n\n> The POST /redfish/v1/SessionService/Sessions seems to follow the Redfish Resource extensibility specification (section 9.7).\nShould this design follow the Redfish (section 9.8.2.1) Extended object information and return the ClientID in a Session@Message.ExtendedInfo object?\n\nExtend Info object is used during if we are updating any resource and if there is a failure then we use the extend info to tell more about the error.\n\nRegarding how the redfish clinet would be getting this OEM client ID, They need to make the GET request on a specific session which will get the OEM property for that resource."
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 31,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "REST session as well ? Should we mention REST also here?"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 31,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 34,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "Client"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 34,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 35,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "connected"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 41,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "Providing the session details of other sessions (which have different X-Auth-Tokens) will be non-compliance to the GDPR rules ; when the GET is performed. The request should get an Unauthorized error response."
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 41,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "The privilege for Session collection and sessions are for the admin, not for any other user.\nIf admin is making the request will get the session details, other users will get the unauthorized response.\nThis is as part of the redfish privilege model, not need to mention it here again."
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 58,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "don't need to write to the cookie"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 58,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 61,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "``` braces would be good for the response data"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 61,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 69,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "bullets & title fonts need to be corrected"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 73,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "no bullet needed here"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 88,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "This is a topic outside the Alternatives considered. Please move the bullets accordingly"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 88,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 103,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "HMC"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 103,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 108,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "HMC"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 114,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "HMC"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 119,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "Please put the ``` braces for this command"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 119,
                    "reviewer": {
                        "name": "Ratan Gupta",
                        "email": "ratankgupta31@gmail.com",
                        "username": "ratagupt"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "type": "ADDED",
                    "insertions": 120,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 133,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "1d982d99d7e4830e26a33178fdae6ab80c3b09d2",
            "parents": [
                "703bffdb1b8412cb2bacd2d921ea6a146d7fecbc"
            ],
            "ref": "refs/changes/58/24158/4",
            "uploader": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "createdOn": 1575886871,
            "author": {
                "name": "Ratan Gupta",
                "email": "ratankgupta31@gmail.com",
                "username": "ratagupt"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 13,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "from"
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "line": 65,
                    "reviewer": {
                        "name": "Sunitha Harish",
                        "email": "sunithaharish04@gmail.com",
                        "username": "sunharis"
                    },
                    "message": "This needs to be updated as per the latest design"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "designs/management-console/know_your_client.md",
                    "type": "ADDED",
                    "insertions": 120,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 133,
            "sizeDeletions": 0
        }
    ]
}