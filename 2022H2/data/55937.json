{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "I731a5b4e736a2480700d8f3e81f9c9c6cbe6efca",
    "number": 55937,
    "subject": "Allow custom 404 handlers",
    "owner": {
        "name": "Ed Tanous",
        "email": "ed@tanous.net",
        "username": "edtanous"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/55937",
    "hashtags": [],
    "createdOn": 1658879820,
    "lastUpdated": 1661986864,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1658879820,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1658879861,
            "reviewer": {
                "name": "Cody Smith",
                "email": "scody@google.com",
                "username": "csmith105"
            },
            "message": "Patch Set 1: Code-Review+1"
        },
        {
            "timestamp": 1658879883,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1658879883,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1658880006,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/47846/ : FAILURE"
        },
        {
            "timestamp": 1658956126,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1659045604,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1659045638,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659045639,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1659046132,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/47993/ : SUCCESS"
        },
        {
            "timestamp": 1659047407,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1659048379,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1659048382,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Topic set to wip"
        },
        {
            "timestamp": 1659048462,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1659118597,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1659118630,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1659118647,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659118647,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1659118670,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/48020/ : FAILURE"
        },
        {
            "timestamp": 1659118849,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1659307974,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1659308032,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659308032,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1659308081,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1659308141,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1659308366,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/48065/ : FAILURE"
        },
        {
            "timestamp": 1659308914,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1659308982,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659308983,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1659309391,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/48068/ : FAILURE"
        },
        {
            "timestamp": 1659328720,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1659328768,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659328769,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1659328984,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1659329283,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48080/ : SUCCESS"
        },
        {
            "timestamp": 1659335693,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1659335739,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659335739,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1659336242,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48091/ : SUCCESS"
        },
        {
            "timestamp": 1660574750,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8: Commit message was updated."
        },
        {
            "timestamp": 1660574752,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Topic wip removed"
        },
        {
            "timestamp": 1660594113,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Patch Set 8:\n\n(2 comments)"
        },
        {
            "timestamp": 1660601446,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8:\n\n(2 comments)"
        },
        {
            "timestamp": 1660602324,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1660664377,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1660667305,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1660668369,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1660674750,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1660753844,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1660755554,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1660782242,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1660797409,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1660831677,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1660859445,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1660868504,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1661356713,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Uploaded patch set 9."
        },
        {
            "timestamp": 1661356758,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1661356758,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: -Ok-To-Test"
        },
        {
            "timestamp": 1661357281,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/49779/ : SUCCESS"
        },
        {
            "timestamp": 1661357480,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Patch Set 9: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1661360953,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Uploaded patch set 10: New patch set was added with same tree, parent, and commit message as Patch Set 9."
        },
        {
            "timestamp": 1661360986,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Verified+1"
        },
        {
            "timestamp": 1661361004,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1661361004,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: -Ok-To-Test"
        },
        {
            "timestamp": 1661361125,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Uploaded patch set 11: Patch Set 10 was rebased."
        },
        {
            "timestamp": 1661361154,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1661361154,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: -Ok-To-Test"
        },
        {
            "timestamp": 1661361155,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Verified+1 Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/49781/ : ABORTED"
        },
        {
            "timestamp": 1661361694,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/49782/ : SUCCESS"
        },
        {
            "timestamp": 1661361744,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Uploaded patch set 12: Patch Set 11 was rebased."
        },
        {
            "timestamp": 1661361769,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1661361769,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: -Ok-To-Test"
        },
        {
            "timestamp": 1661362296,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/49784/ : SUCCESS"
        },
        {
            "timestamp": 1661376963,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Uploaded patch set 13: Commit message was updated."
        },
        {
            "timestamp": 1661382716,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 13:\n\n(1 comment)"
        },
        {
            "timestamp": 1661928266,
            "reviewer": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "message": "Uploaded patch set 14: Patch Set 13 was rebased."
        },
        {
            "timestamp": 1661928316,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 14: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1661928316,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 14: -Ok-To-Test"
        },
        {
            "timestamp": 1661928848,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 14: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/50183/ : SUCCESS"
        },
        {
            "timestamp": 1661986836,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 14: Code-Review+2"
        },
        {
            "timestamp": 1661986864,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully rebased and submitted as 44e4518b700bd97cdca09d05e3c24712a4799788"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "7fb5b43cccf45f57d43aa332e7b3a0c4cca44a73",
            "parents": [
                "3acced2ce93ab735f147ba8204afcc18bdc0c3ea"
            ],
            "ref": "refs/changes/37/55937/1",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1658879820,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Marking this WIP.  This totally breaks the validator and our Allow header usage as written."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "http/routing.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 24,
            "sizeDeletions": 2
        },
        {
            "number": 2,
            "revision": "17d6aa3a3d7a0300fce026bf93831108db7afa9c",
            "parents": [
                "3648c8be1c03c8ebe099185bc651613862fc0027"
            ],
            "ref": "refs/changes/37/55937/2",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1659045604,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 24,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "Does it return 404 because it hits the handleRedfish404() route or is it getting set on your line 1300 in handle() from routing.hpp?\n\nhttps://gerrit.openbmc.org/c/openbmc/bmcweb/+/55937/2/http/routing.hpp#1300\n\nI prefer the former for Redfish Aggregation purposes.  Otherwise we'll need to add aggregation hooks to this file later."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 24,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "THis patch is broken at the moment.  Next patch will have unit tests that makes this make more sense."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 24,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "Ack"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 24,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Latest patch still has some issues, but I'm slowly working through all the corner cases."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 24,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This needs more testing, but it should work for what you need it for in the latest patch."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 24,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Also, to answer your latest question, now the error handler is very explicitly set in the router with its own route type."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 24,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "src/crow_getroutes_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -7
                },
                {
                    "file": "http/routing.hpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -16
                }
            ],
            "sizeInsertions": 87,
            "sizeDeletions": 23
        },
        {
            "number": 3,
            "revision": "c985410f2492cdd0ee5215c2fbd58dac0f927f81",
            "parents": [
                "3648c8be1c03c8ebe099185bc651613862fc0027"
            ],
            "ref": "refs/changes/37/55937/3",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1659118597,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "http/routing.hpp",
                    "line": 1313,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "There's my bug...."
                },
                {
                    "file": "http/routing.hpp",
                    "line": 1313,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "http/ut/router_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 29,
                    "deletions": -1
                },
                {
                    "file": "src/crow_getroutes_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -7
                },
                {
                    "file": "redfish-core/lib/redfish_v1.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "http/routing.hpp",
                    "type": "MODIFIED",
                    "insertions": 48,
                    "deletions": -21
                }
            ],
            "sizeInsertions": 125,
            "sizeDeletions": 30
        },
        {
            "number": 4,
            "revision": "bb19f275b946aefc9641addb0aff88a037de033b",
            "parents": [
                "3648c8be1c03c8ebe099185bc651613862fc0027"
            ],
            "ref": "refs/changes/37/55937/4",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1659307974,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "http/ut/router_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -4
                },
                {
                    "file": "src/crow_getroutes_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/lib/redfish_v1.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "http/routing.hpp",
                    "type": "MODIFIED",
                    "insertions": 97,
                    "deletions": -58
                }
            ],
            "sizeInsertions": 168,
            "sizeDeletions": 64
        },
        {
            "number": 5,
            "revision": "5acfdfd21736b7c6b28eb302e712989fed16279f",
            "parents": [
                "4c7d4d33a7c5697460f4bc57015551f599fc6f54"
            ],
            "ref": "refs/changes/37/55937/5",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1659308914,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 33,
                    "deletions": 0
                },
                {
                    "file": "http/ut/router_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -4
                },
                {
                    "file": "src/crow_getroutes_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/lib/redfish_v1.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "http/routing.hpp",
                    "type": "MODIFIED",
                    "insertions": 97,
                    "deletions": -52
                }
            ],
            "sizeInsertions": 172,
            "sizeDeletions": 58
        },
        {
            "number": 6,
            "revision": "e417e5dca30777e9846b8908e8ef5b95fd402951",
            "parents": [
                "4c7d4d33a7c5697460f4bc57015551f599fc6f54"
            ],
            "ref": "refs/changes/37/55937/6",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1659328720,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 33,
                    "deletions": 0
                },
                {
                    "file": "http/ut/router_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -4
                },
                {
                    "file": "src/crow_getroutes_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/lib/redfish_v1.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "http/routing.hpp",
                    "type": "MODIFIED",
                    "insertions": 98,
                    "deletions": -53
                }
            ],
            "sizeInsertions": 173,
            "sizeDeletions": 59
        },
        {
            "number": 7,
            "revision": "0d85283426a07dca7019fd3cfbc44d43a327c66c",
            "parents": [
                "4c7d4d33a7c5697460f4bc57015551f599fc6f54"
            ],
            "ref": "refs/changes/37/55937/7",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1659335693,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 33,
                    "deletions": 0
                },
                {
                    "file": "http/ut/router_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -4
                },
                {
                    "file": "src/crow_getroutes_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/lib/redfish_v1.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "http/routing.hpp",
                    "type": "MODIFIED",
                    "insertions": 118,
                    "deletions": -68
                }
            ],
            "sizeInsertions": 193,
            "sizeDeletions": 74
        },
        {
            "number": 8,
            "revision": "66f32a95f4bced0afabc9748aee51f6e22f7385f",
            "parents": [
                "4c7d4d33a7c5697460f4bc57015551f599fc6f54"
            ],
            "ref": "refs/changes/37/55937/8",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1660574750,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 21,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "nit, do you mean 404?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 21,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I'm not sure if this is a typo on my part or not.  At one point I had the 405 and 404 handling in a single patch, but I broken them up a little, so that might explain it.  Let me reload on my system and retest and make sure this is a typo."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 21,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "Sorry, this message was supposed to get sent alongside my response from yesterday.  I should have highlighted the status as well as the error code since it should be either \"404 Not found\" or \"405 Method Not Allowed\".  \n\nWhen I tried on my machine I saw 404."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 21,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "I rebased and confirmed that PATCH /redfish/v1/foo return 404 Not found.  I also confirmed that this patch works as intended with Redfish Aggregation.  I've updated the commit message with this info."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 21,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "\ud83d\udc4d"
                },
                {
                    "file": "http/routing.hpp",
                    "line": 1336,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "I'm not sure in what context this code gets used.  Won't we always find a real route or a 404 route?  Or does this catch unsupported methods for known routes like PATCH to /redfish/v1?"
                },
                {
                    "file": "http/routing.hpp",
                    "line": 1336,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> I'm not sure in what context this code gets used.  Won't we always find a real route or a 404 route?\n>  Or does this catch unsupported methods for known routes like PATCH to /redfish/v1?\n\n\nNot every tree declares a 404 route, so this is used in the case where we can't find either, which is most of the tree that isn't redfish right now.\n\nYes, for the moment it catches 405 as well, but that's getting changed in the next patch for custom 405 handlers"
                },
                {
                    "file": "http/routing.hpp",
                    "line": 1336,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "I tried testing on my machine and I saw where query.hpp gets reached when a request of any type is sent to any route that is not supported at all:\nPOST /redfish/v1/Fake\nGET /redfish/v1/Fake\n\nThis is the behavior I want for Redfish Aggregation purposes.\n\nA PATCH request to /redfish/v1 did not hit query.hpp.  My guess is this check is the exit point for unsupported methods to recognized endpoints, but I don't know if there's a separate exit point for that situation."
                },
                {
                    "file": "http/routing.hpp",
                    "line": 1336,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "In theory, the next patch in the series gives you the PATCH behavior you want (I think)."
                },
                {
                    "file": "http/routing.hpp",
                    "line": 1336,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "I want unsupported method and URI combinations to hit the redfish404 endpoint so that they can reach the aggregation hook that will be in query.hpp.\n\nThe only combination that exits early is when BMCWeb supports an endpoint, but not the provided method.  That's why POST /redfish/v1/Fake reaches query.hpp, but PATCH /redfish/v1 bails early.  We support /redfish/v1, but PATCH requests are not valid methods for that endpoint.\n\nI haven't yet run into a scenario in BMCWeb where we support an endpoint without also supporting all of the methods as required by the spec."
                },
                {
                    "file": "http/routing.hpp",
                    "line": 1336,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> I want unsupported method and URI combinations to hit the redfish404 endpoint so that they can reach the aggregation hook that will be in query.hpp.\n\nThey hit a different hook, so we can handle 405 differently than 404, but I think both will hit query.hpp.  I'm having a little trouble figuring out if you're ok with the next patch for 405, or if it needs amended.\n\n> \n> The only combination that exits early is when BMCWeb supports an endpoint, but not the provided method.  That's why POST /redfish/v1/Fake reaches query.hpp, but PATCH /redfish/v1 bails early.  We support /redfish/v1, but PATCH requests are not valid methods for that endpoint.\n> \n> I haven't yet run into a scenario in BMCWeb where we support an endpoint without also supporting all of the methods as required by the spec.\n\nWhat you wrote was \"as required\" of which you're right.  \"As allowed\" is a different story.  I think you have the advantage that you're aggregating bmcweb to bmcweb, so there's never going to be a mismatch there, but it's something real that could happen."
                },
                {
                    "file": "http/routing.hpp",
                    "line": 1336,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "> They hit a different hook, so we can handle 405 differently than 404, but I think both will hit query.hpp.\nThey will both still call redfish404() right?  That's what appears to be happening in this patch and it's also the behavior I want since that allows a path to query.hpp.\n\n> I'm having a little trouble figuring out if you're ok with the next patch for 405, or if it needs amended.\nI've tried that patch and it doesn't seem to be working correctly.  I've left a comment on it.  For my current needs this 404 patch is fine by itself.\n\n> What you wrote was \"as required\" of which you're right.  \"As allowed\" is a different story.  I think you have the advantage that you're aggregating bmcweb to bmcweb, so there's never going to be a mismatch there, but it's something real that could happen.\nACK and good thing that's not a current issue.  I think we'd need a different approach if we want to support forwarding requests types that are allowed but not implemented by BMCWeb.\n\nMy guess is would be we remove the early returns in routing.hpp so that we will always have to the handle the request.  redfish404() becomes a catch all for all endpoint and method combinations that are not explicitly handled by BMCWeb.  From the schema we'd create a map of allowed methods for all resources and then we'd have to determine if we receive a request that is allowed but not implemented.  If we did then we'd call our aggregation hook.\n\nThat sounds like something that is a lot of work to solve what isn't currently an issue.  Is it alright to ignore that for now?"
                },
                {
                    "file": "http/routing.hpp",
                    "line": 1336,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> > They hit a different hook, so we can handle 405 differently than 404, but I think both will hit query.hpp.\n> They will both still call redfish404() right?\n\nNope, this commit invents a separate method \"redfish405()\"\nhttps://gerrit.openbmc.org/c/openbmc/bmcweb/+/56032/3/redfish-core/lib/redfish_v1.hpp#49\n\n>  That's what appears to be happening in this patch and it's also the behavior I want since that allows a path to query.hpp.\n\nTake a look at the above, while it doesn't do literally what you said you want (ie both call redfish404), it does enough of what you want (both call setupRedfishRoute) that I think it does what you need?  I could be mistaken though.\n\n> \n> > I'm having a little trouble figuring out if you're ok with the next patch for 405, or if it needs amended.\n> I've tried that patch and it doesn't seem to be working correctly.  I've left a comment on it.  For my current needs this 404 patch is fine by itself.\n\nACK.\n\n> \n> > What you wrote was \"as required\" of which you're right.  \"As allowed\" is a different story.  I think you have the advantage that you're aggregating bmcweb to bmcweb, so there's never going to be a mismatch there, but it's something real that could happen.\n> ACK and good thing that's not a current issue.  I think we'd need a different approach if we want to support forwarding requests types that are allowed but not implemented by BMCWeb.\n\nI think it's covered by the 405 patchset above, but yes, lets not worry about it just yet.\n\n> \n> My guess is would be we remove the early returns in routing.hpp so that we will always have to the handle the request.  redfish404() becomes a catch all for all endpoint and method combinations that are not explicitly handled by BMCWeb.  From the schema we'd create a map of allowed methods for all resources and then we'd have to determine if we receive a request that is allowed but not implemented.  If we did then we'd call our aggregation hook.\n\nI was with you until the \"map of all allowed methods\" part.  I think we can just rely on the URL to know if we have to forward to the aggregated resource?\n\n> \n> That sounds like something that is a lot of work to solve what isn't currently an issue.  Is it alright to ignore that for now?\n\nYep, I think that's ok."
                },
                {
                    "file": "http/routing.hpp",
                    "line": 1336,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "> > > They hit a different hook, so we can handle 405 differently than 404, but I think both will hit query.hpp.\n> > They will both still call redfish404() right?\n> Nope, this commit invents a separate method \"redfish405()\"\n> https://gerrit.openbmc.org/c/openbmc/bmcweb/+/56032/3/redfish-core/lib/redfish_v1.hpp#49\nI meant with only this patch they both hit redfish404().  That patch looks like what I need. You're right, I don't need them to call redfish404() so much as I need them to call setupRedfishRoute().  Is that patch supposed to be a replacement for this patch https://gerrit.openbmc.org/c/openbmc/bmcweb/+/56031 or applied on top of it?\n\n> I was with you until the \"map of all allowed methods\" part.  I think we can just rely on the URL to know if we have to forward to the aggregated resource?\nThat would work, but we'd be able to also forward method/URI requests combinations that are not allowed by the spec.  My suggestion would prevent that, but it's probably more trouble than it's worth."
                },
                {
                    "file": "http/routing.hpp",
                    "line": 1336,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> > > > They hit a different hook, so we can handle 405 differently than 404, but I think both will hit query.hpp.\n> > > They will both still call redfish404() right?\n> > Nope, this commit invents a separate method \"redfish405()\"\n> > https://gerrit.openbmc.org/c/openbmc/bmcweb/+/56032/3/redfish-core/lib/redfish_v1.hpp#49\n> I meant with only this patch they both hit redfish404().  That patch looks like what I need. You're right, I don't need them to call redfish404() so much as I need them to call setupRedfishRoute().  Is that patch supposed to be a replacement for this patch https://gerrit.openbmc.org/c/openbmc/bmcweb/+/56031 or applied on top of it?\n\nIt's intended to be applied before in the stackup\n\n> \n> > I was with you until the \"map of all allowed methods\" part.  I think we can just rely on the URL to know if we have to forward to the aggregated resource?\n> That would work, but we'd be able to also forward method/URI requests combinations that are not allowed by the spec.\n\nSo, this is a funny case where in the spec it's \"not allowed\" but also that the spec REQUIRES behavior in the case of a not allowed method, so considering this is an error path, I think we've save\n\n>  My suggestion would prevent that, but it's probably more trouble than it's worth.\n\n\n+1 to the \"more trouble than it's worth\". It's an error path, lets do the easiest thing that gets us the correct result.   If we slowly return an error instead of quickly returning an error, who cares."
                },
                {
                    "file": "http/routing.hpp",
                    "line": 1336,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "\"I think we're safe\" is what that should've read."
                },
                {
                    "file": "http/routing.hpp",
                    "line": 1336,
                    "reviewer": {
                        "name": "Carson",
                        "email": "clabrado@google.com",
                        "username": "carsonlab"
                    },
                    "message": "> It's intended to be applied before in the stackup\nSorry, but I'm still confused on the intended patch order.  Is it:\n1. This patch\n2. Add Method Not Allowed (405) handler - https://gerrit.openbmc.org/c/openbmc/bmcweb/+/56031\n3. WIP: Add 405 handler for redfish - https://gerrit.openbmc.org/c/openbmc/bmcweb/+/56032\n\nThat's the order I was applying them and the order shown by the relation chain\n\n> > > I was with you until the \"map of all allowed methods\" part.  I think we can just rely on the URL to know if we have to forward to the aggregated resource?\n> > That would work, but we'd be able to also forward method/URI requests combinations that are not allowed by the spec.\n> So, this is a funny case where in the spec it's \"not allowed\" but also that the spec REQUIRES behavior in the case of a not allowed method, so considering this is an error path, I think we've save\nI agree after reading your comments.\n\n> >  My suggestion would prevent that, but it's probably more trouble than it's worth.\n> +1 to the \"more trouble than it's worth\". It's an error path, lets do the easiest thing that gets us the correct result.   If we slowly return an error instead of quickly returning an error, who cares.\nSGTM"
                },
                {
                    "file": "http/routing.hpp",
                    "line": 1336,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> > It's intended to be applied before in the stackup\n> Sorry, but I'm still confused on the intended patch order.  Is it:\n> 1. This patch\n> 2. Add Method Not Allowed (405) handler - https://gerrit.openbmc.org/c/openbmc/bmcweb/+/56031\n> 3. WIP: Add 405 handler for redfish - https://gerrit.openbmc.org/c/openbmc/bmcweb/+/56032\n> \n> That's the order I was applying them and the order shown by the relation chain\n\nYep, that's the intent.\n\n> \n> > > > I was with you until the \"map of all allowed methods\" part.  I think we can just rely on the URL to know if we have to forward to the aggregated resource?\n> > > That would work, but we'd be able to also forward method/URI requests combinations that are not allowed by the spec.\n> > So, this is a funny case where in the spec it's \"not allowed\" but also that the spec REQUIRES behavior in the case of a not allowed method, so considering this is an error path, I think we've save\n> I agree after reading your comments.\n> \n> > >  My suggestion would prevent that, but it's probably more trouble than it's worth.\n> > +1 to the \"more trouble than it's worth\". It's an error path, lets do the easiest thing that gets us the correct result.   If we slowly return an error instead of quickly returning an error, who cares.\n> SGTM"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 33,
                    "deletions": 0
                },
                {
                    "file": "http/ut/router_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -4
                },
                {
                    "file": "src/crow_getroutes_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/lib/redfish_v1.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "http/routing.hpp",
                    "type": "MODIFIED",
                    "insertions": 118,
                    "deletions": -68
                }
            ],
            "sizeInsertions": 193,
            "sizeDeletions": 74
        },
        {
            "number": 9,
            "revision": "e334519c94adbdfc8d9c930738a37d918e904aec",
            "parents": [
                "9b00f417df3ec6b4884d27505ac0505f36c5d013"
            ],
            "ref": "refs/changes/37/55937/9",
            "uploader": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "createdOn": 1661356713,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "http/ut/router_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -4
                },
                {
                    "file": "src/crow_getroutes_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/lib/redfish_v1.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "http/routing.hpp",
                    "type": "MODIFIED",
                    "insertions": 118,
                    "deletions": -68
                }
            ],
            "sizeInsertions": 198,
            "sizeDeletions": 74
        },
        {
            "number": 10,
            "revision": "2e28067decd9cd98185c8b66df7624465cdcfc86",
            "parents": [
                "9b00f417df3ec6b4884d27505ac0505f36c5d013"
            ],
            "ref": "refs/changes/37/55937/10",
            "uploader": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "createdOn": 1661360953,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "NO_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "http/ut/router_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -4
                },
                {
                    "file": "src/crow_getroutes_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/lib/redfish_v1.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "http/routing.hpp",
                    "type": "MODIFIED",
                    "insertions": 118,
                    "deletions": -68
                }
            ],
            "sizeInsertions": 198,
            "sizeDeletions": 74
        },
        {
            "number": 11,
            "revision": "449414ab75faf0c3f07f3fb1ff7027f9a62ba260",
            "parents": [
                "2cb4d1c1a24cfed1cb8b40120fc0aabe830f1e36"
            ],
            "ref": "refs/changes/37/55937/11",
            "uploader": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "createdOn": 1661361125,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "http/ut/router_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -4
                },
                {
                    "file": "src/crow_getroutes_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/lib/redfish_v1.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "http/routing.hpp",
                    "type": "MODIFIED",
                    "insertions": 118,
                    "deletions": -68
                }
            ],
            "sizeInsertions": 198,
            "sizeDeletions": 74
        },
        {
            "number": 12,
            "revision": "f0fce75e690063843ce28318aacd07c5b8682167",
            "parents": [
                "f1ebdca04b692291c2de7a240acce609b3e2bf5f"
            ],
            "ref": "refs/changes/37/55937/12",
            "uploader": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "createdOn": 1661361744,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 38,
                    "deletions": 0
                },
                {
                    "file": "http/ut/router_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -4
                },
                {
                    "file": "src/crow_getroutes_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/lib/redfish_v1.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "http/routing.hpp",
                    "type": "MODIFIED",
                    "insertions": 118,
                    "deletions": -68
                }
            ],
            "sizeInsertions": 198,
            "sizeDeletions": 74
        },
        {
            "number": 13,
            "revision": "e89659692e8f36140e693bdc6c7555a734223c05",
            "parents": [
                "f1ebdca04b692291c2de7a240acce609b3e2bf5f"
            ],
            "ref": "refs/changes/37/55937/13",
            "uploader": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "createdOn": 1661376963,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 39,
                    "deletions": 0
                },
                {
                    "file": "http/ut/router_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -4
                },
                {
                    "file": "src/crow_getroutes_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/lib/redfish_v1.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "http/routing.hpp",
                    "type": "MODIFIED",
                    "insertions": 118,
                    "deletions": -68
                }
            ],
            "sizeInsertions": 199,
            "sizeDeletions": 74
        },
        {
            "number": 14,
            "revision": "8da9ec3e027bb48fb13575cf5731dcfcc17e1cf5",
            "parents": [
                "58283f41276f86666aca6943e7405a20a1ff38b6"
            ],
            "ref": "refs/changes/37/55937/14",
            "uploader": {
                "name": "Carson",
                "email": "clabrado@google.com",
                "username": "carsonlab"
            },
            "createdOn": 1661928266,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 39,
                    "deletions": 0
                },
                {
                    "file": "http/ut/router_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -4
                },
                {
                    "file": "src/crow_getroutes_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/lib/redfish_v1.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "http/routing.hpp",
                    "type": "MODIFIED",
                    "insertions": 118,
                    "deletions": -68
                }
            ],
            "sizeInsertions": 199,
            "sizeDeletions": 74
        },
        {
            "number": 15,
            "revision": "44e4518b700bd97cdca09d05e3c24712a4799788",
            "parents": [
                "1e75e1dde032e327f16cf7270b0de621f0c6ccc6"
            ],
            "ref": "refs/changes/37/55937/15",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1661986864,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 39,
                    "deletions": 0
                },
                {
                    "file": "http/ut/router_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": -4
                },
                {
                    "file": "src/crow_getroutes_test.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "redfish-core/lib/redfish_v1.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                },
                {
                    "file": "http/routing.hpp",
                    "type": "MODIFIED",
                    "insertions": 118,
                    "deletions": -68
                }
            ],
            "sizeInsertions": 199,
            "sizeDeletions": 74
        }
    ]
}