{
    "project": "openbmc/openbmc",
    "branch": "master",
    "id": "I6311a6baf21c7bc10ece2d4994f225dbc8c06cc4",
    "number": 54580,
    "subject": "meta-google: gbmc-bridge: DHCP term when idle",
    "owner": {
        "name": "William A. Kennington III",
        "email": "wak@google.com",
        "username": "wak-google"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/openbmc/+/54580",
    "hashtags": [],
    "createdOn": 1655248965,
    "lastUpdated": 1658441329,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1655248965,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1655249014,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1655249014,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1655249022,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/11338/"
        },
        {
            "timestamp": 1655250014,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/11338/ : FAILURE"
        },
        {
            "timestamp": 1658341612,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Patch Set 2: Patch Set 1 was rebased"
        },
        {
            "timestamp": 1658341648,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1658341648,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1658342512,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Uploaded patch set 3: Patch Set 2 was rebased."
        },
        {
            "timestamp": 1658343395,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/11895/"
        },
        {
            "timestamp": 1658352100,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/11895/ : FAILURE"
        },
        {
            "timestamp": 1658352497,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1658352566,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1658352566,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1658355094,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/11902/"
        },
        {
            "timestamp": 1658357048,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/11902/ : SUCCESS"
        },
        {
            "timestamp": 1658358300,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 4:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1658361092,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 4: Code-Review+1\n\n(2 comments)"
        },
        {
            "timestamp": 1658373764,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1658373767,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1658373837,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1658373837,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1658374399,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/11915/"
        },
        {
            "timestamp": 1658375058,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/11915/ : SUCCESS"
        },
        {
            "timestamp": 1658377820,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 5:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1658439126,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1658439206,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1658439206,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1658439215,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/11926/"
        },
        {
            "timestamp": 1658440085,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/11926/ : SUCCESS"
        },
        {
            "timestamp": 1658440417,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 6: Code-Review+2"
        },
        {
            "timestamp": 1658440576,
            "reviewer": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "message": "Change has been successfully merged"
        },
        {
            "timestamp": 1658441329,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 6:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "403f406bd4130049a8bad4a3cbb722fad615411d",
            "parents": [
                "79c15080fc851242f50740c43db1ffb2c0725230"
            ],
            "ref": "refs/changes/80/54580/1",
            "uploader": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "createdOn": 1655248965,
            "author": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-google/recipes-google/networking/gbmc-bridge/gbmc-br-dhcp-term.sh",
                    "type": "MODIFIED",
                    "insertions": 53,
                    "deletions": -9
                }
            ],
            "sizeInsertions": 66,
            "sizeDeletions": 9
        },
        {
            "number": 2,
            "revision": "447b8b0857632da2e2cc0a32a3a0c89e2b01b747",
            "parents": [
                "4cccd760979e15142764c8145b7d860f6674b671"
            ],
            "ref": "refs/changes/80/54580/2",
            "uploader": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "createdOn": 1658341612,
            "author": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-google/recipes-google/networking/gbmc-bridge/gbmc-br-dhcp-term.sh",
                    "type": "MODIFIED",
                    "insertions": 53,
                    "deletions": -9
                }
            ],
            "sizeInsertions": 66,
            "sizeDeletions": 9
        },
        {
            "number": 3,
            "revision": "5b656bc9540d2e353e3518157b5873e9baf279d9",
            "parents": [
                "bef0021cfe167ccb6ae2e71f546ecb21ccf1c204"
            ],
            "ref": "refs/changes/80/54580/3",
            "uploader": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "createdOn": 1658342512,
            "author": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-google/recipes-google/networking/gbmc-bridge/gbmc-br-dhcp-term.sh",
                    "type": "MODIFIED",
                    "insertions": 53,
                    "deletions": -9
                }
            ],
            "sizeInsertions": 66,
            "sizeDeletions": 9
        },
        {
            "number": 4,
            "revision": "678d0138a6c2a0d5110498fecc615772ab555564",
            "parents": [
                "bef0021cfe167ccb6ae2e71f546ecb21ccf1c204"
            ],
            "ref": "refs/changes/80/54580/4",
            "uploader": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "createdOn": 1658352497,
            "author": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "meta-google/recipes-google/networking/gbmc-bridge/gbmc-br-dhcp-term.sh",
                    "line": 46,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "should we have timeout for this? same with\n\n```\nwhile true; do\n```\n\nbelow."
                },
                {
                    "file": "meta-google/recipes-google/networking/gbmc-bridge/gbmc-br-dhcp-term.sh",
                    "line": 46,
                    "reviewer": {
                        "name": "William A. Kennington III",
                        "email": "wak@google.com",
                        "username": "wak-google"
                    },
                    "message": "Well, we would need some logic for dealing with the timeouts and to pick something valid. My concern is that mimik takes a long time to handle the update process, and I don't want to terminate it early if I can avoid it. Keep in mind this process is used to stop DHCP, so having timeouts is less important since DHCP failing means we haven't made it through install yet. We do want it to keep retrying in these cases as it might just be lots of upstream flakiness that eventually gets handled."
                },
                {
                    "file": "meta-google/recipes-google/networking/gbmc-bridge/gbmc-br-dhcp-term.sh",
                    "line": 61,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "nit:\n\n```\n==\n```\n\nto be more clear that it is a comparison. Same with `[ \"$activestr\" = \"active\" ]`"
                },
                {
                    "file": "meta-google/recipes-google/networking/gbmc-bridge/gbmc-br-dhcp-term.sh",
                    "line": 61,
                    "reviewer": {
                        "name": "William A. Kennington III",
                        "email": "wak@google.com",
                        "username": "wak-google"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-google/recipes-google/networking/gbmc-bridge/gbmc-br-dhcp-term.sh",
                    "type": "MODIFIED",
                    "insertions": 53,
                    "deletions": -9
                }
            ],
            "sizeInsertions": 66,
            "sizeDeletions": 9
        },
        {
            "number": 5,
            "revision": "6b2126a5da16e6195393e0a441c16a9ccb6ccf0f",
            "parents": [
                "0817918dd6931a71fa89dafc84c43007d1fa18cd"
            ],
            "ref": "refs/changes/80/54580/5",
            "uploader": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "createdOn": 1658373764,
            "author": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-google/recipes-google/networking/gbmc-bridge/gbmc-br-dhcp-term.sh",
                    "type": "MODIFIED",
                    "insertions": 53,
                    "deletions": -9
                }
            ],
            "sizeInsertions": 66,
            "sizeDeletions": 9
        },
        {
            "number": 6,
            "revision": "e3edde4025d286275ec59f7cf8b278c3583ff99a",
            "parents": [
                "a66975077ec9c579a26d279986d441dc9bfc6e64"
            ],
            "ref": "refs/changes/80/54580/6",
            "uploader": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "createdOn": 1658439126,
            "author": {
                "name": "William A. Kennington III",
                "email": "wak@google.com",
                "username": "wak-google"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "meta-google/recipes-google/networking/gbmc-bridge/gbmc-br-dhcp-term.sh",
                    "type": "MODIFIED",
                    "insertions": 53,
                    "deletions": -9
                }
            ],
            "sizeInsertions": 66,
            "sizeDeletions": 9
        }
    ]
}