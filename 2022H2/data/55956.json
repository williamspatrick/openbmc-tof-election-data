{
    "project": "openbmc/dbus-sensors",
    "branch": "master",
    "id": "Ia588ee0971e3d4e79a9827ffd6f39398725a4273",
    "number": 55956,
    "subject": "psusensor: Determine PSU threshold dynamically",
    "owner": {
        "name": "Vikash Chandola",
        "email": "vikash.chandola@intel.com",
        "username": "vikash-chandola"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/dbus-sensors/+/55956",
    "hashtags": [],
    "createdOn": 1658925066,
    "lastUpdated": 1666125370,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1658925066,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1658925088,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1659144011,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 1:\n\n(5 comments)"
        },
        {
            "timestamp": 1659414643,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Patch Set 1:\n\n(5 comments)"
        },
        {
            "timestamp": 1659414676,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Uploaded patch set 2: New patch set was added with same tree, parent, and commit message as Patch Set 1."
        },
        {
            "timestamp": 1659414696,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659414696,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1659414702,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Uploaded patch set 3: New patch set was added with same tree, parent, and commit message as Patch Set 2."
        },
        {
            "timestamp": 1659414713,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/48180/ : FAILURE"
        },
        {
            "timestamp": 1659414718,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1659414746,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659414746,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1659414948,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48181/ : SUCCESS"
        },
        {
            "timestamp": 1659553977,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1659556689,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1659617073,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1659633248,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1659636989,
            "reviewer": {
                "name": "Saravanan Palanisamy",
                "email": "saravanan.palanisamy@linux.intel.com",
                "username": "saravanan-palanisamy"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1659705030,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1659705045,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659705045,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1659705077,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/48605/ : FAILURE"
        },
        {
            "timestamp": 1659705112,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Patch Set 5:\n\n(3 comments)"
        },
        {
            "timestamp": 1659705422,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1659705455,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659705465,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1659705652,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48606/ : SUCCESS"
        },
        {
            "timestamp": 1659714207,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 6:\n\n(3 comments)"
        },
        {
            "timestamp": 1659947698,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1659947734,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659947735,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1659947752,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/48721/ : FAILURE"
        },
        {
            "timestamp": 1659948833,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Uploaded patch set 8."
        },
        {
            "timestamp": 1659948874,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659948874,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: -Ok-To-Test"
        },
        {
            "timestamp": 1659948890,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/48722/ : FAILURE"
        },
        {
            "timestamp": 1659950053,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Uploaded patch set 9."
        },
        {
            "timestamp": 1659950073,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Patch Set 9:\n\n(5 comments)"
        },
        {
            "timestamp": 1659950089,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659950089,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: -Ok-To-Test"
        },
        {
            "timestamp": 1659950287,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48723/ : SUCCESS"
        },
        {
            "timestamp": 1659983054,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 9: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1660111244,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Patch Set 9:\n\n(1 comment)"
        },
        {
            "timestamp": 1660142153,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 9:\n\n(2 comments)"
        },
        {
            "timestamp": 1660207829,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Uploaded patch set 10: Commit message was updated."
        },
        {
            "timestamp": 1660207846,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Patch Set 9:\n\n(2 comments)"
        },
        {
            "timestamp": 1660307460,
            "reviewer": {
                "name": "Jayashree Dhanapal",
                "email": "jayashree-d@hcl.com",
                "username": "Jayashree-D"
            },
            "message": "Patch Set 10: Code-Review+1"
        },
        {
            "timestamp": 1660388763,
            "reviewer": {
                "name": "Saravanan Palanisamy",
                "email": "saravanan.palanisamy@linux.intel.com",
                "username": "saravanan-palanisamy"
            },
            "message": "Patch Set 10: Code-Review+1"
        },
        {
            "timestamp": 1660651169,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1661231591,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1661752765,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Uploaded patch set 11."
        },
        {
            "timestamp": 1661752826,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1661752826,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: -Ok-To-Test"
        },
        {
            "timestamp": 1661753083,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/49968/ : FAILURE"
        },
        {
            "timestamp": 1661753685,
            "reviewer": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "message": "Uploaded patch set 12."
        },
        {
            "timestamp": 1661753787,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1661753787,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: -Ok-To-Test"
        },
        {
            "timestamp": 1661753989,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/49969/ : SUCCESS"
        },
        {
            "timestamp": 1661798744,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 12: Code-Review+1"
        },
        {
            "timestamp": 1663109649,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 12:\n\n(1 comment)"
        },
        {
            "timestamp": 1663939187,
            "reviewer": {
                "name": "Jayashree Dhanapal",
                "email": "jayashree-d@hcl.com",
                "username": "Jayashree-D"
            },
            "message": "Patch Set 12: Code-Review+1"
        },
        {
            "timestamp": 1663956623,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 12:\n\n(3 comments)"
        },
        {
            "timestamp": 1663957118,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 12:\n\n(4 comments)"
        },
        {
            "timestamp": 1663957164,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 12:\n\n(1 comment)"
        },
        {
            "timestamp": 1664042506,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 12:\n\n(1 comment)"
        },
        {
            "timestamp": 1666125370,
            "reviewer": {
                "name": "Nikhil Jain C S",
                "email": "nikhil.jain.c.s@intel.com",
                "username": "njaincs"
            },
            "message": "Patch Set 12:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "2d2cd77689cff9146d12642f0b68123eec76354c",
            "parents": [
                "92f8f5156ca6c8e32c1a0e60ed65ea7133025db1"
            ],
            "ref": "refs/changes/56/55956/1",
            "uploader": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "createdOn": 1658925066,
            "author": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 857,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "Put sensorPathStr before labelHead can avoid adding nullptr in this call"
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 857,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "parseThresholdsFromConfig is called in 12 other places. Adding sensorPathStr before labelHead will require changing arguments for few of these.\nCurrently only psu sensor is using sensorPathStr so nullptr argument is applicable only for psusensor. If we move sensorPathStr before labelHead then other callers will have to add nullptr. I think this will just shift problem(of having nullptr in arguments) from one place to another. Do you think it will be better to keep current way ?"
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 857,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "What about: label, sensorPathStr, sensorIndex\nWill that work?"
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 857,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "This will require change in HwmonTempMain.cpp:384 and HwmonTempMain.cpp:461. An extra nullptr will have to be inserted for fourth argument for both calls."
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 857,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "Ack"
                },
                {
                    "file": "src/Thresholds.cpp",
                    "line": 62,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "duplicating part of function at https://gerrit.openbmc.org/c/openbmc/dbus-sensors/+/55956/1/src/Thresholds.cpp#524\n\nConsider refactor to avoid duplication"
                },
                {
                    "file": "src/Thresholds.cpp",
                    "line": 62,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "parseThresholdFromAttr(in given link location) is taking sensor path as input and provides vector of thresholds. This threshold vector have one entry per sysfs file. This doesn't look to be suiting current use case where we want to use one sysfs file for generating two thresholds with different scaling factor.\nPlease advice if you think it is possible to reuse parseThresholdFromAttr here."
                },
                {
                    "file": "src/Thresholds.cpp",
                    "line": 62,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "the new function can use thresholdLabelSuffix to create the map struct\n{\"input\",\n             {\n                 std::make_tuple(thresholdLabelSuffix, Level::WARNING, Direction::High, 0.0),\n             }},\n\n\nline 550-572 can be the common function that accepts map struct to create the thresholds.\n\nMaybe map will also include scaleFactor."
                },
                {
                    "file": "src/Thresholds.cpp",
                    "line": 62,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "I think this still doesn't solve the problem of setting all threshold in one call. If we resuse 550 to 572 then it will need all thresholds in one go(currently done with map). parseThresholdFromAttr gives all thresholds in one call whereas current use case needs one threshdold value at a time. Also parseThresholdsFromConfig needs single double value but parseThresholdFromAttr is giving threshold object(Even after we break up parseThresholdsFromAttr)."
                },
                {
                    "file": "src/Thresholds.cpp",
                    "line": 62,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "That is fair. It is easier to understand the logic with the way it is."
                },
                {
                    "file": "src/Thresholds.cpp",
                    "line": 62,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/Thresholds.cpp",
                    "line": 117,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "move before use"
                },
                {
                    "file": "src/Thresholds.cpp",
                    "line": 117,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "Ack"
                },
                {
                    "file": "src/Thresholds.cpp",
                    "line": 139,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "nit: switch if and else for easier diff and review"
                },
                {
                    "file": "src/Thresholds.cpp",
                    "line": 139,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "Ack"
                },
                {
                    "file": "src/Thresholds.cpp",
                    "line": 145,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "this can be checked before line 141"
                },
                {
                    "file": "src/Thresholds.cpp",
                    "line": 145,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "include/Thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/Thresholds.cpp",
                    "type": "MODIFIED",
                    "insertions": 54,
                    "deletions": -4
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 79,
            "sizeDeletions": 6
        },
        {
            "number": 2,
            "revision": "3264dc19746416afa7d7a1cc6fac08fd17e9de23",
            "parents": [
                "92f8f5156ca6c8e32c1a0e60ed65ea7133025db1"
            ],
            "ref": "refs/changes/56/55956/2",
            "uploader": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "createdOn": 1659414676,
            "author": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "kind": "NO_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "include/Thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/Thresholds.cpp",
                    "type": "MODIFIED",
                    "insertions": 54,
                    "deletions": -4
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 79,
            "sizeDeletions": 6
        },
        {
            "number": 3,
            "revision": "a95b04ea4174f21f18876fb151930d7ae4c29809",
            "parents": [
                "92f8f5156ca6c8e32c1a0e60ed65ea7133025db1"
            ],
            "ref": "refs/changes/56/55956/3",
            "uploader": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "createdOn": 1659414702,
            "author": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "kind": "NO_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "include/Thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/Thresholds.cpp",
                    "type": "MODIFIED",
                    "insertions": 54,
                    "deletions": -4
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 79,
            "sizeDeletions": 6
        },
        {
            "number": 4,
            "revision": "337fa46212d46b278f40388a188701abb8088c51",
            "parents": [
                "92f8f5156ca6c8e32c1a0e60ed65ea7133025db1"
            ],
            "ref": "refs/changes/56/55956/4",
            "uploader": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "createdOn": 1659414718,
            "author": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This is a new property, and arguably shouldn't be in the EM config files.  This puts sysfs specific interfaces in the config files, which should be avoided."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "My thought around keeping it EM config file was to let code be driven by data in configuration file so if some other daemon wants to get their thresholds set with some other suffix then that can be handled commonly. This also allows thresholds to be set in PSU specific manner. Say PSU of type1 wants warning to be 0.8 times max and PSU of type2 wants it to be 1.2 times rated_max then this can be done with PSU specific configuration file.\nDo you think it's good idea to continue with this ? Or we should approach by using separate code path for current thresholds ?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> My thought around keeping it EM config file was to let code be driven by data in configuration file so if some other daemon wants to get their thresholds set with some other suffix then that can be handled commonly.\n\nThe above is fine, but you need to define a well formed and testable enum for it.  it can MAP to sysfs in naming if you want, but it shouldn't be used directly as a sysfs path.\n\n\n> This also allows thresholds to be set in PSU specific manner. Say PSU of type1 wants warning to be 0.8 times max and PSU of type2 wants it to be 1.2 times rated_max then this can be done with PSU specific configuration file.\n\nSure, the ScaleFactor stuff is reasonable.\n\n> Do you think it's good idea to continue with this ? Or we should approach by using separate code path for current thresholds ?\n\nI think it's fine to continue it, just please don't directly use sysfs strings in the config files.  Make an enum, or parameter that has a schema for it."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "Added enum in place of string. enum gets decoded in psusensor with a dictionary."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 13,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please answer why this is desired.  Also, please mention the last time we tried to add this feature, and had to revert it (the history should be in the git log), and why this time it's different."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 13,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "This change is desired because PSU will not be able to deliver same amount of current in low line as it can deliver on high line. 1600W PSU and easily deliver 133A for extended period of time without any hiccup in high line and but not on low line. Please have a look at em changes. I have added more context there.\nhttps://gerrit.openbmc.org/c/openbmc/entity-manager/+/55957\n\nIn git logs I see one attempt to do similar change(484b9b37530a52f10a606abff23b345a4ec6ab2a) for \"MaxValue\" and \"MinValue\" which was later reverted. I think this is the one you are pointing. power<>_rated_max was power<>_rated_min were used in this change for setting min and max values. rated_max/rated_min gives rated power capacities. PSU can serve more power than it's rated values. This was probably reason for later revert(in 3fed6742dcfe30fe2fa5182dd37c3e1a0e337a43).\n\nThis change is different because here we will work with max values, for example on 1600W PSU at 220V input curr2_max is 180A and rated_max is 133A. Hence problem that was applicable in above mentioned change is not applicable here. and also previously change was to set max/min power value but this time current threshold."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 13,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I will read the above when it's put into the commit message, as the comment asks."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 13,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "Updated commit message with Why this change is desired."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 13,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "Ack"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 13,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> Also, please mention the last time we tried to add this feature, and had to revert it (the history should be in the git log), and why this time it's different.\n\nThis request seems to have been ignored."
                },
                {
                    "file": "src/Thresholds.cpp",
                    "line": 138,
                    "reviewer": {
                        "name": "Saravanan Palanisamy",
                        "email": "saravanan.palanisamy@linux.intel.com",
                        "username": "saravanan-palanisamy"
                    },
                    "message": "Please refer my comment in other review for this logic:\nhttps://gerrit.openbmc.org/c/openbmc/entity-manager/+/55957/3/configurations/solum_pssf162202_psu.json#142"
                },
                {
                    "file": "src/Thresholds.cpp",
                    "line": 138,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 22,
                    "deletions": 0
                },
                {
                    "file": "include/Thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/Thresholds.cpp",
                    "type": "MODIFIED",
                    "insertions": 59,
                    "deletions": -5
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 84,
            "sizeDeletions": 7
        },
        {
            "number": 5,
            "revision": "366153508b1771e041649c433c4e6470ce209d5b",
            "parents": [
                "88cb29d203b2c266eb246a4d9ac533566bd0d368"
            ],
            "ref": "refs/changes/56/55956/5",
            "uploader": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "createdOn": 1659705030,
            "author": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "include/Thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/Thresholds.cpp",
                    "type": "MODIFIED",
                    "insertions": 59,
                    "deletions": -6
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 91,
            "sizeDeletions": 8
        },
        {
            "number": 6,
            "revision": "c820894e2dbab6649dd060cff2972b8803fdd71f",
            "parents": [
                "88cb29d203b2c266eb246a4d9ac533566bd0d368"
            ],
            "ref": "refs/changes/56/55956/6",
            "uploader": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "createdOn": 1659705422,
            "author": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/Thresholds.cpp",
                    "line": 46,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "nit:H"
                },
                {
                    "file": "src/Thresholds.cpp",
                    "line": 46,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "Ack"
                },
                {
                    "file": "src/Thresholds.cpp",
                    "line": 172,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "nit: value configuration"
                },
                {
                    "file": "src/Thresholds.cpp",
                    "line": 172,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "include/Thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/Thresholds.cpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": -6
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 90,
            "sizeDeletions": 8
        },
        {
            "number": 7,
            "revision": "563efbe413780a99f592441dd501abe414496078",
            "parents": [
                "88cb29d203b2c266eb246a4d9ac533566bd0d368"
            ],
            "ref": "refs/changes/56/55956/7",
            "uploader": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "createdOn": 1659947698,
            "author": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "include/Thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/Thresholds.cpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": -6
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 90,
            "sizeDeletions": 8
        },
        {
            "number": 8,
            "revision": "621754493bd76e6afe9f195cdd864ecbf08ad9b4",
            "parents": [
                "88cb29d203b2c266eb246a4d9ac533566bd0d368"
            ],
            "ref": "refs/changes/56/55956/8",
            "uploader": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "createdOn": 1659948833,
            "author": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "include/Thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/Thresholds.cpp",
                    "type": "MODIFIED",
                    "insertions": 59,
                    "deletions": -6
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 91,
            "sizeDeletions": 8
        },
        {
            "number": 9,
            "revision": "4f354961ebfac0d92fee87ec354f98e6614f93c7",
            "parents": [
                "88cb29d203b2c266eb246a4d9ac533566bd0d368"
            ],
            "ref": "refs/changes/56/55956/9",
            "uploader": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "createdOn": 1659950053,
            "author": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "line wrap 50/72 please"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "Done"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 21,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "What do these parameters do? When would a user set them?  How are they calculated?  Please answer in your commit message.\n\nAlso, \"ThresholdLabel\" isn't really how you would model this given that it's a sysfs specific parameter.\n\nWhy is ScaleFactor needed at all?  doesn't scale factor come from sysfs?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 21,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "Updated commit message please check.\n\n> Also, \"ThresholdLabel\" isn't really how you would model this given that it's a sysfs specific parameter.\n\nAs per your suggestion ThresholdLabel is enum here which points to pmbus register name rather than sysfs entry name."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 21,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "@ed please check."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 21,
                    "reviewer": {
                        "name": "Vikash Chandola",
                        "email": "vikash.chandola@intel.com",
                        "username": "vikash-chandola"
                    },
                    "message": "gentle reminder for review. Is current approach acceptable ? If not then how can current problem can be solved ?"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "include/Thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/Thresholds.cpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": -6
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 90,
            "sizeDeletions": 8
        },
        {
            "number": 10,
            "revision": "102250f689e7d18e4f53c289a138afc4b1549f00",
            "parents": [
                "88cb29d203b2c266eb246a4d9ac533566bd0d368"
            ],
            "ref": "refs/changes/56/55956/10",
            "uploader": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "createdOn": 1660207829,
            "author": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 34,
                    "deletions": 0
                },
                {
                    "file": "include/Thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/Thresholds.cpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": -6
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 95,
            "sizeDeletions": 8
        },
        {
            "number": 11,
            "revision": "003170840ef6fea1fb7d6a3da13c47584fc2c296",
            "parents": [
                "6c106d66e390352a6914e8dc5ddad20943eceaa6"
            ],
            "ref": "refs/changes/56/55956/11",
            "uploader": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "createdOn": 1661752765,
            "author": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 34,
                    "deletions": 0
                },
                {
                    "file": "include/Thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/Thresholds.cpp",
                    "type": "MODIFIED",
                    "insertions": 57,
                    "deletions": -5
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 94,
            "sizeDeletions": 7
        },
        {
            "number": 12,
            "revision": "51d459c3e18fc438eaa3a8f0aaf5fc3d9ec83e26",
            "parents": [
                "6c106d66e390352a6914e8dc5ddad20943eceaa6"
            ],
            "ref": "refs/changes/56/55956/12",
            "uploader": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "createdOn": 1661753685,
            "author": {
                "name": "Vikash Chandola",
                "email": "vikash.chandola@intel.com",
                "username": "vikash-chandola"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 21,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "So this is more of a percentage than a scale factor.  In this case, should these be made a percentage, with a parameter like:\n\nThresholdPercentageOfMax: 80.0\n\nI think that's a lot more clear what's going on in the calculation than a scale factor."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 25,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Is there any other use case of determining this from anything other than max?  I can't really think of one, so I wonder if we can make this more explicit."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 28,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "What does \"high\" and \"low\" mean?  220V versus 120V?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "@Ed, what do you think about the latest patch and reply to your question. Have you concerns been addressed?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Left comments.  some things have been addressed;  I'd like the naming conventions in the config files updated to what the code now does, and secure coding violations addressed."
                },
                {
                    "file": "include/Thresholds.hpp",
                    "line": 120,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This is the wrong place to be putting this logic.  Lots of sensors have no path string, so adding it here is breaking the abstraction.  What needs to happen here is for the thresholds::Threshold object to be updated with the new params being supported in this case, and then have the individual implementations inside PSUSensor read and fill those thresholds in when that config comes.\n\nThat also prevents us from having to declare an intentionally default parameter in every call site, as you've done."
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 862,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I'm a little surprised this passed CI.  the spacing is wrong."
                },
                {
                    "file": "src/Thresholds.cpp",
                    "line": 46,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please don't construct static maps like this.  They use memory at all times, are slower, and increase startup times.  In this case, I'm pretty sure you want\n\nconstexpr std::array<std::string_view, 2>"
                },
                {
                    "file": "src/Thresholds.cpp",
                    "line": 80,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Secure coding violation.  ScaleFactor: 0.0 will make this code seg-fault.  If we go to percentages, I think this problem gets solved."
                },
                {
                    "file": "src/Thresholds.cpp",
                    "line": 132,
                    "reviewer": {
                        "name": "Nikhil Jain C S",
                        "email": "nikhil.jain.c.s@intel.com",
                        "username": "njaincs"
                    },
                    "message": "should be in Camel case?"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 34,
                    "deletions": 0
                },
                {
                    "file": "include/Thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -1
                },
                {
                    "file": "src/Thresholds.cpp",
                    "type": "MODIFIED",
                    "insertions": 57,
                    "deletions": -6
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 94,
            "sizeDeletions": 8
        }
    ]
}