{
    "project": "openbmc/libmctp",
    "branch": "master",
    "topic": "astlpc-events",
    "id": "Ibc2bbc1d75b031e4422429d606e6345d794cb44d",
    "number": 56317,
    "subject": "mctp-demux-daemon: Exploit binding mctp_*_init_pollfd() APIs",
    "owner": {
        "name": "Andrew Jeffery",
        "email": "andrew@aj.id.au",
        "username": "amboar"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/libmctp/+/56317",
    "hashtags": [],
    "createdOn": 1659708485,
    "lastUpdated": 1660093936,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1659708485,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1659708528,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659708528,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1659708556,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48614/ : SUCCESS"
        },
        {
            "timestamp": 1659917821,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1659924946,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1659930749,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1659930790,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659930790,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1659930820,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48701/ : SUCCESS"
        },
        {
            "timestamp": 1659931377,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Patch Set 2: Code-Review+2"
        },
        {
            "timestamp": 1659942060,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Change has been successfully rebased and submitted as 8f53d6310bd166670b123b982c38b32e8a3a877b"
        },
        {
            "timestamp": 1660027310,
            "reviewer": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1660027438,
            "reviewer": {
                "name": "Jeremy Kerr",
                "email": "jk@ozlabs.org",
                "username": "jk-ozlabs"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1660092672,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1660093936,
            "reviewer": {
                "name": "Rashmica K Gupta",
                "email": "rashmica@linux.ibm.com",
                "username": "RashmicaG"
            },
            "message": "Patch Set 3: Code-Review+1\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "43c0f6ad7680f8f4eef2514adb43a883538c307a",
            "parents": [
                "84a0b00b930662497d418bb604eace55795a1366"
            ],
            "ref": "refs/changes/17/56317/1",
            "uploader": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "createdOn": 1659708485,
            "author": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "If you update mctp-astlpc-daemon.c too, we can get rid of all of the get_fd() implementations as well..."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "That sounds like a good win. I'll do that."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "utils/mctp-demux-daemon.c",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -19
                }
            ],
            "sizeInsertions": 32,
            "sizeDeletions": 19
        },
        {
            "number": 2,
            "revision": "d4372121290fac5df4681f7d20e351d0876303bb",
            "parents": [
                "b589fa89bcd14d4b09f4c3911653928739e64439"
            ],
            "ref": "refs/changes/17/56317/2",
            "uploader": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "createdOn": 1659930749,
            "author": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "libmctp-astlpc.h",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -1
                },
                {
                    "file": "astlpc.c",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -11
                },
                {
                    "file": "utils/mctp-demux-daemon.c",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -19
                },
                {
                    "file": "serial.c",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -5
                },
                {
                    "file": "libmctp-serial.h",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -2
                },
                {
                    "file": "utils/mctp-astlpc-daemon.c",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 36,
            "sizeDeletions": 40
        },
        {
            "number": 3,
            "revision": "8f53d6310bd166670b123b982c38b32e8a3a877b",
            "parents": [
                "1111c6a5dc950cfb01977fb6217405f4ee6a6c66"
            ],
            "ref": "refs/changes/17/56317/3",
            "uploader": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "createdOn": 1659942060,
            "author": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "utils/mctp-astlpc-daemon.c",
                    "line": 73,
                    "reviewer": {
                        "name": "Rashmica K Gupta",
                        "email": "rashmica@linux.ibm.com",
                        "username": "RashmicaG"
                    },
                    "message": "What is going on here? We don't want to use this code at the moment but plan to later?"
                },
                {
                    "file": "utils/mctp-astlpc-daemon.c",
                    "line": 73,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "This was as I found it :) Maybe we could consider cutting it out."
                },
                {
                    "file": "utils/mctp-demux-daemon.c",
                    "line": 506,
                    "reviewer": {
                        "name": "Rashmica K Gupta",
                        "email": "rashmica@linux.ibm.com",
                        "username": "RashmicaG"
                    },
                    "message": "I'm not sure I understand why this is here and not outside the for loop?"
                },
                {
                    "file": "utils/mctp-demux-daemon.c",
                    "line": 506,
                    "reviewer": {
                        "name": "Jeremy Kerr",
                        "email": "jk@ozlabs.org",
                        "username": "jk-ozlabs"
                    },
                    "message": "The requested events may need to differ on each poll() invocation"
                },
                {
                    "file": "utils/mctp-demux-daemon.c",
                    "line": 506,
                    "reviewer": {
                        "name": "Rashmica K Gupta",
                        "email": "rashmica@linux.ibm.com",
                        "username": "RashmicaG"
                    },
                    "message": "Okay."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "libmctp-astlpc.h",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -1
                },
                {
                    "file": "astlpc.c",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -11
                },
                {
                    "file": "utils/mctp-demux-daemon.c",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": -19
                },
                {
                    "file": "serial.c",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -5
                },
                {
                    "file": "libmctp-serial.h",
                    "type": "MODIFIED",
                    "insertions": 0,
                    "deletions": -2
                },
                {
                    "file": "utils/mctp-astlpc-daemon.c",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 36,
            "sizeDeletions": 40
        }
    ]
}