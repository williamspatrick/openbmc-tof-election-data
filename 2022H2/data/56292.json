{
    "project": "openbmc/phosphor-virtual-sensor",
    "branch": "master",
    "id": "I0f5eeb06d0b3aaf4f5806bfa68672dedcb087f26",
    "number": 56292,
    "subject": "Update threshold to entity-manager",
    "owner": {
        "name": "lintao.lc",
        "email": "lintao.lc@inspur.com",
        "username": "lintaoInspur"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-virtual-sensor/+/56292",
    "hashtags": [],
    "createdOn": 1659667506,
    "lastUpdated": 1667319368,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1659667506,
            "reviewer": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1659667537,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659667537,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1659667720,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48582/ : SUCCESS"
        },
        {
            "timestamp": 1659668919,
            "reviewer": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "message": "Uploaded patch set 2: Commit message was updated."
        },
        {
            "timestamp": 1659669210,
            "reviewer": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "message": "Uploaded patch set 3: New patch set was added with same tree, parent, and commit message as Patch Set 2."
        },
        {
            "timestamp": 1659669240,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1"
        },
        {
            "timestamp": 1659669267,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659669267,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1659669454,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48584/ : SUCCESS"
        },
        {
            "timestamp": 1659687663,
            "reviewer": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "message": "Uploaded patch set 4: Commit message was updated."
        },
        {
            "timestamp": 1659705854,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1659752418,
            "reviewer": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "message": "Uploaded patch set 5: Commit message was updated."
        },
        {
            "timestamp": 1659760760,
            "reviewer": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1659924670,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Patch Set 5:\n\n(4 comments)"
        },
        {
            "timestamp": 1659942331,
            "reviewer": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1659942393,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659942393,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1659942419,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/48708/ : FAILURE"
        },
        {
            "timestamp": 1659942858,
            "reviewer": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1659942893,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659942893,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1659943074,
            "reviewer": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "message": "Patch Set 7:\n\n(5 comments)"
        },
        {
            "timestamp": 1659943497,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48709/ : SUCCESS"
        },
        {
            "timestamp": 1659951183,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1660008241,
            "reviewer": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "message": "Uploaded patch set 8."
        },
        {
            "timestamp": 1660008303,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1660008303,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: -Ok-To-Test"
        },
        {
            "timestamp": 1660008363,
            "reviewer": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "message": "Patch Set 8:\n\n(1 comment)"
        },
        {
            "timestamp": 1660008484,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48769/ : SUCCESS"
        },
        {
            "timestamp": 1660009458,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Patch Set 8: Code-Review+1"
        },
        {
            "timestamp": 1660057370,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 8:\n\n(2 comments)"
        },
        {
            "timestamp": 1660095180,
            "reviewer": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "message": "Uploaded patch set 9: Commit message was updated."
        },
        {
            "timestamp": 1660095270,
            "reviewer": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "message": "Patch Set 9:\n\n(2 comments)"
        },
        {
            "timestamp": 1660139182,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 9:\n\n(1 comment)"
        },
        {
            "timestamp": 1660180483,
            "reviewer": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "message": "Uploaded patch set 10."
        },
        {
            "timestamp": 1660180518,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1660180518,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: -Ok-To-Test"
        },
        {
            "timestamp": 1660180592,
            "reviewer": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "message": "Patch Set 10:\n\n(1 comment)"
        },
        {
            "timestamp": 1660180700,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48973/ : SUCCESS"
        },
        {
            "timestamp": 1661247224,
            "reviewer": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "message": "Uploaded patch set 11: Commit message was updated."
        },
        {
            "timestamp": 1662655812,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 11:\n\n(1 comment)"
        },
        {
            "timestamp": 1662659416,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 11:\n\n(1 comment)"
        },
        {
            "timestamp": 1663235987,
            "reviewer": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "message": "Patch Set 11:\n\n(1 comment)"
        },
        {
            "timestamp": 1664151804,
            "reviewer": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "message": "Patch Set 11:\n\n(1 comment)"
        },
        {
            "timestamp": 1665193976,
            "reviewer": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "message": "Uploaded patch set 12."
        },
        {
            "timestamp": 1665194055,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1665194055,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: -Ok-To-Test"
        },
        {
            "timestamp": 1665194169,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/53175/ : SUCCESS"
        },
        {
            "timestamp": 1667319364,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 12: Code-Review+2"
        },
        {
            "timestamp": 1667319368,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Change has been successfully rebased and submitted as 91799dbd7bde184f1c7db1525df9329e841512ad"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "4a33c732100f8f143e65ad5b3f557ad61b0b612f",
            "parents": [
                "fb469a2a4aeb3ba838610002390fd7ed792bf9c7"
            ],
            "ref": "refs/changes/92/56292/1",
            "uploader": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "createdOn": 1659667506,
            "author": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 121,
                    "deletions": -4
                },
                {
                    "file": "dbusUtils.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": 0
                },
                {
                    "file": "virtualSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 65,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 238,
            "sizeDeletions": 8
        },
        {
            "number": 2,
            "revision": "162d05d8c5f83e499e759204478948a55d217de0",
            "parents": [
                "f0fe5d41341ce11a4e51a368d958b8923dc26bb5"
            ],
            "ref": "refs/changes/92/56292/2",
            "uploader": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "createdOn": 1659668919,
            "author": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 21,
                    "deletions": 0
                },
                {
                    "file": "thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 121,
                    "deletions": -4
                },
                {
                    "file": "dbusUtils.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": 0
                },
                {
                    "file": "virtualSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 65,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 241,
            "sizeDeletions": 8
        },
        {
            "number": 3,
            "revision": "763cdd46ac33b3b37c44bfd7e862d996a5493a4b",
            "parents": [
                "8332f9e7b5d15448386519e858870633d1de2d0f"
            ],
            "ref": "refs/changes/92/56292/3",
            "uploader": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "createdOn": 1659669210,
            "author": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "kind": "NO_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 21,
                    "deletions": 0
                },
                {
                    "file": "thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 121,
                    "deletions": -4
                },
                {
                    "file": "dbusUtils.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": 0
                },
                {
                    "file": "virtualSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 65,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 241,
            "sizeDeletions": 8
        },
        {
            "number": 4,
            "revision": "b7a5ffa2529722cd9cffcb6740e62d0e983a684c",
            "parents": [
                "e23eb36ecc770a6e4fd53abe1a947e15f93be214"
            ],
            "ref": "refs/changes/92/56292/4",
            "uploader": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "createdOn": 1659687663,
            "author": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Strange indenting here.\n\nAlso, could you add more to the description, including why you're doing it?  And maybe a summary of all of the command output you have below?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "lintao.lc",
                        "email": "lintao.lc@inspur.com",
                        "username": "lintaoInspur"
                    },
                    "message": "update commit msg"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "lintao.lc",
                        "email": "lintao.lc@inspur.com",
                        "username": "lintaoInspur"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 81,
                    "deletions": 0
                },
                {
                    "file": "thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 121,
                    "deletions": -4
                },
                {
                    "file": "dbusUtils.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": 0
                },
                {
                    "file": "virtualSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 65,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 301,
            "sizeDeletions": 8
        },
        {
            "number": 5,
            "revision": "6559d97c9bb4b05404b8f8d7472a9e2b8c6c7a1e",
            "parents": [
                "4f3ff8ba6baa295a6e1d5c6491d7d4205045a4fa"
            ],
            "ref": "refs/changes/92/56292/5",
            "uploader": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "createdOn": 1659752418,
            "author": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "dbusUtils.hpp",
                    "line": 91,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Nit: remove, because we can catch it if they are empty"
                },
                {
                    "file": "dbusUtils.hpp",
                    "line": 91,
                    "reviewer": {
                        "name": "lintao.lc",
                        "email": "lintao.lc@inspur.com",
                        "username": "lintaoInspur"
                    },
                    "message": "Sensor may not be from DBUS,they are empty."
                },
                {
                    "file": "dbusUtils.hpp",
                    "line": 91,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "> Sensor may not be from DBUS,they are empty.\n\nIf so that, it will still go into the catch(L: 202), and return -1 right?"
                },
                {
                    "file": "dbusUtils.hpp",
                    "line": 91,
                    "reviewer": {
                        "name": "lintao.lc",
                        "email": "lintao.lc@inspur.com",
                        "username": "lintaoInspur"
                    },
                    "message": "Put them all in try catch."
                },
                {
                    "file": "thresholds.hpp",
                    "line": 124,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Should we need to update the `warningHigh` property if the return value of the setDbusProperty method is -1?"
                },
                {
                    "file": "thresholds.hpp",
                    "line": 124,
                    "reviewer": {
                        "name": "lintao.lc",
                        "email": "lintao.lc@inspur.com",
                        "username": "lintaoInspur"
                    },
                    "message": "Sensor may not be from DBus. Only from DBus need to set entityManager."
                },
                {
                    "file": "thresholds.hpp",
                    "line": 154,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Add comment, like L: 264"
                },
                {
                    "file": "thresholds.hpp",
                    "line": 154,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "setEntityPath"
                },
                {
                    "file": "thresholds.hpp",
                    "line": 154,
                    "reviewer": {
                        "name": "lintao.lc",
                        "email": "lintao.lc@inspur.com",
                        "username": "lintaoInspur"
                    },
                    "message": "Done"
                },
                {
                    "file": "thresholds.hpp",
                    "line": 154,
                    "reviewer": {
                        "name": "lintao.lc",
                        "email": "lintao.lc@inspur.com",
                        "username": "lintaoInspur"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 90,
                    "deletions": 0
                },
                {
                    "file": "thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 121,
                    "deletions": -4
                },
                {
                    "file": "dbusUtils.hpp",
                    "type": "MODIFIED",
                    "insertions": 34,
                    "deletions": 0
                },
                {
                    "file": "virtualSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 65,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 310,
            "sizeDeletions": 8
        },
        {
            "number": 6,
            "revision": "325ca1df71e5e52b2eb60d7177c0ae66f471ce45",
            "parents": [
                "4f3ff8ba6baa295a6e1d5c6491d7d4205045a4fa"
            ],
            "ref": "refs/changes/92/56292/6",
            "uploader": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "createdOn": 1659942331,
            "author": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 54,
                    "deletions": 0
                },
                {
                    "file": "thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 123,
                    "deletions": -4
                },
                {
                    "file": "dbusUtils.hpp",
                    "type": "MODIFIED",
                    "insertions": 37,
                    "deletions": 0
                },
                {
                    "file": "virtualSensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": -13
                },
                {
                    "file": "virtualSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 66,
                    "deletions": -22
                }
            ],
            "sizeInsertions": 281,
            "sizeDeletions": 39
        },
        {
            "number": 7,
            "revision": "02fa4a3e13ea135222e2c6cb83be825bdd668079",
            "parents": [
                "4f3ff8ba6baa295a6e1d5c6491d7d4205045a4fa"
            ],
            "ref": "refs/changes/92/56292/7",
            "uploader": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "createdOn": 1659942858,
            "author": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 54,
                    "deletions": 0
                },
                {
                    "file": "thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 123,
                    "deletions": -4
                },
                {
                    "file": "dbusUtils.hpp",
                    "type": "MODIFIED",
                    "insertions": 37,
                    "deletions": 0
                },
                {
                    "file": "virtualSensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -9
                },
                {
                    "file": "virtualSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 66,
                    "deletions": -22
                }
            ],
            "sizeInsertions": 282,
            "sizeDeletions": 35
        },
        {
            "number": 8,
            "revision": "8fd44287bbc7fdca35eaf52ac6ea80629c1d6bbe",
            "parents": [
                "4f3ff8ba6baa295a6e1d5c6491d7d4205045a4fa"
            ],
            "ref": "refs/changes/92/56292/8",
            "uploader": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "createdOn": 1660008241,
            "author": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "how about something like:  save threshold updates in entity-manager"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "lintao.lc",
                        "email": "lintao.lc@inspur.com",
                        "username": "lintaoInspur"
                    },
                    "message": "Done"
                },
                {
                    "file": "virtualSensor.hpp",
                    "line": 121,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "looks like you removed the previous commits changes?"
                },
                {
                    "file": "virtualSensor.hpp",
                    "line": 121,
                    "reviewer": {
                        "name": "lintao.lc",
                        "email": "lintao.lc@inspur.com",
                        "username": "lintaoInspur"
                    },
                    "message": "Yes. It's in another submission. They are the same, so this submission deletes this part."
                },
                {
                    "file": "virtualSensor.hpp",
                    "line": 121,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "since this commit is stacked on top of that one, if these were to merge as is you would be removing that functionality."
                },
                {
                    "file": "virtualSensor.hpp",
                    "line": 121,
                    "reviewer": {
                        "name": "lintao.lc",
                        "email": "lintao.lc@inspur.com",
                        "username": "lintaoInspur"
                    },
                    "message": "cherry-pick done."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 54,
                    "deletions": 0
                },
                {
                    "file": "thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 123,
                    "deletions": -4
                },
                {
                    "file": "dbusUtils.hpp",
                    "type": "MODIFIED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "virtualSensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -9
                },
                {
                    "file": "virtualSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 66,
                    "deletions": -22
                }
            ],
            "sizeInsertions": 272,
            "sizeDeletions": 35
        },
        {
            "number": 9,
            "revision": "b895834d3908435f7a3c0ef3d570b28df3656be8",
            "parents": [
                "4f3ff8ba6baa295a6e1d5c6491d7d4205045a4fa"
            ],
            "ref": "refs/changes/92/56292/9",
            "uploader": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "createdOn": 1660095180,
            "author": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 55,
                    "deletions": 0
                },
                {
                    "file": "thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 123,
                    "deletions": -4
                },
                {
                    "file": "dbusUtils.hpp",
                    "type": "MODIFIED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "virtualSensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 2,
                    "deletions": -9
                },
                {
                    "file": "virtualSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 66,
                    "deletions": -22
                }
            ],
            "sizeInsertions": 273,
            "sizeDeletions": 35
        },
        {
            "number": 10,
            "revision": "07c4ac4bc0650ccf4e5e862ab9e3fd0d735a8efe",
            "parents": [
                "e0b8d7f104439be30f63610fcc842d5a308d05c7"
            ],
            "ref": "refs/changes/92/56292/10",
            "uploader": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "createdOn": 1660180483,
            "author": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 55,
                    "deletions": 0
                },
                {
                    "file": "thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 123,
                    "deletions": -4
                },
                {
                    "file": "dbusUtils.hpp",
                    "type": "MODIFIED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "virtualSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 65,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 270,
            "sizeDeletions": 8
        },
        {
            "number": 11,
            "revision": "303cfb592b8e383a3e9068f4d9b63b1e1f59a94e",
            "parents": [
                "e0b8d7f104439be30f63610fcc842d5a308d05c7"
            ],
            "ref": "refs/changes/92/56292/11",
            "uploader": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "createdOn": 1661247224,
            "author": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This seems like we are trying to set properties in entity manager configs?  I am not understanding.  I don't think this is expected.\n\nMaybe Ed can decipher what is going on here."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "There's some precedence for this, given that entity-manager owns the \"Configuration\" of the thresholds and there are user-facing APIs (Redfish/IPMI) that allow folks that to dynamically change the thresholds at runtime, which today are mapped to directly modifying the EM config, such that it can survive a reboot.\n\nWhat I don't really understand about this use case is that it's debatably trying to do the \"right thing\" in making the actual sensor object modifyable, with a write-through to EM, rather than dropping directly to entity-manager to adjust the config. This is going to birfurcate some flows, which admittedly are probably ill-designed, but doing _both_ seems worse to me, in that there's no consistent API (some sensors you modify thresholds through EM, some sensors you can modify directly)\n\nNow, in a normal reactor, changing any part of the config generally amounts to the object being destroyed and reconstructed, given that the hysteresis rules need to store reading-to-reading state, and that state needs destroyed when a threshold it changed to give the mathematically correct behavior.\n\nTo summarize:\n1. Yes, your use case is valid, but I think already supported.\n2. Please make your use case more clear about what daemon is actually setting these.  IPMI and Redfish already are capable of setting these parameters directly through EM, so it's not clear why we would add extra code specific to PVS."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "lintao.lc",
                        "email": "lintao.lc@inspur.com",
                        "username": "lintaoInspur"
                    },
                    "message": "I tried to learn the execution process of the following commands:\nipmitool sensor thresh  SYS_ 5V  ucr 7\n\nThe service that first receives and modifies the threshold is adcsensor; Then adcsensor passes the threshold data to EM.\nAll the sensors on the dbus sensos I know modify the threshold in this way.\n\n### Step 1:\ngetService:\nhttps://github.com/openbmc/phosphor-host-ipmid/blob/master/sensorhandler.cpp#L876\n\n\n```\nroot@NULL:~# busctl call  --verbose   xyz.openbmc_project.ObjectMapper /xyz/openbmc_project/object_mapper  xyz.openbmc_project.ObjectMapper GetObject   sas  /xyz/openbmc_project/sensors/voltage/SYS_5V  3 xyz.openbmc_project.Sensor.Value  xyz.openbmc_project.Sensor.Threshold.Warning xyz.openbmc_project.Sensor.Threshold.Critical\nMESSAGE \"a{sas}\" {\n        ARRAY \"{sas}\" {\n                DICT_ENTRY \"sas\" {\n                        STRING \"xyz.openbmc_project.ADCSensor\";\n                        ARRAY \"s\" {\n                                STRING \"xyz.openbmc_project.Association.Definitions\";\n                                STRING \"xyz.openbmc_project.Sensor.Threshold.Critical\";\n                                STRING \"xyz.openbmc_project.Sensor.Threshold.Warning\";\n                                STRING \"xyz.openbmc_project.Sensor.Value\";\n                                STRING \"xyz.openbmc_project.State.Decorator.Availability\";\n                                STRING \"xyz.openbmc_project.State.Decorator.OperationalStatus\";\n                        };\n                };\n        };\n};\n```\n\n### Step 2:\ngetAllDbusProperties:\nhttps://github.com/openbmc/phosphor-host-ipmid/blob/master/sensorhandler.cpp#L893\n\n```\nroot@NULL:~# busctl  call --verbose xyz.openbmc_project.ADCSensor /xyz/openbmc_project/sensors/voltage/SYS_5V org.freedesktop.DBus.Properties GetAll s xyz.openbmc_project.Sensor.Threshold.Critical\nMESSAGE \"a{sv}\" {\n        ARRAY \"{sv}\" {\n                DICT_ENTRY \"sv\" {\n                        STRING \"CriticalHigh\";\n                        VARIANT \"d\" {\n                                DOUBLE 7;\n                        };\n                };\n                DICT_ENTRY \"sv\" {\n                        STRING \"CriticalAlarmHigh\";\n                        VARIANT \"b\" {\n                                BOOLEAN false;\n                        };\n                };\n                DICT_ENTRY \"sv\" {\n                        STRING \"CriticalLow\";\n                        VARIANT \"d\" {\n                                DOUBLE 4.5;\n                        };\n                };\n                DICT_ENTRY \"sv\" {\n                        STRING \"CriticalAlarmLow\";\n                        VARIANT \"b\" {\n                                BOOLEAN true;\n                        };\n                };\n        };\n};\n\nroot@NULL:~#\n```\n\n### Step 3:\nsetDbusProperty\nhttps://github.com/openbmc/phosphor-host-ipmid/blob/master/sensorhandler.cpp#L957\n\n```\nroot@NULL:~# busctl set-property   xyz.openbmc_project.ADCSensor /xyz/openbmc_project/sensors/voltage/SYS_5V xyz.openbmc_project.Sensor.Threshold.Critical CriticalHigh  d 7\n```\n\n### Step 4:\nasync_method_call:Set\nhttps://github.com/openbmc/dbus-sensors/blob/master/src/Thresholds.cpp#L183\n\n```\nroot@NULL:~# busctl set-property xyz.openbmc_project.EntityManager  /xyz/openbmc_project/inventory/system/board/NF5280M7_Motherboard/SYS_5V  xyz.openbmc_project.Configuration.ADC.Thresholds0   Value  d  7.000\nroot@NULL:~# \n```"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "lintao.lc",
                        "email": "lintao.lc@inspur.com",
                        "username": "lintaoInspur"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 63,
                    "deletions": 0
                },
                {
                    "file": "thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 123,
                    "deletions": -4
                },
                {
                    "file": "dbusUtils.hpp",
                    "type": "MODIFIED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "virtualSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 65,
                    "deletions": -4
                }
            ],
            "sizeInsertions": 278,
            "sizeDeletions": 8
        },
        {
            "number": 12,
            "revision": "ea786ec8739f09345d108b8a454a8c28ebd899ae",
            "parents": [
                "f7ec40aa6c804f5e6a01a06b5a705bbb2168c63a"
            ],
            "ref": "refs/changes/92/56292/12",
            "uploader": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "createdOn": 1665193976,
            "author": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 63,
                    "deletions": 0
                },
                {
                    "file": "thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 123,
                    "deletions": -4
                },
                {
                    "file": "dbusUtils.hpp",
                    "type": "MODIFIED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "virtualSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 64,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 277,
            "sizeDeletions": 6
        },
        {
            "number": 13,
            "revision": "91799dbd7bde184f1c7db1525df9329e841512ad",
            "parents": [
                "71b9c11676a08d7659c0d88a39c4de688d0feedd"
            ],
            "ref": "refs/changes/92/56292/13",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1667319368,
            "author": {
                "name": "lintao.lc",
                "email": "lintao.lc@inspur.com",
                "username": "lintaoInspur"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 63,
                    "deletions": 0
                },
                {
                    "file": "thresholds.hpp",
                    "type": "MODIFIED",
                    "insertions": 123,
                    "deletions": -4
                },
                {
                    "file": "dbusUtils.hpp",
                    "type": "MODIFIED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "virtualSensor.cpp",
                    "type": "MODIFIED",
                    "insertions": 64,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 277,
            "sizeDeletions": 6
        }
    ]
}