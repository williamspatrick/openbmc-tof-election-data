{
    "project": "openbmc/phosphor-host-postd",
    "branch": "master",
    "id": "I248af11268a67c91acbcd2cbdd264270f1eb8d08",
    "number": 56974,
    "subject": "main: compatible with Aspeed PCC Driver",
    "owner": {
        "name": "wukh",
        "email": "eason.kh.wu@fii-na.com",
        "username": "wukaihua-fii-na"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-host-postd/+/56974",
    "hashtags": [],
    "createdOn": 1662425658,
    "lastUpdated": 1668497571,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1662425658,
            "reviewer": {
                "name": "wukh",
                "email": "eason.kh.wu@fii-na.com",
                "username": "wukaihua-fii-na"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1662425781,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1662425781,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1662425797,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/50354/ : FAILURE"
        },
        {
            "timestamp": 1662426648,
            "reviewer": {
                "name": "wukh",
                "email": "eason.kh.wu@fii-na.com",
                "username": "wukaihua-fii-na"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1662426660,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1662426661,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1662426679,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/50356/ : FAILURE"
        },
        {
            "timestamp": 1662430976,
            "reviewer": {
                "name": "wukh",
                "email": "eason.kh.wu@fii-na.com",
                "username": "wukaihua-fii-na"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1662431106,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1662431111,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1662431203,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/50360/ : SUCCESS"
        },
        {
            "timestamp": 1668360497,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1668368715,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 3:\n\n(3 comments)"
        },
        {
            "timestamp": 1668368718,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1668381729,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 3: Code-Review-1\n\n(2 comments)"
        },
        {
            "timestamp": 1668459113,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 3: -Code-Review"
        },
        {
            "timestamp": 1668497571,
            "reviewer": {
                "name": "Tom Tung",
                "email": "shes050117@gmail.com",
                "username": "chihweitung"
            },
            "message": "Patch Set 3: Code-Review+1\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "869b4fb9cf19554734885770142027ae0dce9ad5",
            "parents": [
                "aee6540154f2ac8ea510efacd2785868c1898a7d"
            ],
            "ref": "refs/changes/74/56974/1",
            "uploader": {
                "name": "wukh",
                "email": "eason.kh.wu@fii-na.com",
                "username": "wukaihua-fii-na"
            },
            "createdOn": 1662425658,
            "author": {
                "name": "wukh",
                "email": "eason.kh.wu@fii-na.com",
                "username": "wukaihua-fii-na"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "main.cpp",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 40,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "75b32efe11e5fbdf6677d2549305683efc2856f4",
            "parents": [
                "aee6540154f2ac8ea510efacd2785868c1898a7d"
            ],
            "ref": "refs/changes/74/56974/2",
            "uploader": {
                "name": "wukh",
                "email": "eason.kh.wu@fii-na.com",
                "username": "wukaihua-fii-na"
            },
            "createdOn": 1662426648,
            "author": {
                "name": "wukh",
                "email": "eason.kh.wu@fii-na.com",
                "username": "wukaihua-fii-na"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "main.cpp",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 40,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "334d673111953b6b365c102520a24f5d1d01133e",
            "parents": [
                "aee6540154f2ac8ea510efacd2785868c1898a7d"
            ],
            "ref": "refs/changes/74/56974/3",
            "uploader": {
                "name": "wukh",
                "email": "eason.kh.wu@fii-na.com",
                "username": "wukaihua-fii-na"
            },
            "createdOn": 1662430976,
            "author": {
                "name": "wukh",
                "email": "eason.kh.wu@fii-na.com",
                "username": "wukaihua-fii-na"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "Want Tom to review and verify that it works on our systems."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Hello wukaihua,\n\nThe Aspeed PCC driver isn't present in the OpenBMC kernel. As far as I'm aware it's not upstream either, it only exists in Aspeed's SDK (based on OpenBMC). Supporting kernel interfaces that don't exist in the upstream kernel in userspace code almost always leads to future maintenance headaches.\n\nWe need to do the work to get the PCC driver either upstream or into the OpenBMC kernel (and getting it into the OpenBMC kernel requires that an effort is made to upstream it, doubly so in the case of a userspace ABI). Once that's done, then we can consider merging support into userspace."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Tom Tung",
                        "email": "shes050117@gmail.com",
                        "username": "chihweitung"
                    },
                    "message": "Yeah, we are using this patch and it works fine in our system."
                },
                {
                    "file": "main.cpp",
                    "line": 115,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "just use `sizeof(uint16_t)` instead?"
                },
                {
                    "file": "main.cpp",
                    "line": 121,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "nit: can remove the outter most `()`"
                },
                {
                    "file": "main.cpp",
                    "line": 139,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Please implement this without the ifdef (e.g. use callbacks, inheritance, or something equivalent where all the code can be built by default). ifdefs controlling mutually exclusive behaviour leads to combinatoric explosion of build configurations and the chance of things getting broken with no-one noticing increases."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "main.cpp",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 40,
            "sizeDeletions": 0
        }
    ]
}