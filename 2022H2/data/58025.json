{
    "project": "openbmc/docs",
    "branch": "master",
    "id": "I4dd30530635cfa2fdfaaa8a33f00843a07f85279",
    "number": 58025,
    "subject": "Design for u-boot mirroring",
    "owner": {
        "name": "Lakshmi Yadlapati",
        "email": "lakshmiy@us.ibm.com",
        "username": "Lakshmi-y"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/docs/+/58025",
    "hashtags": [],
    "createdOn": 1666204319,
    "lastUpdated": 1667570975,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1666204319,
            "reviewer": {
                "name": "Lakshmi Yadlapati",
                "email": "lakshmiy@us.ibm.com",
                "username": "Lakshmi-y"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1666204345,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1666216774,
            "reviewer": {
                "name": "Lakshmi Yadlapati",
                "email": "lakshmiy@us.ibm.com",
                "username": "Lakshmi-y"
            },
            "message": "Patch Set 2: Published edit on patch set 1."
        },
        {
            "timestamp": 1666216827,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1666631382,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2: Code-Review-1\n\n(1 comment)"
        },
        {
            "timestamp": 1666659946,
            "reviewer": {
                "name": "Lakshmi Yadlapati",
                "email": "lakshmiy@us.ibm.com",
                "username": "Lakshmi-y"
            },
            "message": "Uploaded patch set 3: Commit message was updated."
        },
        {
            "timestamp": 1666660063,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1666660466,
            "reviewer": {
                "name": "Lakshmi Yadlapati",
                "email": "lakshmiy@us.ibm.com",
                "username": "Lakshmi-y"
            },
            "message": "Patch Set 4: Published edit on patch set 3."
        },
        {
            "timestamp": 1666660578,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1666671637,
            "reviewer": {
                "name": "Gokul Sanker V G",
                "email": "gokul.sanker.v.g@intel.com",
                "username": "gokulsvg"
            },
            "message": "Patch Set 4:\n\n(3 comments)"
        },
        {
            "timestamp": 1666795304,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1666797438,
            "reviewer": {
                "name": "Lakshmi Yadlapati",
                "email": "lakshmiy@us.ibm.com",
                "username": "Lakshmi-y"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1666797572,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1666797608,
            "reviewer": {
                "name": "Lakshmi Yadlapati",
                "email": "lakshmiy@us.ibm.com",
                "username": "Lakshmi-y"
            },
            "message": "Patch Set 5:\n\n(4 comments)"
        },
        {
            "timestamp": 1667570975,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@linux.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 5: Code-Review+1"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "55fe688521c6cb9af7ccaf9c731ccfe674ee03df",
            "parents": [
                "36aae45b99d5ac5e3eeb9d102e5a7d93ba49aab3"
            ],
            "ref": "refs/changes/25/58025/1",
            "uploader": {
                "name": "Lakshmi Yadlapati",
                "email": "lakshmiy@us.ibm.com",
                "username": "Lakshmi-y"
            },
            "createdOn": 1666204319,
            "author": {
                "name": "Lakshmi Yadlapati",
                "email": "lakshmiy@us.ibm.com",
                "username": "Lakshmi-y"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "architecture/code-update/u-boot-mirroring.md",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 41,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "aada8dd9a7ac813dd55ed16964060efedd03447c",
            "parents": [
                "36aae45b99d5ac5e3eeb9d102e5a7d93ba49aab3"
            ],
            "ref": "refs/changes/25/58025/2",
            "uploader": {
                "name": "Lakshmi Yadlapati",
                "email": "lakshmiy@us.ibm.com",
                "username": "Lakshmi-y"
            },
            "createdOn": 1666216774,
            "author": {
                "name": "Lakshmi Yadlapati",
                "email": "lakshmiy@us.ibm.com",
                "username": "Lakshmi-y"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "There are numerous things wrong with this \"design document\".  Please work with Adriana since she is listed as an additional contributor."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "architecture/code-update/u-boot-mirroring.md",
                    "type": "ADDED",
                    "insertions": 35,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 45,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "77d329a6cc92c2108c62ecac531b481b4d1a2ddb",
            "parents": [
                "36aae45b99d5ac5e3eeb9d102e5a7d93ba49aab3"
            ],
            "ref": "refs/changes/25/58025/3",
            "uploader": {
                "name": "Lakshmi Yadlapati",
                "email": "lakshmiy@us.ibm.com",
                "username": "Lakshmi-y"
            },
            "createdOn": 1666659946,
            "author": {
                "name": "Lakshmi Yadlapati",
                "email": "lakshmiy@us.ibm.com",
                "username": "Lakshmi-y"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "architecture/code-update/u-boot-mirroring.md",
                    "type": "ADDED",
                    "insertions": 35,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 46,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "981f8ec57da8b5607385d9090fa6114fad7a5241",
            "parents": [
                "36aae45b99d5ac5e3eeb9d102e5a7d93ba49aab3"
            ],
            "ref": "refs/changes/25/58025/4",
            "uploader": {
                "name": "Lakshmi Yadlapati",
                "email": "lakshmiy@us.ibm.com",
                "username": "Lakshmi-y"
            },
            "createdOn": 1666660466,
            "author": {
                "name": "Lakshmi Yadlapati",
                "email": "lakshmiy@us.ibm.com",
                "username": "Lakshmi-y"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "architecture/code-update/u-boot-mirroring.md",
                    "line": 10,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@linux.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "We can add a comment about the phosphor-bmc-code-mgmt repo supporting u-boot mirroring for the ubi layout (used in the witherspoon system) but the logic on why this behavior was implemented was never documented, so this document intends to document the reasoning for u-boot mirroring and to add u-boot mirroring to the other supported layouts like mmc."
                },
                {
                    "file": "architecture/code-update/u-boot-mirroring.md",
                    "line": 10,
                    "reviewer": {
                        "name": "Lakshmi Yadlapati",
                        "email": "lakshmiy@us.ibm.com",
                        "username": "Lakshmi-y"
                    },
                    "message": "Done"
                },
                {
                    "file": "architecture/code-update/u-boot-mirroring.md",
                    "line": 17,
                    "reviewer": {
                        "name": "Gokul Sanker V G",
                        "email": "gokul.sanker.v.g@intel.com",
                        "username": "gokulsvg"
                    },
                    "message": "just a doubt ,if we are updating both primary and altrenative image, and if the update image is corrupted it can bring down the setup right ?\n\nor is it like alternative image is updated only if there is a miss match in ECC futionality ?"
                },
                {
                    "file": "architecture/code-update/u-boot-mirroring.md",
                    "line": 17,
                    "reviewer": {
                        "name": "Lakshmi Yadlapati",
                        "email": "lakshmiy@us.ibm.com",
                        "username": "Lakshmi-y"
                    },
                    "message": "FW update process first updates the primary u-boot image. BMC will boot from\nthe primary u-boot and as part of the boot process, obmc-flash-mmc-mirroruboot\nservice copies the primary u-boot image to the alternative u-boot image.\n\nI will update the design section."
                },
                {
                    "file": "architecture/code-update/u-boot-mirroring.md",
                    "line": 23,
                    "reviewer": {
                        "name": "Gokul Sanker V G",
                        "email": "gokul.sanker.v.g@intel.com",
                        "username": "gokulsvg"
                    },
                    "message": "nit: please give a more descriptive design"
                },
                {
                    "file": "architecture/code-update/u-boot-mirroring.md",
                    "line": 23,
                    "reviewer": {
                        "name": "Gokul Sanker V G",
                        "email": "gokul.sanker.v.g@intel.com",
                        "username": "gokulsvg"
                    },
                    "message": "will there be any check during the fwu time ? btw primary and alternative image?"
                },
                {
                    "file": "architecture/code-update/u-boot-mirroring.md",
                    "line": 23,
                    "reviewer": {
                        "name": "Lakshmi Yadlapati",
                        "email": "lakshmiy@us.ibm.com",
                        "username": "Lakshmi-y"
                    },
                    "message": "No, before mirroring we need to make sure that the image was able to boot the BMC."
                },
                {
                    "file": "architecture/code-update/u-boot-mirroring.md",
                    "line": 23,
                    "reviewer": {
                        "name": "Lakshmi Yadlapati",
                        "email": "lakshmiy@us.ibm.com",
                        "username": "Lakshmi-y"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "architecture/code-update/u-boot-mirroring.md",
                    "type": "ADDED",
                    "insertions": 47,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 58,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "ddc0f23ea83e5902e8562746bab67e8c416fb74a",
            "parents": [
                "36aae45b99d5ac5e3eeb9d102e5a7d93ba49aab3"
            ],
            "ref": "refs/changes/25/58025/5",
            "uploader": {
                "name": "Lakshmi Yadlapati",
                "email": "lakshmiy@us.ibm.com",
                "username": "Lakshmi-y"
            },
            "createdOn": 1666797438,
            "author": {
                "name": "Lakshmi Yadlapati",
                "email": "lakshmiy@us.ibm.com",
                "username": "Lakshmi-y"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "architecture/code-update/u-boot-mirroring.md",
                    "type": "ADDED",
                    "insertions": 86,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 96,
            "sizeDeletions": 0
        }
    ]
}