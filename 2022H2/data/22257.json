{
    "project": "openbmc/docs",
    "branch": "master",
    "topic": "design",
    "id": "Ib6450eeca54e31b1d220610628ecdc37bb676dac",
    "number": 22257,
    "subject": "design: Add design doc for obmc metrics collection",
    "owner": {
        "name": "Kun Yi",
        "email": "kunyi731@gmail.com",
        "username": "kunyi731"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/docs/+/22257",
    "hashtags": [],
    "createdOn": 1559670050,
    "lastUpdated": 1665658038,
    "open": false,
    "status": "ABANDONED",
    "comments": [
        {
            "timestamp": 1559670050,
            "reviewer": {
                "name": "Kun Yi",
                "email": "kunyi731@gmail.com",
                "username": "kunyi731"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1559670076,
            "reviewer": {
                "name": "Kun Yi",
                "email": "kunyi731@gmail.com",
                "username": "kunyi731"
            },
            "message": "Topic set to design"
        },
        {
            "timestamp": 1560185792,
            "reviewer": {
                "name": "Kun Yi",
                "email": "kunyi731@gmail.com",
                "username": "kunyi731"
            },
            "message": "Patch Set 1:\n\nBrad mentioned collectd (https://collectd.org/) and I looked into it. Many of the concepts mentioned in the design doc is covered by it. I will update the doc to include it as an option."
        },
        {
            "timestamp": 1562736677,
            "reviewer": {
                "name": "Kun Yi",
                "email": "kunyi731@gmail.com",
                "username": "kunyi731"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1562736933,
            "reviewer": {
                "name": "Kun Yi",
                "email": "kunyi731@gmail.com",
                "username": "kunyi731"
            },
            "message": "Patch Set 2:\n\nI have updated the design doc to include a section that talks about how to integrate librrd/collectd. PTAL.\n\nIt is still a rough draft but want to get some eyes on it. Thanks!"
        },
        {
            "timestamp": 1563465758,
            "reviewer": {
                "name": "Kun Yi",
                "email": "kunyi731@gmail.com",
                "username": "kunyi731"
            },
            "message": "Patch Set 2:\n\nFriendly reminder on review comments."
        },
        {
            "timestamp": 1563814978,
            "reviewer": {
                "name": "Vishwanatha Subbanna",
                "email": "vishwa@linux.vnet.ibm.com",
                "username": "vishwabmc"
            },
            "message": "Patch Set 2:\n\n(12 comments)\n\nI am still reviewing..............."
        },
        {
            "timestamp": 1563872917,
            "reviewer": {
                "name": "Vishwanatha Subbanna",
                "email": "vishwa@linux.vnet.ibm.com",
                "username": "vishwabmc"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1563924216,
            "reviewer": {
                "name": "Kun Yi",
                "email": "kunyi731@gmail.com",
                "username": "kunyi731"
            },
            "message": "Patch Set 2:\n\n> Patch Set 2:\n> \n> (3 comments)\n\nThanks Vishwa, really helpful comments. I will update the doc with more updates and findings, and answer the questions you had."
        },
        {
            "timestamp": 1563935763,
            "reviewer": {
                "name": "Kun Yi",
                "email": "kunyi731@gmail.com",
                "username": "kunyi731"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1563935778,
            "reviewer": {
                "name": "Kun Yi",
                "email": "kunyi731@gmail.com",
                "username": "kunyi731"
            },
            "message": "Patch Set 2:\n\n(15 comments)"
        },
        {
            "timestamp": 1563935915,
            "reviewer": {
                "name": "Kun Yi",
                "email": "kunyi731@gmail.com",
                "username": "kunyi731"
            },
            "message": "Patch Set 3:\n\nSeems we didn't have gitiles plugin for Gerrit so I couldn't find a way to generate rendered pages.. Pushed to personal Github, which should be much easier for viewing:\n\nhttps://github.com/kunyi731/docs/blob/openbmc-staging/designs/metrics.md"
        },
        {
            "timestamp": 1564122733,
            "reviewer": {
                "name": "Vishwanatha Subbanna",
                "email": "vishwa@linux.vnet.ibm.com",
                "username": "vishwabmc"
            },
            "message": "Patch Set 3:\n\n(8 comments)"
        },
        {
            "timestamp": 1564130734,
            "reviewer": {
                "name": "Vishwanatha Subbanna",
                "email": "vishwa@linux.vnet.ibm.com",
                "username": "vishwabmc"
            },
            "message": "Patch Set 3:\n\n(8 comments)"
        },
        {
            "timestamp": 1566392355,
            "reviewer": {
                "name": "Piotr Matuszczak",
                "email": "piotr.matuszczak@intel.com",
                "username": "pmatuszc"
            },
            "message": "Patch Set 3:\n\n(2 comments)\n\nHi, I've posted some questions about performance. I would be grateful if you could answer them in detail."
        },
        {
            "timestamp": 1566970839,
            "reviewer": {
                "name": "Kun Yi",
                "email": "kunyi731@gmail.com",
                "username": "kunyi731"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1566997652,
            "reviewer": {
                "name": "Vishwanatha Subbanna",
                "email": "vishwa@linux.vnet.ibm.com",
                "username": "vishwabmc"
            },
            "message": "Patch Set 3:\n\nKun, Do you have any feedback on the review comments I posted ?"
        },
        {
            "timestamp": 1567490980,
            "reviewer": {
                "name": "Kun Yi",
                "email": "kunyi731@gmail.com",
                "username": "kunyi731"
            },
            "message": "Patch Set 3:\n\n(9 comments)\n\n> Patch Set 3:\n> \n> Kun, Do you have any feedback on the review comments I posted ?\n\nVishwa, I have replied to a few of the comments."
        },
        {
            "timestamp": 1571848929,
            "reviewer": {
                "name": "Brad Bishop",
                "email": "bradleyb@fuzziesquirrel.com",
                "username": "bradbishop"
            },
            "message": "Patch Set 3: Code-Review-1\n\nI think we should resolve the fact that we have two different proposals for the same functionality on the mailing list before we go forward with this design, or the other one.  Please reply to https://lists.ozlabs.org/pipermail/openbmc/2019-October/019065.html to indicate your support for one or the other."
        },
        {
            "timestamp": 1580422559,
            "reviewer": {
                "name": "Patrick Venture",
                "email": "venture@google.com",
                "username": "pstrinkle"
            },
            "message": "Removed reviewer Patrick Venture."
        },
        {
            "timestamp": 1589183760,
            "reviewer": {
                "name": "Vishwanatha Subbanna",
                "email": "vishwa@linux.vnet.ibm.com",
                "username": "vishwabmc"
            },
            "message": "Removed reviewer Vishwanatha Subbanna."
        },
        {
            "timestamp": 1589823565,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "mbarth@lenovo.com",
                "username": "msbarth"
            },
            "message": "Removed reviewer Matthew Barth."
        },
        {
            "timestamp": 1665658038,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Abandoned\n\nclose due to inactivity"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "2dd9de0276b86cc9afccbf696ab3f9fd32532c8f",
            "parents": [
                "4e56ca468e9681a1d529caf45c08703a5d932b15"
            ],
            "ref": "refs/changes/57/22257/1",
            "uploader": {
                "name": "Kun Yi",
                "email": "kunyi731@gmail.com",
                "username": "kunyi731"
            },
            "createdOn": 1559670050,
            "author": {
                "name": "Kun Yi",
                "email": "kunyi731@gmail.com",
                "username": "kunyi731"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "designs/metrics-collector.md",
                    "type": "ADDED",
                    "insertions": 240,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 255,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "9fd4d7a48dff001f683358d0e8e0d3b27efc8443",
            "parents": [
                "4e56ca468e9681a1d529caf45c08703a5d932b15"
            ],
            "ref": "refs/changes/57/22257/2",
            "uploader": {
                "name": "Kun Yi",
                "email": "kunyi731@gmail.com",
                "username": "kunyi731"
            },
            "createdOn": 1562736677,
            "author": {
                "name": "Kun Yi",
                "email": "kunyi731@gmail.com",
                "username": "kunyi731"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/metrics.md",
                    "line": 33,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "Could there be some background text ?"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 33,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "Ah it got dropped in the second patch. Added back."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 42,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "Sorry, But I am quite not following this."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 42,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "It is meant to be a comparison between events/logs/metrics to distinguish the concepts, and justify using collectd **specifically** for metrics, and not else.\n\nIt should be more readable with the updated section."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 50,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "Why is this needed to be mentioned ?. Also, when you say Hardware, is it BMC as a HW -or- the hardware platform on which BMC resides ?"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 50,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "I think it is a very important factor in trade-off considerations. Reworded."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 50,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "Re-worded one looks neat"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 50,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "Thanks."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 61,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "How is this arrived at ?"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 61,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "After re-reading I realized this section is pretty useless. Removed."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 62,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "Also, whatever the number of data points, I think it depends on the type of data"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 62,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "Yes, that's true."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 67,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "sorry nit :) : Need a comma"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 67,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 92,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "Are we looking at having a control over preserving different kinds of data for different time span ?"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 92,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "Wonder if you had any feedback on this ?"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 92,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "Maybe. At this point I'm considering the configurations to be build-time, but exposing the control interface of collectd externally definitely sounds reasonable."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 117,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "Could this be in the next line ?"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 117,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 124,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "are ?"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 124,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 125,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "Also, how can we configure different plugins ?. As in, is it something that can be selected by the user through a UI and collectd dynamically collects that ? or is that something that is a config file driven only ?."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 125,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "It's driven by a config file, see https://collectd.org/documentation/manpages/collectd.conf.5.shtml\n\nWorth noting the config file can be modified at run-time. Just need to restart collectd to enable it."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 125,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "I like it.. So do we need to provide a D-Bus API mentioning what specific plugins' need to be enabled ?."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 125,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "Same as above, can be a reasonable FR to add later."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 130,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "curious: Why is this tied into logging ?. Can an application 'foo' not create this RR file by using APIs directly ?"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 130,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "It doesn't need to be. In fact, what we really need is a language binding library.\nI rephrased this part."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 136,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "This is nice. This way, we can have persistency dictated by the owner of data."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 136,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "Ack"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 137,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "So we have something that are collected by 'collectd' and stored somewhere -and- some that are collected via 'librrd' and stored in RRD files. \n\nSorry, but I am missing something here.. Are these rrd files bridged back to collectd somehow ?. I thought collectd will aggregate all.\n\nIf not, we will have rrd files stored by collectd and rrd files stored by daemons. How do we operate with these ?\n\nAlso, is it necessary to store collectd metric as RRD files ?. I have seen a lot of comments about IO-hell associated with RRD."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 137,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "Regarding storing RRD files from different sources: collectd should be able to query all the files under its data directory. I would need to look into whether it is possible to have collectd parse from **more than 1** directory though. Currently it seems it's not possible.\n\nRegarding IO hell related to RRD: yes, we read the background on that topic. The IO hell issue is only relevant if a large number of data is being written/read at the same time, which most likely won't happen with our use cases. In addition, the rrdcached is invented specifically for that issue, which means we have a possible solution already."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 137,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "I did not see how collectd can look into arbitrary location."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 137,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "The \"DataDir\" directory of the rrdtool plugin can be used to configure where collectd r/w the RRD files. See https://collectd.org/documentation/manpages/collectd.conf.5.shtml#plugin_rrdtool\nTo make collectd access data stored in both memory and persistent storage we can make symlinks from the persist location to tmpfs."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 165,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "Does it mean the implementation need to have protobuf enabled ?.. How are the systems not using the protobuf use this ?.\n\nFor example: How will a host send some via PLDM / IPMI OEM ?"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 165,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "I should expand on the IPMI blobs design here, but in short, yes, this design expects a host to compile a binary protobuf as the IPMI OEM blob payload.\n\nI think our design decision here favors protobuf because of several aspects:\n- flexibility and able to expand the protocol\n- relatively fast (de)serialization\n- binary format so fewer bytes transmitted over the wire\n\nI'd like to hear from you on possible limitations that could prevent a host from using protobuf.\n\nAlso, this is in additional to Redfish metrics, so systems already using Redfish wouldn't necessarily need to worry about this."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 165,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "So in the implementations that we have, basically, we could not afford to contain C++ environment to support protobuf due to space constraints.\n\nSome amount of the host side implementations are pure C \n( Like: https://github.com/open-power/skiboot )\n\nWe had some limitations coming from power hypervisor to contain protobuf. I can investigate more on that.\n\n----------------\n\nFor systems that are not managed by an Out Of Band entity, are we saying protobuf is what is proposed ?. \n\nI mean, can this not be done via PLDM ?."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 165,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "I understand that an early boot stage e.g. skiboot can have constraints on space constraints, however, my understanding is that usually monitoring BMC metrics isn't needed during such phase. It should be fairly quick anyways?\n\nThis can be done via PLDM but I'm just describing an OEM IPMI handler implementation. Unless you want a somewhat common API between inband IPMI/PLDM handler."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 182,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "Should we also weigh-in StatsD ?"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 182,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "Ack. I have to look into that. Would definitely be happy to learn from anyone who has experience with StatsD."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 200,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "I added resource and footprint study results."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "designs/obmc-metrics.png",
                    "type": "ADDED",
                    "insertions": 0,
                    "deletions": 0
                },
                {
                    "file": "designs/metrics.md",
                    "type": "ADDED",
                    "insertions": 204,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 217,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "8b6411890861da4de504ae015a0b08550f62252b",
            "parents": [
                "44eb898d256498db004ed9d454ff4dd22f9aa25c"
            ],
            "ref": "refs/changes/57/22257/3",
            "uploader": {
                "name": "Kun Yi",
                "email": "kunyi731@gmail.com",
                "username": "kunyi731"
            },
            "createdOn": 1563935763,
            "author": {
                "name": "Kun Yi",
                "email": "kunyi731@gmail.com",
                "username": "kunyi731"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/metrics.md",
                    "line": 61,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "typo"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 64,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "Since you used the word \"former\", I think you may also need to use \"latter\". So we know when is the former ending."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 74,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "In the future, can the metrics be aggregated at Nagios solution for example ?. Is there anything that we need to keep in mind for such things ?. -or- is it something entirely be  customized at those layers making use of redfish queries to BMC ?"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 107,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "typo"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 180,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "Who needs to manage the cleanup of the files ?\nIn a hypothetical case: \n\n- A daemon puts /tmp/foo.rrd at time T1\n- collectd scrapes at time T2\n- < does collectd need to delete foo.rrd> ?\n- collect scrapes at time T3\n - < Now, what is supposed to happen if foo.rrd is not deleted >. \n    - < Is it okay to post already posted data > ?"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 180,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "Good question. I don't worry too much about cleaning files since the RRD files are constant size, it is basically just 'reserving' a portion of the memory/flash for metrics storage. If anything, we can write a systemd unit to delete the collectd footprint after collectd exits."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 181,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "How do we handle duplicate file names ?. generate some random number may be ?.. May be an implementation thing that can be ignored now."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 199,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "I think it's not a need for now ?"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 199,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "Right."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 254,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "nit: use either one of 'em ?"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 269,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "So, do we think we can chuck some of the plugins ?.\n\nAlso, should we make these plugin's also"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 269,
                    "reviewer": {
                        "name": "Piotr Matuszczak",
                        "email": "piotr.matuszczak@intel.com",
                        "username": "pmatuszc"
                    },
                    "message": "What is the Collecd footprint with minimal usable configuration and what sensors/metrics are monitored in such configuration?"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 269,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "With a minimal usable RRDtool recipe, the flash foot print that the daemon takes is down to 2.6MB.\n\nThis does not contain the RRD files generated."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 269,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "Your question seems unfinished?"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 291,
                    "reviewer": {
                        "name": "Piotr Matuszczak",
                        "email": "piotr.matuszczak@intel.com",
                        "username": "pmatuszc"
                    },
                    "message": "What is the metric polling interval in this case? Which metrics are collected?"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 291,
                    "reviewer": {
                        "name": "Kun Yi",
                        "email": "kunyi731@gmail.com",
                        "username": "kunyi731"
                    },
                    "message": "I think in this case it's just the 'uptime' and 'loadavg' plugins collected every 30 seconds. If you have some specific usage scenario in mind, I can run the experiment again."
                },
                {
                    "file": "designs/metrics.md",
                    "line": 297,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "just curious : Do u have the resulting rrd files that you could share ?"
                },
                {
                    "file": "designs/metrics.md",
                    "line": 299,
                    "reviewer": {
                        "name": "Vishwanatha Subbanna",
                        "email": "vishwa@linux.vnet.ibm.com",
                        "username": "vishwabmc"
                    },
                    "message": "should this be a policy instead ?. Also, should we give granularity in terms of how long do we want to persist what kind of data etc ?. May be it's too much .."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "designs/deps-palmetto-collectd-min.svg",
                    "type": "ADDED",
                    "insertions": 591,
                    "deletions": 0
                },
                {
                    "file": "designs/obmc-metrics.png",
                    "type": "ADDED",
                    "insertions": 0,
                    "deletions": 0
                },
                {
                    "file": "designs/metrics.md",
                    "type": "ADDED",
                    "insertions": 307,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 911,
            "sizeDeletions": 0
        }
    ]
}