{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "Ib93573808e4370ac45c2051517cd3f1c28e0f8bb",
    "number": 58731,
    "subject": "Add Link header handling to ThermalSubsystem",
    "owner": {
        "name": "George Liu",
        "email": "liuxiwei@inspur.com",
        "username": "lxwinspur"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/58731",
    "hashtags": [],
    "createdOn": 1668568440,
    "lastUpdated": 1669163739,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1668568440,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1668568539,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1668568539,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1668570317,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/55499/ : SUCCESS"
        },
        {
            "timestamp": 1668576983,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 1: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1668577230,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Uploaded patch set 2: Commit message was updated."
        },
        {
            "timestamp": 1668577243,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1668577257,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1"
        },
        {
            "timestamp": 1668577299,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1668577304,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1668579221,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/55543/ : SUCCESS"
        },
        {
            "timestamp": 1668631286,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1668631538,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1668645707,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1668645720,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1668645854,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1668645854,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1668646726,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1668647455,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/55582/ : SUCCESS"
        },
        {
            "timestamp": 1668647538,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1668704603,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1668704852,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1669130612,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1669130613,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 3: Code-Review+2"
        },
        {
            "timestamp": 1669143771,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1669144033,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 3:\n\n(3 comments)"
        },
        {
            "timestamp": 1669163733,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Change has been successfully rebased and submitted as 1aee751c0feeb9b369eb76f09d7910d2bb124d61"
        },
        {
            "timestamp": 1669163739,
            "reviewer": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "7cdc7685e6381dc251c6badc6f92f124ae4b5457",
            "parents": [
                "2ea468a096638b3ad829c538605ef3bcdbbff4ce"
            ],
            "ref": "refs/changes/31/58731/1",
            "uploader": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "createdOn": 1668568440,
            "author": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Something like, might be more clear (make it clear this is doing 2 things):\n\nAlong with adding Link header, this commit updates ThermalSubsystem to respond to HEAD requests. The link header is something required by the Redfish spec. \n\nOh well."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 9,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/thermal_subsystem.hpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 56,
            "sizeDeletions": 3
        },
        {
            "number": 2,
            "revision": "463d395e1aae7b6bfa0073506795ac1c9fa8134b",
            "parents": [
                "2ea468a096638b3ad829c538605ef3bcdbbff4ce"
            ],
            "ref": "refs/changes/31/58731/2",
            "uploader": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "createdOn": 1668577230,
            "author": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "redfish-core/lib/thermal_subsystem.hpp",
                    "line": 65,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please use std::bind_front for new code like this.  We are trying to use lambdas less because of the issues they have in debugging."
                },
                {
                    "file": "redfish-core/lib/thermal_subsystem.hpp",
                    "line": 65,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "> Please use std::bind_front for new code like this.  We are trying to use lambdas less because of the issues they have in debugging.\n\nDone\nBut Could you kindly explain what issues in debugging with lambda?"
                },
                {
                    "file": "redfish-core/lib/thermal_subsystem.hpp",
                    "line": 65,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/thermal_subsystem.hpp",
                    "line": 65,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "> > Yes, Becasue the following line of code is not necessary:\n> > https://gerrit.openbmc.org/c/openbmc/bmcweb/+/58731/2/redfish-core/lib/thermal_subsystem.hpp#b48\n> \n> \n> I am confused by your comment? It looks like you updated the variable name (to a better name if you ask me). I am confused about, how this line of code has anything to do with that updated variable name.\n\n> same as above\n\nSeems like Ed is suggesting using a dedicated function + std::bind_front. Here we just bind a lambda, which is sort of weird.\n\n> But Could you kindly explain what issues in debugging with lambda?\n\nIMO lambdas are less readable.\n\nBut here the lambda is really short. Do we accept it?"
                },
                {
                    "file": "redfish-core/lib/thermal_subsystem.hpp",
                    "line": 65,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "> > > Yes, Becasue the following line of code is not necessary:\n> > > https://gerrit.openbmc.org/c/openbmc/bmcweb/+/58731/2/redfish-core/lib/thermal_subsystem.hpp#b48\n> > \n> > \n> > I am confused by your comment? It looks like you updated the variable name (to a better name if you ask me). I am confused about, how this line of code has anything to do with that updated variable name.\n> \n> > same as above\n> \n> Seems like Ed is suggesting using a dedicated function + std::bind_front. Here we just bind a lambda, which is sort of weird.\n> \n> > But Could you kindly explain what issues in debugging with lambda?\n> \n> IMO lambdas are less readable.\n> \n> But here the lambda is really short. Do we accept it?\n\nThanks Nan, I am fine with std::bind_front"
                },
                {
                    "file": "redfish-core/lib/thermal_subsystem.hpp",
                    "line": 71,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "this variable changed name.  Was that intentional?  It's part of the reason why the diff looks larger than it shoudl be."
                },
                {
                    "file": "redfish-core/lib/thermal_subsystem.hpp",
                    "line": 71,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "> this variable changed name.  Was that intentional?  It's part of the reason why the diff looks larger than it shoudl be.\n\nYes, Becasue the following line of code is not necessary:\nhttps://gerrit.openbmc.org/c/openbmc/bmcweb/+/58731/2/redfish-core/lib/thermal_subsystem.hpp#b48\n\nI added this changed into commit message"
                },
                {
                    "file": "redfish-core/lib/thermal_subsystem.hpp",
                    "line": 71,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "> Yes, Becasue the following line of code is not necessary:\n> https://gerrit.openbmc.org/c/openbmc/bmcweb/+/58731/2/redfish-core/lib/thermal_subsystem.hpp#b48\n\n\nI am confused by your comment? It looks like you updated the variable name (to a better name if you ask me). I am confused about, how this line of code has anything to do with that updated variable name."
                },
                {
                    "file": "redfish-core/lib/thermal_subsystem.hpp",
                    "line": 71,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "> > Yes, Becasue the following line of code is not necessary:\n> > https://gerrit.openbmc.org/c/openbmc/bmcweb/+/58731/2/redfish-core/lib/thermal_subsystem.hpp#b48\n> \n> \n> I am confused by your comment? It looks like you updated the variable name (to a better name if you ask me). I am confused about, how this line of code has anything to do with that updated variable name.\n\nsame as above"
                },
                {
                    "file": "redfish-core/lib/thermal_subsystem.hpp",
                    "line": 71,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Ack"
                },
                {
                    "file": "redfish-core/lib/thermal_subsystem.hpp",
                    "line": 71,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Seems reasonable to me and it's better than before"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 21,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/thermal_subsystem.hpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 57,
            "sizeDeletions": 3
        },
        {
            "number": 3,
            "revision": "d4277e0a44fea8a5e98a6deb6e6890540f149af1",
            "parents": [
                "2ea468a096638b3ad829c538605ef3bcdbbff4ce"
            ],
            "ref": "refs/changes/31/58731/3",
            "uploader": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "createdOn": 1668645707,
            "author": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "This points at line 48 which is     if (!redfish::setUpRedfishRoute(app, req, asyncResp)). \nHow is that redundant code ?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "George Liu",
                        "email": "liuxiwei@inspur.com",
                        "username": "lxwinspur"
                    },
                    "message": "> This points at line 48 which is     if (!redfish::setUpRedfishRoute(app, req, asyncResp)). \n> How is that redundant code ?\n\nNo Gunnar\nNote: this is #b48, not #48\n```\nconst std::string& chassisId = param;\n```"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Ack"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "LGTM. Left a comment on lambda usage"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 25,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/thermal_subsystem.hpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 61,
            "sizeDeletions": 3
        },
        {
            "number": 4,
            "revision": "1aee751c0feeb9b369eb76f09d7910d2bb124d61",
            "parents": [
                "33a32b3427483fbeab3f1cf6c57dd1593db674a1"
            ],
            "ref": "refs/changes/31/58731/4",
            "uploader": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "createdOn": 1669163733,
            "author": {
                "name": "George Liu",
                "email": "liuxiwei@inspur.com",
                "username": "lxwinspur"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 25,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/thermal_subsystem.hpp",
                    "type": "MODIFIED",
                    "insertions": 36,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 61,
            "sizeDeletions": 3
        }
    ]
}