{
    "project": "openbmc/phosphor-fan-presence",
    "branch": "master",
    "topic": "ibm2872",
    "id": "If02c963f3f7b43f7434f508742bb2b6e08471647",
    "number": 50685,
    "subject": "Presence: remove Inventory service dependency",
    "owner": {
        "name": "Mike Capps",
        "email": "mikepcapps@gmail.com",
        "username": "mikecgithub"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-fan-presence/+/50685",
    "hashtags": [],
    "createdOn": 1643220581,
    "lastUpdated": 1659982214,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1643220581,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1643220591,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1643220591,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1643220736,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/36115/ : FAILURE"
        },
        {
            "timestamp": 1643221986,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1643221995,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1643221996,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1643222228,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/36118/ : SUCCESS"
        },
        {
            "timestamp": 1643224866,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Patch Set 2: Code-Review-1\n\n(1 comment)"
        },
        {
            "timestamp": 1643225931,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1643226258,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1643312409,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1643312421,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1643312421,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1643312479,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1643312498,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1643312525,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/36196/ : SUCCESS"
        },
        {
            "timestamp": 1644246767,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Uploaded patch set 4: Patch Set 3 was rebased."
        },
        {
            "timestamp": 1644246776,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1644246777,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1644246873,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/36710/ : SUCCESS"
        },
        {
            "timestamp": 1644420982,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1645540119,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Uploaded patch set 5: Patch Set 4 was rebased."
        },
        {
            "timestamp": 1645540132,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1645540132,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1645540228,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/37786/ : SUCCESS"
        },
        {
            "timestamp": 1645654764,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1645654777,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1645654777,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1645654818,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/37925/ : FAILURE"
        },
        {
            "timestamp": 1645655218,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1645655228,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1645655228,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1645655307,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/37929/ : SUCCESS"
        },
        {
            "timestamp": 1645655499,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Patch Set 7:\n\n(1 comment)\n\nThis change is ready for review."
        },
        {
            "timestamp": 1646065845,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Uploaded patch set 8: Patch Set 7 was rebased."
        },
        {
            "timestamp": 1646065857,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1646065858,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: -Ok-To-Test"
        },
        {
            "timestamp": 1646065956,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/38157/ : SUCCESS"
        },
        {
            "timestamp": 1647360940,
            "reviewer": {
                "name": "Matthew Barth",
                "email": "mbarth@lenovo.com",
                "username": "msbarth"
            },
            "message": "Patch Set 8: Code-Review-1\n\n(10 comments)"
        },
        {
            "timestamp": 1648128014,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Uploaded patch set 9."
        },
        {
            "timestamp": 1648128025,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1648128025,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: -Ok-To-Test"
        },
        {
            "timestamp": 1648128120,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/39638/ : SUCCESS"
        },
        {
            "timestamp": 1648128345,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Patch Set 9:\n\n(10 comments)"
        },
        {
            "timestamp": 1657075951,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Uploaded patch set 10."
        },
        {
            "timestamp": 1657076011,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1657076011,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: -Ok-To-Test"
        },
        {
            "timestamp": 1657076042,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/46445/ : FAILURE"
        },
        {
            "timestamp": 1657076770,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Uploaded patch set 11."
        },
        {
            "timestamp": 1657076815,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1657076815,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: -Ok-To-Test"
        },
        {
            "timestamp": 1657076845,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 11: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/46448/ : FAILURE"
        },
        {
            "timestamp": 1657077608,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Uploaded patch set 12."
        },
        {
            "timestamp": 1657077635,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1657077635,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: -Ok-To-Test"
        },
        {
            "timestamp": 1657077711,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 12: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/46451/ : SUCCESS"
        },
        {
            "timestamp": 1657140392,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Patch Set 12:\n\n(4 comments)"
        },
        {
            "timestamp": 1659964596,
            "reviewer": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "message": "Uploaded patch set 13."
        },
        {
            "timestamp": 1659964641,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659964641,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: -Ok-To-Test"
        },
        {
            "timestamp": 1659964714,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 13: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48732/ : SUCCESS"
        },
        {
            "timestamp": 1659982214,
            "reviewer": {
                "name": "Matt Spinler",
                "email": "spinler@us.ibm.com",
                "username": "spinler"
            },
            "message": "Removed reviewer Matthew Barth <mbarth@lenovo.com>."
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "2ffd9776d1b3450f50286d579f3e9164c440d1b9",
            "parents": [
                "ab509256c72babffed19ae06ca0192a18eebe126"
            ],
            "ref": "refs/changes/85/50685/1",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1643220581,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "presence/tach_detect.cpp",
                    "line": 63,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Ideally, I'd reset() the match object here. However since it's done in a lambda, C++ prohibits resetting itself. The consequence is that the callback is called when Inventory is stopped. However, due to the check on line 62, the service doesn't restart, so I believe this side effect is harmless."
                },
                {
                    "file": "presence/tach_detect.cpp",
                    "line": 63,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "presence/tach_detect.cpp",
                    "type": "MODIFIED",
                    "insertions": 53,
                    "deletions": -8
                }
            ],
            "sizeInsertions": 67,
            "sizeDeletions": 8
        },
        {
            "number": 2,
            "revision": "84c4a16f8356c1b5f17ae5dd190cec21706f4b75",
            "parents": [
                "ab509256c72babffed19ae06ca0192a18eebe126"
            ],
            "ref": "refs/changes/85/50685/2",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1643221986,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "presence/tach_detect.cpp",
                    "line": 96,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "since this is on the stack in this function, it'd just go out of scope at the end, cleaning up its match object that is waiting for entity-manager."
                },
                {
                    "file": "presence/tach_detect.cpp",
                    "line": 96,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "good catch"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "presence/tach_detect.cpp",
                    "type": "MODIFIED",
                    "insertions": 54,
                    "deletions": -8
                }
            ],
            "sizeInsertions": 68,
            "sizeDeletions": 8
        },
        {
            "number": 3,
            "revision": "233ff298710b937faf4197571afd76623ecde994",
            "parents": [
                "ab509256c72babffed19ae06ca0192a18eebe126"
            ],
            "ref": "refs/changes/85/50685/3",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1643312409,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "presence/tach_detect.cpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": -8
                }
            ],
            "sizeInsertions": 72,
            "sizeDeletions": 8
        },
        {
            "number": 4,
            "revision": "b6156211691cc7cec669644863144db8462f6a87",
            "parents": [
                "21dc91f693b5b127c5f4fd4dbe881f9ba6827559"
            ],
            "ref": "refs/changes/85/50685/4",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1644246767,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "presence/tach_detect.cpp",
                    "line": 76,
                    "reviewer": {
                        "name": "Matt Spinler",
                        "email": "spinler@us.ibm.com",
                        "username": "spinler"
                    },
                    "message": "Think this would hit the same problems fan monitor had and the code that calls Notify to set the presence state will hit the same race condition?"
                },
                {
                    "file": "presence/tach_detect.cpp",
                    "line": 76,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "I think I've solved this by using the hard-coded service name."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "presence/tach_detect.cpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": -8
                }
            ],
            "sizeInsertions": 72,
            "sizeDeletions": 8
        },
        {
            "number": 5,
            "revision": "c952ac43f29f13a39afcbb45c36a705912dec849",
            "parents": [
                "b20f2fe95bdb40770a7f01da02d63bc8cdf5a92f"
            ],
            "ref": "refs/changes/85/50685/5",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1645540119,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "presence/tach_detect.cpp",
                    "type": "MODIFIED",
                    "insertions": 58,
                    "deletions": -8
                }
            ],
            "sizeInsertions": 72,
            "sizeDeletions": 8
        },
        {
            "number": 6,
            "revision": "956c72c81acf1fdc5d23a694579d54af9e14b5e5",
            "parents": [
                "b20f2fe95bdb40770a7f01da02d63bc8cdf5a92f"
            ],
            "ref": "refs/changes/85/50685/6",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1645654764,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "presence/json_parser.hpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -11
                },
                {
                    "file": "presence/json_parser.cpp",
                    "type": "MODIFIED",
                    "insertions": 63,
                    "deletions": -26
                },
                {
                    "file": "presence/tach_detect.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -15
                }
            ],
            "sizeInsertions": 99,
            "sizeDeletions": 52
        },
        {
            "number": 7,
            "revision": "029e01877450d0676e9d92fa08f77bd80a2b6ff7",
            "parents": [
                "b20f2fe95bdb40770a7f01da02d63bc8cdf5a92f"
            ],
            "ref": "refs/changes/85/50685/7",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1645655218,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "presence/json_parser.hpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -11
                },
                {
                    "file": "presence/json_parser.cpp",
                    "type": "MODIFIED",
                    "insertions": 63,
                    "deletions": -26
                },
                {
                    "file": "presence/tach_detect.cpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -18
                }
            ],
            "sizeInsertions": 100,
            "sizeDeletions": 55
        },
        {
            "number": 8,
            "revision": "a37e66b99c88235bcbf97313317b9c89841db157",
            "parents": [
                "1a7ad0789205aa9f9bd0f7a292790101c9a1b054"
            ],
            "ref": "refs/changes/85/50685/8",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1646065845,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "presence/json_parser.cpp",
                    "line": 64,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "mbarth@lenovo.com",
                        "username": "msbarth"
                    },
                    "message": "What's the need for this by-copy capture?\n\nShould capture only what's needed and by reference instead."
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 64,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Done"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 68,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "mbarth@lenovo.com",
                        "username": "msbarth"
                    },
                    "message": "Same here"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 68,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Done"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 78,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "mbarth@lenovo.com",
                        "username": "msbarth"
                    },
                    "message": "Looks like `start()` is being called twice, first in `registerSigHandler()` and then again here?"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 78,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "negative, the start() call in the former is inside the signal handler itself, thus wont be called unless the signal is sent to the process."
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 78,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Done"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 87,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "mbarth@lenovo.com",
                        "username": "msbarth"
                    },
                    "message": "Same here, shouldnt capture all that's needed by-copy"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 87,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Done"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 104,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "mbarth@lenovo.com",
                        "username": "msbarth"
                    },
                    "message": "Similarly, looks like `start()` is called twice.. what's the reason for this?"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 104,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "no, the first start() call only occurs if the inventory service is running. the second call is part of the activation of the async hander that gets called when inventory is detected."
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 104,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Done"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 113,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "mbarth@lenovo.com",
                        "username": "msbarth"
                    },
                    "message": "Same here, shouldnt capture all by-copy"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 113,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "copies were on sale at the time I wrote this."
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 113,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Done"
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 128,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "mbarth@lenovo.com",
                        "username": "msbarth"
                    },
                    "message": "I'm confused by this comment... certainly seems its within `start()` and being called each time `start()` is where `_config` is replaced with a unique instance of JsonConfig."
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 128,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "this is not called in the same activation record as start(). the function initializes a member variable that contains a lambda. this will be called by the async logic that detects whether the config file is there."
                },
                {
                    "file": "presence/json_parser.cpp",
                    "line": 128,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Done"
                },
                {
                    "file": "presence/json_parser.hpp",
                    "line": 11,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "mbarth@lenovo.com",
                        "username": "msbarth"
                    },
                    "message": "Looks like this include should have been in the .cpp and not here."
                },
                {
                    "file": "presence/json_parser.hpp",
                    "line": 11,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Done"
                },
                {
                    "file": "presence/tach_detect.cpp",
                    "line": 27,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "mbarth@lenovo.com",
                        "username": "msbarth"
                    },
                    "message": "No longer needed here"
                },
                {
                    "file": "presence/tach_detect.cpp",
                    "line": 27,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Done"
                },
                {
                    "file": "presence/tach_detect.cpp",
                    "line": 37,
                    "reviewer": {
                        "name": "Matthew Barth",
                        "email": "mbarth@lenovo.com",
                        "username": "msbarth"
                    },
                    "message": "These are still needed for YAML based fan presence so should not have been moved into here"
                },
                {
                    "file": "presence/tach_detect.cpp",
                    "line": 37,
                    "reviewer": {
                        "name": "Mike Capps",
                        "email": "mikepcapps@gmail.com",
                        "username": "mikecgithub"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "presence/json_parser.hpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -11
                },
                {
                    "file": "presence/json_parser.cpp",
                    "type": "MODIFIED",
                    "insertions": 63,
                    "deletions": -26
                },
                {
                    "file": "presence/tach_detect.cpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -18
                }
            ],
            "sizeInsertions": 100,
            "sizeDeletions": 55
        },
        {
            "number": 9,
            "revision": "d6c140b7487e1278fcb209b77cd0e88ad1b18535",
            "parents": [
                "1a7ad0789205aa9f9bd0f7a292790101c9a1b054"
            ],
            "ref": "refs/changes/85/50685/9",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1648128014,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "presence/json_parser.hpp",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": -11
                },
                {
                    "file": "presence/json_parser.cpp",
                    "type": "MODIFIED",
                    "insertions": 64,
                    "deletions": -26
                },
                {
                    "file": "presence/tach_detect.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -19
                }
            ],
            "sizeInsertions": 99,
            "sizeDeletions": 56
        },
        {
            "number": 10,
            "revision": "5beb1c63ddf5621e8cf602f0f6bd3c1f5b312859",
            "parents": [
                "dfc8c4d0901d0e72abefdbd2d43e8ce219d8b11b"
            ],
            "ref": "refs/changes/85/50685/10",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1657075951,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "presence/json_parser.hpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -11
                },
                {
                    "file": "presence/json_parser.cpp",
                    "type": "MODIFIED",
                    "insertions": 67,
                    "deletions": -23
                },
                {
                    "file": "presence/tach_detect.cpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -18
                }
            ],
            "sizeInsertions": 104,
            "sizeDeletions": 52
        },
        {
            "number": 11,
            "revision": "84fe641c60ca7223aaf52d771f7502bb7b96e8d8",
            "parents": [
                "dfc8c4d0901d0e72abefdbd2d43e8ce219d8b11b"
            ],
            "ref": "refs/changes/85/50685/11",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1657076770,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "presence/json_parser.hpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -11
                },
                {
                    "file": "presence/json_parser.cpp",
                    "type": "MODIFIED",
                    "insertions": 66,
                    "deletions": -23
                },
                {
                    "file": "presence/tach_detect.cpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -18
                }
            ],
            "sizeInsertions": 103,
            "sizeDeletions": 52
        },
        {
            "number": 12,
            "revision": "85f17ecfb75f2db60b876f9197235c4e89aee145",
            "parents": [
                "dfc8c4d0901d0e72abefdbd2d43e8ce219d8b11b"
            ],
            "ref": "refs/changes/85/50685/12",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1657077608,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "presence/json_parser.hpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -11
                },
                {
                    "file": "presence/json_parser.cpp",
                    "type": "MODIFIED",
                    "insertions": 66,
                    "deletions": -23
                },
                {
                    "file": "presence/tach_detect.cpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -18
                }
            ],
            "sizeInsertions": 103,
            "sizeDeletions": 52
        },
        {
            "number": 13,
            "revision": "e1e0782fe9869ad22eb0e3cce1fb5379691d4012",
            "parents": [
                "77073c58a7b3ddf6c6e9c5c1d2a6b97c3ec5eaf8"
            ],
            "ref": "refs/changes/85/50685/13",
            "uploader": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "createdOn": 1659964596,
            "author": {
                "name": "Mike Capps",
                "email": "mikepcapps@gmail.com",
                "username": "mikecgithub"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "presence/json_parser.hpp",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -11
                },
                {
                    "file": "presence/json_parser.cpp",
                    "type": "MODIFIED",
                    "insertions": 66,
                    "deletions": -23
                },
                {
                    "file": "presence/tach_detect.cpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -18
                }
            ],
            "sizeInsertions": 103,
            "sizeDeletions": 52
        }
    ]
}