{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "I79c5e220f9c22312817a634d2e4e998dc02deced",
    "number": 55839,
    "subject": "WIP: LogService: Add CPER logs & crashdumps to FaultLog",
    "owner": {
        "name": "Claire Weinan",
        "email": "cweinan@google.com",
        "username": "daylight22"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/55839",
    "hashtags": [],
    "createdOn": 1658627570,
    "lastUpdated": 1667450685,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1658627570,
            "reviewer": {
                "name": "Claire Weinan",
                "email": "cweinan@google.com",
                "username": "daylight22"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1658627602,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1658627602,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1658628166,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/47693/ : SUCCESS"
        },
        {
            "timestamp": 1658628547,
            "reviewer": {
                "name": "Claire Weinan",
                "email": "cweinan@google.com",
                "username": "daylight22"
            },
            "message": "Set Work In Progress"
        },
        {
            "timestamp": 1658629605,
            "reviewer": {
                "name": "Claire Weinan",
                "email": "cweinan@google.com",
                "username": "daylight22"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1658629662,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1658629662,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1658630157,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/47696/ : SUCCESS"
        },
        {
            "timestamp": 1658635373,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1658644885,
            "reviewer": {
                "name": "Claire Weinan",
                "email": "cweinan@google.com",
                "username": "daylight22"
            },
            "message": "Patch Set 2:\n\n(4 comments)\n\nThis change is ready for review."
        },
        {
            "timestamp": 1658644894,
            "reviewer": {
                "name": "Claire Weinan",
                "email": "cweinan@google.com",
                "username": "daylight22"
            },
            "message": "Set Work In Progress"
        },
        {
            "timestamp": 1659574878,
            "reviewer": {
                "name": "Claire Weinan",
                "email": "cweinan@google.com",
                "username": "daylight22"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1659574908,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659574908,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1659575418,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48355/ : SUCCESS"
        },
        {
            "timestamp": 1660322664,
            "reviewer": {
                "name": "Claire Weinan",
                "email": "cweinan@google.com",
                "username": "daylight22"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1660332891,
            "reviewer": {
                "name": "Claire Weinan",
                "email": "cweinan@google.com",
                "username": "daylight22"
            },
            "message": "Uploaded patch set 4: Commit message was updated."
        },
        {
            "timestamp": 1665648039,
            "reviewer": {
                "name": "dcao-ampere",
                "email": "dung@os.amperecomputing.com",
                "username": "dcao-ampere"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1667450685,
            "reviewer": {
                "name": "dcao-ampere",
                "email": "dung@os.amperecomputing.com",
                "username": "dcao-ampere"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        }
    ],
    "wip": true,
    "patchSets": [
        {
            "number": 1,
            "revision": "dc16d446ac835285ff3e0a14490acd18d73c21f4",
            "parents": [
                "0d7702c0246c5948caf12a3e441f74952c7d0ccf"
            ],
            "ref": "refs/changes/39/55839/1",
            "uploader": {
                "name": "Claire Weinan",
                "email": "cweinan@google.com",
                "username": "daylight22"
            },
            "createdOn": 1658627570,
            "author": {
                "name": "Claire Weinan",
                "email": "cweinan@google.com",
                "username": "daylight22"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 60,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 169,
                    "deletions": -117
                }
            ],
            "sizeInsertions": 229,
            "sizeDeletions": 117
        },
        {
            "number": 2,
            "revision": "f1c20c6eb64882f75a0edeb669e57c755d97db89",
            "parents": [
                "0d7702c0246c5948caf12a3e441f74952c7d0ccf"
            ],
            "ref": "refs/changes/39/55839/2",
            "uploader": {
                "name": "Claire Weinan",
                "email": "cweinan@google.com",
                "username": "daylight22"
            },
            "createdOn": 1658629605,
            "author": {
                "name": "Claire Weinan",
                "email": "cweinan@google.com",
                "username": "daylight22"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Claire Weinan",
                        "email": "cweinan@google.com",
                        "username": "daylight22"
                    },
                    "message": "I had marked this as \"Work in Progress\" (until other patchsets it depends on get submitted), but thanks for taking a look in advance \ud83d\udc4d."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 556,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please move code in a different commit before adding features."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 556,
                    "reviewer": {
                        "name": "Claire Weinan",
                        "email": "cweinan@google.com",
                        "username": "daylight22"
                    },
                    "message": "In review at https://gerrit.openbmc.org/c/openbmc/bmcweb/+/55468 (would appreciate your review when you get a chance)"
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 556,
                    "reviewer": {
                        "name": "Claire Weinan",
                        "email": "cweinan@google.com",
                        "username": "daylight22"
                    },
                    "message": "The code move has been merged (https://gerrit.openbmc.org/c/openbmc/bmcweb/+/55468)"
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 415,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This interface doesn't look like it exists:\nhttps://github.com/openbmc/phosphor-dbus-\ninterfaces/tree/master/yaml/xyz/openbmc_project/Dump/Entry"
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 415,
                    "reviewer": {
                        "name": "Claire Weinan",
                        "email": "cweinan@google.com",
                        "username": "daylight22"
                    },
                    "message": "In review at https://gerrit.openbmc.org/c/openbmc/phosphor-dbus-interfaces/+/53018"
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 434,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Neither of these seem to exist either."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 434,
                    "reviewer": {
                        "name": "Claire Weinan",
                        "email": "cweinan@google.com",
                        "username": "daylight22"
                    },
                    "message": "In review at https://gerrit.openbmc.org/c/openbmc/phosphor-dbus-interfaces/+/53018"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 60,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 168,
                    "deletions": -116
                }
            ],
            "sizeInsertions": 228,
            "sizeDeletions": 116
        },
        {
            "number": 3,
            "revision": "b83fb178120bef45bc1a316b614fd2a25466cfb8",
            "parents": [
                "aefe3786057499a767c5627b0106f0248fa3762d"
            ],
            "ref": "refs/changes/39/55839/3",
            "uploader": {
                "name": "Claire Weinan",
                "email": "cweinan@google.com",
                "username": "daylight22"
            },
            "createdOn": 1659574878,
            "author": {
                "name": "Claire Weinan",
                "email": "cweinan@google.com",
                "username": "daylight22"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 60,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 107,
                    "deletions": -9
                }
            ],
            "sizeInsertions": 167,
            "sizeDeletions": 9
        },
        {
            "number": 4,
            "revision": "46cb1b0c1c6c411a1b45ad9c3371ba716e6e6e58",
            "parents": [
                "aefe3786057499a767c5627b0106f0248fa3762d"
            ],
            "ref": "refs/changes/39/55839/4",
            "uploader": {
                "name": "Claire Weinan",
                "email": "cweinan@google.com",
                "username": "daylight22"
            },
            "createdOn": 1660332891,
            "author": {
                "name": "Claire Weinan",
                "email": "cweinan@google.com",
                "username": "daylight22"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 556,
                    "reviewer": {
                        "name": "dcao-ampere",
                        "email": "dung@os.amperecomputing.com",
                        "username": "dcao-ampere"
                    },
                    "message": "The DEN0069D SBMR 2.0 specifies at section C.3.2 RAS Redfish message format:\n\nDiagnosticDataType: The type of the diagnostics binary file. For platform error records, this can be OS,\n\nPreOS, CPER, CPERSection, or OEM.\n\n\u2013 When using Redfish to report CPER data, SBMR requires setting this property to CPER when the content is a complete CPER Record with a Header and one or more Sections, or CPERSection when the content is a single CPER Section (and a Section Descriptor) without a Header. This allows user software to distinguish CPER records from other diagnostics files.\n\n\nSo if thisEntry is CPER type then DiagnosticDataType should be CPER, not OEM here."
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "line": 563,
                    "reviewer": {
                        "name": "dcao-ampere",
                        "email": "dung@os.amperecomputing.com",
                        "username": "dcao-ampere"
                    },
                    "message": "How about change AdditionalDataURI to \"/redfish/v1/Systems/system/LogServices/FaultLog/Entries/\" + primaryLogId + \"/attachment\"\n\nIt looks better than the original name"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 60,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/log_services.hpp",
                    "type": "MODIFIED",
                    "insertions": 107,
                    "deletions": -9
                }
            ],
            "sizeInsertions": 167,
            "sizeDeletions": 9
        }
    ]
}