{
    "project": "openbmc/openbmc-build-scripts",
    "branch": "master",
    "id": "I3a877f932226f1670cb5c6abe71b348234cc37e2",
    "number": 53234,
    "subject": "Add .clang-tidy-ignore support",
    "owner": {
        "name": "Lei YU",
        "email": "yulei.sh@bytedance.com",
        "username": "mine260309"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/openbmc-build-scripts/+/53234",
    "hashtags": [],
    "createdOn": 1650857837,
    "lastUpdated": 1665790596,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1650857837,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1650857851,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1650857852,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1650857861,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-openbmc-build-scripts/494/"
        },
        {
            "timestamp": 1650859038,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-openbmc-build-scripts/494/ : SUCCESS"
        },
        {
            "timestamp": 1650859462,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1650866019,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1650898000,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1650912799,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1650945495,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1650946314,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1650948993,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1650954683,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1652227065,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 1: Code-Review-1\n\n(2 comments)"
        },
        {
            "timestamp": 1652227256,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1658229907,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1658229920,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1658229931,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1658229931,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1658229939,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-openbmc-build-scripts/536/"
        },
        {
            "timestamp": 1658230671,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-openbmc-build-scripts/536/ : SUCCESS"
        },
        {
            "timestamp": 1658231662,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1658231682,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1658231682,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1658231689,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Started https://jenkins.openbmc.org/job/CI-MISC/job/ci-openbmc-build-scripts/538/"
        },
        {
            "timestamp": 1658231737,
            "reviewer": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1658232874,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/CI-MISC/job/ci-openbmc-build-scripts/538/ : SUCCESS"
        },
        {
            "timestamp": 1658244289,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(3 comments)"
        },
        {
            "timestamp": 1665790596,
            "reviewer": {
                "name": "Willy Tu",
                "email": "wltu@google.com",
                "username": "wltu"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "b4bccfe4e42fe3ed8fd9c8614dbe745c9fcd3338",
            "parents": [
                "7e2d5014429c400f81dece1106a4a76339601c62"
            ],
            "ref": "refs/changes/34/53234/1",
            "uploader": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "createdOn": 1650857837,
            "author": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Why would we want to do this?  There shouldn't really be any entire-files that are exempt from the clang-tidy rules.  bmcweb does have an \"ignore\" concept for files within projects we don't own (ie subprojects) but that's different.\n\nCan you mention why you think this is necessary, along with some examples of where it would be used?  I think that would help quite a bit."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "yulei.sh@bytedance.com",
                        "username": "mine260309"
                    },
                    "message": "By default run-clang-tidy process the files in compile_commands.json.\n\n> Why would we want to do this?  There shouldn't really be any entire-files that are exempt from the clang-tidy rules.\n\nIf a repo generates code (e.g. with sdbusplus to generate yaml to cpp), the generated cpp files are in compile_commands.json, but we do not really want clang-tidy to process such files:\n* It usually is generated by custom_target, which is OK for regular build, but the file is missing while running clang-tidy\n* The generated files could contain style issues that we do not care to fix.\n\nUsually we do not want clang-tidy check the files in `tests` as well.\n\n> Can you mention why you think this is necessary, along with some examples of where it would be used?  I think that would help quite a bit.\n\nFor example, if you want to enable clang-tidy for phosphor-logging, you could hit the above issues."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> By default run-clang-tidy process the files in compile_commands.json.\n> \n> > Why would we want to do this?  There shouldn't really be any entire-files that are exempt from the clang-tidy rules.\n> \n> If a repo generates code (e.g. with sdbusplus to generate yaml to cpp), the generated cpp files are in compile_commands.json, but we do not really want clang-tidy to process such files:\n\n\nI don't think that is true.  Even in the case where you're generating files, the files should still pass tidy checks.  bmcweb does exactly what you described already.  Just because it's generated doesn't mean that the tidy checks are invalid, and if they truly are, the script can generate NOLINTNEXTLINE entries for the parts that it knows are valid in the generated code.\n\n> * It usually is generated by custom_target, which is OK for regular build, but the file is missing while running clang-tidy\n\nThe fix to that I believe is here:\nhttps://gerrit.openbmc-project.xyz/c/openbmc/openbmc-build-scripts/+/51391\n\n> * The generated files could contain style issues that we do not care to fix.\n\nWhy not?  It seems relatively doable to just fix the style when we build the script, or simply make the script add // clang-format off to ignore styling altogether.  bmcweb does the later in some cases already.\n\n> \n> Usually we do not want clang-tidy check the files in `tests` as well.\n\nNot true.  Tests should pass the same checks, or, if a pattern is explicitly deemed ok for tests, use // NOLINTNEXTLINE, or an explicit .clang-tidy file in the tests folder to handle that case.\n\n> \n> > Can you mention why you think this is necessary, along with some examples of where it would be used?  I think that would help quite a bit.\n> \n> For example, if you want to enable clang-tidy for phosphor-logging, you could hit the above issues.\n\nCan you list some specific tidy tests that we wouldn't want enabled, and which generated files we wouldn't want them enabled on?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "yulei.sh@bytedance.com",
                        "username": "mine260309"
                    },
                    "message": "> The fix to that I believe is here:\nhttps://gerrit.openbmc-project.xyz/c/openbmc/openbmc-build-scripts/+/51391\n\nGood to know.\nDo you use clang-tidy to check the server.cpp generated from yaml by sdbusplus?\nIf you do, you will see there are plenty of `readability-identifier-naming` errors like emit_added, emit_removed, _callback_get_xxx, _callback_set_xxx, that are generated by sdbusplus.\n\nI do not care or bother to fix such case styles for the sdbusplus generated code, as long as I trust the generator."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> > The fix to that I believe is here:\n> https://gerrit.openbmc-project.xyz/c/openbmc/openbmc-build-scripts/+/51391\n> \n> Good to know.\n> Do you use clang-tidy to check the server.cpp generated from yaml by sdbusplus?\n\nI don't, and the subproject pattern ignores sdbusplus as a folder, but I don't maintain any projects that rely on the yaml definitions.\n\n> If you do, you will see there are plenty of `readability-identifier-naming` errors like emit_added, emit_removed, _callback_get_xxx, _callback_set_xxx, that are generated by sdbusplus.\n\nSo add them to the clang-tidy ignore directives (look at dbus-sensors .clang-tidy for how to do that) or get the generator to add // NOLINTBEGIN and //NOLINTEND to the generated sections that fail.\n\n> \n> I do not care or bother to fix such case styles for the sdbusplus generated code, as long as I trust the generator.\n\nMy position is still the same, generated code should follow the same style guidelines as human written code, or, if it has its own style, write a .clang-tidy file that matches the style it generates."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Is this a standard file name or one we made up?  I don't really want to keep adding these undocumented OpenBMC-specific files.\n\n'trunk.io' has matured enough where it can be used by us, so I plan to write up a design for how to incorporate that in the near future.  That will allow us to use many more off-the-shelf linters with very little effort on our part.  It would be nice if we could align with how clang-tidy and/or trunk.io handle this process so we can easily transition away from our custom code to something else."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "yulei.sh@bytedance.com",
                        "username": "mine260309"
                    },
                    "message": "> Is this a standard file name or one we made up?  I don't really want to keep adding these undocumented OpenBMC-specific files.\n\nI see this file name in some open source repos, e.g.\n- https://github.com/vmware/concord-bft/blob/master/.clang-tidy-ignore\n- https://github.com/apache/arrow/blob/master/.clang-tidy-ignore\n\n> 'trunk.io' has matured enough where it can be used by us, so I plan to write up a design for how to incorporate that in the near future.  \n\nGood to konw.\nBut we do want to have ability to run the repo-ci locally instead of putting it online. The tools in openbmc-build-scripts are good for us in daily development that we usually run the local repo-ci before submitting patches to gerrit."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "> But we do want to have ability to run the repo-ci locally instead of putting it online. \n\ntrunk can be ran locally.  I plan to get it (and all the corresponding linters) added to the Docker image once/if we go that route."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "yulei.sh@bytedance.com",
                        "username": "mine260309"
                    },
                    "message": "That will be great"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 15,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> I don't really want to keep adding these undocumented OpenBMC-specific files.\n\n+1"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "yulei.sh@bytedance.com",
                        "username": "mine260309"
                    },
                    "message": "To clarify, this patch does NOT change the existing behavior if the repo does NOT have .clang-tidy-ignore.\nIt only use the new logic to find and filter files to check if .clang-tidy-ignore exists.\nSo it will not impact existing repos."
                },
                {
                    "file": "scripts/unit-test.py",
                    "line": 766,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Can we please not implement this in-line. Pull it out into a separate function for determining the file set."
                },
                {
                    "file": "scripts/unit-test.py",
                    "line": 766,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Also, please use actual sets and set operations. You're calculating the set difference of the two lists."
                },
                {
                    "file": "scripts/unit-test.py",
                    "line": 766,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "yulei.sh@bytedance.com",
                        "username": "mine260309"
                    },
                    "message": "> Can we please not implement this in-line. Pull it out into a separate function for determining the file set.\n\nMoved into a separated function.\n\n> Also, please use actual sets and set operations. You're calculating the set difference of the two lists.\n\nNot really, the filter_list could contain a string of folder, e.g. `test/`, so that any files in `test/` will be filtered. It's not really set operations."
                },
                {
                    "file": "scripts/unit-test.py",
                    "line": 785,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "This is going to break the \"ignore\" filtering that already exists in places like bmcweb, and is also going to ignore clang-tidy for generated files, neither of which seem good."
                },
                {
                    "file": "scripts/unit-test.py",
                    "line": 785,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "yulei.sh@bytedance.com",
                        "username": "mine260309"
                    },
                    "message": "> This is going to break the \"ignore\" filtering that already exists in places like bmcweb, and is also going to ignore clang-tidy for generated files, neither of which seem good.\n\nHow does bmcweb handle the \"ignore\" filter?\n\nWhy do we care about generated files?"
                },
                {
                    "file": "scripts/unit-test.py",
                    "line": 785,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> > This is going to break the \"ignore\" filtering that already exists in places like bmcweb, and is also going to ignore clang-tidy for generated files, neither of which seem good.\n> \n> How does bmcweb handle the \"ignore\" filter?\n\nTake a look inside bmcweb in the subprojects folder.\n\n> \n> Why do we care about generated files?\n\nBecause people still need to debug generated files, and generated files can still have memory and lifetime safety issues that tidy can check.  Having a consistent rules applied across a repo is helpful in removing entire classes of bugs."
                },
                {
                    "file": "scripts/unit-test.py",
                    "line": 785,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "yulei.sh@bytedance.com",
                        "username": "mine260309"
                    },
                    "message": "> This is going to break the \"ignore\" filtering that already exists in places like bmcweb, and is also going to ignore clang-tidy for generated files, neither of which seem good.\n\nTo clarify, this patch does NOT change the existing behavior if the repo does NOT have .clang-tidy-ignore.\nIt only use the new logic to find and filter files to check if .clang-tidy-ignore exists.\nSo it will not impact existing repos."
                },
                {
                    "file": "scripts/unit-test.py",
                    "line": 785,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "yulei.sh@bytedance.com",
                        "username": "mine260309"
                    },
                    "message": "Added a description about bmcweb's CI result in commit message."
                },
                {
                    "file": "scripts/unit-test.py",
                    "line": 785,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I still think there are better paths here than having a blanket ignore list.  Why does the pattern we use here:\nhttps://github.com/openbmc/bmcweb/blob/master/subprojects/.clang-tidy\n\nNot work for the sdbusplus generated yaml case?"
                },
                {
                    "file": "scripts/unit-test.py",
                    "line": 785,
                    "reviewer": {
                        "name": "Willy Tu",
                        "email": "wltu@google.com",
                        "username": "wltu"
                    },
                    "message": "I do agree that in general the `Check` filter is better to ignore the checks.\n\nI do also see some cases where the ignore files is good to have to move forward the project.\n\nFor example, if we hit `clang-diagnostic-error` errors that is from other repos and blocking other changes from being submitted. In cases where the fix is not trivial, it is good to have a workaround the error until that is resolved.\n\nWe cannot filter that check since that should be program breaking... but still build/run fine. For example, https://discord.com/channels/775381525260664832/775381525260664836/1030103361166524416\n\nWe can either disable clang-tidy or ignore the files hitting the issue until it is resolved.\n\n---\n\nOn other note, can't it just use\n\n```\nninja clang-tidy\n```\nfor meson?"
                },
                {
                    "file": "scripts/unit-test.py",
                    "line": 1003,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "This is duplicate of the above? See my feedback on making this an independent function."
                },
                {
                    "file": "scripts/unit-test.py",
                    "line": 1003,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "yulei.sh@bytedance.com",
                        "username": "mine260309"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "scripts/unit-test.py",
                    "type": "MODIFIED",
                    "insertions": 32,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 50,
            "sizeDeletions": 2
        },
        {
            "number": 2,
            "revision": "0aeca876a9b5b1be1a7d310ef0969922b82ac0a3",
            "parents": [
                "ce5f495a113e72148039705702959cabcffe6974"
            ],
            "ref": "refs/changes/34/53234/2",
            "uploader": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "createdOn": 1658229907,
            "author": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "scripts/unit-test.py",
                    "type": "MODIFIED",
                    "insertions": 27,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 45,
            "sizeDeletions": 2
        },
        {
            "number": 3,
            "revision": "2fc1f9c865848517ae2a69a4a530116ea2bef9cf",
            "parents": [
                "69e2f75530cccb9bbcfc1c9578a0782ab3e32505"
            ],
            "ref": "refs/changes/34/53234/3",
            "uploader": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "createdOn": 1658231662,
            "author": {
                "name": "Lei YU",
                "email": "yulei.sh@bytedance.com",
                "username": "mine260309"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "scripts/unit-test.py",
                    "type": "MODIFIED",
                    "insertions": 27,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 46,
            "sizeDeletions": 2
        }
    ]
}