{
    "project": "openbmc/openbmc",
    "branch": "master",
    "id": "Iba6c682493fe481d0b955d43d0be520cedb5f86f",
    "number": 57314,
    "subject": "meta-phosphor: modify nbd proxy port settings",
    "owner": {
        "name": "Chen Tingting",
        "email": "chentingting.2150@bytedance.com",
        "username": "chen2150"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/openbmc/+/57314",
    "hashtags": [],
    "createdOn": 1663773842,
    "lastUpdated": 1667315811,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1663773842,
            "reviewer": {
                "name": "Chen Tingting",
                "email": "chentingting.2150@bytedance.com",
                "username": "chen2150"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1663773943,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1663773943,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1663773949,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/12924/"
        },
        {
            "timestamp": 1663775420,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/12924/ : SUCCESS"
        },
        {
            "timestamp": 1663775431,
            "reviewer": {
                "name": "Jenkins OpenBMC Google",
                "email": "haojenkinsg00gle@gmail.com",
                "username": "jenkins-openbmc-g00gle"
            },
            "message": "Patch Set 1:\n\nBuild Successful \n\nGoogle Internal CI : Google internal tests successfully started"
        },
        {
            "timestamp": 1663776603,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 1:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1663780455,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1663835079,
            "reviewer": {
                "name": "Chen Tingting",
                "email": "chentingting.2150@bytedance.com",
                "username": "chen2150"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1663899007,
            "reviewer": {
                "name": "Chen Tingting",
                "email": "chentingting.2150@bytedance.com",
                "username": "chen2150"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1664190651,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1664447872,
            "reviewer": {
                "name": "Chen Tingting",
                "email": "chentingting.2150@bytedance.com",
                "username": "chen2150"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1664448020,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1664448020,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1664448029,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/13057/"
        },
        {
            "timestamp": 1664448517,
            "reviewer": {
                "name": "Chen Tingting",
                "email": "chentingting.2150@bytedance.com",
                "username": "chen2150"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1664449181,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/13057/ : SUCCESS"
        },
        {
            "timestamp": 1664449192,
            "reviewer": {
                "name": "Jenkins OpenBMC Google",
                "email": "haojenkinsg00gle@gmail.com",
                "username": "jenkins-openbmc-g00gle"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nGoogle Internal CI : Google internal tests successfully started"
        },
        {
            "timestamp": 1664450387,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1666611324,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1667293496,
            "reviewer": {
                "name": "Chen Tingting",
                "email": "chentingting.2150@bytedance.com",
                "username": "chen2150"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1667293586,
            "reviewer": {
                "name": "Chen Tingting",
                "email": "chentingting.2150@bytedance.com",
                "username": "chen2150"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1667293729,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1667293729,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1667293737,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/13563/"
        },
        {
            "timestamp": 1667293811,
            "reviewer": {
                "name": "Chen Tingting",
                "email": "chentingting.2150@bytedance.com",
                "username": "chen2150"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1667294812,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/13563/ : SUCCESS"
        },
        {
            "timestamp": 1667294822,
            "reviewer": {
                "name": "Jenkins OpenBMC Google",
                "email": "haojenkinsg00gle@gmail.com",
                "username": "jenkins-openbmc-g00gle"
            },
            "message": "Patch Set 4:\n\nBuild Successful \n\nGoogle Internal CI : Google internal tests successfully started"
        },
        {
            "timestamp": 1667296049,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 4:\n\nBuild Failed \n\nIBM Hardware CI : witherspoon hardware test failed"
        },
        {
            "timestamp": 1667307977,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 4:\n\nBuild Failed \n\nIBM Hardware CI : witherspoon hardware test failed"
        },
        {
            "timestamp": 1667309034,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 4:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1667315809,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 4: Code-Review+2"
        },
        {
            "timestamp": 1667315811,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Change has been successfully merged"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "4fa32c96510817438b501a92aa221125edb1d7cc",
            "parents": [
                "dfd81bed096e321ffcba08b547d0f4dcdddaab8a"
            ],
            "ref": "refs/changes/14/57314/1",
            "uploader": {
                "name": "Chen Tingting",
                "email": "chentingting.2150@bytedance.com",
                "username": "chen2150"
            },
            "createdOn": 1663773842,
            "author": {
                "name": "Chen Tingting",
                "email": "chentingting.2150@bytedance.com",
                "username": "chen2150"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "meta-phosphor/dynamic-layers/aspeed-layer/recipes-connectivity/jsnbd/jsnbd/state_hook",
                    "line": 51,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Out of curiosity, does your change make this code now work for all BMCs and not just Aspeed?  I've found it odd that we put this code under aspeed-layer."
                },
                {
                    "file": "meta-phosphor/dynamic-layers/aspeed-layer/recipes-connectivity/jsnbd/jsnbd/state_hook",
                    "line": 51,
                    "reviewer": {
                        "name": "Chen Tingting",
                        "email": "chentingting.2150@bytedance.com",
                        "username": "chen2150"
                    },
                    "message": "Because we found this problem openbmc/openbmc#3814 on Aspeed, this solution has been verified on Aspeed, and this script was originally placed under Aspeed-layer, currently it is not sure whether it is suitable for other SOC."
                },
                {
                    "file": "meta-phosphor/dynamic-layers/aspeed-layer/recipes-connectivity/jsnbd/jsnbd/state_hook",
                    "line": 51,
                    "reviewer": {
                        "name": "Chen Tingting",
                        "email": "chentingting.2150@bytedance.com",
                        "username": "chen2150"
                    },
                    "message": "Done"
                },
                {
                    "file": "meta-phosphor/dynamic-layers/aspeed-layer/recipes-connectivity/jsnbd/jsnbd/state_hook",
                    "line": 51,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "$ git diff meta-phosphor/dynamic-layers/nuvoton-layer/recipes-connectivity/jsnbd/jsnbd/state_hook meta-phosphor/dynamic-layers/aspeed-layer/recipes-connectivity/jsnbd/jsnbd/state_hook\n\nInterestingly there is nothing currently different between aspeed and nuvoton's files, so obviously the file doesn't work on nuvoton.  Would you mind doing another commit to move this out of dynamic-layers and into the base meta-phosphor?  If not, I can do that after this merges."
                },
                {
                    "file": "meta-phosphor/dynamic-layers/aspeed-layer/recipes-connectivity/jsnbd/jsnbd/state_hook",
                    "line": 51,
                    "reviewer": {
                        "name": "Chen Tingting",
                        "email": "chentingting.2150@bytedance.com",
                        "username": "chen2150"
                    },
                    "message": "Done."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/dynamic-layers/aspeed-layer/recipes-connectivity/jsnbd/jsnbd/state_hook",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 36,
            "sizeDeletions": 1
        },
        {
            "number": 2,
            "revision": "214cb30d3b4a78897a135f5d2780d7e4c1c4e2d8",
            "parents": [
                "dfd81bed096e321ffcba08b547d0f4dcdddaab8a"
            ],
            "ref": "refs/changes/14/57314/2",
            "uploader": {
                "name": "Chen Tingting",
                "email": "chentingting.2150@bytedance.com",
                "username": "chen2150"
            },
            "createdOn": 1664447872,
            "author": {
                "name": "Chen Tingting",
                "email": "chentingting.2150@bytedance.com",
                "username": "chen2150"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Please rebase."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Chen Tingting",
                        "email": "chentingting.2150@bytedance.com",
                        "username": "chen2150"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-connectivity/jsnbd/jsnbd/state_hook",
                    "fileOld": "meta-phosphor/dynamic-layers/aspeed-layer/recipes-connectivity/jsnbd/jsnbd/state_hook",
                    "type": "RENAMED",
                    "insertions": 17,
                    "deletions": -1
                },
                {
                    "file": "meta-phosphor/dynamic-layers/nuvoton-layer/recipes-connectivity/jsnbd/jsnbd/state_hook",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -68
                },
                {
                    "file": "meta-phosphor/dynamic-layers/nuvoton-layer/recipes-connectivity/jsnbd/jsnbd_git.bbappend",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -10
                },
                {
                    "file": "meta-phosphor/dynamic-layers/aspeed-layer/recipes-connectivity/jsnbd/jsnbd_git.bbappend",
                    "type": "DELETED",
                    "insertions": 0,
                    "deletions": -10
                },
                {
                    "file": "meta-phosphor/recipes-connectivity/jsnbd/jsnbd_git.bb",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 41,
            "sizeDeletions": 89
        },
        {
            "number": 3,
            "revision": "fc1f626d574f49ff626080eb5bbc705b667f2c2a",
            "parents": [
                "67aa1fd0a041be38f35229bed9b5123420b640e1"
            ],
            "ref": "refs/changes/14/57314/3",
            "uploader": {
                "name": "Chen Tingting",
                "email": "chentingting.2150@bytedance.com",
                "username": "chen2150"
            },
            "createdOn": 1667293496,
            "author": {
                "name": "Chen Tingting",
                "email": "chentingting.2150@bytedance.com",
                "username": "chen2150"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-connectivity/jsnbd/jsnbd/state_hook2",
                    "type": "ADDED",
                    "insertions": 71,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-connectivity/jsnbd/jsnbd/state_hook",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -1
                },
                {
                    "file": "meta-phosphor/recipes-connectivity/jsnbd/jsnbd_git.bb1",
                    "type": "ADDED",
                    "insertions": 34,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 141,
            "sizeDeletions": 1
        },
        {
            "number": 4,
            "revision": "3e2eee5868ae2aa9b74b189df18b39040b057ac5",
            "parents": [
                "67aa1fd0a041be38f35229bed9b5123420b640e1"
            ],
            "ref": "refs/changes/14/57314/4",
            "uploader": {
                "name": "Chen Tingting",
                "email": "chentingting.2150@bytedance.com",
                "username": "chen2150"
            },
            "createdOn": 1667293586,
            "author": {
                "name": "Chen Tingting",
                "email": "chentingting.2150@bytedance.com",
                "username": "chen2150"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "meta-phosphor/recipes-connectivity/jsnbd/jsnbd/state_hook",
                    "type": "MODIFIED",
                    "insertions": 17,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 36,
            "sizeDeletions": 1
        }
    ]
}