{
    "project": "openbmc/dbus-sensors",
    "branch": "master",
    "id": "I584f5d79850921e702b8572fb6b38e9dcfc44d25",
    "number": 58513,
    "subject": "PSUSensor: add IIO device sensor",
    "owner": {
        "name": "Joseph Fu",
        "email": "joseph.fu@quantatw.com",
        "username": "JosephFu1023"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/dbus-sensors/+/58513",
    "hashtags": [],
    "createdOn": 1667822769,
    "lastUpdated": 1671087935,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1667822769,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1667822860,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1667822860,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1667823019,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/54807/ : FAILURE"
        },
        {
            "timestamp": 1667898343,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1667898396,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1667898396,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1667898613,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/54951/ : SUCCESS"
        },
        {
            "timestamp": 1669630516,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Uploaded patch set 3: Patch Set 2 was rebased."
        },
        {
            "timestamp": 1669630541,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1669630541,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1669630555,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/56160/ : FAILURE"
        },
        {
            "timestamp": 1669703971,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Uploaded patch set 4: Commit message was updated."
        },
        {
            "timestamp": 1669703983,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1"
        },
        {
            "timestamp": 1669703996,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1669703996,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1669704343,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/56252/ : SUCCESS"
        },
        {
            "timestamp": 1669753228,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 4:\n\n(4 comments)"
        },
        {
            "timestamp": 1669786621,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1669786651,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1669786651,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1669786878,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/56340/ : SUCCESS"
        },
        {
            "timestamp": 1669786985,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Patch Set 5:\n\n(4 comments)"
        },
        {
            "timestamp": 1670202949,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Set Work In Progress"
        },
        {
            "timestamp": 1670229355,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1670229381,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1670229381,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1670229610,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/56623/ : SUCCESS"
        },
        {
            "timestamp": 1670231818,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Set Ready For Review"
        },
        {
            "timestamp": 1670379911,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 6:\n\n(3 comments)"
        },
        {
            "timestamp": 1670466039,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1670466051,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1670466051,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1670466285,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/57011/ : SUCCESS"
        },
        {
            "timestamp": 1670467568,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Patch Set 7:\n\n(2 comments)"
        },
        {
            "timestamp": 1670802193,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 7:\n\n(2 comments)"
        },
        {
            "timestamp": 1671084686,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Uploaded patch set 8."
        },
        {
            "timestamp": 1671084718,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1671084719,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: -Ok-To-Test"
        },
        {
            "timestamp": 1671084735,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/57811/ : FAILURE"
        },
        {
            "timestamp": 1671085992,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Uploaded patch set 9."
        },
        {
            "timestamp": 1671086024,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1671086024,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: -Ok-To-Test"
        },
        {
            "timestamp": 1671086211,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/57814/ : FAILURE"
        },
        {
            "timestamp": 1671087621,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Uploaded patch set 10."
        },
        {
            "timestamp": 1671087633,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1671087634,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: -Ok-To-Test"
        },
        {
            "timestamp": 1671087871,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 10: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/57819/ : SUCCESS"
        },
        {
            "timestamp": 1671087935,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Patch Set 10:\n\n(2 comments)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "b936370f3ced5e86700fd77cf332ed36ff621d59",
            "parents": [
                "adbcd7c739c7e77d3e47c07ab5215d7228fb9ff0"
            ],
            "ref": "refs/changes/13/58513/1",
            "uploader": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "createdOn": 1667822769,
            "author": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 123,
                    "deletions": 0
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 163,
                    "deletions": -86
                }
            ],
            "sizeInsertions": 286,
            "sizeDeletions": 86
        },
        {
            "number": 2,
            "revision": "d133bcab420a7a0ce673996151cd881d258248ee",
            "parents": [
                "adbcd7c739c7e77d3e47c07ab5215d7228fb9ff0"
            ],
            "ref": "refs/changes/13/58513/2",
            "uploader": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "createdOn": 1667898343,
            "author": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 123,
                    "deletions": 0
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 163,
                    "deletions": -86
                }
            ],
            "sizeInsertions": 286,
            "sizeDeletions": 86
        },
        {
            "number": 3,
            "revision": "ca79ed0d159654f05a562852252e28b9fecf6ee2",
            "parents": [
                "7627c860fa551663436416aa12f5afe2f7136930"
            ],
            "ref": "refs/changes/13/58513/3",
            "uploader": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "createdOn": 1669630516,
            "author": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 123,
                    "deletions": 0
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 163,
                    "deletions": -86
                }
            ],
            "sizeInsertions": 286,
            "sizeDeletions": 86
        },
        {
            "number": 4,
            "revision": "238c5fe2ecd5ab60655a5cb3b74b233c9ee4067b",
            "parents": [
                "7627c860fa551663436416aa12f5afe2f7136930"
            ],
            "ref": "refs/changes/13/58513/4",
            "uploader": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "createdOn": 1669703971,
            "author": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "Why this device is added to PSU sensors? hwmon temp sensor already supports IIO device"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Joseph Fu",
                        "email": "joseph.fu@quantatw.com",
                        "username": "JosephFu1023"
                    },
                    "message": "According to IIO the device driver, an IIO sensors will create single or multiple channels of power, voltage, current and other sensor information. And PSUSensor can use labels to get data from the different exposed paths, So add it to PSUSensor."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "ACK"
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 598,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "why are these removed?"
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 598,
                    "reviewer": {
                        "name": "Joseph Fu",
                        "email": "joseph.fu@quantatw.com",
                        "username": "JosephFu1023"
                    },
                    "message": "Sorry for lost the part of debug log. I added this part in the right place."
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 364,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "move block to line 372"
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 364,
                    "reviewer": {
                        "name": "Joseph Fu",
                        "email": "joseph.fu@quantatw.com",
                        "username": "JosephFu1023"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 382,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "use condition on devType?"
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 382,
                    "reviewer": {
                        "name": "Joseph Fu",
                        "email": "joseph.fu@quantatw.com",
                        "username": "JosephFu1023"
                    },
                    "message": "Done. Update this condition with devType."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 92,
                    "deletions": 0
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 163,
                    "deletions": -86
                }
            ],
            "sizeInsertions": 255,
            "sizeDeletions": 86
        },
        {
            "number": 5,
            "revision": "ccce3eecbf4de5c269c4061edfa1f88d2130b15d",
            "parents": [
                "7627c860fa551663436416aa12f5afe2f7136930"
            ],
            "ref": "refs/changes/13/58513/5",
            "uploader": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "createdOn": 1669786621,
            "author": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 92,
                    "deletions": 0
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 164,
                    "deletions": -81
                }
            ],
            "sizeInsertions": 256,
            "sizeDeletions": 81
        },
        {
            "number": 6,
            "revision": "0b9dc946bebb7a9d18b7d684ac2fc7762c04ebf3",
            "parents": [
                "7627c860fa551663436416aa12f5afe2f7136930"
            ],
            "ref": "refs/changes/13/58513/6",
            "uploader": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "createdOn": 1670229355,
            "author": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 142,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "please use the full directory string like:\n    findFiles(fs::path(\"/sys/bus/iio/devices\"), \"name\", pmbusPaths);\n    findFiles(fs::path(\"/sys/class/hwmon\"), \"name\", pmbusPaths);"
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 142,
                    "reviewer": {
                        "name": "Joseph Fu",
                        "email": "joseph.fu@quantatw.com",
                        "username": "JosephFu1023"
                    },
                    "message": "Done."
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 587,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "This still looks odd to me because devType does not change for inside this for loop, yet there are multiple conditional statements inside the the loop for devType. \nMaybe this function can be refactored as a follow up patch"
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 587,
                    "reviewer": {
                        "name": "Joseph Fu",
                        "email": "joseph.fu@quantatw.com",
                        "username": "JosephFu1023"
                    },
                    "message": "> This still looks odd to me because devType does not change for inside this for loop, yet there are multiple conditional statements inside the the loop for devType. \n> Maybe this function can be refactored as a follow up patch\n\nThe 'matches' parameters is used to set the initial sensor value unit of PSUSensor,  so add '{\"voltage\", sensor_paths::unitVolts}' to 'sensorTable'."
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 587,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "My point is that devType does not change within for loop at https://gerrit.openbmc.org/c/openbmc/dbus-sensors/+/58513/7/src/PSUSensorMain.cpp#574.\n\nHow about add a variable for matchIndex and set outside the for loop?\n\nif (devType == PSU) matchIndex = 1\nelse matchIndex = 2;"
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 587,
                    "reviewer": {
                        "name": "Joseph Fu",
                        "email": "joseph.fu@quantatw.com",
                        "username": "JosephFu1023"
                    },
                    "message": "> My point is that devType does not change within for loop at https://gerrit.openbmc.org/c/openbmc/dbus-sensors/+/58513/7/src/PSUSensorMain.cpp#574.\n> \n> How about add a variable for matchIndex and set outside the for loop?\n> \n> if (devType == PSU) matchIndex = 1\n> else matchIndex = 2;\n\nDone. Define this parameter in the above structure."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 92,
                    "deletions": 0
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 163,
                    "deletions": -80
                }
            ],
            "sizeInsertions": 255,
            "sizeDeletions": 80
        },
        {
            "number": 7,
            "revision": "f024c3219f5e7828753f574ce593dcced19110eb",
            "parents": [
                "26840e5cd43caac6362a5172497f55fd5b67855e"
            ],
            "ref": "refs/changes/13/58513/7",
            "uploader": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "createdOn": 1670466039,
            "author": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 143,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "There are string constants scattered. Can we add a map/structure that define them in the same place, for maintainability?\n\ndevType, path, matchRegEx"
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "line": 143,
                    "reviewer": {
                        "name": "Joseph Fu",
                        "email": "joseph.fu@quantatw.com",
                        "username": "JosephFu1023"
                    },
                    "message": "> There are string constants scattered. Can we add a map/structure that define them in the same place, for maintainability?\n> \n> devType, path, matchRegEx\n\nThis seems like a better way to maintain it, so add a struct to define the same place here. Here set different devType, deviceName, matchRegEx and nameRegEx for Hwmon and IIO devices, thanks for your suggestion."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 92,
                    "deletions": 0
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 172,
                    "deletions": -82
                }
            ],
            "sizeInsertions": 264,
            "sizeDeletions": 82
        },
        {
            "number": 8,
            "revision": "2881bdecb684aa14bb88ff7f9a917c74e44cb69a",
            "parents": [
                "9bbeff75a4d202510901a4a464854cd0b387d1de"
            ],
            "ref": "refs/changes/13/58513/8",
            "uploader": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "createdOn": 1671084686,
            "author": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 92,
                    "deletions": 0
                },
                {
                    "file": "include/PSUSensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 137,
                    "deletions": -72
                }
            ],
            "sizeInsertions": 245,
            "sizeDeletions": 72
        },
        {
            "number": 9,
            "revision": "2824e0ba584710d829540301ccf3d3b81289c7db",
            "parents": [
                "9bbeff75a4d202510901a4a464854cd0b387d1de"
            ],
            "ref": "refs/changes/13/58513/9",
            "uploader": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "createdOn": 1671085992,
            "author": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 92,
                    "deletions": 0
                },
                {
                    "file": "include/PSUSensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 137,
                    "deletions": -72
                }
            ],
            "sizeInsertions": 245,
            "sizeDeletions": 72
        },
        {
            "number": 10,
            "revision": "025dbf6a1acec07f00c5c1ed39be1bdd95884b08",
            "parents": [
                "9bbeff75a4d202510901a4a464854cd0b387d1de"
            ],
            "ref": "refs/changes/13/58513/10",
            "uploader": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "createdOn": 1671087621,
            "author": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 92,
                    "deletions": 0
                },
                {
                    "file": "include/PSUSensor.hpp",
                    "type": "MODIFIED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 137,
                    "deletions": -72
                }
            ],
            "sizeInsertions": 245,
            "sizeDeletions": 72
        }
    ]
}