{
    "project": "openbmc/docs",
    "branch": "master",
    "topic": "security",
    "id": "I98bdda9972c113bb5a56e39d8eacdeae401ac4ba",
    "number": 22404,
    "subject": "docs/security: threat model considerations",
    "owner": {
        "name": "Joseph Reynolds",
        "email": "joseph-reynolds@charter.net",
        "username": "joseph-reynolds"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/docs/+/22404",
    "hashtags": [],
    "createdOn": 1560140092,
    "lastUpdated": 1665658044,
    "open": false,
    "status": "ABANDONED",
    "comments": [
        {
            "timestamp": 1560140092,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1560170977,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Topic set to security"
        },
        {
            "timestamp": 1560171021,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Set Work In Progress"
        },
        {
            "timestamp": 1560181521,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(1 comment)\n\nPlease add comments, questions, and corrections."
        },
        {
            "timestamp": 1560181521,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Set Ready For Review"
        },
        {
            "timestamp": 1560184496,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\nClarification: Please review and comment.  Do not merge into OpenBMC."
        },
        {
            "timestamp": 1560267919,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1560371825,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1560883095,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(1 comment)\n\nAdded BMC serial console."
        },
        {
            "timestamp": 1561353245,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 1:\n\n(4 comments)"
        },
        {
            "timestamp": 1561476640,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(3 comments)\n\nThanks for your feedback."
        },
        {
            "timestamp": 1561509817,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@aj.id.au",
                "username": "amboar"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1561558719,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1561574880,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1561581510,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(1 comment)\n\nTweak wording on how the BMC's serial line (not the SOL) is used and connected."
        },
        {
            "timestamp": 1561734683,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 1:\n\n(10 comments)"
        },
        {
            "timestamp": 1562599109,
            "reviewer": {
                "name": "Michael Walsh",
                "email": "micwalsh@us.ibm.com",
                "username": "micwalsh"
            },
            "message": "Removed reviewer Michael Walsh."
        },
        {
            "timestamp": 1562604092,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(13 comments)\n\nThanks for your comments.  I'll work them into the next patch set."
        },
        {
            "timestamp": 1562618551,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1562784825,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(3 comments)"
        },
        {
            "timestamp": 1562944735,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1563891865,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1563919928,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1563979410,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1563983535,
            "reviewer": {
                "name": "Sivas SRR",
                "email": "sivas.srr@in.ibm.com",
                "username": "sivassrr"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1565798043,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1565810610,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(3 comments)"
        },
        {
            "timestamp": 1565887639,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1567090712,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1568056879,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1568400574,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1570226605,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1570438417,
            "reviewer": {
                "name": "Richard Marian Thomaiyar",
                "email": "richard.marian.thomaiyar@linux.intel.com",
                "username": "rthomaiy"
            },
            "message": "Patch Set 1:\n\n(5 comments)"
        },
        {
            "timestamp": 1570736780,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(6 comments)"
        },
        {
            "timestamp": 1570913866,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(2 comments)\n\nMoved some comments into the network security considerations review https://gerrit.openbmc-project.xyz/c/openbmc/docs/+/26025"
        },
        {
            "timestamp": 1573494688,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(1 comment)\n\nAdded comment to add item about MD5 used to hash /etc/shadow entries."
        },
        {
            "timestamp": 1573495288,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(1 comment)\n\nThe default for useradd is SHA512.  Only root uses a hard-coded older value.  (See detailed comments.)"
        },
        {
            "timestamp": 1574098904,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(1 comment)\n\nArticulate differences between host IPMI and KCS/BT in the intended access to the BMC."
        },
        {
            "timestamp": 1575230618,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1576096752,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(1 comment)\n\nUpdates due to discussion in today's (2019-12-11) security working group meeting: https://docs.google.com/document/d/1b7x9BaxsfcukQDqbvZsU2ehMq4xoJRQvLxxsDUWmAOI"
        },
        {
            "timestamp": 1584211314,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1589766886,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Removed reviewer Gunnar Mills."
        },
        {
            "timestamp": 1665658044,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Abandoned\n\nclose due to inactivity"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "d4ac330887167dc807817262c8d8dafd9ee66222",
            "parents": [
                "015805a66f41e3bd3e19da67fbdfcfef0a9b13fd"
            ],
            "ref": "refs/changes/04/22404/1",
            "uploader": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "createdOn": 1560140092,
            "author": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 0,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "I see some repeated information in here, that is in  https://gerrit.openbmc-project.xyz/c/openbmc/docs/+/22106/7/security/network-security-considerations.md, https://github.com/openbmc/docs/blob/master/features.md, https://github.com/openbmc/docs/blob/master/glossary.md. \nJust want to make sure we are being concise and not repeating information if we don't need to."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 0,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Agreed.  This needs to find the right balance of explaining (a) what each piece is -versus- (b) why it is relevant to security.  I'll move as much as possible into other documents, while leaving this document as coherent as possible."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 13,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "I've made a previous comment about clarifying this paragraph wrt the context of \"you\"."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 13,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I'll make the same change here."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 19,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Remove this before it is merged."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 42,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Should you move to https://github.com/openbmc/docs/blob/master/glossary.md ?\nOr https://github.com/openbmc/openbmc#openbmc instead?"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 42,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Good idea, and I prefer the README"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 47,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "PLDM might be more relevant here?"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 47,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Agreed.  I'll replace MCTP with PLDM - https://www.dmtf.org/standards/pmci"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 49,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Also reference the Redfish spec DSP2066 (\"Terms and definitions\") which also defines a BMC."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 63,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I'm not sure how this items fits into the threat model.  This relates to the base Linux image.\nIf hashed BMC passwords are stored on the BMC file system (such as `grep root /etc/shadow`) the password is hashed with a secure hashing algorithm.  Apparently MD5 is the default (`$1$` per https://en.wikipedia.org/wiki/Passwd#Shadow_file) and is considered to be weak (per https://en.wikipedia.org/wiki/MD5).\nThis detail should be added to the BMC threat model."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 63,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "More details: The default for `useradd` is `$6$` which denotes SHA512 (which is good).  We should update the custom recipes which define the root password, which hard-codes `$1$`.  See recipes which use EXTRA_USERS_PARAMS such as https://github.com/openbmc/openbmc/blob/69fca2e8c2549eb4e40417343603f9ce24eba38d/meta-phosphor/conf/distro/include/phosphor-defaults.inc#L243"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 81,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "TODO: change this simplified view show typical/optional elements including:\n - the BMC's access to the the network (shown above, but should be shown as optional)\n - the BMC's serial console\n - the host's access to control the BMC, for example via in-band IPMI\n - the host's connections to a console or network\nAnd then explain that the BMC's network and the host's network are typically different."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 82,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Add new paragraph: The BMC may be installed in a location with a controlled physical access, such as in a locked chassis in a locked room.  Some of its functions, such as factory reset, may require the admin to \"assert physical presence\" by enabling a jumper or pressing a button, in a way that cannot be asserted remotely."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 84,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "New paragraph to talk about the relationship of the BMC to its host.  This would give the canonical use case where the host is a computer, and have a simplified diagram showing the host enclosure, the host device, the BMC, and the connections between those elements."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 88,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "connected ?"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 88,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Yes, wrong word: s/connect/connected/"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 99,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "should these be like a 5/6 # header? your call, just an idea."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 99,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I'll make subsections for these.  I think therer are enough of them, and each has enough material to make it read okay."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 104,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "nitpick: read-only\nhttps://en.wikipedia.org/wiki/Read-only"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 104,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I will hyphenate-that."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 111,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "why remote logging here..?"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 111,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Remote logging was mentioned here as an example of a feature that would be needed if the BMC did not have its own storage. I'll explain that better."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 115,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Add: Some System architectures have a network connection between the BMC and its host, for example, via Ethernet over USB.  This may be used as the primary access to the BMC."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 115,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I'll also discuss the MAC (media access control) address.  Some use cases requires the BMC to set its own MAC address to correlate with its host's MAC address."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 116,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Add new paragraph: The BMC typically has a serial connection used as a console.  The BMC's boot loader, Linux, and system initialization provide information on and take command from this connection.  For example, see https://github.com/openbmc/openbmc/blob/master/meta-phosphor/recipes-phosphor/initrdscripts/files/obmc-init.sh.\nThe serial line may be connected to a console device which connects it to the network, but the nature of that connection is outside the scope of this threat model."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 116,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Add new paragraph for: operator panel as optional hardware attached directly to the BMC.\nThis should should also be added to the external interfaces and uses cases below."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 116,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Add: The serial line plays a role in recovering failed BMCs.\nChange the last sentence to:\nThe serial line may have no connection or be connected to its host or to an external console which may then spread access to the serial line; the nature of those connections is outside the scope of this threat model."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 116,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Add new paragraph for \"randomness\".\nThe BMC typically has a hardware-based random number generator which is needed for the transport layer security (TLS) protocol."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 116,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Note that an appropriate driver is needed to use the HW RNG.\nAlso, note that other random sources may include: jitter-entropy"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 116,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Add a note about the emergency console which gives uid=0 (effectively root) access to the BMC when it is trying to start its OpenBMC-based operating system.  See initrdscripts/files/obmc-init.sh."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 119,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "I think this is fine but a lot of this is already in https://gerrit.openbmc-project.xyz/c/openbmc/docs/+/22106/7/security/network-security-considerations.md"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 119,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Note the \"network security considerations\" document was merged; I will point to it here and change this paragraph to a few key examples.  For example:\n\nOpenBMC provides network interfaces such as REST APIs, a Web application, and Secure Shell;\u00a0see [network-security-considerations][].\n[network-security-considerations]: https://github.com/openbmc/docs/blob/master/security/network-security-considerations.md\n\nThe paragraph about unintended interfaces will remain as-is."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 129,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Add to the network security considerations doc:\nAdd a threat for network flooding, like too many connections coming too frequently which cause the BMC to become unresponsive (like a denial of service (DoS) attack).  For which the traditional defense is rate limiting provided by a kernel-based firewall, followed by black listing the offending IP address, again using firewall rules."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 129,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Added to https://gerrit.openbmc-project.xyz/c/openbmc/docs/+/26025"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 132,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Add new paragraph for BMC host interfaces:\nThe BMC interfaces with its host using standards like host IPMI and PLDM."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 138,
                    "reviewer": {
                        "name": "Sivas SRR",
                        "email": "sivas.srr@in.ibm.com",
                        "username": "sivassrr"
                    },
                    "message": "Shall we also add, BMC never intended to access host / customer data in any form, right. \nThat is the confidence which we are trying to spread, right."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 138,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Yes.  I'll mention that in the trust boundaries section."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 150,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "spelling"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 153,
                    "reviewer": {
                        "name": "Richard Marian Thomaiyar",
                        "email": "richard.marian.thomaiyar@linux.intel.com",
                        "username": "rthomaiy"
                    },
                    "message": "Host configuration option. i.e BMC can change boot order etc."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 153,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Good point.  Thanks!"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 154,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Add new feature: factory reset (via REST API or the `ipmitool mc reset cold` command).\nDiscussion: Factory reset will result in default BMC access credentials being exposed."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 154,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Oops: 'reset cold' is not factory reset.  Change to: `ipmicfg -fd`."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 155,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Why if you point here do you need the list above?"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 155,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "The detailed list of function is not needed here, and the link to the features documentation will be good enough.  I'll remove the list and summarize."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 155,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "(new answer:) The list of functions in itself is not needed here.  This was intended as a mapping from feature -> discussion of the security aspects of that feature.  Only features which have special security considerations need to be listed.  (No such discussion is present in this early version of the document.)  Some of the features may have security documentation; if so, we should link to that documentation so we can find it and relate that discussion to to other security considerations."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 156,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "New paragraph: Firmware update issues like those identified in: https://uefi.org/sites/default/files/resources/3_Dick_PHOENIX_attack%20surface%20risks.pdf"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 156,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "We discussed the following at the 2019-12-11 security working group meeting.\nFirmware upgrade and downgrade scenarios.  Also add references to the following:\nhttps://tools.ietf.org/html/draft-ietf-suit-architecture-08#section-3.4\nhttps://tools.ietf.org/html/draft-ietf-suit-information-model-04#section-4.3.1\nhttps://tools.ietf.org/html/draft-ietf-suit-information-model-04#section-4.2.1\nhttps://tools.ietf.org/html/draft-ietf-suit-manifest-01"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 171,
                    "reviewer": {
                        "name": "Richard Marian Thomaiyar",
                        "email": "richard.marian.thomaiyar@linux.intel.com",
                        "username": "rthomaiy"
                    },
                    "message": "host BIOS communication ? which includes querying / storing of data which may be used by upper layer including OS Software management agent"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 171,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "My knowledge is weak in that area, so thanks for your input.  This is part of the \"special relationship\" between the BMC and host, so I'll add it to that section below."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 184,
                    "reviewer": {
                        "name": "Richard Marian Thomaiyar",
                        "email": "richard.marian.thomaiyar@linux.intel.com",
                        "username": "rthomaiy"
                    },
                    "message": "BMC still manages fan right? Host can manage P-State / T-State but it won't manage system thermal as such. \nSo, BMC is still in charge of Power & thermal(through fans)."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 184,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I understand this varies by platform.  I'll add the details and change this to the BMC and host may share control."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 186,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Add: For example, no access to the host's memory, storage, or similar devices.  The purpose is to reduce the attack surface from the BMC to its host.  Various BMC/host combinations may enforce this restriction, for example, the host can restrict traffic originating from the BMC."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 186,
                    "reviewer": {
                        "name": "Richard Marian Thomaiyar",
                        "email": "richard.marian.thomaiyar@linux.intel.com",
                        "username": "rthomaiy"
                    },
                    "message": "BIOS configuration? through existing IPMI command"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 186,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I'll rewrite this to clarify:\n- which host elements the BMC is intended to operate\n- which BMC elements the host is intended to operate (such as loading host BIOS)"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 199,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "is ?"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 199,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "will correct the wrong word: /it/is/\n\nAlso, I'll add a nuance to this.   (1) The host will have access to the BMC's host-facing controls, for example, handling error logs, etc.  (2) The host may have access to the BMC's administrative controls, for example, updating or rebooting the BMC. (3) The host would not normally have access to the BMC's underlying implementation."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 199,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I think we need to clearly articulate differences in the intended access from the hardware interfaces (like KCS ans BT) and the interfaces such as host IPMI which operate over the hardware interfaces.  Maybe something like:\n- Interfaces such as in-band host IPMI are intended.  The BMC may have function like IPMI firmware firewall (or the OpenBMC Phosphor host IPMI whitelist support) to restrict which IPMI commands are allowed.  The use case is a bare-metal server.\n- Underlying hardware interfaces (such as KCS and BT) are intended to provide support only for higher-level interfaces (such as in-band IPMI or PLDM).  For example, the interfaces may have functions which allow the host system to have access to the BMC (memory, buses, etc).  This level of access to the BMC is not intended and should (must?) be disabled.  Note that disabling the BMC's debug function is likely required to achieve this, but it may not be sufficient; for example, any interfaces which can access the BMC's memory must be carefully examined."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 202,
                    "reviewer": {
                        "name": "Richard Marian Thomaiyar",
                        "email": "richard.marian.thomaiyar@linux.intel.com",
                        "username": "rthomaiy"
                    },
                    "message": "Do we need add a statement saying.\nAny extra interfaces provided by the BMC Hardware which allows host to access it's memory etc, must be blocked / properly protected from security point of it?"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 202,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Like CVE-2019-6260?  Yes, that is what I trying to say here.  I think the doc should talk about BMC interfaces which allow access to the BMC's internal resources.  And yes, these need to be identified and secured or blocked in some way."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 210,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Also discuss user management here, such as described in https://github.com/openbmc/phosphor-dbus-interfaces/blob/master/xyz/openbmc_project/User/README.md"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 210,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Add https://github.com/openbmc/docs/blob/master/user_management.md.\nWe should briefly outline the phosphor-user-management authorization model here becasue it is needed to explain multiple interfaces (IPMI, SSH, Redfish).  Something like:\nOpenBMC user management defines Privilege Roles and Groups.  Each user has exactly one Privilege Role which says what functions that user can access.  Each user can be in multiple groups which says what interfaces they can use to access the BMC (SSH, Redfish, etc.)\n\nThen the https://github.com/openbmc/docs/blob/master/security/network-security-considerations.md should be updated to talk about how Redfish Roles are related to OpenBMC Privilege Roles."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 210,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Comments was added to https://gerrit.openbmc-project.xyz/c/openbmc/docs/+/26025 to talk about how Redfish Roles are related to OpenBMC Privilege Roles."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 212,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "This document needs a new header, perhaps a level 2 header: Simplified threat model.\nThreats to the BMC come from four directions:\n1. The BMC's network interface.\n2. The BMC's host interfaces.\n3. Physical access to the BMC.\n4. The BMC's supply chain (including firmware and hardware)."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 212,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "The \"supply chain\" threat section should discuss items like:\n- the build process (link to bitbake reproducible builds, etc.)\n- digitally signing the image (search for SIGNING_KEY)\n- code update and validating the digital signature (https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-dbus-interfaces/+/9025/2/xyz/openbmc_project/Software/README.md)"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 234,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Add: Firmware update use cases.\nOrganizations may use OpenBMC to create one stable release, and another newer stable release, and have BMC admins perform [code update](https://github.com/openbmc/docs/blob/master/code-update/code-update.md) to update their systems.\n\nAlternative use cases:\n- No firmware update is supported.  (Example: must re-flash to update)\n- Replace the entire firmware image (and clear any read-write file systems).\n- Replace the entire read-only firmware image but leave read-write overlays (overlayfs).\n- All of these require the BMC to reboot.\n\nOrganizations may restrict code update to supported paths have been designed and tested together.  Here are some considerations:\n- Code update from an older to a newer release.\n- Code update from a newer to an older release (downgrade).\n- Code update to the same release, for example, to fix a corrupted image.\n- The BMC may have a mechanism to prevent unsupported updates.\n- An update may be safe to perform while the BMC's host continues to run, or it may require the BMC's host be stopped to perform safely.\n- Code update to an inappropriate release, for example, for a different model BMC.  Note that this may be detected when the firmware's digital signature is validated (provided different signing keys are used for BMCs intended for different hosts)."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 236,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Add a provisioning example: When the end-user gets the device, will it have:\n- a default password?  If so will that password be expired such that the BMC cannot be used until the password is changed?\n- an unique password for that device?  If so, how will the password be generated and communicated?  A sticker in the device?  How will that scale up to hyperscale?\n- a setup mode which requires the user to set the password (or install a certificate) before the BMC can be used?"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 238,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "insert: Host-facing Security modes design:"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 246,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "What's this about?"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 246,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Sorry, my bad explanation.  Here's a better explanation:\nThis strategy is to shut down the host when a problem is detected, and move its work to another system (for example via Kubnernetes).  In this case (compared to case 1 above) the BMC does not need as much capability to service an ailing host."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 246,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Right, so this isn't something the BMC is driving, rather something else. Would be good to clarify the text."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 246,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Will do."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 249,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Add: How a Web agent connects to the BMC.  Options:\n A. Web agent connects directly to the BMC (specifically BMCWeb) from where it downloads the Web app; the web app creates a session to the BMC, and makes REST API calls directly to the BMC.   This is the canonical use case.\n B. Web agent connects to a server (specifically BMCWeb running with BMCWEB_INSECURE_DISABLE_CSRF_PREVENTION, but not necessarily running on the target BMC) from where it downloads Web app, then gets a session directly to a BMC, and makes REST API calls directly to the BMC.  This is a classic setup in a cross site scripting attack.\n C. Are there other configurations?  At the 2019-06-10 community call we discussed the idea of enhancing OpenBMC to support: Web agent connects to the BMC from where it downloads Web app, then gets a session directly from that BMC, and makes REST API calls directly to that BMC.  But those requests are forwarded to another BMC."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 249,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "The BMCWeb docs describes how to run BMCWeb on your development host (https://github.com/openbmc/phosphor-webui/blob/master/README.md#running-locally).  One use case is to test BMCWeb without a BMC.  This situation is similar to option B above."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 249,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@aj.id.au",
                        "username": "amboar"
                    },
                    "message": "Is network IPMI relevant here?"
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 249,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Yes.  I should re-work this to talk about \"network agents\" including Web, REST, and IPMI."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 253,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "New axis for: Physical environment: How much control and monitoring of the physical environment is expected?  The BMC may be responsible for intrusion detection (into the computer's case).  Or it may have reset buttons or jumpers."
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "line": 253,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Add: A typical use case of jumpers is to temporarily enable a feature such as the ability to reset private keys on the BMC or its host."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": "security/threat-model-considerations.md",
                    "type": "ADDED",
                    "insertions": 252,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 268,
            "sizeDeletions": 0
        }
    ]
}