{
    "project": "openbmc/docs",
    "branch": "master",
    "id": "I8752998c976ea7dff3f3d68b7dd0bf3d4c39d139",
    "number": 53205,
    "subject": "Design for integrating SELinux into OpenBMC.",
    "owner": {
        "name": "Ruud Haring",
        "email": "ruud@us.ibm.com",
        "username": "ruudharing"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/docs/+/53205",
    "hashtags": [],
    "createdOn": 1650586378,
    "lastUpdated": 1661290276,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1650586378,
            "reviewer": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1650591067,
            "reviewer": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "message": "Abandoned"
        },
        {
            "timestamp": 1650591140,
            "reviewer": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "message": "Restored"
        },
        {
            "timestamp": 1651005938,
            "reviewer": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1651006427,
            "reviewer": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1651072475,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 3:\n\n(9 comments)"
        },
        {
            "timestamp": 1651108932,
            "reviewer": {
                "name": "Joel Stanley",
                "email": "joel@jms.id.au",
                "username": "shenki"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1651130022,
            "reviewer": {
                "name": "Joel Stanley",
                "email": "joel@jms.id.au",
                "username": "shenki"
            },
            "message": "Patch Set 3:\n\n(3 comments)"
        },
        {
            "timestamp": 1651167598,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3:\n\n(15 comments)"
        },
        {
            "timestamp": 1651695812,
            "reviewer": {
                "name": "Nirav Shah",
                "email": "nirav.j2.shah@intel.com",
                "username": "njshah2"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1651701588,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1651702811,
            "reviewer": {
                "name": "Nirav Shah",
                "email": "nirav.j2.shah@intel.com",
                "username": "njshah2"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1651717804,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 3:\n\n(8 comments)"
        },
        {
            "timestamp": 1651842221,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3:\n\n(9 comments)"
        },
        {
            "timestamp": 1651877534,
            "reviewer": {
                "name": "Nirav Shah",
                "email": "nirav.j2.shah@intel.com",
                "username": "njshah2"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1658639303,
            "reviewer": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "message": "Patch Set 3:\n\n(20 comments)"
        },
        {
            "timestamp": 1659548739,
            "reviewer": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1659562913,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1659737691,
            "reviewer": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1659737738,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659737738,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1659737756,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48675/ : SUCCESS"
        },
        {
            "timestamp": 1659738132,
            "reviewer": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1659738208,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1659738208,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1659738223,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/48676/ : SUCCESS"
        },
        {
            "timestamp": 1659739363,
            "reviewer": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "message": "Patch Set 5:\n\n(24 comments)"
        },
        {
            "timestamp": 1660784659,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 5:\n\n(17 comments)"
        },
        {
            "timestamp": 1661205767,
            "reviewer": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "message": "Uploaded patch set 6."
        },
        {
            "timestamp": 1661205817,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1661205817,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1661205838,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/49604/ : SUCCESS"
        },
        {
            "timestamp": 1661208577,
            "reviewer": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "message": "Patch Set 6:\n\n(13 comments)"
        },
        {
            "timestamp": 1661220005,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 6: Code-Review+1\n\n(9 comments)"
        },
        {
            "timestamp": 1661230445,
            "reviewer": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1661230503,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1661230503,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1661230519,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/49648/ : SUCCESS"
        },
        {
            "timestamp": 1661231896,
            "reviewer": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "message": "Patch Set 7:\n\n(17 comments)"
        },
        {
            "timestamp": 1661290276,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 7: Code-Review+1\n\n(2 comments)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "8a383b3d070fcc4575bdfd2657afacd1796b8f11",
            "parents": [
                "ee848402f3b85d88fbdd58fb53fe62f7a46ee5a9"
            ],
            "ref": "refs/changes/05/53205/1",
            "uploader": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "createdOn": 1650586378,
            "author": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/selinux.md",
                    "line": 16,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Please remove trailing blanks."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 67,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Consistently indent bullets."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "designs/selinux.md",
                    "type": "ADDED",
                    "insertions": 162,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 174,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "1e6984c91115ad7d1df0b7b4f221ac115df564fe",
            "parents": [
                "261191136f2fe69a3034158cac5a594fd233c940"
            ],
            "ref": "refs/changes/05/53205/2",
            "uploader": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "createdOn": 1651005938,
            "author": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "designs/selinux.md",
                    "type": "ADDED",
                    "insertions": 129,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 142,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "c55921b2f989755e910c88b0a21bfe2afcf2e761",
            "parents": [
                "261191136f2fe69a3034158cac5a594fd233c940"
            ],
            "ref": "refs/changes/05/53205/3",
            "uploader": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "createdOn": 1651006427,
            "author": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Gerrit review keeps track of the review comments, and they don't need to be in the commit message.\nPlease follow guidelines in https://github.com/openbmc/docs/blob/master/CONTRIBUTING.md#formatting-commit-messages\n(but I think the commit title says everything we need here)."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Thanks for getting this started!  A few questions..."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Joel Stanley",
                        "email": "joel@jms.id.au",
                        "username": "shenki"
                    },
                    "message": "Thanks for the design. You have a bunch of different audiences to satisfy with this document, so I appreciate the difficulty in choosing what information to put in.\n\nThe questions I would like to see answered are:\n\n - How will you develop this without breaking the build? Will there be an opportunity for having some daemons protected by selinux, or is it a permissive/enforcing binary switch for the entire system?\n\n - I imagine you have a reference platform you will implement first. It would be useful to document how other developers would go about enabling selinux for their platform, which may run a different set of userspace tools\n\n - It would be useful to provide some metrics on filesystem usage and runtime impact once you have started implementation, to guide other developers on enabling this for their systems."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Good questions everyone!  Can we limit the scope of this design to enabling SELinux (see detailed comment)?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I wasn't trying to expand the scope.  I want to make sure that the design reads without logical leaps that are not documented within the design itself.  There are many of them as it stands."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "@Joseph, I'd appreciate if you could work with the Ruud to incorporate your feedback directly into the document.  It seems like you have good clarifying thoughts that would make the document much more complete."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "@Joel: the goal of this design is being narrowed down to enabling SELinux to run in permissive mode. In permissive mode, SELinux should not break anything. It only records deny-events as log entries. The log can be iteratively \"mined\" to derive additional allow rules -- minimizing the recorded deny events.  We aim to end up with a reference policy that will allow all normal OpenBMC operations, as defined by CI testing.\n\nHaving the basic mechanism in place, we will leave it up to end-users to go further, become more restrictive if they choose, add policies for their own applications, and eventually switch to \"enforcing\".\n\nIf something (new) does not work, the user can always go back to \"permissive\".\n\nYes, we will document our experiences on our development platform, with a view on how to enable it for other platforms.\n\nYes, we intend to document the filesystem usage and runtime impact metrics"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Thanks to all for the valuable comments on this design proposal.\nI will post some answers here as replies-to-comments. If I do not address a comment here, it was no problem, and will be resolved in the next version.\nAn updated design document (new patchset) will be forthcoming."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Adding Yutaka Sugawara to cc list"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "When are we getting a new revision?  It has been since April when you were first given feedback, but the implication is that you've been doing work (which might not even align with the community's desires) without settling on the design issues.  Not sure why we're adding additional reviewers at this point."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 5,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I think the expectation is something like:\n\nRuud Haring <RuudHaring#2662>"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 5,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 9,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I don't recognize either of these individuals.  What does \"Primary Assignee\" mean in this context?\n\nI'm proposing we drop it from the template with https://gerrit.openbmc-project.xyz/c/openbmc/docs/+/53351"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 9,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 18,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "There isn't necessarily anything in your proposal that addresses this, is there?  Why not fix this so that, at least, externally facing applications run as non-root?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 18,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I had interpreted this to mean: Given that applications run as root, they have more authority than they need, and an attacker can exploit this.  Although an obvious solution is to change to a non-root user, using SELinux will provide even finer-grained access control which will limit any attack."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 18,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Please work with the author to fix the words to match your interpretation.  As it stands the document doesn't read this way.  Other readers cannot be expected to jump to the same conclusions you have."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 18,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Agree -- will take Joseph's wording into next patchset."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 18,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 19,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Can you expand on why this is a problem?\n\nThere was another effort previously to fix this without introducing SELinux.  I assume to limit the dbus services you have to \"finish\" that work anyhow (there is some bus ACLs that dbus already supports).  So, is that really part of this design or not?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 19,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "This is really a sub-point of #1: applications having more authority than they strictly need. We will drop this specific line in the next version (patchset) of this design document.\n\nThat said, the SELinux type enforcement system is separate from, and orthogonal to, the DBUS ACLs. But yes, once SELinux is enabled in permissive mode (goal of this design) we will have to collect data and formulate the policies that allow all normal DBus transactions -- and deny transactions that should not happen.\nHowever, this policy refinement issue is running ahead of scope, and is the next stage."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 19,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 26,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This paragraph feels like fluff.  All I see are buzzwords and platitudes with very little tie back to anything earlier."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 26,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "@Joseph - This here is the fundamental issue I have with the paragraph.  Trying to design the rewording in Gerrit is not very productive.  This paragraph might make a fine introductory paragraph to an entire section in which each of these points (\"security posture\", \"addressing end-user security\", \"compliance requirements\") are fully spelled out with the details you've outlined.  As it stands, the document itself doesn't provide clarity on this paragraph."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 26,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Will be elaborated in next version (patchset) of this design."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 26,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 27,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "How is it addressing \"end-user security\"?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 27,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Is the answer something like this?  SELinux helps secure the BMC's internal processing by having more strict access controls than Linux along provides.  This helps limit the reach of an attacker who gain control of one Linux process."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 27,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "The sentence was intended to read: \"end user security requirements and compliance requirements\". But will fix along the lines of Joseph's wording."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 27,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 28,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "What \"compliance requirements\" are there to run SELinux?  Can you point to them?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 28,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "BMCs are components of server computers which are subject to various compliance requirements.  For example, the Common Criteria (CC) standard could be applied to the firmware running on the BMC.  I've identified some applicable standards here: https://github.com/openbmc/openbmc/wiki/Security-working-group#applicable-standards\n\nA specific requirement within the CC standard (which I imagine is common to multiple standards) is in CC part 2 Security Functional Requirements > Class FPT: Protection of the TSF > Internal TOE TSF data transfer (FPT_ITT).\nDownload CC Part 2 here: https://www.commoncriteriaportal.org/cc/\n\n[NOTE: CC terminology is thick.  The TOE refers to the BMC, and the TSF refers to the BMC's security functions (including access controls such as Linux permissions, and ACLs).]\n\n> FPT_ITT ... provides requirements that address protection of TSF data when it is transferred between separate parts of a TOE across an internal channel.\n\nMy interpretation is that FPT_ITT requires that we protect data (like new account creation) as it is transferred between different processes within the BMC, like data passed via D-Bus APIs (such as when new users are created via IPMI or Redfish).\n\nPutting that all together, the access controls provided by SELinux will help the BMC comply with requirements to protect security data as it flows through D-Bus interfaces within the BMC."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 28,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Per our security experts, mandatory access control is helpful when implementing control \u201cCM-7 Least Functionality\u201d of NIST SP 800-53A (https://csrc.nist.gov/publications/detail/sp/800-53a/rev-5/final).  As such, it has not yet surfaced as a compliance requirement - so in that sense we're being proactive.\nWhich fits our goal here: enable SELinux so that we can explore and figure out the policies.  This paragraph will be changed in our next version (patchset) of this design document."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 28,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 62,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "The design should describe how to opt-in.  For example:\nTo opt in, add the meta-selinux layer to (for example) https://github.com/openbmc/openbmc/blob/master/meta-ibm/conf/bblayers.conf.sample\nand then ...(additional steps?)."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 62,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Agreed.  If all we're doing is adding a single bbclass that can be extended into an image to enable SELinux, this is a pretty big \"design document\" for that.  This is why I called out the \"In the final design\".\n\nI don't mind if this is accepted as a reasonable direction for exploration, starting with the pieces you've mentioned here.  We need to be clear that as we get further understanding the design will be updated before code impacts are spilled all through the codebase."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 62,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "In next patchset we will document the bitbake recipes that enabled our prototype. We will certainly use the gerrit process to review and guard against any undue code impact."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 62,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 64,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Wow.  \"We're going to change a bunch of stuff but we don't know what yet.\"  I wouldn't call this a design."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 64,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I recall we had discussed this design would stop at enabling SELinux so we can collect data needed to make policies.  Then have a followon development process and followon design to establish SELinux policies.  Is that still the intention?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 64,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "@Patrick: this was a proposed design, intended to start a discussion and to receive guidance - before going down dead ends. In the mean time, we have gotten a prototype up and running. The next patchset will specify the design in detail.\n@Joseph: Yes, the goal is to enable SELinux so that it can run in permissive mode, which will not disallow anything;  instead it will record denial events to a log. Iteratively mining this log will allow data collection to refine policies. More refined policies, in turn, will minimize the log events for all normal OpenBMC tasks. \n\nAny further steps would be separate designs."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 64,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 66,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I assume these are SELinux policy configuration files.\nIt seems like this part of the design is not yet known.  It might be easier to restrict this design to *enabling* SELinux so it can be used in permissive mode, and stop there.  Then a follow-on design or updating this design can then talk about customizing policy files for OpenBMC for switching to enforcing mode."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 66,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Agreed.\nHowever, as we now have a prototype implementation up and running, in the next version of this design document we will also propose a structure for the policies."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 66,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 72,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "How do they go about doing this?  How do you ensure that all error paths have been executed when coming up with your policy/profile?  How do we ensure that as the code is enhanced the policy updates are done appropriately?  This sounds very error prone."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 72,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I still think this is fundamental for us to understand before SELinux is enabled anywhere.  If we have no idea how to actually enable / use SELinux, then the work is pointless."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 72,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "For the reference policy, we plan to take the openbmc-test-automation (CI) testsuite as our guide:  get policies in place to minimize SELinux denial log events for all normal OpenBMC tasks being tested. \n\nAgain, the scope of this design is to enable to run SELinux in permissive mode. By default, SELinux denies actions, unless allowed by policy rules.  In permissive mode, the denials do not take effect, but only result in denial entries in the log.\nSo there are two error paths: false denials (denial log entries that should be dealt with by formulating new policy rules) and false allows (policy rules broader than intended). The latter is out of scope, since the intent is up to the end user.\n\nWe can, however, propose example testcases. For example, end user policy can choose to write a policy that does not allow any administrative actions via IPMI (only ssh or Redfish). Such policies (and their execution) would be testable.\n\nWe will elaborate on this in the Testing section of the next version of this document."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 72,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 80,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This is kind of lame.  Ratan ran into a problem and didn't debug it in any meaningful way, but instead opened an issue to another community and then pestered them when they didn't debug it for him.  Other people aren't going to do our work for us and this is not an appropriate argument for not using AppArmor."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 80,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Perhaps this could simply note the attempt to use AppArmor and not comment on difficulties."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 80,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "\ud83d\udc4d"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 80,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 82,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Ratan documented the difficulty using AppArmor here: https://gitlab.com/apparmor/apparmor/-/issues/183"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 82,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Yes.  It is probably best to simply link to the ML post + issue and not add any commentary on it (i.e. \"apparently non-trivial\") as you're basing that commentary on Ratan's statements and not your own understanding of the issue."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 82,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 93,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This work wasn't finished partially because the author had a very hard time defining the DBus ACLs and getting them put into repositories.  Why do you think you're going to be more successful with SELinux?  Isn't it the _same_ ACLs at the DBus level?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 93,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "The SELinux type enforcement system is separate from, and orthogonal to, the DBus ACLs. The present design is about enabling SELinux so that we can figure out the policies to (selectively) allow all required DBus transactions."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 93,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 100,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This is completely insufficient.  We need to know how to develop appropriate policies for OpenBMC and how to maintain them and how to test them."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 100,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Will be addressed in next version."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 100,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 104,
                    "reviewer": {
                        "name": "Joel Stanley",
                        "email": "joel@jms.id.au",
                        "username": "shenki"
                    },
                    "message": "You should make it clear if this is a new requirement placed on any application change (ie, we will have a system with enforcing mode enabled in CI, and any application change is required to update the selinux policy), or if this will be done independently by the selinux maintainers.\n\nI suggest imposing the former on the project will require some convincing. The latter is more palatable for the project as a whole."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 104,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "We need to maintain the policies also.  How do we do this?  How is it \"caught in regression testing\"?  Do we have adequate regression testing of bad-path?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 104,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "IF a developer chooses to build OpenBMC with SELinux enabled, then new OpenBMC applications will need to be developed in SELinux permissive mode, where denials do not take effect. In permissive mode, if additional policy rules are required, the developer would see SELinux denial messages in the system log, which, via the SELinux \"audit2allow\" process can be (judiciously) converted into new policy rules.\n\naudit2allow and other log analysis tools are available on any\nSELinux-enabled Linux server/desktop system, e.g any system which responds to 'sestatus'.\n\nOur team would be glad to help formulate such new policy rules, to ensure that the new or updated application will also work in SELinux-enabled OpenBMC instances."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 104,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "In SELinux permissive mode, denials do not take effect but end up as messages in the system log. Thus, conceivably we can run the entire openbmc-test-automation suite in this mode, and accumulate all the messages corresponding to normal operation. Obviously, we would do this in chunks. As discussed above, tools exist (audit2allow) to help judiciously convert denial messages into additional 'allow-rules'.  This takes care of \"false denials\".\nIn the next stage of this project, once we will have taken care of all the 'false denials' turned up by the openbmc-test-automation suite, we will consider the generic policies complete.\n\nFalse allowals, on the other hand, are operations that are allowed but that should have been denied. These can be due to over-broad allow-rules (broader than intended\nby the end-user)  -- we cannot generically test for end-user intent.\nSpecific end-user testcases can be formulated, however, such as intentionally omitting an allowal rule, or intentionally testing denied operations which OpenBMC allows, but the end-user's SELinux rules do not. I think of e.g. denying certain in-band IPMI operations.\n\nFalse allowals can also be due to a bug in the SELinux machinery itself.\nThen the space is huge, but out-of-scope for the current goal:\nmerely enabling SELinux and (next) getting the generic policies straight.\n\nAll new and modified tests will be uploaded to openbmc-test-automation.\n\nHope this helps the discussion; a version of the above text will be in the next version of this design document."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 104,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 104,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 107,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This is gigantic and completely unfeasible for most of our systems.  We need a much smaller footprint or else this work is effectively useless for anyone who isn't using an eMMC device (which is almost everyone)."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 107,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "You don't have to opt in."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 107,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Sure, but if it is only feasible for exactly one system then maybe this belongs in meta-thatcompany in order to bake a bit?  I don't necessarily think that is the right approach, but 20MB is really gigantic in the scheme of things for most BMCs.  If we can't get it down to a handful of MB, it doesn't seem very useful.\n\nThis isn't all that important when we're talking about just adding a bbclass for experimentation.  It _is_ important when you start talking about adding and maintaining policies.  We, as a community, need to decide if we want to take on the burden of that if hardly anyone really gains a benefit from it.  There is a reasonable cost/benefit analysis to be had here.\n\nThis here is my fundamental concern about this proposal.  Not the technical merits of it, but the development process implications.  Throughout the end of the document here I've asked \"how\" questions related to this.  The answers we get (and maybe we can't get them today until we experiment) directly play into the cost/benefit analysis for the project as a whole."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 107,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Our current prototype evb-ast2600 implementation comfortably fits in 64MB flash.  We will give more details about footprint (and opportunities for size optimization) in our next version. \n\nThanks for your clarification that focuses on development process implications. While this is an exploratory research project, our intended target is next generation servers for datacenters, where this amount of flash should not be a problem. Thus, the development effort would perhaps not benefit many BMC variants, but would benefit a large number of servers."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 107,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 108,
                    "reviewer": {
                        "name": "Nirav Shah",
                        "email": "nirav.j2.shah@intel.com",
                        "username": "njshah2"
                    },
                    "message": "Need to add information about how debugging will be affected. Will debug tools like gdb kdb have special privileges in production build? If not, and without logs how will on field debug happen?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 108,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "> Will debug tools like gdb kdb have special privileges in production build?\n\nDo you run gdb on device in production builds?  I don't think many people do this."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 108,
                    "reviewer": {
                        "name": "Nirav Shah",
                        "email": "nirav.j2.shah@intel.com",
                        "username": "njshah2"
                    },
                    "message": "My general question is what debug capabilities will still be available when SELINUX is added to production build. I am not saying I oppose (for whatever its worth \ud83d\ude0a) it if I cant run gdb. But at the very least it should be called out here.\nAnd to answer your questions, its been a while but yes I may have remoted into production builds (in-field != end user) for hard to repro issues, especially in the hardware."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 108,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I tried long ago to document OpenBMC community use cases: production system locked down -vs- allow invasive debug on production systems.  (Tried and failed.)\nAnother possibility is a way to disable SELinux (switch it to permissive mode) for debug sessions.  What that satisfy your request?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 108,
                    "reviewer": {
                        "name": "Nirav Shah",
                        "email": "nirav.j2.shah@intel.com",
                        "username": "njshah2"
                    },
                    "message": "A requirement specifying a way to temporarily disable SELinux (to enable debug capabilities) in production builds would be great, thank you."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 108,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "@Nirav, thanks for your feedback. In the next patchset we will include how an administrative user can change SELinux mode (e.g. from enforcing to permissive) on-demand, to temporarily enable debuggers."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 108,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 109,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Do you mean this?: The default SELinux configuration builds log analysis tools into the BMC image, but the anticipated use case is to offload the logs and analyze them on another system, so SELinux will be configured to not include the log analysis tools.\n\nIf so, that should be stated in the design section.  Also, how do you advise BMC system integrators to obtain and use the log analysis tools?  Can they be built separately via Yocto bitbake, or can we get them from somewhere else?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 109,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "@Joseph -- correct. Will adopt your wording in the next version (patchset) of this design document.\nWill also elaborate on the log analysis tools. They are actually available on any modern SELinux-enabled Linux distribution (e.g. your typical Linux machine if it responds to command 'sestatus') -- e.g. 'audit2allow'."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 109,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 113,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "If this design proposes to both enable SELinux and then create policies, we should state where those policy files will be stored.  Are they stored in each application's repository?  The design should address where the policy source files will be stored."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 113,
                    "reviewer": {
                        "name": "Joel Stanley",
                        "email": "joel@jms.id.au",
                        "username": "shenki"
                    },
                    "message": "> The design should address where the policy source files will be stored.\n\n+1\n\nPlease consider you have existing projects as well as those maintained by the openbmc project. We cannot expect to have the policies accepted upstream, so this would lead us towards including them in the bitbake tree."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 113,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Will be discussed in next version."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 113,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 117,
                    "reviewer": {
                        "name": "Joel Stanley",
                        "email": "joel@jms.id.au",
                        "username": "shenki"
                    },
                    "message": "Does this work with busybox, or do we need to switch to coreutils?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 117,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "> Does this work with busybox, or do we need to switch to coreutils?\n\nYep.  I had the same callout."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 117,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Our prototype implementation uses coreutils, for now.\nWe have also gotten the SELinux-enabled busybox to build successfully for evb-ast2600, but we have not yet switched over from coreutils, and thus we have not removed coreutils yet."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 117,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/selinux.md",
                    "type": "ADDED",
                    "insertions": 129,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 143,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "165b46ebd592c1644eb68321900fc386743ed3ff",
            "parents": [
                "fa1cca721c824446929705bac1654ec7ae0973fe"
            ],
            "ref": "refs/changes/05/53205/4",
            "uploader": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "createdOn": 1659737691,
            "author": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "designs/selinux.md",
                    "type": "ADDED",
                    "insertions": 129,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 141,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "b88c526d4af4d5d268e106664fc5547f27d2c5c7",
            "parents": [
                "fa1cca721c824446929705bac1654ec7ae0973fe"
            ],
            "ref": "refs/changes/05/53205/5",
            "uploader": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "createdOn": 1659738132,
            "author": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Uploaded patchset #4 (mis-fire - ended up being same as #3) and patchset #5 (the real thing). \n\nI have marked all previous comments on patchset #3 as \"Resolved\", since our new patchset (#5) has addressed them all -- hopefully adequately.  Apologies if that was the wrong thing to do: it was not clear to me from the Gerrit docs/protocol who should mark a comment-stream as \"Done\" - the original commenter or the responder.\n  \nLooking forward to your further comments."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I think this patchset moves close toward the main idea which I comprehend to be:\n> This is a way to add SELinux to your OpenBMC image so you can run SELinux in permissive mode to can collect SELinux event logs.  The logs are need to create SELinux policies with the intention of eventually enabling  SELinux controls, and some test cases will help generate the logs, but anything beyond enabling SELinux so logs can be collected is beyond the scope of this design.\n\nBut I would like to see that more clearly.  IMHO, all other intentions should be dropped from this design document.  The main idea (above) is enough.\n\nAlso I think the document should be re-worded to be read for the point of view of someone reading it after it was already merged into openbmc/docs.  I've pointed out (in review comments) some places where the language is from the point of view of someone trying to implement this."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 11,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "It seems like this should be single date (because this design has not been merged).  I personally update to the current date when I push a new patchset."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 11,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 36,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "This paragraph seems unnecessary."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 36,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 49,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I like the motivational subsection, but can we tighten up the problem description to get across the following points?:\n- BMC processes have more authority than they need (specifically including access the the network and use of D-Bus).\n- This unnecessary privilege is violation of the \"principle of least privilege\".\n- Need to lock down this access.\n- A non-goal is to move processes away from running as the root user.  Doing so would be another way to remove unnecessary capabilities from BMC processes, and move them toward the least privilege, but that is not what this design is for."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 49,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "@Joseph, hope that this revision (patchset #6) answers your comment. Streamlined the two motivational paragraphs, followed by SELinux paragraph as proposed mitigation. Your last bullet is being addressed in the \"Alternatives considered\" section."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 49,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 68,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Suggested re-wording: \nThe requirements are to lock down the elements that pose the greatest risk (in terms of (probability * impact).  Specifically, ..."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 68,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 77,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Please clarify: Suggested wording: Collecting and extracting SELinux logs is needed to enable off-line policy refinement.  However, creating SELinux policy it outside the scope of this design."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 77,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 82,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Do we need a distro fearture for this?  If so, an we re-use an existing one?  For example, do we need something like:\n\nThe design is for a new distro feature, openbmc-selinux, disabled by default, which when enabled will bring in the underlying Yocto SELinux support and OpenBMC SELinux support built on top if that.\n\nMost OpenBMC recipes will not need to know if SELinux is present in the image and so do not need to be sensitive to if the feature is present.."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 82,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "DISTRO_FEATURE=\"selinux\" is introduced in the meta-selinux layer, and is reused in this design for the new layers. See patchset 6, line 90-93.\nThe gist of your last sentence is shifted to patchset 6, line 117-118."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 82,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 95,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Wording change:\nThe next change is to create a new layer 'meta-phosphor-selinux'...\n\nIMHO, the design should be written from the perspective of someone reading it in the openbmc/docs repo.  So instead of proposing a new layer, say there is a new layer, etc."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 95,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 111,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Suggest wording:\nThe next part of the design is to change target-specific recipes to pick up the selinux support.  This is done in the usual way."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 111,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Streamlined the wording here, but chose to stay explicit on the meta-evb-ast2600-selinux example, as that is non-trivial."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 111,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 135,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Can you move this statement to the top of the design section?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 135,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 193,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "This design serves as the primary documentation for OpenBMC's user of SELinux.  No additional documentation is planned."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 193,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 195,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Reported by whom?  Is there a performance study to show how much overhead this adds to a fast D-Bus call?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 195,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 238,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Suggest wording change: Recommend as 64Mb FLASH..."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 238,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 239,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Suggest: There are two ways to reduce image footprint size:"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 239,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 259,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Will the new meta-phosphor-selinux layer be in the openbmc meta-data?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 259,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 266,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Can we use an existing SELinux test suite for these?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 266,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "We think that we should write our own OpenBMC-test-automation (robot) testcases."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 268,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Is this intended as a baseline OpenBMC code coverage suite?  Meaning: Aspiring to cover *all* BMC functions, intended to generate SELinux log events.  If so, we should state that.\n\nI suggest:\nNo additional test cases are needed (because SELinux is running in permissive mode).  The following test suite is suggested to exercise BMC functions with the goal toward generating all SELinux events.  The test suite is needed to generate events, as a way toward generating appropriate SELinux policies.  But note that creating SELinux policies is out of scope for this design."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 268,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "I think that the rewording in patchset 6 clarifies the use of openbmc-test-automation testcases, and addresses the intent of your comment."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 268,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "designs/selinux.md",
                    "type": "ADDED",
                    "insertions": 301,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 313,
            "sizeDeletions": 0
        },
        {
            "number": 6,
            "revision": "2efb5e02b90ab9b08b27f2c0d88a57e14fb0965e",
            "parents": [
                "0b7780b5af82300012e6141a0b3614e6c84029e0"
            ],
            "ref": "refs/changes/05/53205/6",
            "uploader": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "createdOn": 1661205767,
            "author": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "@Joseph Reynolds -- Thank you for your comments on patchset #5. I think we have addressed them all in patchset #6. Respectfully re-submitting for review."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "The design is much more clear now. Thank you.\n\nI am not a SELinux expert and did not fully understand the selinux command and meta-data.  However, if I was asked to implement this, I think there is enough to get started."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 95,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I suggest: a system integrator"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 95,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 120,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "End users?  Consider: system integrators (who take the OpenBMC source, configure it, and build it into a firmware image)"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 120,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 147,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "s/folder/directory/"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 147,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 151,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "System integrators working with their security team will...."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 151,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 172,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Check your markdown syntax.  I think you meant: [prior design][] -- extra set of square brackets.\nPlease check your markdown with a tool like https://dillinger.io/"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 172,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Eagle eyes :) Both dillinger.io and stackedit.io did not see this as an error..."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 180,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Suggest wording to avoid referencing the design team: a future design could be to..."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 180,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 285,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "insert a space character here?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 285,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "Done"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 312,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I can foresee a false denial causing problems with the BMC's operation.  For example, an function unexpectedly was denied by SELinux policy, and it causes a BMC operation to fail.  Then you cannot log in via SSH to debug because of another SELinux policy.  Have you seen this type of issue happen in practice?"
                },
                {
                    "file": "designs/selinux.md",
                    "line": 312,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "This question goes towards \"enforcing mode\", which is beyond the scope of this design :). No, we are not that far yet to have seen this kind of problem. But yes, conceivably SELinux gives a developer enough rope to hang themselves with... And I am sure they will do so, at least once.  I guess a requirement should be that before releasing an image, developers should always ensure (via a testcase) that an admin can get in and switch the SELinux operation back to \"permissive\" mode."
                },
                {
                    "file": "designs/selinux.md",
                    "line": 312,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "designs/selinux.md",
                    "type": "ADDED",
                    "insertions": 326,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 338,
            "sizeDeletions": 0
        },
        {
            "number": 7,
            "revision": "fec2f1b646d4e805e2ab042b17a53aede5e85e65",
            "parents": [
                "0b7780b5af82300012e6141a0b3614e6c84029e0"
            ],
            "ref": "refs/changes/05/53205/7",
            "uploader": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "createdOn": 1661230445,
            "author": {
                "name": "Ruud Haring",
                "email": "ruud@us.ibm.com",
                "username": "ruudharing"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ruud Haring",
                        "email": "ruud@us.ibm.com",
                        "username": "ruudharing"
                    },
                    "message": "@Joseph Reynolds -- Thanks for the quick review. Patchset 7 addresses all your comments on patchset 6. I have answered all questions.\n\nFYI, with that, I have also marked all Q&A on Patchset 5 as \"Done\".\nSo there is one remaining \"unresolved\" question on patchset 6. I answererd it, but kept it as unresolved, for now, so that the dialog may continue."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Looks good to me, modulo my limited knowledge of SELinux."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "designs/selinux.md",
                    "type": "ADDED",
                    "insertions": 327,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 339,
            "sizeDeletions": 0
        }
    ]
}