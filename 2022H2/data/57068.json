{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "I58212588beda314ca7401065e083dd1654158da7",
    "number": 57068,
    "subject": "gitignore: clean up",
    "owner": {
        "name": "Nan Zhou",
        "email": "nanzhoumails@gmail.com",
        "username": "FighterNan"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/57068",
    "hashtags": [],
    "createdOn": 1662831505,
    "lastUpdated": 1663698546,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1662831505,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1662831617,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1662831618,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1662832137,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/50606/ : SUCCESS"
        },
        {
            "timestamp": 1662909615,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1662917067,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 2: Commit message was updated."
        },
        {
            "timestamp": 1662917522,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1662995514,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1663030195,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1663030264,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1663030659,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1663615414,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 3: Patch Set 2 was rebased"
        },
        {
            "timestamp": 1663615487,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1663615487,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1663616233,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/50960/ : SUCCESS"
        },
        {
            "timestamp": 1663689244,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1663691441,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1663693636,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1663693765,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1663693912,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 3: Code-Review+2\n\n(2 comments)"
        },
        {
            "timestamp": 1663693920,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Change has been successfully merged"
        },
        {
            "timestamp": 1663694213,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1663694328,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1663698546,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "c5145e0b5d081cd6cf7faea367c635868d9199d6",
            "parents": [
                "188cb6294105a045a445619415d01843de8c3732"
            ],
            "ref": "refs/changes/68/57068/1",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1662831505,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": ".gitignore",
                    "line": 183,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "We do this because it's generated by gitignore.io.  I'm not sure why it's all commented out, but there are those in the project that use intellij and clion, so can we please leave it as gitignore has it?  It looks like the current one doesn't comment these out, so that seems like the appropriate thing to do."
                },
                {
                    "file": ".gitignore",
                    "line": 183,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "> We do this because it's generated by gitignore.io.\n\nYes. I also used gitignore.io and generated a new gitignore. That's what you see in this patch.\n\n> I'm not sure why it's all commented out,\n\nMy understanding is people should uncomment lines that they need. In this project, I don't expect people use Gradle or Maven, so why do we keep those commented settings?\n\n> but there are those in the project that use intellij and clion, so can we please leave it as gitignore has it\n\nI didn't delete CLion. I use both CLion and Pycharm. I have verified no weird settings are kept after this change.\n\nWhy do we want to keep unused codes at all? If in the future magically we have Java codes in this project, we can always go to gitignore.io, generate Gradle and Maven gitignore settings, and add them back, right?\n\n> It looks like the current one doesn't comment these out, so that seems like the appropriate thing to do.\n\nWhat do you mean? If you go to https://www.toptal.com/developers/gitignore/api/osx,linux,clion,meson,pycharm,eclipse,windows,intellij,visualstudio,visualstudiocode, the lines I deleted in this patch are still commented."
                },
                {
                    "file": ".gitignore",
                    "line": 183,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": ">Why do we want to keep unused codes at all?\n\nLets back up, the intent here is to make the minimum number of changes from gitignore.io, because over the life of the project, it changes quite often and adds capability, and it helps us to keep up to date if we can regenerate this whole block trivially.  This patch as written breaks that.\n\nWe keep the commented settings because they don't hurt anything, and it's what gitignore does, so when we want to update, it's simpler.\n\n> I didn't delete CLion.\n\nAgreed, I misspoke;  This patch does appear to remove pycharm.  I left a comment where it looks like pycharm is missing.\n\n>  the lines I deleted in this patch are still commented\n\nI meant it doesn't comment out ALL lines.  Yes, you are correct, it doesn't comment the lines you removed, but that does still cause a diff."
                },
                {
                    "file": ".gitignore",
                    "line": 183,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "> Lets back up, the intent here is to make the minimum number of changes from gitignore.io, because over the life of the project, it changes quite often and adds capability, and it helps us to keep up to date if we can regenerate this whole block trivially.  This patch as written breaks that.\n\nYou must have missed things. This patch that I wrote is generated from \"https://www.toptal.com/developers/gitignore/api/osx,linux,clion,meson,eclipse,windows,visualstudio,visualstudiocode\". What I did, is just deleting two IDEs that contain now relevant settings.\n\n> This patch as written breaks that.\n\nNo. This is not true.\n\nYou also missed this comment\n\n\"If in the future magically we have Java codes in this project, we can always go to gitignore.io, generate Gradle and Maven gitignore settings, and add them back, right?\"\n\nSo, go to \"https://www.toptal.com/developers/gitignore/api/osx,linux,clion,meson,eclipse,windows,visualstudio,visualstudiocode\", add pycharm and intelij back, when you find bmcweb uses Gradle and Maven."
                },
                {
                    "file": ".gitignore",
                    "line": 183,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I see..... you removed pycharm because it didn't have any effect on the output?\n\nI guess I'm fine with this, and this discussion has gone on longer than is warranted for a .gitignore change, so I'm ok with it.  marking resolved."
                },
                {
                    "file": ".gitignore",
                    "line": 183,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "> I see..... you removed pycharm because it didn't have any effect on the output?\n\nRight.\n\n> I guess I'm fine with this, and this discussion has gone on longer than is warranted for a .gitignore change, so I'm ok with it.  marking resolved.\n\nThanks"
                },
                {
                    "file": ".gitignore",
                    "line": 8,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Can you talk about why this is needed?  bmcweb_persistent_data.json is created in the build directory, which is already ignored on line 1.  I'm not saying it's incorrect, I would just like to understand it."
                },
                {
                    "file": ".gitignore",
                    "line": 8,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Yes, if you build BMCweb on local workstation, and run it there (./build/bmcweb), you will find a bmcweb_persistent_data.json file in your git workspace."
                },
                {
                    "file": ".gitignore",
                    "line": 8,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "I haven't heard of \"build BMCweb on local workstation, and run it there (./build/bmcweb)\", why are you running on your local workstation? \nThis is something we think we should support?"
                },
                {
                    "file": ".gitignore",
                    "line": 8,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "> why are you running on your local workstation? \n\nThis is for fast iteration without cross-compile and reflash images.\n\n> This is something we think we should support?\n\nWhy not? I know many engineers inside Google build daemons directly, not cross-compile. If you two strongly dislike this, I am fine just to remove it."
                },
                {
                    "file": ".gitignore",
                    "line": 8,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> I haven't heard of \"build BMCweb on local workstation, and run it there (./build/bmcweb)\", why are you running on your local workstation? \n\n\nLots of us do that;  bmcweb has supported that use case since basically the beginning, given that a lot of the http core debugging was done on my desktop not on a bmc since basically commit 1, and it's something I still do quite often for protocol-level problems.\n\nWhat I don't understand is why the bmcweb_persistent_data.json file is ending up in bmcweb/bmcweb_persistent_data.json\nI would expect it to show up in bmcweb/build/bmcweb_persistent_data.json, which is already ignored."
                },
                {
                    "file": ".gitignore",
                    "line": 8,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "It's from https://github.com/openbmc/bmcweb/blob/f1eac5775ed6593fe7148118304bdecec08af1ef/include/persistent_data.hpp#L198\n\nif you run it inside build, I would assume it goes to build/."
                },
                {
                    "file": ".gitignore",
                    "line": 8,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Ack"
                },
                {
                    "file": ".gitignore",
                    "line": 676,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I don't see pycharm in this list anymore.  What am I missing?"
                },
                {
                    "file": ".gitignore",
                    "line": 676,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Like I said, pycharm settings are by default disabled. It's not like CLion, where configuration data (.idea) are needed to be ignored. There's no .idea ignore config in pycharm at all.\n\nHave you looked at what's deleted in details?"
                },
                {
                    "file": ".gitignore",
                    "line": 676,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Let me make this explicit. Take a look at the CLion section\n\n```\n# User-specific stuff\n.idea/**/workspace.xml\n.idea/**/tasks.xml\n.idea/**/usage.statistics.xml\n.idea/**/dictionaries\n.idea/**/shelf\n```\n\nLook at the Pycharm section \n\n```\n### PyCharm ###\n# Covers JetBrains IDEs: IntelliJ, RubyMine, PhpStorm, AppCode, PyCharm, CLion, Android Studio, WebStorm and Rider\n# Reference: https://intellij-support.jetbrains.com/hc/en-us/articles/206544839\n\n# User-specific stuff\n\n# AWS User-specific\n\n# Generated files\n\n# Sensitive or high-churn files\n\n# Gradle\n```\n\nIt doesn't have \"User-specific stuff\" at all.\n\nOn the other hand when you go to https://www.toptal.com/developers/gitignore/api/pycharm. It does have \"User-specific stuff\". So, Clion section already covers the pycharm use settings. All Jetbrain IDEs share the same name is my best guess.\n\nEven gitignore.io doesn't repeat this, why should us repeat?\n\nAm I able to convince you on this trivial modification this time?"
                },
                {
                    "file": ".gitignore",
                    "line": 676,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> \n> Am I able to convince you on this trivial modification this time?  \n\nOverall, I don't like that we're losing intent here, because we INTEND for pycharm to work, but it's not worth arguing about, we have bigger issues and if this is a problem later, we can solve it then."
                },
                {
                    "file": ".gitignore",
                    "line": 676,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "\ud83d\udc4d"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 16,
                    "deletions": 0
                },
                {
                    "file": ".gitignore",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -143
                }
            ],
            "sizeInsertions": 21,
            "sizeDeletions": 143
        },
        {
            "number": 2,
            "revision": "e8ceda698ee31fb0c43649f4e52c004efcdc5b3f",
            "parents": [
                "188cb6294105a045a445619415d01843de8c3732"
            ],
            "ref": "refs/changes/68/57068/2",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1662917067,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": ".gitignore",
                    "line": 11,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Starting from here, all settings below are created by gitignore.io. Both before, and AFTER, this change."
                },
                {
                    "file": ".gitignore",
                    "line": 11,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": ".gitignore",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -143
                }
            ],
            "sizeInsertions": 23,
            "sizeDeletions": 143
        },
        {
            "number": 3,
            "revision": "6e5a32691a861ef54f7b2e9abd90181a369085d6",
            "parents": [
                "411e6a1164855c0ebf04e243f0c8ea20146c1dff"
            ],
            "ref": "refs/changes/68/57068/3",
            "uploader": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "createdOn": 1663615414,
            "author": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": ".gitignore",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -143
                }
            ],
            "sizeInsertions": 23,
            "sizeDeletions": 143
        }
    ]
}