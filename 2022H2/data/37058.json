{
    "project": "openbmc/docs",
    "branch": "master",
    "id": "Ie13fed9aa77770542e18574c82dce53a22986c34",
    "number": 37058,
    "subject": "Add PLDM Requester flow",
    "owner": {
        "name": "Sumanth Bhat",
        "email": "sumanth.bhat@linux.intel.com",
        "username": "sumbhat90"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/docs/+/37058",
    "hashtags": [],
    "createdOn": 1601886912,
    "lastUpdated": 1665658018,
    "open": false,
    "status": "ABANDONED",
    "comments": [
        {
            "timestamp": 1601886912,
            "reviewer": {
                "name": "Sumanth Bhat",
                "email": "sumanth.bhat@linux.intel.com",
                "username": "sumbhat90"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1601887374,
            "reviewer": {
                "name": "Sumanth Bhat",
                "email": "sumanth.bhat@linux.intel.com",
                "username": "sumbhat90"
            },
            "message": "Removed reviewer Andrew Jeffery."
        },
        {
            "timestamp": 1601887693,
            "reviewer": {
                "name": "Sumanth Bhat",
                "email": "sumanth.bhat@linux.intel.com",
                "username": "sumbhat90"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1601889432,
            "reviewer": {
                "name": "Sumanth Bhat",
                "email": "sumanth.bhat@linux.intel.com",
                "username": "sumbhat90"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1606377210,
            "reviewer": {
                "name": "Deepak Kodihalli",
                "email": "deepak.kodihalli.83@gmail.com",
                "username": "dkodihal"
            },
            "message": "Patch Set 3: Code-Review-1\n\n(5 comments)"
        },
        {
            "timestamp": 1665658018,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Abandoned\n\nclose due to inactivity"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "a62a3da691840569b7852ef4d430f9f539ff6855",
            "parents": [
                "919a7b6816a5f16aa72d298e81e0756d95d5031e"
            ],
            "ref": "refs/changes/58/37058/1",
            "uploader": {
                "name": "Sumanth Bhat",
                "email": "sumanth.bhat@linux.intel.com",
                "username": "sumbhat90"
            },
            "createdOn": 1601886912,
            "author": {
                "name": "Sumanth Bhat",
                "email": "sumanth.bhat@linux.intel.com",
                "username": "sumbhat90"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "designs/PMCI.jpg",
                    "type": "ADDED",
                    "insertions": 0,
                    "deletions": 0
                },
                {
                    "file": "designs/pldm-stack.md",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 23,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "e6029985632ad828cce8f18508cdd586187e4d79",
            "parents": [
                "919a7b6816a5f16aa72d298e81e0756d95d5031e"
            ],
            "ref": "refs/changes/58/37058/2",
            "uploader": {
                "name": "Sumanth Bhat",
                "email": "sumanth.bhat@linux.intel.com",
                "username": "sumbhat90"
            },
            "createdOn": 1601887693,
            "author": {
                "name": "Sumanth Bhat",
                "email": "sumanth.bhat@linux.intel.com",
                "username": "sumbhat90"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "designs/PMCI.jpg",
                    "type": "ADDED",
                    "insertions": 0,
                    "deletions": 0
                },
                {
                    "file": "designs/pldm-stack.md",
                    "type": "MODIFIED",
                    "insertions": 9,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 29,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "787342e3bdd2eae7851c8542922e3451366b24c7",
            "parents": [
                "919a7b6816a5f16aa72d298e81e0756d95d5031e"
            ],
            "ref": "refs/changes/58/37058/3",
            "uploader": {
                "name": "Sumanth Bhat",
                "email": "sumanth.bhat@linux.intel.com",
                "username": "sumbhat90"
            },
            "createdOn": 1601889432,
            "author": {
                "name": "Sumanth Bhat",
                "email": "sumanth.bhat@linux.intel.com",
                "username": "sumbhat90"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/pldm-stack.md",
                    "line": 331,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Does this imply an alternate implementation to the existing pldm daemon?"
                },
                {
                    "file": "designs/pldm-stack.md",
                    "line": 331,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "typo"
                },
                {
                    "file": "designs/pldm-stack.md",
                    "line": 334,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Will it be possible for you to make an ascii diagram? That will be inline with the rest of the doc, and is easier to post comments against as well.\n\nLooking at the diagram you have now, I have the following comments:\n\n- There are assumptions about the MCTP daemon design, which still haven't been closed in terms of getting them approved in the MCTP design doc.\n- It isn't clear to me what APIs will the pldmd device manager use to talk to the connected device.\n- If the device supports FRU PDRs, there shouldn't be a need to expose PLDM FRU contents on D-Bus.\n- So the crux of the requester flow is - pldmd gets awoken by D-Bus activity indicating a new MCTP connection, then it sends a series of requests and hosts the responses on D-Bus, right? Some of the flows (initial PLDM discovery, PDR, M&C) would need more details in terms of what the D-Bus API is supposed to do. This can be via additional commits though.\n- How will effecters, state sensors and events be handled?\n- What is the PDR interface?\n- Which OpenBMC apps do you expect to talk to pldmd in terms of its capacity as a PLDM requester? How would this interface look like?\n- Have we thought about multiple requester daemon apps, for eg one per device? With the current scheme it looks like the BMC can engage with only one device at a time.\n- Does this design mandate that the connected PLDM device must have a FRU EEPROM?"
                },
                {
                    "file": "designs/pldm-stack.md",
                    "line": 338,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "nit:pldmd"
                },
                {
                    "file": "designs/pldm-stack.md",
                    "line": 341,
                    "reviewer": {
                        "name": "Deepak Kodihalli",
                        "email": "deepak.kodihalli.83@gmail.com",
                        "username": "dkodihal"
                    },
                    "message": "Will you be adding details for this? Or just new D-Bus interfaces in the future?"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "designs/PMCI.jpg",
                    "type": "ADDED",
                    "insertions": 0,
                    "deletions": 0
                },
                {
                    "file": "designs/pldm-stack.md",
                    "type": "MODIFIED",
                    "insertions": 40,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 60,
            "sizeDeletions": 0
        }
    ]
}