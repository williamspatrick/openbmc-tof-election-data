{
    "project": "openbmc/webui-vue",
    "branch": "master",
    "id": "Idb8bc9d6ada420329c38407da76a08dc83fddd61",
    "number": 56719,
    "subject": "Old password input in change password screen",
    "owner": {
        "name": "Damian Celico",
        "email": "damianx.celico@intel.com",
        "username": "damianxc"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/webui-vue/+/56719",
    "hashtags": [],
    "createdOn": 1661217920,
    "lastUpdated": 1671694094,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1661217920,
            "reviewer": {
                "name": "Damian Celico",
                "email": "damianx.celico@intel.com",
                "username": "damianxc"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1661217974,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1661217974,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1661218060,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/49633/ : SUCCESS"
        },
        {
            "timestamp": 1661353330,
            "reviewer": {
                "name": "Dixsie Wolmers",
                "email": "dixsiew@gmail.com",
                "username": "dixsie"
            },
            "message": "Removed reviewer Kenneth Fullbright <kennyneedsmilky@gmail.com>."
        },
        {
            "timestamp": 1661353333,
            "reviewer": {
                "name": "Dixsie Wolmers",
                "email": "dixsiew@gmail.com",
                "username": "dixsie"
            },
            "message": "Removed reviewer Sukanya Pandey <sukapan1@in.ibm.com>."
        },
        {
            "timestamp": 1661353335,
            "reviewer": {
                "name": "Dixsie Wolmers",
                "email": "dixsiew@gmail.com",
                "username": "dixsie"
            },
            "message": "Removed reviewer Dixsie Wolmers <dixsiew@gmail.com>."
        },
        {
            "timestamp": 1663354053,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 1: Code-Review+1"
        },
        {
            "timestamp": 1663698234,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1663786755,
            "reviewer": {
                "name": "Damian Celico",
                "email": "damianx.celico@intel.com",
                "username": "damianxc"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1663933551,
            "reviewer": {
                "name": "Nikhil Ashoka",
                "email": "a.nikhil@ibm.com",
                "username": "Nikhil-Ashoka"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1665605667,
            "reviewer": {
                "name": "Joseph Reynolds",
                "email": "joseph-reynolds@charter.net",
                "username": "joseph-reynolds"
            },
            "message": "Patch Set 1:\n\n(2 comments)"
        },
        {
            "timestamp": 1665710274,
            "reviewer": {
                "name": "Damian Celico",
                "email": "damianx.celico@intel.com",
                "username": "damianxc"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1665710313,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1665710313,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1665710496,
            "reviewer": {
                "name": "Damian Celico",
                "email": "damianx.celico@intel.com",
                "username": "damianxc"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1665710664,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/53571/ : SUCCESS"
        },
        {
            "timestamp": 1665743896,
            "reviewer": {
                "name": "Damian Celico",
                "email": "damianx.celico@intel.com",
                "username": "damianxc"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1666304080,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1667329913,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gmills@us.ibm.com",
                "username": "gtmills"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1667493570,
            "reviewer": {
                "name": "Meghan Saitwal",
                "username": "msaitwal"
            },
            "message": "Patch Set 2:\n\n(3 comments)"
        },
        {
            "timestamp": 1667566803,
            "reviewer": {
                "name": "Damian Celico",
                "email": "damianx.celico@intel.com",
                "username": "damianxc"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1667566848,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1667566848,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1667566931,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/54681/ : SUCCESS"
        },
        {
            "timestamp": 1667567254,
            "reviewer": {
                "name": "Damian Celico",
                "email": "damianx.celico@intel.com",
                "username": "damianxc"
            },
            "message": "Patch Set 3:\n\n(3 comments)"
        },
        {
            "timestamp": 1667889535,
            "reviewer": {
                "name": "Meghan Saitwal",
                "username": "msaitwal"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1668599063,
            "reviewer": {
                "name": "Nikhil Ashoka",
                "email": "a.nikhil@ibm.com",
                "username": "Nikhil-Ashoka"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1668703696,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1670984524,
            "reviewer": {
                "name": "Damian Celico",
                "email": "damianx.celico@intel.com",
                "username": "damianxc"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1670984553,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1670984553,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1670984570,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/57684/ : FAILURE"
        },
        {
            "timestamp": 1671420382,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/57994/ : FAILURE"
        },
        {
            "timestamp": 1671694094,
            "reviewer": {
                "name": "Meghan Saitwal",
                "username": "msaitwal"
            },
            "message": "Patch Set 4: Code-Review+1"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "3546eb2f08d7f425bd97000d9d7c097f459b6a5d",
            "parents": [
                "f763cd2e39ffce9b10191402243e8704794f08ff"
            ],
            "ref": "refs/changes/19/56719/1",
            "uploader": {
                "name": "Damian Celico",
                "email": "damianx.celico@intel.com",
                "username": "damianxc"
            },
            "createdOn": 1661217920,
            "author": {
                "name": "Damian Celico",
                "email": "damianx.celico@intel.com",
                "username": "damianxc"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "What happens if the old password is incorrect?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Damian Celico",
                        "email": "damianx.celico@intel.com",
                        "username": "damianxc"
                    },
                    "message": "In this case there will be error pop-up with a message about wrong credentials"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Meghan Saitwal",
                        "username": "msaitwal"
                    },
                    "message": "Does it logs out current session in this case?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Damian Celico",
                        "email": "damianx.celico@intel.com",
                        "username": "damianxc"
                    },
                    "message": "No, the session stays the same"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "Meghan Saitwal",
                        "username": "msaitwal"
                    },
                    "message": "Ack"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "Seems okay to me, modulo my observations in the comments.  But I am not a web application developer."
                },
                {
                    "file": "src/views/ProfileSettings/ProfileSettings.vue",
                    "line": 237,
                    "reviewer": {
                        "name": "Nikhil Ashoka",
                        "email": "a.nikhil@ibm.com",
                        "username": "Nikhil-Ashoka"
                    },
                    "message": "I think this added by mistake, we are already checking this.form.newPassword in the previous statement?"
                },
                {
                    "file": "src/views/ProfileSettings/ProfileSettings.vue",
                    "line": 237,
                    "reviewer": {
                        "name": "Damian Celico",
                        "email": "damianx.celico@intel.com",
                        "username": "damianxc"
                    },
                    "message": "Right, thank you, fixed it"
                },
                {
                    "file": "src/views/ProfileSettings/ProfileSettings.vue",
                    "line": 237,
                    "reviewer": {
                        "name": "Damian Celico",
                        "email": "damianx.celico@intel.com",
                        "username": "damianxc"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/views/ProfileSettings/ProfileSettings.vue",
                    "line": 243,
                    "reviewer": {
                        "name": "Joseph Reynolds",
                        "email": "joseph-reynolds@charter.net",
                        "username": "joseph-reynolds"
                    },
                    "message": "I am not familiar with the web application, but I understand this code checks if the old password is correct. I have two independent observations:\n1. This change is only at the web application layer, so it provides additional security only at that layer.  In particular, the underlying Redfish API (PATCH ... \"Password\") still works (with no old password needed).\n2. If the login is successful, it creates a new session.  Please either delete the session in this case, or use some other way to determine if authentication worked (for example, GET /redfish/v1/AccountService using BasicAuth, which does not create a session)."
                },
                {
                    "file": "src/views/ProfileSettings/ProfileSettings.vue",
                    "line": 243,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "For 1, we approached the DMTF about this question, and they don't believe it is an issue as the current authentication must be provided (either through basic auth or the session token) to change the password.  Our conclusion is that the security gap is only in the web UI that can leave a session unattended."
                },
                {
                    "file": "src/views/ProfileSettings/ProfileSettings.vue",
                    "line": 243,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gmills@us.ibm.com",
                        "username": "gtmills"
                    },
                    "message": "Still waiting on #2"
                },
                {
                    "file": "src/views/ProfileSettings/ProfileSettings.vue",
                    "line": 243,
                    "reviewer": {
                        "name": "Meghan Saitwal",
                        "username": "msaitwal"
                    },
                    "message": "If Current password entered is correct and New password gets updated successfully, then all current sessions (for that user) gets logged out or not? Do we get redirected to login screen?"
                },
                {
                    "file": "src/views/ProfileSettings/ProfileSettings.vue",
                    "line": 243,
                    "reviewer": {
                        "name": "Damian Celico",
                        "email": "damianx.celico@intel.com",
                        "username": "damianxc"
                    },
                    "message": "We are not redirected to login screen, but the session changes. Soon I will use another endpoint that does not change session"
                },
                {
                    "file": "src/views/ProfileSettings/ProfileSettings.vue",
                    "line": 243,
                    "reviewer": {
                        "name": "Meghan Saitwal",
                        "username": "msaitwal"
                    },
                    "message": "Ack"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "src/locales/en-US.json",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "src/views/ProfileSettings/ProfileSettings.vue",
                    "type": "MODIFIED",
                    "insertions": 45,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 61,
            "sizeDeletions": 4
        },
        {
            "number": 2,
            "revision": "f43879f98c8f313413e1c74e1baadaf80434accb",
            "parents": [
                "f763cd2e39ffce9b10191402243e8704794f08ff"
            ],
            "ref": "refs/changes/19/56719/2",
            "uploader": {
                "name": "Damian Celico",
                "email": "damianx.celico@intel.com",
                "username": "damianxc"
            },
            "createdOn": 1665710274,
            "author": {
                "name": "Damian Celico",
                "email": "damianx.celico@intel.com",
                "username": "damianxc"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/locales/en-US.json",
                    "line": 662,
                    "reviewer": {
                        "name": "Meghan Saitwal",
                        "username": "msaitwal"
                    },
                    "message": "Is it better to call it as \"Current Password\"?"
                },
                {
                    "file": "src/locales/en-US.json",
                    "line": 662,
                    "reviewer": {
                        "name": "Damian Celico",
                        "email": "damianx.celico@intel.com",
                        "username": "damianxc"
                    },
                    "message": "Thanks, changed"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "src/locales/en-US.json",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "src/views/ProfileSettings/ProfileSettings.vue",
                    "type": "MODIFIED",
                    "insertions": 45,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 61,
            "sizeDeletions": 4
        },
        {
            "number": 3,
            "revision": "9bfe68fa587260e6aa0afa3f2972bc1ca0d9f897",
            "parents": [
                "f763cd2e39ffce9b10191402243e8704794f08ff"
            ],
            "ref": "refs/changes/19/56719/3",
            "uploader": {
                "name": "Damian Celico",
                "email": "damianx.celico@intel.com",
                "username": "damianxc"
            },
            "createdOn": 1667566803,
            "author": {
                "name": "Damian Celico",
                "email": "damianx.celico@intel.com",
                "username": "damianxc"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "src/locales/en-US.json",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "src/views/ProfileSettings/ProfileSettings.vue",
                    "type": "MODIFIED",
                    "insertions": 45,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 61,
            "sizeDeletions": 4
        },
        {
            "number": 4,
            "revision": "5808fc418f476d1eaf37ba7fe84f4ca2c7cc5556",
            "parents": [
                "f763cd2e39ffce9b10191402243e8704794f08ff"
            ],
            "ref": "refs/changes/19/56719/4",
            "uploader": {
                "name": "Damian Celico",
                "email": "damianx.celico@intel.com",
                "username": "damianxc"
            },
            "createdOn": 1670984524,
            "author": {
                "name": "Damian Celico",
                "email": "damianx.celico@intel.com",
                "username": "damianxc"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "src/store/modules/SecurityAndAccess/SessionsStore.js",
                    "type": "MODIFIED",
                    "insertions": 19,
                    "deletions": 0
                },
                {
                    "file": "src/locales/en-US.json",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "src/views/ProfileSettings/ProfileSettings.vue",
                    "type": "MODIFIED",
                    "insertions": 46,
                    "deletions": -3
                }
            ],
            "sizeInsertions": 81,
            "sizeDeletions": 4
        }
    ]
}