{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "topic": "AllowedPowerModes",
    "id": "Ic9882d2760a39dd1a0ea353624eb3c8575f4c6a0",
    "number": 69456,
    "subject": "Systems: Add support to read AllowedPowerModes",
    "owner": {
        "name": "Chris Cain",
        "email": "cjcain@us.ibm.com",
        "username": "cjcain"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/69456",
    "hashtags": [],
    "createdOn": 1708035566,
    "lastUpdated": 1708724886,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1708035566,
            "reviewer": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1708035626,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1708035626,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1708036300,
            "reviewer": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "message": "Topic set to AllowedPowerModes"
        },
        {
            "timestamp": 1708036337,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/79349/ : SUCCESS"
        },
        {
            "timestamp": 1708038405,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(5 comments)"
        },
        {
            "timestamp": 1708138362,
            "reviewer": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "message": "Patch Set 1:\n\n(5 comments)"
        },
        {
            "timestamp": 1708138388,
            "reviewer": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1708138477,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1708138477,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1708139616,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/79435/ : SUCCESS"
        },
        {
            "timestamp": 1708191920,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1708192097,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1708363791,
            "reviewer": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1708364637,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1708364743,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1708378067,
            "reviewer": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "message": "Patch Set 2:\n\n(4 comments)"
        },
        {
            "timestamp": 1708378076,
            "reviewer": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1708378169,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1708378169,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1708379015,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/79500/ : SUCCESS"
        },
        {
            "timestamp": 1708543513,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gunnar@gmills.xyz",
                "username": "gtmills"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1708543968,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gunnar@gmills.xyz",
                "username": "gtmills"
            },
            "message": "Patch Set 3:\n\n(5 comments)"
        },
        {
            "timestamp": 1708548942,
            "reviewer": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "message": "Patch Set 3:\n\n(5 comments)"
        },
        {
            "timestamp": 1708548957,
            "reviewer": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1708549059,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1708549059,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1708549933,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/79631/ : SUCCESS"
        },
        {
            "timestamp": 1708609053,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gunnar@gmills.xyz",
                "username": "gtmills"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1708611085,
            "reviewer": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1708611659,
            "reviewer": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "message": "Uploaded patch set 5.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1708611750,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1708611750,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1708612498,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/79656/ : SUCCESS"
        },
        {
            "timestamp": 1708613396,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gunnar@gmills.xyz",
                "username": "gtmills"
            },
            "message": "Patch Set 5: Code-Review+1"
        },
        {
            "timestamp": 1708629778,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\n(5 comments)"
        },
        {
            "timestamp": 1708636435,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gunnar@gmills.xyz",
                "username": "gtmills"
            },
            "message": "Patch Set 5: -Code-Review\n\n(2 comments)"
        },
        {
            "timestamp": 1708636831,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 6.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1708636833,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5: Code-Review+1\n\n(6 comments)"
        },
        {
            "timestamp": 1708636894,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1708636894,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1708637315,
            "reviewer": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "message": "Patch Set 6:\n\n(5 comments)"
        },
        {
            "timestamp": 1708637595,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/79679/ : SUCCESS"
        },
        {
            "timestamp": 1708638747,
            "reviewer": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "message": "Patch Set 6: Code-Review+1"
        },
        {
            "timestamp": 1708639356,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1708661180,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gunnar@gmills.xyz",
                "username": "gtmills"
            },
            "message": "Patch Set 6: Code-Review+1\n\n(3 comments)"
        },
        {
            "timestamp": 1708675878,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1708697033,
            "reviewer": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1708712681,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gunnar@gmills.xyz",
                "username": "gtmills"
            },
            "message": "Patch Set 6: Code-Review+2"
        },
        {
            "timestamp": 1708724886,
            "reviewer": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "message": "Change has been successfully rebased and submitted as 6b9ac4f23ed00c3905c9b99f1d0831930acdbb1c"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "ccc4f1c7a229c463fcf3a703942b6d17bb7d052e",
            "parents": [
                "b66551019cf3c31186877c30a91ff8622454f342"
            ],
            "ref": "refs/changes/56/69456/1",
            "uploader": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "createdOn": 1708035566,
            "author": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2300,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Instead of returning these defaults, we return an empty list now?"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2300,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "As you mentioned in prior review, these are backend dependent and should not have been defined here."
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2300,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "right, but they\u2019re here, and have been for a long time.  it\u2019s trivial to keep the old behavior if the new property doesn\u2019t exist."
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2300,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2300,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "There is only one implementation, I would have been fine just leaving this off if it isn't found but sure, this is fine."
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2300,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "I agree"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2182,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Just return by computer_system::PowerMode and make each of these \"return PowerMode::X\""
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2182,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2312,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": ".... This looks wrong.  you return by a json value, then you push back as a string.  Just return the enum, make stringList an instance of nlohmann::json::array_t, and call it good."
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2312,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2322,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "nontrival lambdas aren't allowed in new code.  Please make it a real function (assuming this doesn't go away."
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2322,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2322,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "you\u2019ve resolved this, but your code still has a non trivial lambda in it.\n\nI realize that the existing code has a lambda in it, but we shouldn\u2019t be making it any longer before moving it into a normal function."
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2322,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "Are you saying move this block to a new function (like getAutomaticRebootAttempts() on line 1228) or something else? This is my first experience with lambdas so code was based on other functions within bmcweb."
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2322,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "yes, make the code block a normal function.  There is more documentation on the problems with long lambdas in the docs repo."
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2322,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2329,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Please roll your new code into this callback.  We should be calling GetAll, not Get twice."
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2329,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 51,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "type": "MODIFIED",
                    "insertions": 66,
                    "deletions": -19
                }
            ],
            "sizeInsertions": 117,
            "sizeDeletions": 19
        },
        {
            "number": 2,
            "revision": "541c9d3ff37af70a524141abe578e9acd102f363",
            "parents": [
                "52dd6932dea23ed6f6ae24caec12c9a7f19c2284"
            ],
            "ref": "refs/changes/56/69456/2",
            "uploader": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "createdOn": 1708138388,
            "author": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "PowerMode is treated as optional in the current patchset, but give that it\u2019s existed since the first revision of this interface, it should be required.  make the property not a pointer"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Didn't mean to resolve this."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "Done"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "You say done...... but the current patchset didn't do as I asked.  Did you forget to add a file?\n\nnevermind, I see it.  PTAL at the comment below."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Done"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2310,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "else, return the old list."
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2310,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 51,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "type": "MODIFIED",
                    "insertions": 57,
                    "deletions": -43
                }
            ],
            "sizeInsertions": 108,
            "sizeDeletions": 43
        },
        {
            "number": 3,
            "revision": "8a73408ac190fecf0b69429153df55b2edcf2b63",
            "parents": [
                "52dd6932dea23ed6f6ae24caec12c9a7f19c2284"
            ],
            "ref": "refs/changes/56/69456/3",
            "uploader": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "createdOn": 1708378076,
            "author": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "couple minor comments, but seems reasonable to me"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2223,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "Today if it is invalid, you would get an internal Error.. We are getting rid of that."
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2223,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2230,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "```\n#include <string>\n```"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2230,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2231,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "```\n#include <vector>\n```"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2231,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2258,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "It is more common to have this as without the else in bmcweb, oh well \n```\nif (powerMode == nullptr)\n{\n        BMCWEB_LOG_DEBUG(\"PowerMode is a required property\");\n        messages::internalError(asyncResp->res);\n        return;\n}\n\n        BMCWEB_LOG_DEBUG(\"Current power mode: {}\", *powerMode);\n        asyncResp->res.jsonValue[\"PowerMode\"] =\n            translatePowerModeString(*powerMode);\n\n```"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2258,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 64,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "type": "MODIFIED",
                    "insertions": 80,
                    "deletions": -48
                }
            ],
            "sizeInsertions": 144,
            "sizeDeletions": 48
        },
        {
            "number": 4,
            "revision": "d4b516dcb1a16dbef688da0cea05105f640d8560",
            "parents": [
                "b4d593f1c6113311da4b29fc352187fbcb6d1fd4"
            ],
            "ref": "refs/changes/56/69456/4",
            "uploader": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "createdOn": 1708548957,
            "author": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2260,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "I think you still want this in the else right?"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2260,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "Good catch.  Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 64,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "type": "MODIFIED",
                    "insertions": 89,
                    "deletions": -51
                }
            ],
            "sizeInsertions": 153,
            "sizeDeletions": 51
        },
        {
            "number": 5,
            "revision": "39451cd8450031a2c0bd4ddbb00398da1533fe19",
            "parents": [
                "b4d593f1c6113311da4b29fc352187fbcb6d1fd4"
            ],
            "ref": "refs/changes/56/69456/5",
            "uploader": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "createdOn": 1708611659,
            "author": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Made the fixes I asked for.  @Chris, please review my mods."
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2216,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "this should be at ERROR severity.  We don't expect this to happen on a working system."
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2216,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "The only thing is this is used for both an internalError (PowerMode) and this just ignores when we don't have a valid one (PowerMode@Redfish.AllowableValues) , but if addresses the comment below on line 2257 then it is an internal error in both cases."
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2216,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2216,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2257,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "as is, we're just dropping modes that we find that aren't valid?  Is that what you intended?  Generally we would set an internal Error if dbus didn't match PDI."
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2257,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "+1"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2257,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2257,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "Yes, that was the intention. If any of these modes are not valid, we would not want to say it is available. That also should not prevent the setting of any of the valid modes."
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2257,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2263,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "can we deduplicate lines 2263 and line 2252 with the other branch?  We're creating an array, and filling it with some values.  We shouldn't have two completely different construction paths to do that.\n\n```\n    nlohmann::json::array_t modeList;\n    if (allowedModes == nullptr)\n    {\n        // Set default allowed modes\n        for (mode: {\n            \"Static\", \"MaximumPerformance\", \"PowerSaving\"}{\n          modeList.push_back(mode);  \n        }\n    }\n    else\n    {\n\n        for (const auto& aMode : *allowedModes)\n        {\n            const computer_system::PowerMode modeValue =\n                translatePowerModeString(aMode);\n            if (modeValue != computer_system::PowerMode::Invalid)\n            {\n                modeList.emplace_back(modeValue);\n            }\n        }\n\n    }\n    asyncResp->res.jsonValue[\"PowerMode@Redfish.AllowableValues\"] =\n            modeList;\n```"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2263,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2263,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2271,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Just make powerMode a non-pointer, and this will be done automatically."
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2271,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Done"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2271,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 64,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "type": "MODIFIED",
                    "insertions": 91,
                    "deletions": -49
                }
            ],
            "sizeInsertions": 155,
            "sizeDeletions": 49
        },
        {
            "number": 6,
            "revision": "64b67166cb3ecb3f09bc8a660c1b8213d46a6718",
            "parents": [
                "b4d593f1c6113311da4b29fc352187fbcb6d1fd4"
            ],
            "ref": "refs/changes/56/69456/6",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1708636831,
            "author": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Leaving in review for a bit."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "@Chris did the latest patchset get retested?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Chris Cain",
                        "email": "cjcain@us.ibm.com",
                        "username": "cjcain"
                    },
                    "message": "Yes"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2260,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "A lot of code in bmcweb would just return here. \nWe haven't been clear about if we should gather as many properties as we can or just give up on the first failure.  OH well, not to be solved here"
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "line": 2260,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I think it's largely that I don't care to enforce consistent behavior in that case. No working system should have that failure, so it's debatable if we're \"failing better\" is helpful at all."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 64,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "type": "MODIFIED",
                    "insertions": 86,
                    "deletions": -49
                }
            ],
            "sizeInsertions": 150,
            "sizeDeletions": 49
        },
        {
            "number": 7,
            "revision": "6b9ac4f23ed00c3905c9b99f1d0831930acdbb1c",
            "parents": [
                "e610b3168321eee167271e4532c37fe1ed9c6f56"
            ],
            "ref": "refs/changes/56/69456/7",
            "uploader": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "createdOn": 1708724886,
            "author": {
                "name": "Chris Cain",
                "email": "cjcain@us.ibm.com",
                "username": "cjcain"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 64,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/systems.hpp",
                    "type": "MODIFIED",
                    "insertions": 86,
                    "deletions": -49
                }
            ],
            "sizeInsertions": 150,
            "sizeDeletions": 49
        }
    ]
}