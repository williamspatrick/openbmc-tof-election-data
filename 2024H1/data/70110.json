{
    "project": "openbmc/phosphor-dbus-interfaces",
    "branch": "master",
    "id": "I1f6aacf8ad7fa63e58d832409698f4d923184ec2",
    "number": 70110,
    "subject": "software: Add Minimum Version interface",
    "owner": {
        "name": "Adriana Kobylak",
        "email": "anoo@us.ibm.com",
        "username": "anoo1"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-dbus-interfaces/+/70110",
    "hashtags": [],
    "createdOn": 1710863372,
    "lastUpdated": 1712113862,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1710863372,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@us.ibm.com",
                "username": "anoo1"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1710863383,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1710863383,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1710863733,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/80873/ : SUCCESS"
        },
        {
            "timestamp": 1710954022,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gunnar@gmills.xyz",
                "username": "gtmills"
            },
            "message": "Patch Set 1:\n\n(4 comments)"
        },
        {
            "timestamp": 1710955104,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1710967792,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@us.ibm.com",
                "username": "anoo1"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1710967806,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1710967806,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1710968154,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/80994/ : SUCCESS"
        },
        {
            "timestamp": 1710968194,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@us.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 2:\n\n(5 comments)"
        },
        {
            "timestamp": 1710969249,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gunnar@gmills.xyz",
                "username": "gtmills"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(1 comment)"
        },
        {
            "timestamp": 1711137763,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1711380470,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gunnar@gmills.xyz",
                "username": "gtmills"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1711464096,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@us.ibm.com",
                "username": "anoo1"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1711464126,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1711464126,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1711464313,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@us.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1711464464,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/81284/ : SUCCESS"
        },
        {
            "timestamp": 1711464503,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gunnar@gmills.xyz",
                "username": "gtmills"
            },
            "message": "Patch Set 3: Code-Review+1"
        },
        {
            "timestamp": 1711557623,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1711565636,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@us.ibm.com",
                "username": "anoo1"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1711565693,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1711565693,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1711565785,
            "reviewer": {
                "name": "Adriana Kobylak",
                "email": "anoo@us.ibm.com",
                "username": "anoo1"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1711566054,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1711566074,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/81358/ : SUCCESS"
        },
        {
            "timestamp": 1711651645,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gunnar@gmills.xyz",
                "username": "gtmills"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1712113859,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 4: Code-Review+2"
        },
        {
            "timestamp": 1712113862,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Change has been successfully rebased and submitted as 9012243e543abdc5851b7e878c17c991b2a2a8b7"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "64c1a1855b28f6432ebc34f93854906a315f8a7c",
            "parents": [
                "1c140b9766a15d1cbb8546fa02d5050d772a171d"
            ],
            "ref": "refs/changes/10/70110/1",
            "uploader": {
                "name": "Adriana Kobylak",
                "email": "anoo@us.ibm.com",
                "username": "anoo1"
            },
            "createdOn": 1710863372,
            "author": {
                "name": "Adriana Kobylak",
                "email": "anoo@us.ibm.com",
                "username": "anoo1"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "yaml/xyz/openbmc_project/Software/ExtendedVersion.interface.yaml",
                    "line": 8,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "I assume this maps to \n\n                \"LowestSupportedVersion\": {\n                    \"description\": \"The lowest supported version of this software.\",\n                    \"longDescription\": \"This property shall represent the lowest supported version of this software.  This string is formatted using the same format used for the Version property.\",\n                    \"readonly\": true,\n\n ?"
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/ExtendedVersion.interface.yaml",
                    "line": 8,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I'm having trouble deciding if this really belongs in this interface or if only specific implementations are going to support it anyhow and so it should be in a separate interface...\n\nWe should at least indicate that an empty string indicates there is no minimum?"
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/ExtendedVersion.interface.yaml",
                    "line": 8,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@us.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Yeah I see your point about this being optional. If we get more of these, we could revisit adding for example a dictionary of key value pairs for \"Optional\" version features such as \"Minimum : string\" etc.\nAdded the default of empty string for now."
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/ExtendedVersion.interface.yaml",
                    "line": 8,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@us.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Yeah, that'd be the SoftwareInventory Redfish property we could map it to. Updated the commit msg with this info."
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/ExtendedVersion.interface.yaml",
                    "line": 9,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "Is an app expected to do this check? Do we want something like \"This string is formatted using the same format used for the Version property\"?"
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/ExtendedVersion.interface.yaml",
                    "line": 9,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@us.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Done. Yeah the code update app checks via a provided regex that the min version matches the format of the version. Added the formatting expectation to the description as suggested."
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/ExtendedVersion.interface.yaml",
                    "line": 11,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "Anything about it being empty and that means no check is done?"
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/ExtendedVersion.interface.yaml",
                    "line": 11,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "Is a word like \"component\" more generic and, therefore, could apply to multiple things like bmc, host, and power supplies?\n\nThe minimum software version that a component must have to operate. An empty value means no minimum software version is required. This string is formatted using the same format used for the Version property."
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/ExtendedVersion.interface.yaml",
                    "line": 11,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@us.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Done. Yep, added."
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/ExtendedVersion.interface.yaml",
                    "line": 11,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@us.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Done. Yeah i think it makes sense especially given that the Incompatible error has component in its description: \"A system component has a software version that is incompatible...\"."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/ExtendedVersion.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 31,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "c340c8e06544d45d4ef9575b25001aaa7a6918b5",
            "parents": [
                "1c140b9766a15d1cbb8546fa02d5050d772a171d"
            ],
            "ref": "refs/changes/10/70110/2",
            "uploader": {
                "name": "Adriana Kobylak",
                "email": "anoo@us.ibm.com",
                "username": "anoo1"
            },
            "createdOn": 1710967792,
            "author": {
                "name": "Adriana Kobylak",
                "email": "anoo@us.ibm.com",
                "username": "anoo1"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "yaml/xyz/openbmc_project/Software/ExtendedVersion.interface.yaml",
                    "line": 8,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "I'm still a little uneasy about this being in the ExtendedVersion interface.\n\n1. Not all firmwares have an ExtendedVersion, so now we have to support empty ones of those too.\n2. Some software is \"multi-slot\".  This information is really related to the device and not the particular Version (slot).  Aren't we going to be repeating this?\n\nShould we get this added to the Software design to make sure everyone involved is on the same page?"
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/ExtendedVersion.interface.yaml",
                    "line": 8,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "I would be fine if this was a new MinimumVersion.interface.yaml."
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/ExtendedVersion.interface.yaml",
                    "line": 8,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@us.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Agree. Added the info to the README (https://gerrit.openbmc.org/c/openbmc/phosphor-dbus-interfaces/+/70244) and created a new interface, also posted in discord for anyone interested to weigh in."
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/ExtendedVersion.interface.yaml",
                    "line": 12,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "I would leave out \"system\" and just go with component, but I am okay with this as well."
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/ExtendedVersion.interface.yaml",
                    "line": 12,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Agree."
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/ExtendedVersion.interface.yaml",
                    "line": 12,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@us.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Done. Removed 'system'."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/ExtendedVersion.interface.yaml",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 36,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "826426965553d9ecaf4f2548f2e062fe83d8a923",
            "parents": [
                "caee46036290f45b3c98bffcf02d767508a1474c"
            ],
            "ref": "refs/changes/10/70110/3",
            "uploader": {
                "name": "Adriana Kobylak",
                "email": "anoo@us.ibm.com",
                "username": "anoo1"
            },
            "createdOn": 1711464096,
            "author": {
                "name": "Adriana Kobylak",
                "email": "anoo@us.ibm.com",
                "username": "anoo1"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "yaml/xyz/openbmc_project/Software/MinimumVersion.interface.yaml",
                    "line": 10,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "\"should be\" or \"shall be\".  Lets use formal language since this is a spec."
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/MinimumVersion.interface.yaml",
                    "line": 10,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Wouldn't we omit the interface if it is not available?"
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/MinimumVersion.interface.yaml",
                    "line": 10,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@us.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Done. Makes sense."
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/MinimumVersion.interface.yaml",
                    "line": 10,
                    "reviewer": {
                        "name": "Adriana Kobylak",
                        "email": "anoo@us.ibm.com",
                        "username": "anoo1"
                    },
                    "message": "Done. Ah yeah, that's no longer needed, removed the text and the default value, now it's the same as ExtendedVersion."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/MinimumVersion.interface.yaml",
                    "type": "ADDED",
                    "insertions": 11,
                    "deletions": 0
                },
                {
                    "file": "gen/xyz/openbmc_project/Software/MinimumVersion/meson.build",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "gen/xyz/openbmc_project/Software/meson.build",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 69,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "d48b1c196fb0fab02543c7b0f103e65647c4c08e",
            "parents": [
                "2562822fd3f92d5b1409ffd89a1d5e22958b1b5d"
            ],
            "ref": "refs/changes/10/70110/4",
            "uploader": {
                "name": "Adriana Kobylak",
                "email": "anoo@us.ibm.com",
                "username": "anoo1"
            },
            "createdOn": 1711565636,
            "author": {
                "name": "Adriana Kobylak",
                "email": "anoo@us.ibm.com",
                "username": "anoo1"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/MinimumVersion.interface.yaml",
                    "type": "ADDED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "gen/xyz/openbmc_project/Software/MinimumVersion/meson.build",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "gen/xyz/openbmc_project/Software/meson.build",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 67,
            "sizeDeletions": 0
        },
        {
            "number": 5,
            "revision": "9012243e543abdc5851b7e878c17c991b2a2a8b7",
            "parents": [
                "3cfcc9c0eb86954846daacb7a05e3293b9864659"
            ],
            "ref": "refs/changes/10/70110/5",
            "uploader": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "createdOn": 1712113862,
            "author": {
                "name": "Adriana Kobylak",
                "email": "anoo@us.ibm.com",
                "username": "anoo1"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                },
                {
                    "file": "yaml/xyz/openbmc_project/Software/MinimumVersion.interface.yaml",
                    "type": "ADDED",
                    "insertions": 9,
                    "deletions": 0
                },
                {
                    "file": "gen/xyz/openbmc_project/Software/MinimumVersion/meson.build",
                    "type": "ADDED",
                    "insertions": 15,
                    "deletions": 0
                },
                {
                    "file": "gen/xyz/openbmc_project/Software/meson.build",
                    "type": "MODIFIED",
                    "insertions": 15,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 67,
            "sizeDeletions": 0
        }
    ]
}