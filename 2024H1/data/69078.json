{
    "project": "openbmc/docs",
    "branch": "master",
    "id": "I89a229f7e5d904f8e573f09af6449d2d6a412940",
    "number": 69078,
    "subject": "hpe channel interface (chif) service",
    "owner": {
        "name": "aneyland-hpe",
        "email": "andrew.neyland@hpe.com",
        "username": "aneyland-hpe"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/docs/+/69078",
    "hashtags": [],
    "createdOn": 1706562052,
    "lastUpdated": 1706652714,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1706562052,
            "reviewer": {
                "name": "aneyland-hpe",
                "email": "andrew.neyland@hpe.com",
                "username": "aneyland-hpe"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1706562081,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1706562081,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1706562106,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/78488/ : FAILURE"
        },
        {
            "timestamp": 1706562132,
            "reviewer": {
                "name": "aneyland-hpe",
                "email": "andrew.neyland@hpe.com",
                "username": "aneyland-hpe"
            },
            "message": "Set Work In Progress"
        },
        {
            "timestamp": 1706567259,
            "reviewer": {
                "name": "aneyland-hpe",
                "email": "andrew.neyland@hpe.com",
                "username": "aneyland-hpe"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1706567317,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1706567317,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1706567340,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/78489/ : FAILURE"
        },
        {
            "timestamp": 1706567760,
            "reviewer": {
                "name": "aneyland-hpe",
                "email": "andrew.neyland@hpe.com",
                "username": "aneyland-hpe"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1706567822,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1706567822,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1706567851,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/78490/ : FAILURE"
        },
        {
            "timestamp": 1706568110,
            "reviewer": {
                "name": "aneyland-hpe",
                "email": "andrew.neyland@hpe.com",
                "username": "aneyland-hpe"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1706568136,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1706568136,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1706568158,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/78491/ : FAILURE"
        },
        {
            "timestamp": 1706568708,
            "reviewer": {
                "name": "aneyland-hpe",
                "email": "andrew.neyland@hpe.com",
                "username": "aneyland-hpe"
            },
            "message": "Patch Set 4:\n\nThis change is ready for review."
        },
        {
            "timestamp": 1706571269,
            "reviewer": {
                "name": "Zev Weiss",
                "email": "zev@bewilderbeest.net",
                "username": "zevweiss"
            },
            "message": "Patch Set 4:\n\n(10 comments)"
        },
        {
            "timestamp": 1706573905,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 4:\n\n(9 comments)"
        },
        {
            "timestamp": 1706629227,
            "reviewer": {
                "name": "aneyland-hpe",
                "email": "andrew.neyland@hpe.com",
                "username": "aneyland-hpe"
            },
            "message": "Set Work In Progress"
        },
        {
            "timestamp": 1706651660,
            "reviewer": {
                "name": "aneyland-hpe",
                "email": "andrew.neyland@hpe.com",
                "username": "aneyland-hpe"
            },
            "message": "Patch Set 4:\n\n(4 comments)\n\nThis change is ready for review."
        },
        {
            "timestamp": 1706652714,
            "reviewer": {
                "name": "aneyland-hpe",
                "email": "andrew.neyland@hpe.com",
                "username": "aneyland-hpe"
            },
            "message": "Set Work In Progress"
        }
    ],
    "wip": true,
    "patchSets": [
        {
            "number": 1,
            "revision": "631666446b3c69b79a7ca2f50f66ede2e51fb6ad",
            "parents": [
                "80f55a589d474e40cef0f9b6ee728098b8da159d"
            ],
            "ref": "refs/changes/78/69078/1",
            "uploader": {
                "name": "aneyland-hpe",
                "email": "andrew.neyland@hpe.com",
                "username": "aneyland-hpe"
            },
            "createdOn": 1706562052,
            "author": {
                "name": "aneyland-hpe",
                "email": "andrew.neyland@hpe.com",
                "username": "aneyland-hpe"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "type": "ADDED",
                    "insertions": 137,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 147,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "e890d297aa219135cd51b27ff83a0f9f583a6cb5",
            "parents": [
                "80f55a589d474e40cef0f9b6ee728098b8da159d"
            ],
            "ref": "refs/changes/78/69078/2",
            "uploader": {
                "name": "aneyland-hpe",
                "email": "andrew.neyland@hpe.com",
                "username": "aneyland-hpe"
            },
            "createdOn": 1706567259,
            "author": {
                "name": "aneyland-hpe",
                "email": "andrew.neyland@hpe.com",
                "username": "aneyland-hpe"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Hi Andrew (great name btw), I've provided some preliminary comments. I hope you don't mind \ud83d\ude0a"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "aneyland-hpe",
                        "email": "andrew.neyland@hpe.com",
                        "username": "aneyland-hpe"
                    },
                    "message": "Thanks, it was a birthday present! I appreciate all the preliminary comments you've made, I'll address your recommendations in the next iteration of the doc."
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "line": 24,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Do you have a link to the specification of the protocol and the BMC side of the hardware interface? They would be a great help in understanding the context for the proposal."
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "line": 24,
                    "reviewer": {
                        "name": "aneyland-hpe",
                        "email": "andrew.neyland@hpe.com",
                        "username": "aneyland-hpe"
                    },
                    "message": "I'm working to get a this information publicly available, I'll add a link to it when it's up."
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "line": 48,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "How applicable is this driver to the BMC side of the problem?\n\nAlso: perhaps it would be better to use a git.kernel.org link? e.g:\n\nhttps://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/misc/hpilo.c?h=v6.7\n\nFinally, markdown links don't need the angle brackets \ud83d\ude0a"
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "line": 54,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "This seems more like background than requirements ..."
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "line": 57,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "... and this seems more like a part of the proposal \ud83d\ude0a"
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "line": 66,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "These are requirements though \ud83d\ude0a However, do you have a link to the protocol specification?"
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "line": 78,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Do you have a prototype patch implementing this driver in the kernel? I think the primary concern is the shape of the userspace interfaces. The current proposal splits the design at the SMIF packet level. What other possibilities are there for the boundary between the kernel and userspace?\n\nThe options should be argued for in the proposed solution and against in the `Alternatives Considered` section."
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "line": 112,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Can you please add the TOF members as reviewers on this proposal?"
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "line": 119,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Quite a few \ud83d\ude0a\n\nCan you please review this list in the context of expectations laid out here:\n\nhttps://github.com/openbmc/docs/blob/master/community-membership.md#subproject-owner\n\nI suspect we should have a TOF member on the list as well."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "type": "ADDED",
                    "insertions": 137,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 147,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "4d62c351d600a633af5306b957625fefbb41de92",
            "parents": [
                "80f55a589d474e40cef0f9b6ee728098b8da159d"
            ],
            "ref": "refs/changes/78/69078/3",
            "uploader": {
                "name": "aneyland-hpe",
                "email": "andrew.neyland@hpe.com",
                "username": "aneyland-hpe"
            },
            "createdOn": 1706567760,
            "author": {
                "name": "aneyland-hpe",
                "email": "andrew.neyland@hpe.com",
                "username": "aneyland-hpe"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "type": "ADDED",
                    "insertions": 140,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 150,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "557f592cc0c1fdf9440334b0d3e13ccb284f109f",
            "parents": [
                "80f55a589d474e40cef0f9b6ee728098b8da159d"
            ],
            "ref": "refs/changes/78/69078/4",
            "uploader": {
                "name": "aneyland-hpe",
                "email": "andrew.neyland@hpe.com",
                "username": "aneyland-hpe"
            },
            "createdOn": 1706568110,
            "author": {
                "name": "aneyland-hpe",
                "email": "andrew.neyland@hpe.com",
                "username": "aneyland-hpe"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "line": 32,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "Does this just mean that the proposal in this document is only expected to be used HPE/GXP systems?  If so I think it could be worded more clearly (and also if not, since I'm not entirely sure what else it might mean)."
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "line": 34,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "Is all CHIF traffic SMIF messages, or are there other types of messages that might also need to be supported?"
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "line": 39,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "[Mostly-tangential curiosity:] Hmm, so the BMC's i2c layout is directly exposed to the host?  That seems a bit surprising based on the platforms I'm familiar with, and if the host needs that information I sort of wonder about potential security ramifications of what it might be doing with it..."
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "line": 48,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "How symmetric is the interface between the host & the BMC?  Is there any possibility of reusing that driver (or parts of it) on the BMC?"
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "line": 74,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "What's the relationship between SMIF messages and ROM requests here -- are they distinct, separate things, or is the latter a subset (particular type) of the former?"
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "line": 82,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "To clarify that the service isn't poking the bus directly, might this be more accurately described as something like \"decode received packets delivered by driver\"?"
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "line": 86,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "...and similarly, maybe \"via CHIF driver\" instead of \"on CHIF bus\" here?"
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "line": 108,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "If there's going to be an open-source implementation in upstream OpenBMC, is there any public documentation available for packet formats and such?"
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "line": 108,
                    "reviewer": {
                        "name": "aneyland-hpe",
                        "email": "andrew.neyland@hpe.com",
                        "username": "aneyland-hpe"
                    },
                    "message": "Thank you very much for all the useful feedback you've provided. I'm working to include the changes in the next iteration of the document and also get a supporting document available that details the SMIF packets."
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "line": 117,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "Surnames probably good to include?  (And maybe contact info like email addresses or discord handles too.)"
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "line": 121,
                    "reviewer": {
                        "name": "Zev Weiss",
                        "email": "zev@bewilderbeest.net",
                        "username": "zevweiss"
                    },
                    "message": "Nit: I think there's an apostrophe missing here."
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "line": 121,
                    "reviewer": {
                        "name": "aneyland-hpe",
                        "email": "andrew.neyland@hpe.com",
                        "username": "aneyland-hpe"
                    },
                    "message": "Grant has confirmed there is a missing apostrophe here and that he would like it reinstated in the next version"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                },
                {
                    "file": "designs/oem/hpe/CHIF-Service.md",
                    "type": "ADDED",
                    "insertions": 140,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 150,
            "sizeDeletions": 0
        }
    ]
}