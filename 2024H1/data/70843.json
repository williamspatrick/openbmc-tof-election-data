{
    "project": "openbmc/phosphor-nvme",
    "branch": "master",
    "id": "I805a3b3748070d5b220f3d71aa93812f852a964d",
    "number": 70843,
    "subject": "nvme_manager: support status flag check",
    "owner": {
        "name": "Joseph Fu",
        "email": "joseph.fu@quantatw.com",
        "username": "JosephFu1023"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-nvme/+/70843",
    "hashtags": [],
    "createdOn": 1713250609,
    "lastUpdated": 1713522449,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1713250609,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1713250649,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1713250649,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1713250667,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/82806/ : FAILURE"
        },
        {
            "timestamp": 1713250768,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1713250799,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1713250799,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1713250849,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/82807/ : SUCCESS"
        },
        {
            "timestamp": 1713253385,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 2: Code-Review+1\n\n(2 comments)"
        },
        {
            "timestamp": 1713266533,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1713266566,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1713266566,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1713266645,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/82814/ : FAILURE"
        },
        {
            "timestamp": 1713266646,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1713266933,
            "reviewer": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "message": "Uploaded patch set 4: Commit message was updated.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1713266985,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1713266985,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1713267036,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/82815/ : SUCCESS"
        },
        {
            "timestamp": 1713286485,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Patch Set 4: Code-Review+2\n\n(2 comments)"
        },
        {
            "timestamp": 1713286535,
            "reviewer": {
                "name": "Brandon Kim",
                "email": "brandonkim@google.com",
                "username": "brandonkimbk"
            },
            "message": "Change has been successfully merged"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "ab118f28f79a5b69385a4d01bdec0c1f66808d81",
            "parents": [
                "ab6d79bb1c8f9431e215f2de73ff6ce4e0378f72"
            ],
            "ref": "refs/changes/43/70843/1",
            "uploader": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "createdOn": 1713250609,
            "author": {
                "name": "Joseph.Fu",
                "email": "Joseph.Fu@quantatw.com",
                "username": ""
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "nvme_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 11,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 40,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "a8698a6a5453492eb390aa1d6dfd1025826f5e77",
            "parents": [
                "ab6d79bb1c8f9431e215f2de73ff6ce4e0378f72"
            ],
            "ref": "refs/changes/43/70843/2",
            "uploader": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "createdOn": 1713250768,
            "author": {
                "name": "Joseph.Fu",
                "email": "Joseph.Fu@quantatw.com",
                "username": ""
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "nvme_manager.cpp",
                    "line": 47,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "We should use the \"Mask\" format as above at line 39, etc. so it's easier to read that it's \"bit 5\" according to the spec."
                },
                {
                    "file": "nvme_manager.cpp",
                    "line": 47,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Since this should be part of the NVMe spec (thus, we can waive some testing required here given that all drives SHOULD be following it) - could you make it more explicit with the spec we can find it in / page?"
                },
                {
                    "file": "nvme_manager.cpp",
                    "line": 47,
                    "reviewer": {
                        "name": "Joseph Fu",
                        "email": "joseph.fu@quantatw.com",
                        "username": "JosephFu1023"
                    },
                    "message": "Hi Brandon, the \"Drive Not Ready\" bit is defined in Figure 176 on page 155 of the NVMe specification (https://nvmexpress.org/wp-content/uploads/NVM-Express-Management-Interface-Specification-1.2c-2022.10.06-Ratified-1.pdf)"
                },
                {
                    "file": "nvme_manager.cpp",
                    "line": 47,
                    "reviewer": {
                        "name": "Joseph Fu",
                        "email": "joseph.fu@quantatw.com",
                        "username": "JosephFu1023"
                    },
                    "message": "Done. I've updated this parameter."
                },
                {
                    "file": "nvme_manager.cpp",
                    "line": 47,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Thanks - inline comment at the code site would be better, but this is recorded in the commit message and the mask is fairly clear so I'm ok with it \ud83d\ude0a"
                },
                {
                    "file": "nvme_manager.cpp",
                    "line": 47,
                    "reviewer": {
                        "name": "Brandon Kim",
                        "email": "brandonkim@google.com",
                        "username": "brandonkimbk"
                    },
                    "message": "Ah sorry, almost confused you and myself with my comment about bit 5, looks like it's correctly bit 6. Thanks!"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "nvme_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 41,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "e0d3ca068437d4cd1592c7efadd2d00826abc6fb",
            "parents": [
                "ab6d79bb1c8f9431e215f2de73ff6ce4e0378f72"
            ],
            "ref": "refs/changes/43/70843/3",
            "uploader": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "createdOn": 1713266533,
            "author": {
                "name": "Joseph.Fu",
                "email": "Joseph.Fu@quantatw.com",
                "username": ""
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "nvme_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 43,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "097562e751d5cd9bf221fa8212cf40a7ea468c3f",
            "parents": [
                "ab6d79bb1c8f9431e215f2de73ff6ce4e0378f72"
            ],
            "ref": "refs/changes/43/70843/4",
            "uploader": {
                "name": "Joseph Fu",
                "email": "joseph.fu@quantatw.com",
                "username": "JosephFu1023"
            },
            "createdOn": 1713266933,
            "author": {
                "name": "Joseph.Fu",
                "email": "Joseph.Fu@quantatw.com",
                "username": ""
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 33,
                    "deletions": 0
                },
                {
                    "file": "nvme_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 45,
            "sizeDeletions": 0
        }
    ]
}