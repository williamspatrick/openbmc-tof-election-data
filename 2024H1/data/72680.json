{
    "project": "openbmc/phosphor-state-manager",
    "branch": "master",
    "id": "I728c9745470030853c4ef16d05d086431c58b63f",
    "number": 72680,
    "subject": "meta-facebook: yosemite4: BMC reboot event",
    "owner": {
        "name": "Patrick NC Lin",
        "email": "patrick.nc.lin.wiwynn@gmail.com",
        "username": "PatrickLinww"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/phosphor-state-manager/+/72680",
    "hashtags": [],
    "createdOn": 1721353823,
    "lastUpdated": 1722377688,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1721353823,
            "reviewer": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1721353836,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1721353836,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1721353853,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/88330/ : FAILURE"
        },
        {
            "timestamp": 1721354260,
            "reviewer": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "message": "Patch Set 1:\n\nThis change is ready for review."
        },
        {
            "timestamp": 1721702971,
            "reviewer": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "message": "Patch Set 2: Commit message was updated.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1721703008,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1721703008,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1721703026,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/88456/ : FAILURE"
        },
        {
            "timestamp": 1721719476,
            "reviewer": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "message": "Patch Set 3: Commit message was updated.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1721719520,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1721719520,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1721719604,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/88483/ : FAILURE"
        },
        {
            "timestamp": 1721725273,
            "reviewer": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "message": "Uploaded patch set 4.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1721725330,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1721725330,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1721725350,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/88490/ : FAILURE"
        },
        {
            "timestamp": 1721725596,
            "reviewer": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "message": "Uploaded patch set 5: New patch set was added with same tree, parent tree, and commit message as Patch Set 4.\n\nCopied Votes:\n* Verified-1 (copy condition: \"**changekind:NO_CHANGE**\")\n"
        },
        {
            "timestamp": 1721725675,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1721725675,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1721725692,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5:\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/88492/ : FAILURE"
        },
        {
            "timestamp": 1721725870,
            "reviewer": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "message": "Uploaded patch set 6.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1721725934,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1721725935,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1721726268,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/88493/ : FAILURE"
        },
        {
            "timestamp": 1721726941,
            "reviewer": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "message": "Uploaded patch set 7.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1721727005,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1721727005,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1721727392,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/88494/ : SUCCESS"
        },
        {
            "timestamp": 1722216738,
            "reviewer": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "message": "Set Ready For Review"
        },
        {
            "timestamp": 1722377688,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 7: Code-Review-2\n\n(4 comments)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "b5fe882dc146939464926da69d9f68cbdf146f76",
            "parents": [
                "d7a15cb133501eea0d76c66ffa83c987c3e7adb0"
            ],
            "ref": "refs/changes/80/72680/1",
            "uploader": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "createdOn": 1721353823,
            "author": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 98,
                    "deletions": 0
                },
                {
                    "file": "bmc_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 84,
                    "deletions": 0
                },
                {
                    "file": "bmc_state_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 188,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "6d1940024ff2a5f9c79fc6f985713b3ce297f76b",
            "parents": [
                "d7a15cb133501eea0d76c66ffa83c987c3e7adb0"
            ],
            "ref": "refs/changes/80/72680/2",
            "uploader": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "createdOn": 1721702971,
            "author": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 92,
                    "deletions": 0
                },
                {
                    "file": "bmc_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 84,
                    "deletions": 0
                },
                {
                    "file": "bmc_state_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 182,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "c4b9b807b7e5af53981b161ad79d32a89756e31e",
            "parents": [
                "d7a15cb133501eea0d76c66ffa83c987c3e7adb0"
            ],
            "ref": "refs/changes/80/72680/3",
            "uploader": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "createdOn": 1721719476,
            "author": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 96,
                    "deletions": 0
                },
                {
                    "file": "bmc_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 84,
                    "deletions": 0
                },
                {
                    "file": "bmc_state_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 186,
            "sizeDeletions": 0
        },
        {
            "number": 4,
            "revision": "d1c474d22314e637ea87325cb50043a7d271579b",
            "parents": [
                "d7a15cb133501eea0d76c66ffa83c987c3e7adb0"
            ],
            "ref": "refs/changes/80/72680/4",
            "uploader": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "createdOn": 1721725273,
            "author": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 97,
                    "deletions": 0
                },
                {
                    "file": "bmc_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 88,
                    "deletions": 0
                },
                {
                    "file": "bmc_state_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 192,
            "sizeDeletions": 1
        },
        {
            "number": 5,
            "revision": "bfcf235782e27fdf1dba287be53ff6c0807d54c1",
            "parents": [
                "d7a15cb133501eea0d76c66ffa83c987c3e7adb0"
            ],
            "ref": "refs/changes/80/72680/5",
            "uploader": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "createdOn": 1721725596,
            "author": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "kind": "NO_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 97,
                    "deletions": 0
                },
                {
                    "file": "bmc_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 88,
                    "deletions": 0
                },
                {
                    "file": "bmc_state_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 7,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 192,
            "sizeDeletions": 1
        },
        {
            "number": 6,
            "revision": "572e4a551fc5ee98d5a709806b0ba8ef15da517f",
            "parents": [
                "d7a15cb133501eea0d76c66ffa83c987c3e7adb0"
            ],
            "ref": "refs/changes/80/72680/6",
            "uploader": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "createdOn": 1721725870,
            "author": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 97,
                    "deletions": 0
                },
                {
                    "file": "bmc_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 88,
                    "deletions": 0
                },
                {
                    "file": "bmc_state_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 191,
            "sizeDeletions": 0
        },
        {
            "number": 7,
            "revision": "173748fce763cedc66cfdf6afb5ff6685866b1c4",
            "parents": [
                "d7a15cb133501eea0d76c66ffa83c987c3e7adb0"
            ],
            "ref": "refs/changes/80/72680/7",
            "uploader": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "createdOn": 1721726941,
            "author": {
                "name": "Patrick NC Lin",
                "email": "patrick.nc.lin.wiwynn@gmail.com",
                "username": "PatrickLinww"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 7,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "This is not a commit in openbmc/openbmc.  I _think_ you want this commit to apply everywhere.  By adding \"meta-facebook\" you probably hit the maintainer's email filter and he'll never see this commit."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "A few major issues with this commit which make it inappropriate in its current state."
                },
                {
                    "file": "bmc_state_manager.cpp",
                    "line": 54,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "We cannot put AST2600-specific code into a common daemon.  Plus, this code only works for people who enabled `devmem` which is a big security gap and should not be standard behavior for most systems.\n\nI think what you need to do here is extend the watchdog driver to expose this information.  My understanding is that Nuvoton does this already."
                },
                {
                    "file": "bmc_state_manager.cpp",
                    "line": 311,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "We should not be adding random printf-style events to phosphor-logging (especially not in general code).  \n\nOnce https://gerrit.openbmc.org/c/openbmc/docs/+/71489 is implemented you can define a new event in phosphor-dbus-interfaces and leverage that here."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 97,
                    "deletions": 0
                },
                {
                    "file": "bmc_state_manager.cpp",
                    "type": "MODIFIED",
                    "insertions": 88,
                    "deletions": 0
                },
                {
                    "file": "bmc_state_manager.hpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 191,
            "sizeDeletions": 0
        }
    ]
}