{
    "project": "openbmc/dbus-sensors",
    "branch": "master",
    "id": "I15ca9440546d85190dd67a2f60c1b51f1a103b83",
    "number": 68534,
    "subject": "Only handle `PropertyChanged` of `Present` property",
    "owner": {
        "name": "Thu Nguyen",
        "email": "thu@os.amperecomputing.com",
        "username": "ThuBaNguyen"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/dbus-sensors/+/68534",
    "hashtags": [],
    "createdOn": 1703732855,
    "lastUpdated": 1714166188,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1703732855,
            "reviewer": {
                "name": "Thu Nguyen",
                "email": "thu@os.amperecomputing.com",
                "username": "ThuBaNguyen"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1703732914,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1703732914,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1703733166,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/77395/ : SUCCESS"
        },
        {
            "timestamp": 1703733371,
            "reviewer": {
                "name": "Thu Nguyen",
                "email": "thu@os.amperecomputing.com",
                "username": "ThuBaNguyen"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1706565410,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1706582854,
            "reviewer": {
                "name": "Thu Nguyen",
                "email": "thu@os.amperecomputing.com",
                "username": "ThuBaNguyen"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1706721635,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1713937789,
            "reviewer": {
                "name": "Thang Tran",
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "message": "Uploaded patch set 2: Patch Set 1 was rebased.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1713937812,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1713937813,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1713938149,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/83305/ : SUCCESS"
        },
        {
            "timestamp": 1713942840,
            "reviewer": {
                "name": "Thang Tran",
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "message": "Uploaded patch set 3: Commit message was updated.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1713942859,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1713942859,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1713942938,
            "reviewer": {
                "name": "Thang Tran",
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1713943145,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/83318/ : SUCCESS"
        },
        {
            "timestamp": 1714166188,
            "reviewer": {
                "name": "Zhikui Ren",
                "email": "zhikui.ren@intel.com",
                "username": "ZhikuiRen"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "5e5b11892f9f462c7cc4ee8b6822c60d7115550d",
            "parents": [
                "4cfa64f53967b31c6a200fadf5e2b1ecfc6bd6ca"
            ],
            "ref": "refs/changes/34/68534/1",
            "uploader": {
                "name": "Thu Nguyen",
                "email": "thu@os.amperecomputing.com",
                "username": "ThuBaNguyen"
            },
            "createdOn": 1703732855,
            "author": {
                "name": "Thu Nguyen",
                "email": "thu@os.amperecomputing.com",
                "username": "ThuBaNguyen"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "Test done?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Thu Nguyen",
                        "email": "thu@os.amperecomputing.com",
                        "username": "ThuBaNguyen"
                    },
                    "message": "Yes, I tested with Ampere systems."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "Please add to commit message, see detail: https://github.com/openbmc/docs/blob/master/CONTRIBUTING.md#testing"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Thang Tran",
                        "email": "thuutran@amperecomputing.com",
                        "username": "thangtran-ampere"
                    },
                    "message": "I added the Test result to commit message, thank for your comments"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Thu Nguyen",
                        "email": "thu@os.amperecomputing.com",
                        "username": "ThuBaNguyen"
                    },
                    "message": "```\nbusctl introspect xyz.openbmc_project.Smbios.MDR_V2 /xyz/openbmc_project/inventory/system/chassis/motherboard/cpu0\nNAME                                                  TYPE      SIGNATURE RESULT/VALUE                             FLAGS\norg.freedesktop.DBus.Introspectable                   interface -         -                                        -\n.Introspect                                           method    -         s                                        -\norg.freedesktop.DBus.Peer                             interface -         -                                        -\n.GetMachineId                                         method    -         s                                        -\n.Ping                                                 method    -         -                                        -\norg.freedesktop.DBus.Properties                       interface -         -                                        -\n.Get                                                  method    ss        v                                        -\n.GetAll                                               method    s         a{sv}                                    -\n.Set                                                  method    ssv       -                                        -\n.PropertiesChanged                                    signal    sa{sv}as  -                                        -\nxyz.openbmc_project.Association.Definitions           interface -         -                                        -\n.Associations                                         property  a(sss)    1 \"chassis\" \"processors\" \"/xyz/openbm... emits-change writable\nxyz.openbmc_project.Inventory.Connector.Slot          interface -         -                                        -\nxyz.openbmc_project.Inventory.Decorator.Asset         interface -         -                                        -\n.BuildDate                                            property  s         \"\"                                       emits-change writable\n.Manufacturer                                         property  s         \"Ampere(R)\"                              emits-change writable\n.Model                                                property  s         \"\"                                       emits-change writable\n.PartNumber                                           property  s         \"XXXX-XX\"                                emits-change writable\n.SerialNumber                                         property  s         \"000000000000000081570702033861DC\"       emits-change writable\n.SparePartNumber                                      property  s         \"\"                                       emits-change writable\n.SubModel                                             property  s         \"\"                                       emits-change writable\nxyz.openbmc_project.Inventory.Decorator.LocationCode  interface -         -                                        -\n.LocationCode                                         property  s         \"CPU01\"                                  emits-change writable\nxyz.openbmc_project.Inventory.Item                    interface -         -                                        -\n.Present                                              property  b         true                                     emits-change writable\n.PrettyName                                           property  s         \"\"                                       emits-change writable\nxyz.openbmc_project.Inventory.Item.Cpu                interface -         -                                        -\n.Characteristics                                      property  as        5 \"xyz.openbmc_project.Inventory.Item... emits-change writable\n.CoreCount                                            property  q         0                                        emits-change writable\n.EffectiveFamily                                      property  q         0                                        emits-change writable\n.EffectiveModel                                       property  q         0                                        emits-change writable\n.Family                                               property  s         \"ABCDE\"                                  emits-change writable\n.Id                                                   property  t         0                                        emits-change writable\n.MaxSpeedInMhz                                        property  u         0                                        emits-change writable\n.Microcode                                            property  u         0                                        emits-change writable\n.Socket                                               property  s         \"CPU01\"                                  emits-change writable\n.Step                                                 property  q         0                                        emits-change writable\n.ThreadCount                                          property  q         0                                        emits-change writable\nxyz.openbmc_project.State.Decorator.OperationalStatus interface -         -                                        -\n.Functional                                           property  b         true                                     emits-change writable\n```\nAbove is the interfaces of CPU from SMBios service."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "src/ADCSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 24,
            "sizeDeletions": 5
        },
        {
            "number": 2,
            "revision": "ee3164213be994748cc8edce89e29bd4c0755375",
            "parents": [
                "a9c1bec4de191352b9c681bb60c6439ac50a483b"
            ],
            "ref": "refs/changes/34/68534/2",
            "uploader": {
                "name": "Thang Tran",
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "createdOn": 1713937789,
            "author": {
                "name": "Thu Nguyen",
                "email": "thu@os.amperecomputing.com",
                "username": "ThuBaNguyen"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "src/ADCSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 24,
            "sizeDeletions": 5
        },
        {
            "number": 3,
            "revision": "7767edefdc04d30a5d34f6b7b629a2e1645bab27",
            "parents": [
                "a9c1bec4de191352b9c681bb60c6439ac50a483b"
            ],
            "ref": "refs/changes/34/68534/3",
            "uploader": {
                "name": "Thang Tran",
                "email": "thuutran@amperecomputing.com",
                "username": "thangtran-ampere"
            },
            "createdOn": 1713942840,
            "author": {
                "name": "Thu Nguyen",
                "email": "thu@os.amperecomputing.com",
                "username": "ThuBaNguyen"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "https://gerrit.openbmc.org/c/openbmc/dbus-sensors/+/71090 covers this change , it also improves the CPU present detection feature by creating a common function for all sensor services to use.\n\n+1 this review since change is straightforward and does fix some of the existing issues."
                },
                {
                    "file": "src/ADCSensorMain.cpp",
                    "line": 386,
                    "reviewer": {
                        "name": "Zhikui Ren",
                        "email": "zhikui.ren@intel.com",
                        "username": "ZhikuiRen"
                    },
                    "message": "why this change is needed?"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 33,
                    "deletions": 0
                },
                {
                    "file": "src/ADCSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -4
                },
                {
                    "file": "src/PSUSensorMain.cpp",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 43,
            "sizeDeletions": 5
        }
    ]
}