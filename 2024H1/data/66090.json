{
    "project": "openbmc/libpeci",
    "branch": "master",
    "id": "Id27754ed1cccf052f0b6407e155b2ce9d1e5b618",
    "number": 66090,
    "subject": "Fix for invalid data output in case of PECI failure",
    "owner": {
        "name": "Meghan Saitwal",
        "email": "meghan.saitwal@intel.com",
        "username": "msaitwal"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/libpeci/+/66090",
    "hashtags": [],
    "createdOn": 1692287008,
    "lastUpdated": 1704787900,
    "open": false,
    "status": "ABANDONED",
    "comments": [
        {
            "timestamp": 1692287008,
            "reviewer": {
                "name": "Meghan Saitwal",
                "email": "meghan.saitwal@intel.com",
                "username": "msaitwal"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1692287066,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1692287066,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1692287290,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/73088/ : SUCCESS"
        },
        {
            "timestamp": 1692288481,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 1: Code-Review-1\n\n(1 comment)"
        },
        {
            "timestamp": 1692288560,
            "reviewer": {
                "name": "AppaRao Puli",
                "email": "apparao.puli@linux.intel.com",
                "username": "apuli1"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1692290870,
            "reviewer": {
                "name": "Meghan Saitwal",
                "email": "meghan.saitwal@intel.com",
                "username": "msaitwal"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1692291052,
            "reviewer": {
                "name": "Meghan Saitwal",
                "email": "meghan.saitwal@intel.com",
                "username": "msaitwal"
            },
            "message": "Uploaded patch set 2: Commit message was updated.\n\nCopied Votes:\n* Code-Review-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1692291061,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1692291061,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1692291094,
            "reviewer": {
                "name": "Meghan Saitwal",
                "email": "meghan.saitwal@intel.com",
                "username": "msaitwal"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1692291222,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/73100/ : SUCCESS"
        },
        {
            "timestamp": 1692291261,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 2: Code-Review-1\n\n(1 comment)"
        },
        {
            "timestamp": 1704787900,
            "reviewer": {
                "name": "Meghan Saitwal",
                "email": "meghan.saitwal@intel.com",
                "username": "msaitwal"
            },
            "message": "Abandoned\n\nNo need of theses changes now. Issue is fixed in linux driver."
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "d48ddf46698c8906df3507fe4c06bd42832df13e",
            "parents": [
                "97ee23bc075c4f354ed3e57eae3f8f5817aabd71"
            ],
            "ref": "refs/changes/90/66090/1",
            "uploader": {
                "name": "Meghan Saitwal",
                "email": "meghan.saitwal@intel.com",
                "username": "msaitwal"
            },
            "createdOn": 1692287008,
            "author": {
                "name": "Meghan Saitwal",
                "email": "meghan.saitwal@intel.com",
                "username": "msaitwal"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "AppaRao Puli",
                        "email": "apparao.puli@linux.intel.com",
                        "username": "apuli1"
                    },
                    "message": "Missing \"Tested\" section and unit test results."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "Meghan Saitwal",
                        "email": "meghan.saitwal@intel.com",
                        "username": "msaitwal"
                    },
                    "message": "Added tested section."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "There are other PECI completion codes for which the data is valid.  This will cause us to lose data in those cases.\n\nWhat is the harm in showing data for the invalid cases?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Meghan Saitwal",
                        "email": "meghan.saitwal@intel.com",
                        "username": "msaitwal"
                    },
                    "message": "For ex, we are getting 0x90 as CC and data as zero. End user might get confused and treat zero as valid data and may perform actions based on that. \n\nCould you please explain on PECI CC with valid data other than 0x40? Is end user will be benefited with it?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "The main one is 0x94, and users will want data for that code.  The consumer of the data should know that 0x90 indicates that the data is not valid.  The CPU can provide data under various return codes, so it will be difficult to maintain a valid list here."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 14,
                    "deletions": 0
                },
                {
                    "file": "peci_cmds.c",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 42,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "51855fd49e591d51dc88c0907c8e04b429ef4a0b",
            "parents": [
                "97ee23bc075c4f354ed3e57eae3f8f5817aabd71"
            ],
            "ref": "refs/changes/90/66090/2",
            "uploader": {
                "name": "Meghan Saitwal",
                "email": "meghan.saitwal@intel.com",
                "username": "msaitwal"
            },
            "createdOn": 1692291052,
            "author": {
                "name": "Meghan Saitwal",
                "email": "meghan.saitwal@intel.com",
                "username": "msaitwal"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 18,
                    "deletions": 0
                },
                {
                    "file": "peci_cmds.c",
                    "type": "MODIFIED",
                    "insertions": 28,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 46,
            "sizeDeletions": 0
        }
    ]
}