{
    "project": "openbmc/x86-power-control",
    "branch": "master",
    "topic": "x86-power-contol-fixup",
    "id": "Id8b42d2085f44418e02a7f52836cc1a6f55f50db",
    "number": 50232,
    "subject": "refactor power restore controller",
    "owner": {
        "name": "Andrei Kartashev",
        "email": "a.kartashev@yadro.com",
        "username": "alatarum"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/x86-power-control/+/50232",
    "hashtags": [],
    "createdOn": 1641722125,
    "lastUpdated": 1708337739,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1641722125,
            "reviewer": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1641722134,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1641722134,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1641722158,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/35121/ : FAILURE"
        },
        {
            "timestamp": 1641723055,
            "reviewer": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "message": "Uploaded patch set 2."
        },
        {
            "timestamp": 1641723074,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1641723074,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1641723244,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/35122/ : SUCCESS"
        },
        {
            "timestamp": 1642029225,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 2:\n\n(4 comments)"
        },
        {
            "timestamp": 1642062433,
            "reviewer": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1642203849,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1642233942,
            "reviewer": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "message": "Set Work In Progress"
        },
        {
            "timestamp": 1644087490,
            "reviewer": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1644087513,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1644087518,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1644087534,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/36645/ : FAILURE"
        },
        {
            "timestamp": 1644087537,
            "reviewer": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "message": "Patch Set 3:\n\n(4 comments)\n\nThis change is ready for review."
        },
        {
            "timestamp": 1644087640,
            "reviewer": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1644087653,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1644087653,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1644087832,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/36646/ : SUCCESS"
        },
        {
            "timestamp": 1645739519,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 4:\n\n(4 comments)"
        },
        {
            "timestamp": 1648539347,
            "reviewer": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1648758307,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Uploaded patch set 5."
        },
        {
            "timestamp": 1648758323,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1648758323,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1648758504,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/40267/ : SUCCESS"
        },
        {
            "timestamp": 1648802474,
            "reviewer": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "message": "Patch Set 5: Code-Review+1"
        },
        {
            "timestamp": 1648847569,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 5: Code-Review+2"
        },
        {
            "timestamp": 1649059303,
            "reviewer": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1649085943,
            "reviewer": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1649086981,
            "reviewer": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1649178560,
            "reviewer": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "message": "Change has been successfully rebased and submitted as 99e8f9dfe6ed99e201f5920c512587fe3af3cdb9"
        },
        {
            "timestamp": 1708337739,
            "reviewer": {
                "name": "Kuiying Wang",
                "email": "wangkuiying.wky@alibaba-inc.com",
                "username": "kuiyingw"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "bac612c555a1a960f0438b187df51c10df35bcc3",
            "parents": [
                "9677e28870d39cf7a64f12ef08bb277ca29287e1"
            ],
            "ref": "refs/changes/32/50232/1",
            "uploader": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "createdOn": 1641722125,
            "author": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "src/power_control.hpp",
                    "type": "MODIFIED",
                    "insertions": 75,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "src/power_control.cpp",
                    "type": "MODIFIED",
                    "insertions": 243,
                    "deletions": -237
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 351,
            "sizeDeletions": 238
        },
        {
            "number": 2,
            "revision": "4370b2a2d9436014a40a5e02a3b46dee2ffaa591",
            "parents": [
                "9677e28870d39cf7a64f12ef08bb277ca29287e1"
            ],
            "ref": "refs/changes/32/50232/2",
            "uploader": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "createdOn": 1641723055,
            "author": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 21,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "typo: verify"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 21,
                    "reviewer": {
                        "name": "Andrei Kartashev",
                        "email": "a.kartashev@yadro.com",
                        "username": "alatarum"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/power_control.cpp",
                    "line": 902,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "With InterfacesAdded supported, I don't think you need to match on PropertiesChanged anymore."
                },
                {
                    "file": "src/power_control.cpp",
                    "line": 902,
                    "reviewer": {
                        "name": "Andrei Kartashev",
                        "email": "a.kartashev@yadro.com",
                        "username": "alatarum"
                    },
                    "message": "Right, we are not going to catch changes of this properties, will remove."
                },
                {
                    "file": "src/power_control.cpp",
                    "line": 902,
                    "reviewer": {
                        "name": "Andrei Kartashev",
                        "email": "a.kartashev@yadro.com",
                        "username": "alatarum"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/power_control.cpp",
                    "line": 1003,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "I think this case should be handled in the delay calculations below, so you may not need to check it as a special case here."
                },
                {
                    "file": "src/power_control.cpp",
                    "line": 1003,
                    "reviewer": {
                        "name": "Andrei Kartashev",
                        "email": "a.kartashev@yadro.com",
                        "username": "alatarum"
                    },
                    "message": "Done"
                },
                {
                    "file": "src/power_control.cpp",
                    "line": 1049,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "Could it be simplified if the powerRestoreTimer is only started once it is read to invoke?  That may let you avoid tracking the TimerState and directly call invoke() after the timer expires."
                },
                {
                    "file": "src/power_control.cpp",
                    "line": 1049,
                    "reviewer": {
                        "name": "Andrei Kartashev",
                        "email": "a.kartashev@yadro.com",
                        "username": "alatarum"
                    },
                    "message": "Do we really need this timer even if delay is not set? I don't want to run it at all in this case.\nIf you think it worth, I can return old logic here."
                },
                {
                    "file": "src/power_control.cpp",
                    "line": 1049,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "I'm fine either way.  In my testing the timer of delay 0 worked and allowed the same logic to always run, so the code was simpler.  However, I'm okay if you want to check if no delay is set since that is the majority case and could be handled separately.\n\nAnother option would be to check for a delay of 0 just before starting the timer after all the calculations are done.  Then it will skip the timer any time it is not needed."
                },
                {
                    "file": "src/power_control.cpp",
                    "line": 1049,
                    "reviewer": {
                        "name": "Andrei Kartashev",
                        "email": "a.kartashev@yadro.com",
                        "username": "alatarum"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 27,
                    "deletions": 0
                },
                {
                    "file": "src/power_control.hpp",
                    "type": "MODIFIED",
                    "insertions": 75,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "src/power_control.cpp",
                    "type": "MODIFIED",
                    "insertions": 243,
                    "deletions": -237
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 351,
            "sizeDeletions": 238
        },
        {
            "number": 3,
            "revision": "86a178ad0692c2c8fbd78031b4bbd023745e407c",
            "parents": [
                "3efcf37b33a73fbf0662a9b148a5fbdca2f81dce"
            ],
            "ref": "refs/changes/32/50232/3",
            "uploader": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "createdOn": 1644087490,
            "author": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "src/power_control.hpp",
                    "type": "MODIFIED",
                    "insertions": 69,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "src/power_control.cpp",
                    "type": "MODIFIED",
                    "insertions": 230,
                    "deletions": -237
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 336,
            "sizeDeletions": 238
        },
        {
            "number": 4,
            "revision": "0d92ac730a97cca9cba78fcfc0f159f5ea48afda",
            "parents": [
                "3efcf37b33a73fbf0662a9b148a5fbdca2f81dce"
            ],
            "ref": "refs/changes/32/50232/4",
            "uploader": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "createdOn": 1644087640,
            "author": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "This is looking good.  However, I tested it, and it did not work correctly with ACBoot support.\n\nI was wrong about removing the PropertiesChanged match for ACBoot.  ACBoot starts as \"Unknown\" and is set to \"True\" or \"False\" by another script, so if power-control starts before the script runs, it will start with \"Unknown\" and needs to monitor PropertiesChanged to know if it changes to \"True\".\n\nHere is the diff of the changes I made to get it working with ACBoot.  Please let me know if it's easier, and I can directly update this review with the changes.\ndiff --git a/src/power_control.cpp b/src/power_control.cpp\nindex 26a32c2..ce98150 100644\n--- a/src/power_control.cpp\n+++ b/src/power_control.cpp\n@@ -931,6 +931,11 @@ void PowerRestoreController::run()\n                                  match_rules::argNpath(0, powerACBootObject) +\n                                  match_rules::sender(setingsService),\n                              powerRestoreConfigHandler, this);\n+        matches.emplace_back(*conn,\n+                             match_rules::propertiesChanged(powerACBootObject,\n+                                                            powerACBootIface) +\n+                                 match_rules::sender(setingsService),\n+                             powerRestoreConfigHandler, this);\n #endif // USE_ACBOOT\n     }\n\n@@ -1010,7 +1015,7 @@ void PowerRestoreController::invokeIfReady()\n         return;\n     }\n #ifdef USE_ACBOOT\n-    if (acBoot.empty())\n+    if (acBoot.empty() || acBoot == \"Unknown\")\n     {\n         return;\n     }\n@@ -1072,14 +1077,6 @@ void PowerRestoreController::invoke()\n         return;\n     }\n     policyInvoked = true;\n-#ifdef USE_ACBOOT\n-    if (acBoot != \"True\")\n-    {\n-        lg2::info(\"AC Boot set to {ACBOOT}, skipping Power Restore Policy\",\n-                  \"ACBOOT\", acBoot);\n-        return;\n-    }\n-#endif\n     lg2::info(\"Invoking Power Restore Policy {POLICY}\", \"POLICY\",\n               powerRestorePolicy);\n     if (powerRestorePolicy ==\n"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrei Kartashev",
                        "email": "a.kartashev@yadro.com",
                        "username": "alatarum"
                    },
                    "message": "Sorry for late response, I miss you reply.\nI will try to update change later this week, but I also don't mind if you submit update directly."
                },
                {
                    "file": "src/power_control.cpp",
                    "line": 903,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "I was wrong.  ACBoot still requires the match on PropertiesChanged as it doesn't start up in the correct state.  Please add it back (sorry for the thrash)."
                },
                {
                    "file": "src/power_control.cpp",
                    "line": 983,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "We don't want to invoke the power restore policy if ACBoot is still \"Unknown\".  Please change this to\nif (acBoot.empty() || acBoot == \"Unknown\")"
                },
                {
                    "file": "src/power_control.cpp",
                    "line": 1052,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "We need to wait for ACBoot to become \"True\" before invoking the power restore policy, so this check can be removed."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "src/power_control.hpp",
                    "type": "MODIFIED",
                    "insertions": 68,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "src/power_control.cpp",
                    "type": "MODIFIED",
                    "insertions": 230,
                    "deletions": -237
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 335,
            "sizeDeletions": 238
        },
        {
            "number": 5,
            "revision": "c4762423c77cfe65600e1bc7d2171d98120dff0d",
            "parents": [
                "3efcf37b33a73fbf0662a9b148a5fbdca2f81dce"
            ],
            "ref": "refs/changes/32/50232/5",
            "uploader": {
                "name": "Jason Bills",
                "email": "jason.m.bills@linux.intel.com",
                "username": "jmbills"
            },
            "createdOn": 1648758307,
            "author": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrei Kartashev",
                        "email": "a.kartashev@yadro.com",
                        "username": "alatarum"
                    },
                    "message": "Jason, did you also test https://gerrit.openbmc-project.xyz/c/openbmc/intel-ipmi-oem/+/50240 ? We likely should merge them together."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Jason Bills",
                        "email": "jason.m.bills@linux.intel.com",
                        "username": "jmbills"
                    },
                    "message": "I tested that change and confirmed that it works correctly on my system.  I updated the message with the test results and gave +1.  Thanks!"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Andrei Kartashev",
                        "email": "a.kartashev@yadro.com",
                        "username": "alatarum"
                    },
                    "message": "Thanks! Then I wait +2 there before merge both."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "src/power_control.hpp",
                    "type": "MODIFIED",
                    "insertions": 68,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "src/power_control.cpp",
                    "type": "MODIFIED",
                    "insertions": 227,
                    "deletions": -236
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 332,
            "sizeDeletions": 237
        },
        {
            "number": 6,
            "revision": "99e8f9dfe6ed99e201f5920c512587fe3af3cdb9",
            "parents": [
                "809545a62114b8e88750e4ff2ebc153a8bf1e3db"
            ],
            "ref": "refs/changes/32/50232/6",
            "uploader": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "createdOn": 1649178560,
            "author": {
                "name": "Andrei Kartashev",
                "email": "a.kartashev@yadro.com",
                "username": "alatarum"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Kuiying Wang",
                        "email": "wangkuiying.wky@alibaba-inc.com",
                        "username": "kuiyingw"
                    },
                    "message": "Finish my turn."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "src/power_control.hpp",
                    "type": "MODIFIED",
                    "insertions": 68,
                    "deletions": 0
                },
                {
                    "file": "meson_options.txt",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": -1
                },
                {
                    "file": "src/power_control.cpp",
                    "type": "MODIFIED",
                    "insertions": 227,
                    "deletions": -236
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 332,
            "sizeDeletions": 237
        }
    ]
}