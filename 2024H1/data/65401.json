{
    "project": "openbmc/bmcweb",
    "branch": "master",
    "id": "I82fb1479fc92b503dd1e4c83c88d0268b43eb5ce",
    "number": 65401,
    "subject": "WIP: Move pam into its own daemon",
    "owner": {
        "name": "Ed Tanous",
        "email": "ed@tanous.net",
        "username": "edtanous"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/bmcweb/+/65401",
    "hashtags": [],
    "createdOn": 1690310465,
    "lastUpdated": 1723522032,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1690310465,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1690310596,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1690310596,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1690310640,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/71926/ : FAILURE"
        },
        {
            "timestamp": 1690313989,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 2.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1690314000,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 3: Patch Set 2 was rebased."
        },
        {
            "timestamp": 1690314123,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1690314123,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1690314248,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/71933/ : FAILURE"
        },
        {
            "timestamp": 1690478606,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4: Patch Set 3 was rebased\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1690478685,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1690478685,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1690478805,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/72074/ : FAILURE"
        },
        {
            "timestamp": 1690490464,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gunnar@gmills.xyz",
                "username": "gtmills"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1690497865,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1690715289,
            "reviewer": {
                "name": "Ravi Teja",
                "email": "raviteja28031990@gmail.com",
                "username": "raviteja-b"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1690833562,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5: Patch Set 4 was rebased\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1690833591,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 5:\n\n(1 comment)"
        },
        {
            "timestamp": 1690833604,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1690833604,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: -Ok-To-Test"
        },
        {
            "timestamp": 1690833728,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/72212/ : FAILURE"
        },
        {
            "timestamp": 1690996662,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6: Patch Set 5 was rebased\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1690996709,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1690996709,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: -Ok-To-Test"
        },
        {
            "timestamp": 1690996839,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/72366/ : FAILURE"
        },
        {
            "timestamp": 1693256027,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 6:\n\n(3 comments)"
        },
        {
            "timestamp": 1693260364,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(3 comments)"
        },
        {
            "timestamp": 1693427772,
            "reviewer": {
                "name": "Vernon Mauery",
                "email": "vernon.mauery@linux.intel.com",
                "username": "vmauery"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1693436438,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 6:\n\n(1 comment)"
        },
        {
            "timestamp": 1723520321,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 7.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1723520367,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1723520367,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1723520925,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/89622/ : FAILURE"
        },
        {
            "timestamp": 1723520980,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1723521369,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1723521415,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 8: Patch Set 7 was rebased\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1723521452,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1723521452,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: -Ok-To-Test"
        },
        {
            "timestamp": 1723522032,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/89625/ : FAILURE"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "19de57374eec272cf826a56015effbd36418995c",
            "parents": [
                "de49dd59fa4da6d9b102d343d78c82aca85aec06"
            ],
            "ref": "refs/changes/01/65401/1",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1690310465,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "include/pam_authenticate.hpp",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -34
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 10,
                    "deletions": -4
                },
                {
                    "file": "config/bmcweb.socket.in",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "config/meson.build",
                    "type": "MODIFIED",
                    "insertions": 6,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "include/authentication.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/redfish_sessions.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": -34
                }
            ],
            "sizeInsertions": 122,
            "sizeDeletions": 72
        },
        {
            "number": 2,
            "revision": "7c6214892a89fed5111d89c8de9bbe62bb5149ec",
            "parents": [
                "e158ff8222f44154e232b635bf6d463dd3409dfb"
            ],
            "ref": "refs/changes/01/65401/2",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1690313989,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "include/pam_authenticate.hpp",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -34
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -3
                },
                {
                    "file": "config/pam_auth.service.in",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "config/bmcweb.socket.in",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "config/meson.build",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "include/authentication.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "src/pam_main.cpp",
                    "type": "ADDED",
                    "insertions": 172,
                    "deletions": 0
                },
                {
                    "file": "config/pam_auth.socket.in",
                    "type": "ADDED",
                    "insertions": 8,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/redfish_sessions.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": -34
                }
            ],
            "sizeInsertions": 314,
            "sizeDeletions": 71
        },
        {
            "number": 3,
            "revision": "4f30a125832f4c7e094d92fa130b0bf015f826d8",
            "parents": [
                "1749c91048948828672b4bfcd3a7eb132664eb20"
            ],
            "ref": "refs/changes/01/65401/3",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1690314000,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "include/pam_authenticate.hpp",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -34
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -3
                },
                {
                    "file": "config/pam_auth.service.in",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "config/bmcweb.socket.in",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "config/meson.build",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "include/authentication.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "src/pam_main.cpp",
                    "type": "ADDED",
                    "insertions": 172,
                    "deletions": 0
                },
                {
                    "file": "config/pam_auth.socket.in",
                    "type": "ADDED",
                    "insertions": 8,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/redfish_sessions.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": -34
                }
            ],
            "sizeInsertions": 314,
            "sizeDeletions": 71
        },
        {
            "number": 4,
            "revision": "57c9800eb2f18af748eb34cc0dfce798ae857498",
            "parents": [
                "bafa5b749ab9d7cedb08e241885b7e18a68a21dd"
            ],
            "ref": "refs/changes/01/65401/4",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1690478606,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 18,
                    "reviewer": {
                        "name": "Ravi Teja",
                        "email": "raviteja28031990@gmail.com",
                        "username": "raviteja-b"
                    },
                    "message": "I think its good idea to move this whole pam portion into user-manager"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 18,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "\ud83d\udc4d"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 22,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "I know this is still WIP, would be good to announce on the mailing list when the time comes"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 22,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Sure.  This is still way in the \"is this a good idea?\" territory."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "include/pam_authenticate.hpp",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -34
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -3
                },
                {
                    "file": "config/pam_auth.service.in",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "config/bmcweb.socket.in",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "config/meson.build",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "include/authentication.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "src/pam_main.cpp",
                    "type": "ADDED",
                    "insertions": 172,
                    "deletions": 0
                },
                {
                    "file": "config/pam_auth.socket.in",
                    "type": "ADDED",
                    "insertions": 8,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/redfish_sessions.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": -34
                }
            ],
            "sizeInsertions": 314,
            "sizeDeletions": 71
        },
        {
            "number": 5,
            "revision": "bf0cc1360f62043525144a7ea430c8229d6dd42d",
            "parents": [
                "1a58c8cc6d179ba7d90f52a0d5f876e8e92b7b92"
            ],
            "ref": "refs/changes/01/65401/5",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1690833562,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "include/pam_authenticate.hpp",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -34
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -3
                },
                {
                    "file": "config/pam_auth.service.in",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "config/bmcweb.socket.in",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "config/meson.build",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "include/authentication.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "src/pam_main.cpp",
                    "type": "ADDED",
                    "insertions": 172,
                    "deletions": 0
                },
                {
                    "file": "config/pam_auth.socket.in",
                    "type": "ADDED",
                    "insertions": 8,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/redfish_sessions.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": -34
                }
            ],
            "sizeInsertions": 314,
            "sizeDeletions": 71
        },
        {
            "number": 6,
            "revision": "c6cc60d9232c04fc05368a56901caa16910f3f70",
            "parents": [
                "71bee9dde233dd0667d842f06cbc244ecc7bc07f"
            ],
            "ref": "refs/changes/01/65401/6",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1690996662,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Vernon Mauery",
                        "email": "vernon.mauery@linux.intel.com",
                        "username": "vmauery"
                    },
                    "message": "Great idea. One step closer to bmcweb as non-root! I don't know if you have thought about plaintext passwords over D-Bus, but I wrote up my recommendation."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "My thinking is actually doing a point to point dbus connection over a unix socket, so passwords don't fly over dbus, but that wasn't immediately possible (it'll take some sdbusplus changes to figure out) but that was my thought.\n\nOpen to whatever thoughts you might have."
                },
                {
                    "file": "include/pam_authenticate.hpp",
                    "line": 106,
                    "reviewer": {
                        "name": "Vernon Mauery",
                        "email": "vernon.mauery@linux.intel.com",
                        "username": "vmauery"
                    },
                    "message": "int fd = open(\"/tmp\", O_RDWR|O_EXCL|O_TMPFILE);\nif (fd < 0) { // handle error }\nif (write(fd, password.data(), password.size()) != password.size())\n{ // handle error }\nsdbusplus::message::unix_fd pwfile{fd};\n\n...\n\nasync_method_call(..., username, pwfile);\nclose(pwfile);"
                },
                {
                    "file": "include/pam_authenticate.hpp",
                    "line": 106,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I'm sure you mean exactly how we handle this:\nhttps://gerrit.openbmc.org/c/openbmc/bmcweb/+/66298\n\nI didn't mention it in that commit, but that's why I cleaned that code up;  It's possible I want to reuse it here.\n\nLet me know if that works for what you were thinking."
                },
                {
                    "file": "src/pam_main.cpp",
                    "line": 166,
                    "reviewer": {
                        "name": "Vernon Mauery",
                        "email": "vernon.mauery@linux.intel.com",
                        "username": "vmauery"
                    },
                    "message": "It is not that much more effort to pass a file handle an a lot more secure. Write the password to a temporaray file, pass the file handle, read the file. Then The password doesn't go over D-Bus in plaintext."
                },
                {
                    "file": "src/pam_main.cpp",
                    "line": 166,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Agreed.\n\nLike I said, my initial plan was to do this with point to point dbus over a unix socket, but in the worst case, might fall back to the same thing we do for virtual media.  TBD if I can get point to point DBus working.\n\nKeep the good ideas coming.  I do appreciate them."
                },
                {
                    "file": "src/pam_main.cpp",
                    "line": 166,
                    "reviewer": {
                        "name": "Vernon Mauery",
                        "email": "vernon.mauery@linux.intel.com",
                        "username": "vmauery"
                    },
                    "message": "The pipe/socket would work too. To make that work for a pipe, all you should have to do is pass the fd over D-Bus to set up the connection. I don't think you need to make any more changes to sdbusplus.\n\nFor a socket, I think you would just need to pass the abstract socket name (which should be unique) and then require the servers side to only accept one connection so you don't have any snoops.\n\nWith a pipe, you will need to have some sort of protocol, because its a stream, but over the socket, you can be packet based, which is nicer. I don't have a super strong opinion just as long as it is not in plaintext over D-Bus."
                },
                {
                    "file": "src/pam_main.cpp",
                    "line": 166,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "> The pipe/socket would work too. To make that work for a pipe, all you should have to do is pass the fd over D-Bus to set up the connection. I don't think you need to make any more changes to sdbusplus.\n\nYep, this is exactly what virtual media does today.\n\n> \n> For a socket, I think you would just need to pass the abstract socket name (which should be unique) and then require the servers side to only accept one connection so you don't have any snoops.\n\nI was thinking of making it socket activated in systemd, which I THINK avoids snoops from non-root processes?\n\n> \n> With a pipe, you will need to have some sort of protocol, because its a stream, but over the socket, you can be packet based, which is nicer. I don't have a super strong opinion just as long as it is not in plaintext over D-Bus.\n\nThat's an interesting thought.  The existing virtual media code endcodes both the username and password as null terminated strings (which I'm not a huge fan of) but does seem to work.  You're thinking we'd run a UDP/Datagram socket?  That might be a simplification;  I can play with it.  I mostly was thinking the unix socket route because we have code that does it, so either it's insecure, and needs changed anyway to a better mechanism, or it's secure enough, and should be good enough for this purpose.  But maybe my thinking is faulty."
                },
                {
                    "file": "src/pam_main.cpp",
                    "line": 166,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "> For a socket, I think you would just need to pass the abstract socket name (which should be unique) and then require the servers side to only accept one connection so you don't have any snoops.\n> \n> With a pipe, you will need to have some sort of protocol, because its a stream, but over the socket, you can be packet based, which is nicer. I don't have a super strong opinion just as long as it is not in plaintext over D-Bus.\n\nUse [socketpair(2)](https://www.man7.org/linux/man-pages/man2/socketpair.2.html), `AF_UNIX` and `SOCK_SEQPACKET`?\n\nThere's also [memfd_create](https://www.man7.org/linux/man-pages/man2/memfd_create.2.html) and [File Sealing](https://www.man7.org/linux/man-pages/man2/fcntl.2.html) to continue down the fd-passing route."
                },
                {
                    "file": "src/pam_main.cpp",
                    "line": 166,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "Agreed.  I was really hoping that sysytemd-logind had some solution to this, but it doesn't really seem to in my testing.\n\nI'm still trying to get stuff to actually breathe, then I'll regroup on this patchset with the \"right\" way.\n\nIn terms of a socket, I was actually thinking AF_UNIX + SOCK_DGRAM, and just ensure that a username + password always fits in one packet.  That's a way of cheating to not have to invent more of a new protocol."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "include/pam_authenticate.hpp",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -34
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": -3
                },
                {
                    "file": "config/pam_auth.service.in",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "config/bmcweb.socket.in",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "config/meson.build",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "include/authentication.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "src/pam_main.cpp",
                    "type": "ADDED",
                    "insertions": 172,
                    "deletions": 0
                },
                {
                    "file": "config/pam_auth.socket.in",
                    "type": "ADDED",
                    "insertions": 8,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/redfish_sessions.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": -34
                }
            ],
            "sizeInsertions": 314,
            "sizeDeletions": 71
        },
        {
            "number": 7,
            "revision": "60ec3c6df9bea5801a0876fc556654710c01f0b9",
            "parents": [
                "9773843e876896f18ec925f266cbe640578c1da3"
            ],
            "ref": "refs/changes/01/65401/7",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1723520321,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "include/pam_authenticate.hpp",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -34
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -23
                },
                {
                    "file": "config/pam_auth.service.in",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "config/bmcweb.socket.in",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "config/meson.build",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "include/authentication.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "src/pam_main.cpp",
                    "type": "ADDED",
                    "insertions": 171,
                    "deletions": 0
                },
                {
                    "file": "config/pam_auth.socket.in",
                    "type": "ADDED",
                    "insertions": 8,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/redfish_sessions.hpp",
                    "type": "MODIFIED",
                    "insertions": 45,
                    "deletions": -47
                }
            ],
            "sizeInsertions": 341,
            "sizeDeletions": 104
        },
        {
            "number": 8,
            "revision": "afa4c3ac65950c725d2ae5eabcd80a26304b6315",
            "parents": [
                "0802c10454fea7bac12ff6ab373278ca7ed1739d"
            ],
            "ref": "refs/changes/01/65401/8",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1723521415,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "TRIVIAL_REBASE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 24,
                    "deletions": 0
                },
                {
                    "file": "include/pam_authenticate.hpp",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -34
                },
                {
                    "file": "include/login_routes.hpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -23
                },
                {
                    "file": "config/pam_auth.service.in",
                    "type": "ADDED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "config/bmcweb.socket.in",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "config/meson.build",
                    "type": "MODIFIED",
                    "insertions": 12,
                    "deletions": 0
                },
                {
                    "file": "meson.build",
                    "type": "MODIFIED",
                    "insertions": 13,
                    "deletions": 0
                },
                {
                    "file": "include/authentication.hpp",
                    "type": "MODIFIED",
                    "insertions": 3,
                    "deletions": 0
                },
                {
                    "file": "src/pam_main.cpp",
                    "type": "ADDED",
                    "insertions": 171,
                    "deletions": 0
                },
                {
                    "file": "config/pam_auth.socket.in",
                    "type": "ADDED",
                    "insertions": 8,
                    "deletions": 0
                },
                {
                    "file": "redfish-core/lib/redfish_sessions.hpp",
                    "type": "MODIFIED",
                    "insertions": 45,
                    "deletions": -47
                }
            ],
            "sizeInsertions": 341,
            "sizeDeletions": 104
        }
    ]
}