{
    "project": "openbmc/sdbusplus",
    "branch": "master",
    "id": "I6235ce27fc50dd7317ecf0a48fa3340c9fbc8d3b",
    "number": 68614,
    "subject": "optimization: use sd-bus array interfaces",
    "owner": {
        "name": "yongbingchen",
        "email": "yongbingchen@google.com",
        "username": "yongbingchen"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/sdbusplus/+/68614",
    "hashtags": [],
    "createdOn": 1704412601,
    "lastUpdated": 1708496660,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1704412601,
            "reviewer": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1704412632,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1704412887,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1704414251,
            "reviewer": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "message": "Patch Set 2: Commit message was updated."
        },
        {
            "timestamp": 1704414266,
            "reviewer": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1704414281,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1704414501,
            "reviewer": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "message": "Uploaded patch set 3."
        },
        {
            "timestamp": 1704414521,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1704414647,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1704414690,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1704414770,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1704414872,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1704416795,
            "reviewer": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "message": "Uploaded patch set 4."
        },
        {
            "timestamp": 1704416827,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1704416943,
            "reviewer": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "message": "Uploaded patch set 5: Commit message was updated."
        },
        {
            "timestamp": 1704416976,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 5:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1704417124,
            "reviewer": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "message": "Uploaded patch set 6: Commit message was updated."
        },
        {
            "timestamp": 1704417143,
            "reviewer": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "message": "Patch Set 6:\n\n(5 comments)"
        },
        {
            "timestamp": 1704417161,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 6:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1704417355,
            "reviewer": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "message": "Uploaded patch set 7."
        },
        {
            "timestamp": 1704417381,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7:\n\nUser not approved, see admin, no CI"
        },
        {
            "timestamp": 1704418139,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1704502653,
            "reviewer": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "message": "Patch Set 7:\n\n(1 comment)"
        },
        {
            "timestamp": 1704504171,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1704504171,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: -Ok-To-Test"
        },
        {
            "timestamp": 1704504347,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 7: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/77651/ : FAILURE"
        },
        {
            "timestamp": 1704517057,
            "reviewer": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "message": "Uploaded patch set 8.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1704517106,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1704517106,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: -Ok-To-Test"
        },
        {
            "timestamp": 1704517447,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 8: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/77653/ : FAILURE"
        },
        {
            "timestamp": 1704523756,
            "reviewer": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "message": "Uploaded patch set 9.\n\nOutdated Votes:\n* Verified-1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1704523801,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1704523801,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: -Ok-To-Test"
        },
        {
            "timestamp": 1704524196,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 9: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/77654/ : SUCCESS"
        },
        {
            "timestamp": 1704762972,
            "reviewer": {
                "name": "Nan Zhou",
                "email": "nanzhoumails@gmail.com",
                "username": "FighterNan"
            },
            "message": "Patch Set 9: Code-Review+1\n\n(3 comments)"
        },
        {
            "timestamp": 1704856994,
            "reviewer": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "message": "Patch Set 9:\n\n(1 comment)"
        },
        {
            "timestamp": 1704861067,
            "reviewer": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "message": "Uploaded patch set 10.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1704861171,
            "reviewer": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "message": "Uploaded patch set 11: Commit message was updated."
        },
        {
            "timestamp": 1704861310,
            "reviewer": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "message": "Patch Set 11:\n\n(3 comments)"
        },
        {
            "timestamp": 1704926702,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 11:\n\n(1 comment)"
        },
        {
            "timestamp": 1704931855,
            "reviewer": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "message": "Patch Set 11:\n\n(1 comment)"
        },
        {
            "timestamp": 1704933594,
            "reviewer": {
                "name": "Andrew Jeffery",
                "email": "andrew@codeconstruct.com.au",
                "username": "amboar"
            },
            "message": "Patch Set 11:\n\n(1 comment)"
        },
        {
            "timestamp": 1708496660,
            "reviewer": {
                "name": "Lei YU",
                "email": "mine260309@gmail.com",
                "username": "mine260309"
            },
            "message": "Patch Set 11:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "8a1fadf67814ec69c6dda7c8f761519721b10066",
            "parents": [
                "f36d90308a9de6e18c6f6a82cf92fd4f22d723f6"
            ],
            "ref": "refs/changes/14/68614/1",
            "uploader": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "createdOn": 1704412601,
            "author": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 105,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "I would replace this with more general words: like tested intensive dbus transactions."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 105,
                    "reviewer": {
                        "name": "yongbingchen",
                        "email": "yongbingchen@google.com",
                        "username": "yongbingchen"
                    },
                    "message": "Acknowledged"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 108,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/read.hpp",
                    "type": "MODIFIED",
                    "insertions": 37,
                    "deletions": -1
                },
                {
                    "file": "include/sdbusplus/sdbus.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/append.hpp",
                    "type": "MODIFIED",
                    "insertions": 47,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 236,
            "sizeDeletions": 1
        },
        {
            "number": 2,
            "revision": "70de83eb2376c41bf48904337283d2c1069ae4dc",
            "parents": [
                "f36d90308a9de6e18c6f6a82cf92fd4f22d723f6"
            ],
            "ref": "refs/changes/14/68614/2",
            "uploader": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "createdOn": 1704414251,
            "author": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "NIT: please follow 50/72 comment convention. See https://github.com/openbmc/docs/blob/master/CONTRIBUTING.md#formatting-commit-messages"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 10,
                    "reviewer": {
                        "name": "yongbingchen",
                        "email": "yongbingchen@google.com",
                        "username": "yongbingchen"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "include/sdbusplus/message/append.hpp",
                    "line": 316,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Add a comment like existing codes?"
                },
                {
                    "file": "include/sdbusplus/message/append.hpp",
                    "line": 316,
                    "reviewer": {
                        "name": "yongbingchen",
                        "email": "yongbingchen@google.com",
                        "username": "yongbingchen"
                    },
                    "message": "Acknowledged"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 108,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/read.hpp",
                    "type": "MODIFIED",
                    "insertions": 37,
                    "deletions": -1
                },
                {
                    "file": "include/sdbusplus/sdbus.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/append.hpp",
                    "type": "MODIFIED",
                    "insertions": 47,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 236,
            "sizeDeletions": 1
        },
        {
            "number": 3,
            "revision": "f93893888b4d9feed675401dcd34573cef0059f7",
            "parents": [
                "f36d90308a9de6e18c6f6a82cf92fd4f22d723f6"
            ],
            "ref": "refs/changes/14/68614/3",
            "uploader": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "createdOn": 1704414501,
            "author": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 101,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "What does \"sized\" mean here?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 101,
                    "reviewer": {
                        "name": "yongbingchen",
                        "email": "yongbingchen@google.com",
                        "username": "yongbingchen"
                    },
                    "message": "Acknowledged\nUse more accurate wording here"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 105,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "This is reverted now."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 105,
                    "reviewer": {
                        "name": "yongbingchen",
                        "email": "yongbingchen@google.com",
                        "username": "yongbingchen"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 106,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Could you also mention improvement? how much time does it consume now in sdbusplus layer for 4K buffer?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 106,
                    "reviewer": {
                        "name": "yongbingchen",
                        "email": "yongbingchen@google.com",
                        "username": "yongbingchen"
                    },
                    "message": "Acknowledged"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 108,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/read.hpp",
                    "type": "MODIFIED",
                    "insertions": 39,
                    "deletions": -2
                },
                {
                    "file": "include/sdbusplus/sdbus.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/append.hpp",
                    "type": "MODIFIED",
                    "insertions": 50,
                    "deletions": -1
                }
            ],
            "sizeInsertions": 241,
            "sizeDeletions": 3
        },
        {
            "number": 4,
            "revision": "31f6a5d70d8ad5e3bba0ccbfc64927a1fb137d7f",
            "parents": [
                "f36d90308a9de6e18c6f6a82cf92fd4f22d723f6"
            ],
            "ref": "refs/changes/14/68614/4",
            "uploader": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "createdOn": 1704416795,
            "author": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 117,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/read.hpp",
                    "type": "MODIFIED",
                    "insertions": 42,
                    "deletions": -2
                },
                {
                    "file": "include/sdbusplus/sdbus.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/append.hpp",
                    "type": "MODIFIED",
                    "insertions": 54,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 257,
            "sizeDeletions": 4
        },
        {
            "number": 5,
            "revision": "ca192c2df91b5e2e315260ce63e3f7d47636b9d7",
            "parents": [
                "f36d90308a9de6e18c6f6a82cf92fd4f22d723f6"
            ],
            "ref": "refs/changes/14/68614/5",
            "uploader": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "createdOn": 1704416943,
            "author": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 117,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/read.hpp",
                    "type": "MODIFIED",
                    "insertions": 42,
                    "deletions": -2
                },
                {
                    "file": "include/sdbusplus/sdbus.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/append.hpp",
                    "type": "MODIFIED",
                    "insertions": 54,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 257,
            "sizeDeletions": 4
        },
        {
            "number": 6,
            "revision": "492444ad3fb0307402251665357a538e7951a234",
            "parents": [
                "f36d90308a9de6e18c6f6a82cf92fd4f22d723f6"
            ],
            "ref": "refs/changes/14/68614/6",
            "uploader": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "createdOn": 1704417124,
            "author": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 117,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/read.hpp",
                    "type": "MODIFIED",
                    "insertions": 42,
                    "deletions": -2
                },
                {
                    "file": "include/sdbusplus/sdbus.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/append.hpp",
                    "type": "MODIFIED",
                    "insertions": 54,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 257,
            "sizeDeletions": 4
        },
        {
            "number": 7,
            "revision": "d4831198f248bca83fc24aac52e53ae00286d920",
            "parents": [
                "f36d90308a9de6e18c6f6a82cf92fd4f22d723f6"
            ],
            "ref": "refs/changes/14/68614/7",
            "uploader": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "createdOn": 1704417355,
            "author": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Yongbing, please work with Benjamin to get added to the Google CLA / Gerrit Group."
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "yongbingchen",
                        "email": "yongbingchen@google.com",
                        "username": "yongbingchen"
                    },
                    "message": "Done, thanks!"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 117,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/read.hpp",
                    "type": "MODIFIED",
                    "insertions": 41,
                    "deletions": -2
                },
                {
                    "file": "include/sdbusplus/sdbus.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/append.hpp",
                    "type": "MODIFIED",
                    "insertions": 54,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 256,
            "sizeDeletions": 4
        },
        {
            "number": 8,
            "revision": "3bc5359417d4b2e16e05a05649fde07b2bd8659f",
            "parents": [
                "f36d90308a9de6e18c6f6a82cf92fd4f22d723f6"
            ],
            "ref": "refs/changes/14/68614/8",
            "uploader": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "createdOn": 1704517057,
            "author": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 117,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/read.hpp",
                    "type": "MODIFIED",
                    "insertions": 41,
                    "deletions": -2
                },
                {
                    "file": "include/sdbusplus/sdbus.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/append.hpp",
                    "type": "MODIFIED",
                    "insertions": 54,
                    "deletions": -2
                },
                {
                    "file": "test/message/read.cpp",
                    "type": "MODIFIED",
                    "insertions": 59,
                    "deletions": -19
                },
                {
                    "file": "test/message/append.cpp",
                    "type": "MODIFIED",
                    "insertions": 21,
                    "deletions": -3
                },
                {
                    "file": "include/sdbusplus/test/sdbus_mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 340,
            "sizeDeletions": 26
        },
        {
            "number": 9,
            "revision": "d722aacc4babcf5bb903b5e32ddbf1097eb31458",
            "parents": [
                "f36d90308a9de6e18c6f6a82cf92fd4f22d723f6"
            ],
            "ref": "refs/changes/14/68614/9",
            "uploader": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "createdOn": 1704523756,
            "author": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "Sounds like a reasonable improvement to me"
                },
                {
                    "file": "include/sdbusplus/message/append.hpp",
                    "line": 328,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "nit: move this near to where it is firstly used."
                },
                {
                    "file": "include/sdbusplus/message/append.hpp",
                    "line": 328,
                    "reviewer": {
                        "name": "yongbingchen",
                        "email": "yongbingchen@google.com",
                        "username": "yongbingchen"
                    },
                    "message": "Acknowledged"
                },
                {
                    "file": "include/sdbusplus/message/append.hpp",
                    "line": 330,
                    "reviewer": {
                        "name": "Nan Zhou",
                        "email": "nanzhoumails@gmail.com",
                        "username": "FighterNan"
                    },
                    "message": "nit: avoid magic abbreviation."
                },
                {
                    "file": "include/sdbusplus/message/append.hpp",
                    "line": 330,
                    "reviewer": {
                        "name": "yongbingchen",
                        "email": "yongbingchen@google.com",
                        "username": "yongbingchen"
                    },
                    "message": "Done"
                },
                {
                    "file": "test/message/append.cpp",
                    "line": 323,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "mine260309@gmail.com",
                        "username": "mine260309"
                    },
                    "message": "Could you add some new cases of nested types, e.g. append std::vector<std::array<int>>?"
                },
                {
                    "file": "test/message/append.cpp",
                    "line": 323,
                    "reviewer": {
                        "name": "yongbingchen",
                        "email": "yongbingchen@google.com",
                        "username": "yongbingchen"
                    },
                    "message": "I tried to add below test case:\n```\ndiff --git a/test/message/append.cpp b/test/message/append.cpp\nindex 132bcb1..412dcf0 100644\n--- a/test/message/append.cpp\n+++ b/test/message/append.cpp\n@@ -325,6 +325,24 @@ TEST_F(AppendTest, VectorIntegral)\n     new_message().append(v);\n }\n\n+TEST_F(AppendTest, VectorNestIntegral)\n+{\n+    const std::vector<std::array<int, 3>> v{{1, 2, 3},\n+        {3, 4, 5},\n+        {6, 7, 8}};\n+\n+    {\n+        testing::InSequence seq;\n+        expect_open_container(SD_BUS_TYPE_ARRAY, \"ai\");\n+        for (long unsigned int i = 0; i <  v.size(); i++)\n+        {\n+            expect_append_array_space(SD_BUS_TYPE_INT32, v[i].size() * sizeof(int));\n+        }\n+        expect_close_container();\n+    }\n+    new_message().append(v);\n+}\n+\n TEST_F(AppendTest, Set)\n {\n     const std::set<std::string> s{\"one\", \"two\", \"eight\"};\n```\n\nAs you can see, it does not change too much compared to \"TEST_F(AppendTest, LargeCombo)\", only the most inner call will be un-templated to the new change.\n\nThe problem is, this unit test mocked the libsystemd sd_bus_* interface, so each expect_append_array_space need to allocate memory to provide the memory for conducting the test (in real sd_bus_message_append_array_space call, the memory is allocated by libsystemd), to handle these repeated malloc in the mock, to pass asan check, will make these whole unit test unnecessarily complicated."
                },
                {
                    "file": "test/message/append.cpp",
                    "line": 323,
                    "reviewer": {
                        "name": "Lei YU",
                        "email": "mine260309@gmail.com",
                        "username": "mine260309"
                    },
                    "message": "> only the most inner call will be un-templated to the new change.\n\nRight, but the unit test is to make sure the code works expectedly and prevent future changes from breaking it. So I still suggest adding such a test.\n\n> handle these repeated malloc in the mock, to pass asan check, will make these whole unit test unnecessarily complicated.\n\nIt's really a limitation of the current test, that it uses only **one** allocatedMemory variable, so that each case will have to allocate memory once.\nThis is not convenient.\nLet's impove it a bit, to make it possible to handle multiple memory allocations , e.g. use a std::vector<void*> and call free on all the items in the vector in tearDown()."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 117,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/read.hpp",
                    "type": "MODIFIED",
                    "insertions": 41,
                    "deletions": -2
                },
                {
                    "file": "include/sdbusplus/sdbus.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/append.hpp",
                    "type": "MODIFIED",
                    "insertions": 54,
                    "deletions": -2
                },
                {
                    "file": "test/message/read.cpp",
                    "type": "MODIFIED",
                    "insertions": 81,
                    "deletions": -19
                },
                {
                    "file": "test/message/append.cpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -3
                },
                {
                    "file": "include/sdbusplus/test/sdbus_mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 372,
            "sizeDeletions": 26
        },
        {
            "number": 10,
            "revision": "582b614c7091597c2fb4a5510b4aed4f84281f4e",
            "parents": [
                "f36d90308a9de6e18c6f6a82cf92fd4f22d723f6"
            ],
            "ref": "refs/changes/14/68614/10",
            "uploader": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "createdOn": 1704861067,
            "author": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 117,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/read.hpp",
                    "type": "MODIFIED",
                    "insertions": 41,
                    "deletions": -2
                },
                {
                    "file": "include/sdbusplus/sdbus.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/append.hpp",
                    "type": "MODIFIED",
                    "insertions": 55,
                    "deletions": -2
                },
                {
                    "file": "test/message/read.cpp",
                    "type": "MODIFIED",
                    "insertions": 81,
                    "deletions": -19
                },
                {
                    "file": "test/message/append.cpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -3
                },
                {
                    "file": "include/sdbusplus/test/sdbus_mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 373,
            "sizeDeletions": 26
        },
        {
            "number": 11,
            "revision": "5ec887b44f0f675ff328b52d7194cdb3525b1630",
            "parents": [
                "f36d90308a9de6e18c6f6a82cf92fd4f22d723f6"
            ],
            "ref": "refs/changes/14/68614/11",
            "uploader": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "createdOn": 1704861171,
            "author": {
                "name": "yongbingchen",
                "email": "yongbingchen@google.com",
                "username": "yongbingchen"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 18,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "That's bad and optimising sdbusplus is a good outcome, but I do wonder whether the design is wrong. A philosophy that's been bandied about is if the data you're exchanging on D-Bus isn't human-consumable in a `busctl introspect` or `busctl monitor` then there are probably better approaches. For instance, in this case an alternative is to use D-Bus' [file descriptor type (`h`)](https://dbus.freedesktop.org/doc/dbus-specification.html#basic-types) along with [memfd_create(2)](https://man7.org/linux/man-pages/man2/memfd_create.2.html) to pass a descriptor for a memory region between processes. This would avoid the problem altogether."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 18,
                    "reviewer": {
                        "name": "yongbingchen",
                        "email": "yongbingchen@google.com",
                        "username": "yongbingchen"
                    },
                    "message": "Hi, Andrew,\nThank you for reviewing.  \n\nI generally agree to your comment/approach.  \n\nBut since here sdbusplus exposes this as a generic interface -- there's no good way to prevent sdbusplus client code to \"abuse\" it ...\n\nTaking the host CPU booting over I3C use case I am referring to here, the better approach is clearly a shared memory (implemented with memfd_create, passing the fd over UNIX socket/D-Bus) between MCTPD and PLDMD for the whole CPU boot image (in 20MB size or even larger), instead of sending it piece by piece over IPC call (like 5000 calls for the whole boot).\n\nBased on the fact that we can not force client code to not use this interface (passing vector/array of integral over D-Bus/sdbusplus), I think this is a valid optimization approach -- while creating a mem fd inside this, passing it to peer for every package (create fd -> send fd -> close fd for 5000 times) looks a overkill, and may introduce more performance burden.\n\nHow do you think?\nThanks!\nYongbing"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 18,
                    "reviewer": {
                        "name": "Andrew Jeffery",
                        "email": "andrew@codeconstruct.com.au",
                        "username": "amboar"
                    },
                    "message": "Right, I'm not suggesting your patch shouldn't be merged. We should absolutely optimise sdbusplus where we can.\n\nI recognise that the application design at this point might be hard to change, and you need to make the best of what you have, and that we'd need concrete performance numbers on each approach to evaluate them properly. But with that in mind, it's generally recommended that large chunks of data be passed over D-Bus by file descriptor to avoid these kinds of performance problems.\n\nIt also seems you have an MCTP integration that is very much not something we're doing upstream, and you'd also not have the problem upstream if you used `AF_MCTP` sockets for PLDM instead :) But again I expect you're in position where you have to make the best of what you have."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 31,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/read.hpp",
                    "type": "MODIFIED",
                    "insertions": 41,
                    "deletions": -2
                },
                {
                    "file": "include/sdbusplus/sdbus.hpp",
                    "type": "MODIFIED",
                    "insertions": 44,
                    "deletions": 0
                },
                {
                    "file": "include/sdbusplus/message/append.hpp",
                    "type": "MODIFIED",
                    "insertions": 55,
                    "deletions": -2
                },
                {
                    "file": "test/message/read.cpp",
                    "type": "MODIFIED",
                    "insertions": 81,
                    "deletions": -19
                },
                {
                    "file": "test/message/append.cpp",
                    "type": "MODIFIED",
                    "insertions": 31,
                    "deletions": -3
                },
                {
                    "file": "include/sdbusplus/test/sdbus_mock.hpp",
                    "type": "MODIFIED",
                    "insertions": 4,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 287,
            "sizeDeletions": 26
        }
    ]
}