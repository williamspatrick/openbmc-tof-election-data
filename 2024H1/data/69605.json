{
    "project": "openbmc/pldm",
    "branch": "master",
    "id": "Icb7d2bab1eea9fee51cdfc4b4aad00cf583e085e",
    "number": 69605,
    "subject": "SoftPowerOff: request BMC dump during graceful shutdown",
    "owner": {
        "name": "sagar srinivas",
        "email": "sagar.srinivas@ibm.com",
        "username": "sagisin"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/pldm/+/69605",
    "hashtags": [],
    "createdOn": 1708698335,
    "lastUpdated": 1709099348,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1708698335,
            "reviewer": {
                "name": "sagar srinivas",
                "email": "sagar.srinivas@ibm.com",
                "username": "sagisin"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1708698386,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1708698386,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1708698416,
            "reviewer": {
                "name": "sagar srinivas",
                "email": "sagar.srinivas@ibm.com",
                "username": "sagisin"
            },
            "message": "Uploaded patch set 2: Commit message was updated."
        },
        {
            "timestamp": 1708698454,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1708698454,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1708698456,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified-1\n\nBuild Failed \n\nhttps://jenkins.openbmc.org/job/ci-repository/79737/ : ABORTED"
        },
        {
            "timestamp": 1708698773,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/79738/ : SUCCESS"
        },
        {
            "timestamp": 1708703557,
            "reviewer": {
                "name": "sagar srinivas",
                "email": "sagar.srinivas@ibm.com",
                "username": "sagisin"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1708703580,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1708703580,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1708703900,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/79743/ : SUCCESS"
        },
        {
            "timestamp": 1708704286,
            "reviewer": {
                "name": "sagar srinivas",
                "email": "sagar.srinivas@ibm.com",
                "username": "sagisin"
            },
            "message": "Uploaded patch set 4: Commit message was updated.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1708704315,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1708704315,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1708704631,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/79746/ : SUCCESS"
        },
        {
            "timestamp": 1708705512,
            "reviewer": {
                "name": "ManojKiran Eda",
                "email": "manojkiran.eda@gmail.com",
                "username": "manojkiraneda"
            },
            "message": "Patch Set 4: Code-Review-1\n\n(4 comments)"
        },
        {
            "timestamp": 1709099348,
            "reviewer": {
                "name": "Patel-Kamalkumar",
                "email": "kamalkumar.patel@ibm.com",
                "username": "Patel-Kamalkumar"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "4f639e69b280050f08f9412e38401fe2d1c1f227",
            "parents": [
                "e3607a3c59c70ef1684f5c2108be56b1af874e12"
            ],
            "ref": "refs/changes/05/69605/1",
            "uploader": {
                "name": "sagar srinivas",
                "email": "sagar.srinivas@ibm.com",
                "username": "sagisin"
            },
            "createdOn": 1708698335,
            "author": {
                "name": "sagar srinivas",
                "email": "sagar.srinivas@ibm.com",
                "username": "sagisin"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "softoff/softoff.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -5
                },
                {
                    "file": "softoff/main.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 43,
            "sizeDeletions": 7
        },
        {
            "number": 2,
            "revision": "3fea8e2758b8bab323b8c19b4b461a3b0ead484d",
            "parents": [
                "e3607a3c59c70ef1684f5c2108be56b1af874e12"
            ],
            "ref": "refs/changes/05/69605/2",
            "uploader": {
                "name": "sagar srinivas",
                "email": "sagar.srinivas@ibm.com",
                "username": "sagisin"
            },
            "createdOn": 1708698416,
            "author": {
                "name": "sagar srinivas",
                "email": "sagar.srinivas@ibm.com",
                "username": "sagisin"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "softoff/softoff.cpp",
                    "type": "MODIFIED",
                    "insertions": 5,
                    "deletions": -5
                },
                {
                    "file": "softoff/main.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 43,
            "sizeDeletions": 7
        },
        {
            "number": 3,
            "revision": "ebdc4bd3887fdb4b8b127dc6fcc2068b92e87f40",
            "parents": [
                "e3607a3c59c70ef1684f5c2108be56b1af874e12"
            ],
            "ref": "refs/changes/05/69605/3",
            "uploader": {
                "name": "sagar srinivas",
                "email": "sagar.srinivas@ibm.com",
                "username": "sagisin"
            },
            "createdOn": 1708703557,
            "author": {
                "name": "sagar srinivas",
                "email": "sagar.srinivas@ibm.com",
                "username": "sagisin"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "softoff/main.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 38,
            "sizeDeletions": 2
        },
        {
            "number": 4,
            "revision": "f35310833564414950826ce2491ca95dbc5a64b3",
            "parents": [
                "e3607a3c59c70ef1684f5c2108be56b1af874e12"
            ],
            "ref": "refs/changes/05/69605/4",
            "uploader": {
                "name": "sagar srinivas",
                "email": "sagar.srinivas@ibm.com",
                "username": "sagisin"
            },
            "createdOn": 1708704286,
            "author": {
                "name": "sagar srinivas",
                "email": "sagar.srinivas@ibm.com",
                "username": "sagisin"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 11,
                    "reviewer": {
                        "name": "ManojKiran Eda",
                        "email": "manojkiran.eda@gmail.com",
                        "username": "manojkiraneda"
                    },
                    "message": "could be re-worded to pldm soft off stack notifies host via a set effecter call , and starts a timer once it gets response."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 12,
                    "reviewer": {
                        "name": "ManojKiran Eda",
                        "email": "manojkiran.eda@gmail.com",
                        "username": "manojkiraneda"
                    },
                    "message": "https://github.com/openbmc/pldm/blob/master/meson.options#L154C12-L154C16 default value says 2hours ?"
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 13,
                    "reviewer": {
                        "name": "ManojKiran Eda",
                        "email": "manojkiran.eda@gmail.com",
                        "username": "manojkiraneda"
                    },
                    "message": "where is this requirement documented ? is there a design document reference for this in openbmc/docs ? and i don't see any valid reason for why a host shutdown down should result in a bmc dump ?\n\nseem like too much overhead in the host shutdown path ?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "ManojKiran Eda",
                        "email": "manojkiran.eda@gmail.com",
                        "username": "manojkiraneda"
                    },
                    "message": "From the look of it, this seems like we are sort of trying to push an oem-requirment into the common code without any agreement from the community. Please modify the commit message with the details that are relevant for the community to have this additional data collected during a host off."
                },
                {
                    "file": "softoff/main.cpp",
                    "line": 62,
                    "reviewer": {
                        "name": "Patel-Kamalkumar",
                        "email": "kamalkumar.patel@ibm.com",
                        "username": "Patel-Kamalkumar"
                    },
                    "message": "please rewrite trace like:\nerror(\"SoftPowerOff: Failed to create BMC dump: {ERROR}\",\"ERROR\",e);"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 20,
                    "deletions": 0
                },
                {
                    "file": "softoff/main.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -2
                }
            ],
            "sizeInsertions": 38,
            "sizeDeletions": 2
        }
    ]
}