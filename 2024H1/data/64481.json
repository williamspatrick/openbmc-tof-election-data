{
    "project": "openbmc/webui-vue",
    "branch": "master",
    "id": "I31359d970c2aa42f29115102ddbc9cbe85fb168d",
    "number": 64481,
    "subject": "Update Server status in Server power operations page",
    "owner": {
        "name": "Hieu Huynh",
        "email": "hieuh@os.amperecomputing.com",
        "username": "hieuhuynh-ampere"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/webui-vue/+/64481",
    "hashtags": [],
    "createdOn": 1687923155,
    "lastUpdated": 1714722345,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1687923155,
            "reviewer": {
                "name": "Hieu Huynh",
                "email": "hieuh@os.amperecomputing.com",
                "username": "hieuhuynh-ampere"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1687923188,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1687923188,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1687923283,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/69722/ : SUCCESS"
        },
        {
            "timestamp": 1687923451,
            "reviewer": {
                "name": "Thang Q. Nguyen",
                "email": "thang@os.amperecomputing.com",
                "username": "thangqn-ampere"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1687923633,
            "reviewer": {
                "name": "Hieu Huynh",
                "email": "hieuh@os.amperecomputing.com",
                "username": "hieuhuynh-ampere"
            },
            "message": "Uploaded patch set 2: Commit message was updated.\n\nCopied Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1687923647,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1687923647,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1687923733,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/69723/ : SUCCESS"
        },
        {
            "timestamp": 1687923787,
            "reviewer": {
                "name": "Thang Q. Nguyen",
                "email": "thang@os.amperecomputing.com",
                "username": "thangqn-ampere"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1687924551,
            "reviewer": {
                "name": "Hieu Huynh",
                "email": "hieuh@os.amperecomputing.com",
                "username": "hieuhuynh-ampere"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE\")\n"
        },
        {
            "timestamp": 1687924563,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1687924563,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1687924647,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/69727/ : SUCCESS"
        },
        {
            "timestamp": 1688053730,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gunnar@gmills.xyz",
                "username": "gtmills"
            },
            "message": "Patch Set 3:\n\n(2 comments)"
        },
        {
            "timestamp": 1688054522,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gunnar@gmills.xyz",
                "username": "gtmills"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1688714071,
            "reviewer": {
                "name": "Hieu Huynh",
                "email": "hieuh@os.amperecomputing.com",
                "username": "hieuhuynh-ampere"
            },
            "message": "Patch Set 3:\n\n(3 comments)"
        },
        {
            "timestamp": 1689044909,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gunnar@gmills.xyz",
                "username": "gtmills"
            },
            "message": "Patch Set 3:\n\n(1 comment)"
        },
        {
            "timestamp": 1709607105,
            "reviewer": {
                "name": "Hieu Huynh",
                "email": "hieuh@os.amperecomputing.com",
                "username": "hieuhuynh-ampere"
            },
            "message": "Uploaded patch set 4: Patch Set 3 was rebased.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1709607143,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1709607143,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: -Ok-To-Test"
        },
        {
            "timestamp": 1709607367,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 4: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/80163/ : SUCCESS"
        },
        {
            "timestamp": 1709607467,
            "reviewer": {
                "name": "Hieu Huynh",
                "email": "hieuh@os.amperecomputing.com",
                "username": "hieuhuynh-ampere"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        },
        {
            "timestamp": 1709786411,
            "reviewer": {
                "name": "Renuka9527",
                "email": "Renuka.Sharanya.Pundla@ibm.com",
                "username": "Renuka9527"
            },
            "message": "Patch Set 4: Code-Review+1"
        },
        {
            "timestamp": 1709877542,
            "reviewer": {
                "name": "Gunnar Mills",
                "email": "gunnar@gmills.xyz",
                "username": "gtmills"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1710232058,
            "reviewer": {
                "name": "Hieu Huynh",
                "email": "hieuh@os.amperecomputing.com",
                "username": "hieuhuynh-ampere"
            },
            "message": "Patch Set 4:\n\n(2 comments)"
        },
        {
            "timestamp": 1714722345,
            "reviewer": {
                "name": "Nikhil Ashoka",
                "email": "a.nikhil@ibm.com",
                "username": "Nikhil-Ashoka"
            },
            "message": "Patch Set 4:\n\n(1 comment)"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "9d3f3313f9d71f6bcada8baffcac8bf41b2a468b",
            "parents": [
                "6b424f998068f2336d0f2c0d8b806124554855e8"
            ],
            "ref": "refs/changes/81/64481/1",
            "uploader": {
                "name": "Hieu Huynh",
                "email": "hieuh@os.amperecomputing.com",
                "username": "hieuhuynh-ampere"
            },
            "createdOn": 1687923155,
            "author": {
                "name": "Hieu Huynh",
                "email": "hieuh@os.amperecomputing.com",
                "username": "hieuhuynh-ampere"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Thang Q. Nguyen",
                        "email": "thang@os.amperecomputing.com",
                        "username": "thangqn-ampere"
                    },
                    "message": "This is to fix https://github.com/openbmc/webui-vue/issues/102. Let add Fix information"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 28,
                    "deletions": 0
                },
                {
                    "file": "src/store/modules/Operations/ControlStore.js",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -5
                },
                {
                    "file": "src/views/Operations/ServerPowerOperations/ServerPowerOperations.vue",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 37,
            "sizeDeletions": 5
        },
        {
            "number": 2,
            "revision": "46bc1ceb74124358f3e98d7d72a0e97b22d6589b",
            "parents": [
                "6b424f998068f2336d0f2c0d8b806124554855e8"
            ],
            "ref": "refs/changes/81/64481/2",
            "uploader": {
                "name": "Hieu Huynh",
                "email": "hieuh@os.amperecomputing.com",
                "username": "hieuhuynh-ampere"
            },
            "createdOn": 1687923633,
            "author": {
                "name": "Hieu Huynh",
                "email": "hieuh@os.amperecomputing.com",
                "username": "hieuhuynh-ampere"
            },
            "kind": "NO_CODE_CHANGE",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 19,
                    "reviewer": {
                        "name": "Thang Q. Nguyen",
                        "email": "thang@os.amperecomputing.com",
                        "username": "thangqn-ampere"
                    },
                    "message": "I think the format is as below:\n\nFixes: #102"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 30,
                    "deletions": 0
                },
                {
                    "file": "src/store/modules/Operations/ControlStore.js",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -5
                },
                {
                    "file": "src/views/Operations/ServerPowerOperations/ServerPowerOperations.vue",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 39,
            "sizeDeletions": 5
        },
        {
            "number": 3,
            "revision": "e80b9b7959d428fdee81207ecb31e5488bc3aaad",
            "parents": [
                "fb6c6de90cba53dff84d687d6b3f2b07b822b1dc"
            ],
            "ref": "refs/changes/81/64481/3",
            "uploader": {
                "name": "Hieu Huynh",
                "email": "hieuh@os.amperecomputing.com",
                "username": "hieuhuynh-ampere"
            },
            "createdOn": 1687924551,
            "author": {
                "name": "Hieu Huynh",
                "email": "hieuh@os.amperecomputing.com",
                "username": "hieuhuynh-ampere"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "src/store/modules/Operations/ControlStore.js",
                    "line": 5,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "Isn't the root problem, not getting a serverStatus change?\nIs that caused by https://github.com/openbmc/webui-vue/issues/106 ?"
                },
                {
                    "file": "src/store/modules/Operations/ControlStore.js",
                    "line": 5,
                    "reviewer": {
                        "name": "Hieu Huynh",
                        "email": "hieuh@os.amperecomputing.com",
                        "username": "hieuhuynh-ampere"
                    },
                    "message": "I'm not sure this is the root cause but the REST is disabled in bmcweb."
                },
                {
                    "file": "src/store/modules/Operations/ControlStore.js",
                    "line": 5,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "> I'm not sure this is the root cause but the REST is disabled in bmcweb.\n\nAgreed and would like to see us move away from it in webui-vue. \nThis feels like a bandaid for the real problem, we are still are using the Event subscription protocol from D-Bus REST"
                },
                {
                    "file": "src/store/modules/Operations/ControlStore.js",
                    "line": 5,
                    "reviewer": {
                        "name": "Hieu Huynh",
                        "email": "hieuh@os.amperecomputing.com",
                        "username": "hieuhuynh-ampere"
                    },
                    "message": "Hi @Gunnar, do you have any concerns/feedbacks on this MR. Does anything need to be updated?"
                },
                {
                    "file": "src/store/modules/Operations/ControlStore.js",
                    "line": 5,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "I am still concerned that we have broader problems, https://github.com/openbmc/webui-vue/issues/106"
                },
                {
                    "file": "src/store/modules/Operations/ControlStore.js",
                    "line": 5,
                    "reviewer": {
                        "name": "Hieu Huynh",
                        "email": "hieuh@os.amperecomputing.com",
                        "username": "hieuhuynh-ampere"
                    },
                    "message": "Do you need any checks? I will check if you need."
                },
                {
                    "file": "src/store/modules/Operations/ControlStore.js",
                    "line": 9,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "What if it never matches the passed argument ?"
                },
                {
                    "file": "src/store/modules/Operations/ControlStore.js",
                    "line": 9,
                    "reviewer": {
                        "name": "Hieu Huynh",
                        "email": "hieuh@os.amperecomputing.com",
                        "username": "hieuhuynh-ampere"
                    },
                    "message": "Hi Gunnar,\n\nThe Server status is set to `Not available`."
                },
                {
                    "file": "src/store/modules/Operations/ControlStore.js",
                    "line": 9,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "Do we really want to continuously check this? The old code had a 5 min timeout, do we want something like that?"
                },
                {
                    "file": "src/store/modules/Operations/ControlStore.js",
                    "line": 9,
                    "reviewer": {
                        "name": "Hieu Huynh",
                        "email": "hieuh@os.amperecomputing.com",
                        "username": "hieuhuynh-ampere"
                    },
                    "message": "I think a 5-minute timeout is a long time. For example, if the system responds quickly, the user does not know when the Status has been updated."
                },
                {
                    "file": "src/store/modules/Operations/ControlStore.js",
                    "line": 20,
                    "reviewer": {
                        "name": "Gunnar Mills",
                        "email": "gunnar@gmills.xyz",
                        "username": "gtmills"
                    },
                    "message": "How was 5 seconds decided on?"
                },
                {
                    "file": "src/store/modules/Operations/ControlStore.js",
                    "line": 20,
                    "reviewer": {
                        "name": "Hieu Huynh",
                        "email": "hieuh@os.amperecomputing.com",
                        "username": "hieuhuynh-ampere"
                    },
                    "message": "I think 5 seconds is enough for update the Server status. It's depends to the each system."
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "src/store/modules/Operations/ControlStore.js",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -5
                },
                {
                    "file": "src/views/Operations/ServerPowerOperations/ServerPowerOperations.vue",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 38,
            "sizeDeletions": 5
        },
        {
            "number": 4,
            "revision": "d821d69c73cf0db77dc9d4711c7a77aff9b4ea9a",
            "parents": [
                "47009075de12e5701d84653dc0db0e23f4e02609"
            ],
            "ref": "refs/changes/81/64481/4",
            "uploader": {
                "name": "Hieu Huynh",
                "email": "hieuh@os.amperecomputing.com",
                "username": "hieuhuynh-ampere"
            },
            "createdOn": 1709607105,
            "author": {
                "name": "Hieu Huynh",
                "email": "hieuh@os.amperecomputing.com",
                "username": "hieuhuynh-ampere"
            },
            "kind": "TRIVIAL_REBASE",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Nikhil Ashoka",
                        "email": "a.nikhil@ibm.com",
                        "username": "Nikhil-Ashoka"
                    },
                    "message": "I have a suggestion here, Instead of having a setInterval for every 5 seconds,where we will be making calls to getSystemInfo. we can show an alert message when we perform a power on/ reboot/ shut down operation. Saying something like, \"Please refresh the page to get the updated status\" or something similar, so that it is left to the user? Additional thoughts about this?"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "src/store/modules/Operations/ControlStore.js",
                    "type": "MODIFIED",
                    "insertions": 8,
                    "deletions": -5
                },
                {
                    "file": "src/views/Operations/ServerPowerOperations/ServerPowerOperations.vue",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 38,
            "sizeDeletions": 5
        }
    ]
}