{
    "project": "openbmc/openbmc",
    "branch": "master",
    "id": "I3512301c49d12d2b532b83c7c5a3cdfac364c640",
    "number": 71970,
    "subject": "meta-facebook: add new recipe \"network-ip-route-update\"",
    "owner": {
        "name": "LeoYangQuanta",
        "email": "Leo-Yang@quantatw.com",
        "username": "LeoYangQuanta"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/openbmc/+/71970",
    "hashtags": [],
    "createdOn": 1718183549,
    "lastUpdated": 1721113742,
    "open": true,
    "status": "NEW",
    "comments": [
        {
            "timestamp": 1718183549,
            "reviewer": {
                "name": "LeoYangQuanta",
                "email": "Leo-Yang@quantatw.com",
                "username": "LeoYangQuanta"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1718183633,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1718183633,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1718183643,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/23344/"
        },
        {
            "timestamp": 1718184256,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/23344/ : SUCCESS"
        },
        {
            "timestamp": 1718184266,
            "reviewer": {
                "name": "Jenkins OpenBMC Google",
                "email": "haojenkinsg00gle@gmail.com",
                "username": "jenkins-openbmc-g00gle"
            },
            "message": "Patch Set 1:\n\nBuild Successful \n\nGoogle Internal CI : Google internal tests successfully started"
        },
        {
            "timestamp": 1718185031,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 1:\n\nBuild Failed \n\nIBM Hardware CI : witherspoon hardware test failed"
        },
        {
            "timestamp": 1718187537,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 1:\n\nIBM Simulation CI: p10bmc simulation tests passed"
        },
        {
            "timestamp": 1718195973,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 1:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1718198665,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1718198722,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1718618613,
            "reviewer": {
                "name": "LeoYangQuanta",
                "email": "Leo-Yang@quantatw.com",
                "username": "LeoYangQuanta"
            },
            "message": "Uploaded patch set 2: Commit message was updated.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1718618671,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1718618671,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1718618680,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/23412/"
        },
        {
            "timestamp": 1718619328,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/23412/ : SUCCESS"
        },
        {
            "timestamp": 1718619338,
            "reviewer": {
                "name": "Jenkins OpenBMC Google",
                "email": "haojenkinsg00gle@gmail.com",
                "username": "jenkins-openbmc-g00gle"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nGoogle Internal CI : Google internal tests successfully started"
        },
        {
            "timestamp": 1718620407,
            "reviewer": {
                "name": "LeoYangQuanta",
                "email": "Leo-Yang@quantatw.com",
                "username": "LeoYangQuanta"
            },
            "message": "Patch Set 2:\n\n(2 comments)\n\nThis change is ready for review."
        },
        {
            "timestamp": 1718620917,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 2:\n\nBuild Successful \n\nIBM Hardware CI : witherspoon hardware tests passed"
        },
        {
            "timestamp": 1718624568,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 2:\n\nIBM Simulation CI: p10bmc simulation tests passed"
        },
        {
            "timestamp": 1718878731,
            "reviewer": {
                "name": "LeoYangQuanta",
                "email": "Leo-Yang@quantatw.com",
                "username": "LeoYangQuanta"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1721110328,
            "reviewer": {
                "name": "LeoYangQuanta",
                "email": "Leo-Yang@quantatw.com",
                "username": "LeoYangQuanta"
            },
            "message": "Uploaded patch set 3.\n\nOutdated Votes:\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1721110355,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1721110355,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: -Ok-To-Test"
        },
        {
            "timestamp": 1721110364,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3:\n\nBuild Started https://jenkins.openbmc.org/job/ci-openbmc/23945/"
        },
        {
            "timestamp": 1721110975,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 3: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-openbmc/23945/ : SUCCESS"
        },
        {
            "timestamp": 1721110986,
            "reviewer": {
                "name": "Jenkins OpenBMC Google",
                "email": "haojenkinsg00gle@gmail.com",
                "username": "jenkins-openbmc-g00gle"
            },
            "message": "Patch Set 3:\n\nBuild Successful \n\nGoogle Internal CI : Google internal tests successfully started"
        },
        {
            "timestamp": 1721113742,
            "reviewer": {
                "name": "Jenkins OpenBMC IBM",
                "email": "geissonator+jenkinsibm@gmail.com",
                "username": "jenkins-openbmc-ibm"
            },
            "message": "Patch Set 3:\n\nIBM Simulation CI: p10bmc simulation tests passed"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "98684b5419706142cba076a5da02e1992dffe74d",
            "parents": [
                "b68c177073c72a4f3261f12e4f51eb51c4a23478"
            ],
            "ref": "refs/changes/70/71970/1",
            "uploader": {
                "name": "LeoYangQuanta",
                "email": "Leo-Yang@quantatw.com",
                "username": "LeoYangQuanta"
            },
            "createdOn": 1718183549,
            "author": {
                "name": "LeoYangQuanta",
                "email": "Leo-Yang@quantatw.com",
                "username": "LeoYangQuanta"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/COMMIT_MSG",
                    "line": 14,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Wouldn't this be an indication of a bug with systemd-networkd if it isn't accurately updating the route tables based on interface status?  I don't really like the proliferation of shell scripts to work around issues in other code; let's just fix the underlying code."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 14,
                    "reviewer": {
                        "name": "LeoYangQuanta",
                        "email": "Leo-Yang@quantatw.com",
                        "username": "LeoYangQuanta"
                    },
                    "message": "Hi Patrick, \n\nJust like a detailed email from Cosmo,\nWe think the issue might be with the driver. The NCSI carrier status is always ON, which means systemd-networkd can't detect the NIC's connection status properly and update the route table.\nSo, for now, we're using this method to fix the problem."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 14,
                    "reviewer": {
                        "name": "LeoYangQuanta",
                        "email": "Leo-Yang@quantatw.com",
                        "username": "LeoYangQuanta"
                    },
                    "message": "Sorry to revise my description.\n\nWe think the problem may be with the Kernel network architecture and not the NCSI driver.\n\nWhen the carrier is off, packet xfer would be blocked.\nwhich could cause problems."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 29,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Please adjust your git-config so that your signed-off-by name matches something in the Quanta CLA."
                },
                {
                    "file": "/COMMIT_MSG",
                    "line": 29,
                    "reviewer": {
                        "name": "LeoYangQuanta",
                        "email": "Leo-Yang@quantatw.com",
                        "username": "LeoYangQuanta"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-yosemite4/recipes-phosphor/images/fb-yosemite4-phosphor-image.inc",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/recipes-fb/network-ip-route-update/network-ip-route-update_0.1.bb",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/recipes-fb/network-ip-route-update/files/ip-route-update",
                    "type": "ADDED",
                    "insertions": 77,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/recipes-fb/network-ip-route-update/files/ip-route-update.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 140,
            "sizeDeletions": 0
        },
        {
            "number": 2,
            "revision": "b4441c99109f6b533e27304451cf42f7141cbf85",
            "parents": [
                "b68c177073c72a4f3261f12e4f51eb51c4a23478"
            ],
            "ref": "refs/changes/70/71970/2",
            "uploader": {
                "name": "LeoYangQuanta",
                "email": "Leo-Yang@quantatw.com",
                "username": "LeoYangQuanta"
            },
            "createdOn": 1718618613,
            "author": {
                "name": "LeoYangQuanta",
                "email": "Leo-Yang@quantatw.com",
                "username": "LeoYangQuanta"
            },
            "kind": "NO_CODE_CHANGE",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-yosemite4/recipes-phosphor/images/fb-yosemite4-phosphor-image.inc",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/recipes-fb/network-ip-route-update/network-ip-route-update_0.1.bb",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/recipes-fb/network-ip-route-update/files/ip-route-update",
                    "type": "ADDED",
                    "insertions": 77,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/recipes-fb/network-ip-route-update/files/ip-route-update.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 140,
            "sizeDeletions": 0
        },
        {
            "number": 3,
            "revision": "73c92ac4a2305947ee5332a61c9a9275543ca5a9",
            "parents": [
                "264a90ade42dea2ac5c3d3c4030b140f9228e601"
            ],
            "ref": "refs/changes/70/71970/3",
            "uploader": {
                "name": "LeoYangQuanta",
                "email": "Leo-Yang@quantatw.com",
                "username": "LeoYangQuanta"
            },
            "createdOn": 1721110328,
            "author": {
                "name": "LeoYangQuanta",
                "email": "Leo-Yang@quantatw.com",
                "username": "LeoYangQuanta"
            },
            "kind": "REWORK",
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 29,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/meta-yosemite4/recipes-phosphor/images/fb-yosemite4-phosphor-image.inc",
                    "type": "MODIFIED",
                    "insertions": 1,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/recipes-fb/network-ip-route-update/network-ip-route-update_0.1.bb",
                    "type": "ADDED",
                    "insertions": 23,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/recipes-fb/network-ip-route-update/files/ip-route-update",
                    "type": "ADDED",
                    "insertions": 77,
                    "deletions": 0
                },
                {
                    "file": "meta-facebook/recipes-fb/network-ip-route-update/files/ip-route-update.service",
                    "type": "ADDED",
                    "insertions": 10,
                    "deletions": 0
                }
            ],
            "sizeInsertions": 140,
            "sizeDeletions": 0
        }
    ]
}