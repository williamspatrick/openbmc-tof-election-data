{
    "project": "openbmc/ssifbridge",
    "branch": "master",
    "id": "I2d3e19878f77346f1ccbd92e378fe0739ecf4ad6",
    "number": 69240,
    "subject": "remove sd event timers from asio context",
    "owner": {
        "name": "Ed Tanous",
        "email": "ed@tanous.net",
        "username": "edtanous"
    },
    "url": "https://gerrit.openbmc.org/c/openbmc/ssifbridge/+/69240",
    "hashtags": [],
    "createdOn": 1707280953,
    "lastUpdated": 1709537111,
    "open": false,
    "status": "MERGED",
    "comments": [
        {
            "timestamp": 1707280953,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Uploaded patch set 1."
        },
        {
            "timestamp": 1707280986,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1707280986,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: -Ok-To-Test"
        },
        {
            "timestamp": 1707281040,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 1: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/78889/ : SUCCESS"
        },
        {
            "timestamp": 1707281069,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1707281093,
            "reviewer": {
                "name": "Patrick Williams",
                "email": "patrick@stwcx.xyz",
                "username": "williamspatrick"
            },
            "message": "Patch Set 1: Code-Review+1"
        },
        {
            "timestamp": 1707281669,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 1:\n\n(1 comment)"
        },
        {
            "timestamp": 1707927037,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2: Published edit on patch set 1.\n\nOutdated Votes:\n* Code-Review+1 (copy condition: \"changekind:NO_CHANGE OR changekind:NO_CODE_CHANGE OR changekind:TRIVIAL_REBASE OR is:MIN\")\n* Verified+1 (copy condition: \"changekind:NO_CHANGE\")\n"
        },
        {
            "timestamp": 1707927046,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Ok-To-Test+1\n\nUser approved, CI ok to start"
        },
        {
            "timestamp": 1707927046,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: -Ok-To-Test"
        },
        {
            "timestamp": 1707927102,
            "reviewer": {
                "name": "OpenBMC CI",
                "email": "openbmcbump-ci@yahoo.com",
                "username": "jenkins-openbmc-ci"
            },
            "message": "Patch Set 2: Verified+1\n\nBuild Successful \n\nhttps://jenkins.openbmc.org/job/ci-repository/79236/ : SUCCESS"
        },
        {
            "timestamp": 1708332771,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1708365151,
            "reviewer": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1708394125,
            "reviewer": {
                "name": "Thang Q. Nguyen",
                "email": "thang@os.amperecomputing.com",
                "username": "thangqn-ampere"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1708832561,
            "reviewer": {
                "name": "Thang Q. Nguyen",
                "email": "thang@os.amperecomputing.com",
                "username": "thangqn-ampere"
            },
            "message": "Patch Set 2:\n\n(1 comment)"
        },
        {
            "timestamp": 1709536796,
            "reviewer": {
                "name": "Quang Nguyen",
                "email": "quangnguyen@os.amperecomputing.com",
                "username": "NguyenTanNhutQuang"
            },
            "message": "Patch Set 2: Code-Review+1"
        },
        {
            "timestamp": 1709537077,
            "reviewer": {
                "name": "Thang Q. Nguyen",
                "email": "thang@os.amperecomputing.com",
                "username": "thangqn-ampere"
            },
            "message": "Patch Set 2: Code-Review+2\n\n(1 comment)"
        },
        {
            "timestamp": 1709537106,
            "reviewer": {
                "name": "Thang Q. Nguyen",
                "email": "thang@os.amperecomputing.com",
                "username": "thangqn-ampere"
            },
            "message": "Patch Set 2:\n\n(2 comments)"
        },
        {
            "timestamp": 1709537111,
            "reviewer": {
                "name": "Thang Q. Nguyen",
                "email": "thang@os.amperecomputing.com",
                "username": "thangqn-ampere"
            },
            "message": "Change has been successfully merged"
        }
    ],
    "patchSets": [
        {
            "number": 1,
            "revision": "bfa9c3487900f7e335a42ae6e0da884022e00450",
            "parents": [
                "41c9b2b8ee82699ee0b217f8dd4399d6310d3bd2"
            ],
            "ref": "refs/changes/40/69240/1",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1707280953,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "ssifbridged.cpp",
                    "line": 93,
                    "reviewer": {
                        "name": "Patrick Williams",
                        "email": "patrick@stwcx.xyz",
                        "username": "williamspatrick"
                    },
                    "message": "Are you sure we don't still need this?  Though, I really dislike these kinds of attributes, I suspect someone once ran into an initialization order between globals?"
                },
                {
                    "file": "ssifbridged.cpp",
                    "line": 93,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "It looked to me like an attempt to get around the bug mentioned below, where the solution was to instantiate a second timer in main.  I'd be really surprised if this mattered now.\n\nIn theory this just gets initialized to null, so I'm not really sure how it could have any effect as written.  Maybe Chuong knows?"
                },
                {
                    "file": "ssifbridged.cpp",
                    "line": 93,
                    "reviewer": {
                        "name": "Quang Nguyen",
                        "email": "quangnguyen@os.amperecomputing.com",
                        "username": "NguyenTanNhutQuang"
                    },
                    "message": "@EdTanous, yes, this is the workaround which mentioned below in main() since at the time I added that code, I did not have any better solution. The timer `rspTimer` just makes sure that there is a response to host within `hostReqTimeout`; therefore any timer type will work.\n\nDid you test this patch on your system? If it works, I am ok with this patch.\n\nBy the way, you are using this ssifbridge in your system? which ssif driver you are using?"
                },
                {
                    "file": "ssifbridged.cpp",
                    "line": 93,
                    "reviewer": {
                        "name": "Ed Tanous",
                        "email": "ed@tanous.net",
                        "username": "edtanous"
                    },
                    "message": "I do not have a system that implements this interface, so I could use some help testing this patch."
                },
                {
                    "file": "ssifbridged.cpp",
                    "line": 93,
                    "reviewer": {
                        "name": "Thang Q. Nguyen",
                        "email": "thang@os.amperecomputing.com",
                        "username": "thangqn-ampere"
                    },
                    "message": "Quang, I think you can download the patch and check on your Jade or Mitchell target for functionality and stability. Not much systems using SSIF."
                },
                {
                    "file": "ssifbridged.cpp",
                    "line": 93,
                    "reviewer": {
                        "name": "Thang Q. Nguyen",
                        "email": "thang@os.amperecomputing.com",
                        "username": "thangqn-ampere"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "ssifbridged.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -19
                }
            ],
            "sizeInsertions": 35,
            "sizeDeletions": 19
        },
        {
            "number": 2,
            "revision": "d289aea29ca266537a8df8366b4d03f24b50458b",
            "parents": [
                "41c9b2b8ee82699ee0b217f8dd4399d6310d3bd2"
            ],
            "ref": "refs/changes/40/69240/2",
            "uploader": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "createdOn": 1707927037,
            "author": {
                "name": "Ed Tanous",
                "email": "ed@tanous.net",
                "username": "edtanous"
            },
            "kind": "REWORK",
            "comments": [
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Thang Q. Nguyen",
                        "email": "thang@os.amperecomputing.com",
                        "username": "thangqn-ampere"
                    },
                    "message": "Hi Quang,\nAny update?"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Thang Q. Nguyen",
                        "email": "thang@os.amperecomputing.com",
                        "username": "thangqn-ampere"
                    },
                    "message": "Verified on Mt.Jade and Mt.Mitchell with below tests:\n- 12 hour in-band IPMI stress test.\n- 12 hour in-band IPMI stress test with BMC reboots during the stress test.\n- 12 hour A/C power test with in-band commands"
                },
                {
                    "file": "/PATCHSET_LEVEL",
                    "line": 0,
                    "reviewer": {
                        "name": "Thang Q. Nguyen",
                        "email": "thang@os.amperecomputing.com",
                        "username": "thangqn-ampere"
                    },
                    "message": "Done"
                }
            ],
            "files": [
                {
                    "file": "/COMMIT_MSG",
                    "type": "ADDED",
                    "insertions": 17,
                    "deletions": 0
                },
                {
                    "file": "ssifbridged.cpp",
                    "type": "MODIFIED",
                    "insertions": 18,
                    "deletions": -19
                }
            ],
            "sizeInsertions": 35,
            "sizeDeletions": 19
        }
    ]
}